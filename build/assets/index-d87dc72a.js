import{r as P,o as Cc,b as yi,bv as _c,bw as ed,j as L,R as td,t as nd,q as Ki,bx as rd,by as id,bz as od}from"./index-a2fee79d.js";import{a5 as fl,u as Vl,a6 as ad,U as ld,z as Ec,t as sd,C as io,a7 as ud,a2 as Zl,P as Ql,q as da,a8 as dl,a9 as cd,aa as fd,ab as dd,y as hd,ac as pd,ad as vd,ae as md,V as st,a as Nr,af as gd,b as yd,k as Xl,X as pa,ag as Tc,K as Ul,ah as Rl,ai as pi,aj as xd,Y as Yl,S as wd,ak as Fl,al as Fu,p as Sd,am as Cd,r as oo,x as xi,an as Mc,O as kc,s as _d,o as Ed,ao as Td,ap as Md,l as kd,L as Au,j as Pd,aq as Ld,ar as Ud,as as Rd,at as Jl,au as Du,av as Ir,aw as Fd,ax as hl}from"./three.module-2ce81f73.js";import{M as _t,c as Ad}from"./index-57446bb9.js";var Pc={exports:{}},Gr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Gr.ConcurrentRoot=1;Gr.ContinuousEventPriority=4;Gr.DefaultEventPriority=16;Gr.DiscreteEventPriority=1;Gr.IdleEventPriority=536870912;Gr.LegacyRoot=0;Pc.exports=Gr;var vi=Pc.exports;function Dd(a){let n;const c=new Set,v=(h,d)=>{const m=typeof h=="function"?h(n):h;if(m!==n){const y=n;n=d?m:Object.assign({},n,m),c.forEach(x=>x(n,y))}},i=()=>n,r=(h,d=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=d(n);function x(){const C=d(n);if(!m(y,C)){const T=y;h(y=C,T)}}return c.add(x),()=>c.delete(x)},u={setState:v,getState:i,subscribe:(h,d,m)=>d||m?r(h,d,m):(c.add(h),()=>c.delete(h)),destroy:()=>c.clear()};return n=a(v,i,u),u}const Od=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ou=Od?P.useEffect:P.useLayoutEffect;function zd(a){const n=typeof a=="function"?Dd(a):a,c=(v=n.getState,i=Object.is)=>{const[,r]=P.useReducer(S=>S+1,0),s=n.getState(),f=P.useRef(s),u=P.useRef(v),h=P.useRef(i),d=P.useRef(!1),m=P.useRef();m.current===void 0&&(m.current=v(s));let y,x=!1;(f.current!==s||u.current!==v||h.current!==i||d.current)&&(y=v(s),x=!i(m.current,y)),Ou(()=>{x&&(m.current=y),f.current=s,u.current=v,h.current=i,d.current=!1});const C=P.useRef(s);Ou(()=>{const S=()=>{try{const w=n.getState(),M=u.current(w);h.current(m.current,M)||(f.current=w,m.current=M,r())}catch{d.current=!0,r()}},_=n.subscribe(S);return n.getState()!==C.current&&S(),_},[]);const T=x?y:m.current;return P.useDebugValue(T),T};return Object.assign(c,n),c[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const v=[c,n];return{next(){const i=v.length<=0;return{value:v.shift(),done:i}}}},c}var Lc={exports:{}},Uc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function n(Z,j){var W=Z.length;Z.push(j);e:for(;0<W;){var k=W-1>>>1,I=Z[k];if(0<i(I,j))Z[k]=j,Z[W]=I,W=k;else break e}}function c(Z){return Z.length===0?null:Z[0]}function v(Z){if(Z.length===0)return null;var j=Z[0],W=Z.pop();if(W!==j){Z[0]=W;e:for(var k=0,I=Z.length,Q=I>>>1;k<Q;){var Y=2*(k+1)-1,H=Z[Y],re=Y+1,X=Z[re];if(0>i(H,W))re<I&&0>i(X,H)?(Z[k]=X,Z[re]=W,k=re):(Z[k]=H,Z[Y]=W,k=Y);else if(re<I&&0>i(X,W))Z[k]=X,Z[re]=W,k=re;else break e}}return j}function i(Z,j){var W=Z.sortIndex-j.sortIndex;return W!==0?W:Z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;a.unstable_now=function(){return r.now()}}else{var s=Date,f=s.now();a.unstable_now=function(){return s.now()-f}}var u=[],h=[],d=1,m=null,y=3,x=!1,C=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var j=c(h);j!==null;){if(j.callback===null)v(h);else if(j.startTime<=Z)v(h),j.sortIndex=j.expirationTime,n(u,j);else break;j=c(h)}}function D(Z){if(T=!1,M(Z),!C)if(c(u)!==null)C=!0,ae(R);else{var j=c(h);j!==null&&ve(D,j.startTime-Z)}}function R(Z,j){C=!1,T&&(T=!1,_(B),B=-1),x=!0;var W=y;try{for(M(j),m=c(u);m!==null&&(!(m.expirationTime>j)||Z&&!G());){var k=m.callback;if(typeof k=="function"){m.callback=null,y=m.priorityLevel;var I=k(m.expirationTime<=j);j=a.unstable_now(),typeof I=="function"?m.callback=I:m===c(u)&&v(u),M(j)}else v(u);m=c(u)}if(m!==null)var Q=!0;else{var Y=c(h);Y!==null&&ve(D,Y.startTime-j),Q=!1}return Q}finally{m=null,y=W,x=!1}}var A=!1,b=null,B=-1,J=5,oe=-1;function G(){return!(a.unstable_now()-oe<J)}function O(){if(b!==null){var Z=a.unstable_now();oe=Z;var j=!0;try{j=b(!0,Z)}finally{j?ee():(A=!1,b=null)}}else A=!1}var ee;if(typeof w=="function")ee=function(){w(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ne=q.port2;q.port1.onmessage=O,ee=function(){ne.postMessage(null)}}else ee=function(){S(O,0)};function ae(Z){b=Z,A||(A=!0,ee())}function ve(Z,j){B=S(function(){Z(a.unstable_now())},j)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_continueExecution=function(){C||x||(C=!0,ae(R))},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return c(u)},a.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var W=y;y=j;try{return Z()}finally{y=W}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Z,j){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var W=y;y=Z;try{return j()}finally{y=W}},a.unstable_scheduleCallback=function(Z,j,W){var k=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?k+W:k):W=k,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=W+I,Z={id:d++,callback:j,priorityLevel:Z,startTime:W,expirationTime:I,sortIndex:-1},W>k?(Z.sortIndex=W,n(h,Z),c(u)===null&&Z===c(h)&&(T?(_(B),B=-1):T=!0,ve(D,W-k))):(Z.sortIndex=I,n(u,Z),C||x||(C=!0,ae(R))),Z},a.unstable_shouldYield=G,a.unstable_wrapCallback=function(Z){var j=y;return function(){var W=y;y=j;try{return Z.apply(this,arguments)}finally{y=W}}}})(Rc);Uc.exports=Rc;var Al=Uc.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=function(n){var c={},v=P,i=Al,r=Object.assign;function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),R=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}function b(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:b(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return b(e(t))}catch{}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function J(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function oe(e){if(J(e)!==e)throw Error(s(188))}function G(e){var t=e.alternate;if(!t){if(t=J(e),t===null)throw Error(s(188));return t!==e?null:e}for(var o=e,l=t;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(l=p.return,l!==null){o=l;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return oe(p),e;if(g===l)return oe(p),t;g=g.sibling}throw Error(s(188))}if(o.return!==l.return)o=p,l=g;else{for(var E=!1,U=p.child;U;){if(U===o){E=!0,o=p,l=g;break}if(U===l){E=!0,l=p,o=g;break}U=U.sibling}if(!E){for(U=g.child;U;){if(U===o){E=!0,o=g,l=p;break}if(U===l){E=!0,l=g,o=p;break}U=U.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:t}function O(e){return e=G(e),e!==null?ee(e):null}function ee(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ee(e);if(t!==null)return t;e=e.sibling}return null}function q(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=q(e);if(t!==null)return t}e=e.sibling}return null}var ne=Array.isArray,ae=n.getPublicInstance,ve=n.getRootHostContext,Z=n.getChildHostContext,j=n.prepareForCommit,W=n.resetAfterCommit,k=n.createInstance,I=n.appendInitialChild,Q=n.finalizeInitialChildren,Y=n.prepareUpdate,H=n.shouldSetTextContent,re=n.createTextInstance,X=n.scheduleTimeout,te=n.cancelTimeout,ue=n.noTimeout,fe=n.isPrimaryRenderer,K=n.supportsMutation,$=n.supportsPersistence,xe=n.supportsHydration,Re=n.getInstanceFromNode,ce=n.preparePortalMount,Se=n.getCurrentEventPriority,ke=n.detachDeletedInstance,le=n.supportsMicrotasks,Ce=n.scheduleMicrotask,pe=n.supportsTestSelectors,ie=n.findFiberRoot,Pe=n.getBoundingRect,ye=n.getTextContent,we=n.isHiddenSubtree,me=n.matchAccessibilityRole,We=n.setFocusIfFocusable,Oe=n.setupIntersectionObserver,Me=n.appendChild,ze=n.appendChildToContainer,He=n.commitTextUpdate,ut=n.commitMount,De=n.commitUpdate,qe=n.insertBefore,be=n.insertInContainerBefore,Ue=n.removeChild,Qe=n.removeChildFromContainer,Je=n.resetTextContent,ct=n.hideInstance,Ie=n.hideTextInstance,et=n.unhideInstance,Ut=n.unhideTextInstance,Ln=n.clearContainer,Yn=n.cloneInstance,Un=n.createContainerChildSet,Wt=n.appendChildToContainerChildSet,Ht=n.finalizeContainerChildren,tt=n.replaceContainerChildren,lr=n.cloneHiddenInstance,rt=n.cloneHiddenTextInstance,it=n.canHydrateInstance,on=n.canHydrateTextInstance,Vt=n.canHydrateSuspenseInstance,Xe=n.isSuspenseInstancePending,ht=n.isSuspenseInstanceFallback,qt=n.registerSuspenseInstanceRetry,ft=n.getNextHydratableSibling,yt=n.getFirstHydratableChild,Rt=n.getFirstHydratableChildWithinContainer,On=n.getFirstHydratableChildWithinSuspenseInstance,an=n.hydrateInstance,Jn=n.hydrateTextInstance,ma=n.hydrateSuspenseInstance,uo=n.getNextHydratableInstanceAfterSuspenseInstance,xr=n.commitHydratedContainer,_i=n.commitHydratedSuspenseInstance,ga=n.clearSuspenseBoundary,co=n.clearSuspenseBoundaryFromContainer,Wr=n.shouldDeleteUnhydratedTailInstances,Ei=n.didNotMatchHydratedContainerTextInstance,Ti=n.didNotMatchHydratedTextInstance,_e;function Rn(e){if(_e===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);_e=t&&t[1]||""}return`
`+_e+e}var Mi=!1;function zn(e,t){if(!e||Mi)return"";Mi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(se){var l=se}Reflect.construct(e,[],t)}else{try{t.call()}catch(se){l=se}e.call(t.prototype)}else{try{throw Error()}catch(se){l=se}e()}}catch(se){if(se&&l&&typeof se.stack=="string"){for(var p=se.stack.split(`
`),g=l.stack.split(`
`),E=p.length-1,U=g.length-1;1<=E&&0<=U&&p[E]!==g[U];)U--;for(;1<=E&&0<=U;E--,U--)if(p[E]!==g[U]){if(E!==1||U!==1)do if(E--,U--,0>U||p[E]!==g[U]){var V=`
`+p[E].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=E&&0<=U);break}}}finally{Mi=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?Rn(e):""}var Hr=Object.prototype.hasOwnProperty,Vr=[],In=-1;function ln(e){return{current:e}}function Ye(e){0>In||(e.current=Vr[In],Vr[In]=null,In--)}function Ke(e,t){In++,Vr[In]=e.current,e.current=t}var sn={},St=ln(sn),Et=ln(!1),jn=sn;function yn(e,t){var o=e.type.contextTypes;if(!o)return sn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in o)p[g]=t[g];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=p),p}function Tt(e){return e=e.childContextTypes,e!=null}function Fn(){Ye(Et),Ye(St)}function Zr(e,t,o){if(St.current!==sn)throw Error(s(168));Ke(St,t),Ke(Et,o)}function Qr(e,t,o){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var p in l)if(!(p in t))throw Error(s(108,B(e)||"Unknown",p));return r({},o,l)}function sr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,jn=St.current,Ke(St,e),Ke(Et,Et.current),!0}function un(e,t,o){var l=e.stateNode;if(!l)throw Error(s(169));o?(e=Qr(e,t,jn),l.__reactInternalMemoizedMergedChildContext=e,Ye(Et),Ye(St),Ke(St,e)):Ye(Et),Ke(Et,o)}var cn=Math.clz32?Math.clz32:fo,Xr=Math.log,wr=Math.LN2;function fo(e){return e>>>=0,e===0?32:31-(Xr(e)/wr|0)|0}var Kn=64,qn=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sr(e,t){var o=e.pendingLanes;if(o===0)return 0;var l=0,p=e.suspendedLanes,g=e.pingedLanes,E=o&268435455;if(E!==0){var U=E&~p;U!==0?l=$n(U):(g&=E,g!==0&&(l=$n(g)))}else E=o&~p,E!==0?l=$n(E):g!==0&&(l=$n(g));if(l===0)return 0;if(t!==0&&t!==l&&!(t&p)&&(p=l&-l,g=t&-t,p>=g||p===16&&(g&4194240)!==0))return t;if(l&4&&(l|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)o=31-cn(t),p=1<<o,l|=e[o],t&=~p;return l}function ho(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(e,t){for(var o=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes;0<g;){var E=31-cn(g),U=1<<E,V=p[E];V===-1?(!(U&o)||U&l)&&(p[E]=ho(U,t)):V<=t&&(e.expiredLanes|=U),g&=~U}}function er(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yr(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function bn(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=o}function ur(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var p=31-cn(o),g=1<<p;t[p]=0,l[p]=-1,e[p]=-1,o&=~g}}function Bn(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var l=31-cn(o),p=1<<l;p&t|e[l]&t&&(e[l]|=t),o&=~p}}var Ne=0;function Pi(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tr=i.unstable_scheduleCallback,Jr=i.unstable_cancelCallback,Li=i.unstable_shouldYield,po=i.unstable_requestPaint,at=i.unstable_now,Cr=i.unstable_ImmediatePriority,vo=i.unstable_UserBlockingPriority,Zt=i.unstable_NormalPriority,Ui=i.unstable_IdlePriority,_r=null,fn=null;function Ri(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(_r,e,void 0,(e.current.flags&128)===128)}catch{}}function mo(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:mo,Qt=null,Nn=!1,xn=!1;function Fi(e){Qt===null?Qt=[e]:Qt.push(e)}function Ai(e){Nn=!0,Fi(e)}function $t(){if(!xn&&Qt!==null){xn=!0;var e=0,t=Ne;try{var o=Qt;for(Ne=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}Qt=null,Nn=!1}catch(p){throw Qt!==null&&(Qt=Qt.slice(e+1)),tr(Cr,$t),p}finally{Ne=t,xn=!1}}return null}var Er=f.ReactCurrentBatchConfig;function Tr(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var p=o[l];if(!Hr.call(t,p)||!dn(e[p],t[p]))return!1}return!0}function Mr(e){switch(e.tag){case 5:return Rn(e.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 2:case 15:return e=zn(e.type,!1),e;case 11:return e=zn(e.type.render,!1),e;case 1:return e=zn(e.type,!0),e;default:return""}}function Xt(e,t){if(e&&e.defaultProps){t=r({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}var Mt=ln(null),Kr=null,An=null,cr=null;function qr(){cr=An=Kr=null}function go(e,t,o){fe?(Ke(Mt,t._currentValue),t._currentValue=o):(Ke(Mt,t._currentValue2),t._currentValue2=o)}function kt(e){var t=Mt.current;Ye(Mt),fe?e._currentValue=t:e._currentValue2=t}function Yt(e,t,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===o)break;e=e.return}}function pt(e,t){Kr=e,cr=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function vt(e){var t=fe?e._currentValue:e._currentValue2;if(cr!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if(Kr===null)throw Error(s(308));An=e,Kr.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var hn=null,fr=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t){var o=e.updateQueue;o!==null&&(o=o.shared,xt!==null&&e.mode&1&&!(Be&2)?(e=o.interleaved,e===null?(t.next=t,hn===null?hn=[o]:hn.push(o)):(t.next=e.next,e.next=t),o.interleaved=t):(e=o.pending,e===null?t.next=t:(t.next=e.next,e.next=t),o.pending=t))}function yo(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,o|=l,t.lanes=o,Bn(e,o)}}function as(e,t){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?p=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?p=g=t:g=g.next=t}else p=g=t;o={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function xo(e,t,o,l){var p=e.updateQueue;fr=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,U=p.shared.pending;if(U!==null){p.shared.pending=null;var V=U,se=V.next;V.next=null,E===null?g=se:E.next=se,E=V;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,U=ge.lastBaseUpdate,U!==E&&(U===null?ge.firstBaseUpdate=se:U.next=se,ge.lastBaseUpdate=V))}if(g!==null){var Fe=p.baseState;E=0,ge=se=V=null,U=g;do{var Le=U.lane,$e=U.eventTime;if((l&Le)===Le){ge!==null&&(ge=ge.next={eventTime:$e,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Te=e,bt=U;switch(Le=t,$e=o,bt.tag){case 1:if(Te=bt.payload,typeof Te=="function"){Fe=Te.call($e,Fe,Le);break e}Fe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=bt.payload,Le=typeof Te=="function"?Te.call($e,Fe,Le):Te,Le==null)break e;Fe=r({},Fe,Le);break e;case 2:fr=!0}}U.callback!==null&&U.lane!==0&&(e.flags|=64,Le=p.effects,Le===null?p.effects=[U]:Le.push(U))}else $e={eventTime:$e,lane:Le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ge===null?(se=ge=$e,V=Fe):ge=ge.next=$e,E|=Le;if(U=U.next,U===null){if(U=p.shared.pending,U===null)break;Le=U,U=Le.next,Le.next=null,p.lastBaseUpdate=Le,p.shared.pending=null}}while(1);if(ge===null&&(V=Fe),p.baseState=V,p.firstBaseUpdate=se,p.lastBaseUpdate=ge,t=p.shared.interleaved,t!==null){p=t;do E|=p.lane,p=p.next;while(p!==t)}else g===null&&(p.shared.lanes=0);li|=E,e.lanes=E,e.memoizedState=Fe}}function ls(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],p=l.callback;if(p!==null){if(l.callback=null,l=o,typeof p!="function")throw Error(s(191,p));p.call(l)}}}var ss=new v.Component().refs;function xa(e,t,o,l){t=e.memoizedState,o=o(l,t),o=o==null?t:r({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var wo={isMounted:function(e){return(e=e._reactInternals)?J(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var l=Kt(),p=vr(e),g=nr(l,p);g.payload=t,o!=null&&(g.callback=o),dr(e,g),t=En(e,p,l),t!==null&&yo(t,e,p)},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var l=Kt(),p=vr(e),g=nr(l,p);g.tag=1,g.payload=t,o!=null&&(g.callback=o),dr(e,g),t=En(e,p,l),t!==null&&yo(t,e,p)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=Kt(),l=vr(e),p=nr(o,l);p.tag=2,t!=null&&(p.callback=t),dr(e,p),t=En(e,l,o),t!==null&&yo(t,e,l)}};function us(e,t,o,l,p,g,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,g,E):t.prototype&&t.prototype.isPureReactComponent?!Tr(o,l)||!Tr(p,g):!0}function cs(e,t,o){var l=!1,p=sn,g=t.contextType;return typeof g=="object"&&g!==null?g=vt(g):(p=Tt(t)?jn:St.current,l=t.contextTypes,g=(l=l!=null)?yn(e,p):sn),t=new t(o,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=g),t}function fs(e,t,o,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,l),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function wa(e,t,o,l){var p=e.stateNode;p.props=o,p.state=e.memoizedState,p.refs=ss,ya(e);var g=t.contextType;typeof g=="object"&&g!==null?p.context=vt(g):(g=Tt(t)?jn:St.current,p.context=yn(e,g)),p.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(xa(e,t,g,o),p.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(t=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),t!==p.state&&wo.enqueueReplaceState(p,p.state,null),xo(e,o,p,l),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}var $r=[],ei=0,So=null,Co=0,wn=[],Sn=0,kr=null,rr=1,ir="";function Pr(e,t){$r[ei++]=Co,$r[ei++]=So,So=e,Co=t}function ds(e,t,o){wn[Sn++]=rr,wn[Sn++]=ir,wn[Sn++]=kr,kr=e;var l=rr;e=ir;var p=32-cn(l)-1;l&=~(1<<p),o+=1;var g=32-cn(t)+p;if(30<g){var E=p-p%5;g=(l&(1<<E)-1).toString(32),l>>=E,p-=E,rr=1<<32-cn(t)+p|o<<p|l,ir=g+e}else rr=1<<g|o<<p|l,ir=e}function Sa(e){e.return!==null&&(Pr(e,1),ds(e,1,0))}function Ca(e){for(;e===So;)So=$r[--ei],$r[ei]=null,Co=$r[--ei],$r[ei]=null;for(;e===kr;)kr=wn[--Sn],wn[Sn]=null,ir=wn[--Sn],wn[Sn]=null,rr=wn[--Sn],wn[Sn]=null}var pn=null,vn=null,ot=!1,Di=!1,Dn=null;function hs(e,t){var o=Tn(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function ps(e,t){switch(e.tag){case 5:return t=it(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,pn=e,vn=yt(t),!0):!1;case 6:return t=on(t,e.pendingProps),t!==null?(e.stateNode=t,pn=e,vn=null,!0):!1;case 13:if(t=Vt(t),t!==null){var o=kr!==null?{id:rr,overflow:ir}:null;return e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=Tn(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,pn=e,vn=null,!0}return!1;default:return!1}}function _a(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ea(e){if(ot){var t=vn;if(t){var o=t;if(!ps(e,t)){if(_a(e))throw Error(s(418));t=ft(o);var l=pn;t&&ps(e,t)?hs(l,o):(e.flags=e.flags&-4097|2,ot=!1,pn=e)}}else{if(_a(e))throw Error(s(418));e.flags=e.flags&-4097|2,ot=!1,pn=e}}}function vs(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Oi(e){if(!xe||e!==pn)return!1;if(!ot)return vs(e),ot=!0,!1;if(e.tag!==3&&(e.tag!==5||Wr(e.type)&&!H(e.type,e.memoizedProps))){var t=vn;if(t){if(_a(e)){for(e=vn;e;)e=ft(e);throw Error(s(418))}for(;t;)hs(e,t),t=ft(t)}}if(vs(e),e.tag===13){if(!xe)throw Error(s(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));vn=uo(e)}else vn=pn?ft(e.stateNode):null;return!0}function ti(){xe&&(vn=pn=null,Di=ot=!1)}function Ta(e){Dn===null?Dn=[e]:Dn.push(e)}function zi(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var l=o.stateNode}if(!l)throw Error(s(147,e));var p=l,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(E){var U=p.refs;U===ss&&(U=p.refs={}),E===null?delete U[g]:U[g]=E},t._stringRef=g,t)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function _o(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ms(e){var t=e._init;return t(e._payload)}function gs(e){function t(z,F){if(e){var N=z.deletions;N===null?(z.deletions=[F],z.flags|=16):N.push(F)}}function o(z,F){if(!e)return null;for(;F!==null;)t(z,F),F=F.sibling;return null}function l(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function p(z,F){return z=gr(z,F),z.index=0,z.sibling=null,z}function g(z,F,N){return z.index=N,e?(N=z.alternate,N!==null?(N=N.index,N<F?(z.flags|=2,F):N):(z.flags|=2,F)):(z.flags|=1048576,F)}function E(z){return e&&z.alternate===null&&(z.flags|=2),z}function U(z,F,N,he){return F===null||F.tag!==6?(F=sl(N,z.mode,he),F.return=z,F):(F=p(F,N),F.return=z,F)}function V(z,F,N,he){var Ee=N.type;return Ee===d?ge(z,F,N.props.children,he,N.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===M&&ms(Ee)===F.type)?(he=p(F,N.props),he.ref=zi(z,F,N),he.return=z,he):(he=ea(N.type,N.key,N.props,null,z.mode,he),he.ref=zi(z,F,N),he.return=z,he)}function se(z,F,N,he){return F===null||F.tag!==4||F.stateNode.containerInfo!==N.containerInfo||F.stateNode.implementation!==N.implementation?(F=ul(N,z.mode,he),F.return=z,F):(F=p(F,N.children||[]),F.return=z,F)}function ge(z,F,N,he,Ee){return F===null||F.tag!==7?(F=Or(N,z.mode,he,Ee),F.return=z,F):(F=p(F,N),F.return=z,F)}function Fe(z,F,N){if(typeof F=="string"&&F!==""||typeof F=="number")return F=sl(""+F,z.mode,N),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return N=ea(F.type,F.key,F.props,null,z.mode,N),N.ref=zi(z,null,F),N.return=z,N;case h:return F=ul(F,z.mode,N),F.return=z,F;case M:var he=F._init;return Fe(z,he(F._payload),N)}if(ne(F)||A(F))return F=Or(F,z.mode,N,null),F.return=z,F;_o(z,F)}return null}function Le(z,F,N,he){var Ee=F!==null?F.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Ee!==null?null:U(z,F,""+N,he);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case u:return N.key===Ee?V(z,F,N,he):null;case h:return N.key===Ee?se(z,F,N,he):null;case M:return Ee=N._init,Le(z,F,Ee(N._payload),he)}if(ne(N)||A(N))return Ee!==null?null:ge(z,F,N,he,null);_o(z,N)}return null}function $e(z,F,N,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return z=z.get(N)||null,U(F,z,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return z=z.get(he.key===null?N:he.key)||null,V(F,z,he,Ee);case h:return z=z.get(he.key===null?N:he.key)||null,se(F,z,he,Ee);case M:var je=he._init;return $e(z,F,N,je(he._payload),Ee)}if(ne(he)||A(he))return z=z.get(N)||null,ge(F,z,he,Ee,null);_o(F,he)}return null}function Te(z,F,N,he){for(var Ee=null,je=null,Ae=F,Ve=F=0,Lt=null;Ae!==null&&Ve<N.length;Ve++){Ae.index>Ve?(Lt=Ae,Ae=null):Lt=Ae.sibling;var Ze=Le(z,Ae,N[Ve],he);if(Ze===null){Ae===null&&(Ae=Lt);break}e&&Ae&&Ze.alternate===null&&t(z,Ae),F=g(Ze,F,Ve),je===null?Ee=Ze:je.sibling=Ze,je=Ze,Ae=Lt}if(Ve===N.length)return o(z,Ae),ot&&Pr(z,Ve),Ee;if(Ae===null){for(;Ve<N.length;Ve++)Ae=Fe(z,N[Ve],he),Ae!==null&&(F=g(Ae,F,Ve),je===null?Ee=Ae:je.sibling=Ae,je=Ae);return ot&&Pr(z,Ve),Ee}for(Ae=l(z,Ae);Ve<N.length;Ve++)Lt=$e(Ae,z,Ve,N[Ve],he),Lt!==null&&(e&&Lt.alternate!==null&&Ae.delete(Lt.key===null?Ve:Lt.key),F=g(Lt,F,Ve),je===null?Ee=Lt:je.sibling=Lt,je=Lt);return e&&Ae.forEach(function(yr){return t(z,yr)}),ot&&Pr(z,Ve),Ee}function bt(z,F,N,he){var Ee=A(N);if(typeof Ee!="function")throw Error(s(150));if(N=Ee.call(N),N==null)throw Error(s(151));for(var je=Ee=null,Ae=F,Ve=F=0,Lt=null,Ze=N.next();Ae!==null&&!Ze.done;Ve++,Ze=N.next()){Ae.index>Ve?(Lt=Ae,Ae=null):Lt=Ae.sibling;var yr=Le(z,Ae,Ze.value,he);if(yr===null){Ae===null&&(Ae=Lt);break}e&&Ae&&yr.alternate===null&&t(z,Ae),F=g(yr,F,Ve),je===null?Ee=yr:je.sibling=yr,je=yr,Ae=Lt}if(Ze.done)return o(z,Ae),ot&&Pr(z,Ve),Ee;if(Ae===null){for(;!Ze.done;Ve++,Ze=N.next())Ze=Fe(z,Ze.value,he),Ze!==null&&(F=g(Ze,F,Ve),je===null?Ee=Ze:je.sibling=Ze,je=Ze);return ot&&Pr(z,Ve),Ee}for(Ae=l(z,Ae);!Ze.done;Ve++,Ze=N.next())Ze=$e(Ae,z,Ve,Ze.value,he),Ze!==null&&(e&&Ze.alternate!==null&&Ae.delete(Ze.key===null?Ve:Ze.key),F=g(Ze,F,Ve),je===null?Ee=Ze:je.sibling=Ze,je=Ze);return e&&Ae.forEach(function($f){return t(z,$f)}),ot&&Pr(z,Ve),Ee}function Mn(z,F,N,he){if(typeof N=="object"&&N!==null&&N.type===d&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case u:e:{for(var Ee=N.key,je=F;je!==null;){if(je.key===Ee){if(Ee=N.type,Ee===d){if(je.tag===7){o(z,je.sibling),F=p(je,N.props.children),F.return=z,z=F;break e}}else if(je.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===M&&ms(Ee)===je.type){o(z,je.sibling),F=p(je,N.props),F.ref=zi(z,je,N),F.return=z,z=F;break e}o(z,je);break}else t(z,je);je=je.sibling}N.type===d?(F=Or(N.props.children,z.mode,he,N.key),F.return=z,z=F):(he=ea(N.type,N.key,N.props,null,z.mode,he),he.ref=zi(z,F,N),he.return=z,z=he)}return E(z);case h:e:{for(je=N.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===N.containerInfo&&F.stateNode.implementation===N.implementation){o(z,F.sibling),F=p(F,N.children||[]),F.return=z,z=F;break e}else{o(z,F);break}else t(z,F);F=F.sibling}F=ul(N,z.mode,he),F.return=z,z=F}return E(z);case M:return je=N._init,Mn(z,F,je(N._payload),he)}if(ne(N))return Te(z,F,N,he);if(A(N))return bt(z,F,N,he);_o(z,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,F!==null&&F.tag===6?(o(z,F.sibling),F=p(F,N),F.return=z,z=F):(o(z,F),F=sl(N,z.mode,he),F.return=z,z=F),E(z)):o(z,F)}return Mn}var ni=gs(!0),ys=gs(!1),Ii={},Cn=ln(Ii),ji=ln(Ii),ri=ln(Ii);function Gn(e){if(e===Ii)throw Error(s(174));return e}function Ma(e,t){Ke(ri,t),Ke(ji,e),Ke(Cn,Ii),e=ve(t),Ye(Cn),Ke(Cn,e)}function ii(){Ye(Cn),Ye(ji),Ye(ri)}function xs(e){var t=Gn(ri.current),o=Gn(Cn.current);t=Z(o,e.type,t),o!==t&&(Ke(ji,e),Ke(Cn,t))}function ka(e){ji.current===e&&(Ye(Cn),Ye(ji))}var lt=ln(0);function Eo(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Xe(o)||ht(o)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pa=[];function La(){for(var e=0;e<Pa.length;e++){var t=Pa[e];fe?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Pa.length=0}var To=f.ReactCurrentDispatcher,_n=f.ReactCurrentBatchConfig,oi=0,dt=null,zt=null,Pt=null,Mo=!1,bi=!1,Bi=0,Ef=0;function It(){throw Error(s(321))}function Ua(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!dn(e[o],t[o]))return!1;return!0}function Ra(e,t,o,l,p,g){if(oi=g,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,To.current=e===null||e.memoizedState===null?Pf:Lf,e=o(l,p),bi){g=0;do{if(bi=!1,Bi=0,25<=g)throw Error(s(301));g+=1,Pt=zt=null,t.updateQueue=null,To.current=Uf,e=o(l,p)}while(bi)}if(To.current=Ro,t=zt!==null&&zt.next!==null,oi=0,Pt=zt=dt=null,Mo=!1,t)throw Error(s(300));return e}function Fa(){var e=Bi!==0;return Bi=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?dt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Wn(){if(zt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Pt===null?dt.memoizedState:Pt.next;if(t!==null)Pt=t,zt=e;else{if(e===null)throw Error(s(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Pt===null?dt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Lr(e,t){return typeof t=="function"?t(e):t}function ko(e){var t=Wn(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=zt,p=l.baseQueue,g=o.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}l.baseQueue=p=g,o.pending=null}if(p!==null){g=p.next,l=l.baseState;var U=E=null,V=null,se=g;do{var ge=se.lane;if((oi&ge)===ge)V!==null&&(V=V.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),l=se.hasEagerState?se.eagerState:e(l,se.action);else{var Fe={lane:ge,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};V===null?(U=V=Fe,E=l):V=V.next=Fe,dt.lanes|=ge,li|=ge}se=se.next}while(se!==null&&se!==g);V===null?E=l:V.next=U,dn(l,t.memoizedState)||(mn=!0),t.memoizedState=l,t.baseState=E,t.baseQueue=V,o.lastRenderedState=l}if(e=o.interleaved,e!==null){p=e;do g=p.lane,dt.lanes|=g,li|=g,p=p.next;while(p!==e)}else p===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function Po(e){var t=Wn(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=o.dispatch,p=o.pending,g=t.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do g=e(g,E.action),E=E.next;while(E!==p);dn(g,t.memoizedState)||(mn=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),o.lastRenderedState=g}return[g,l]}function ws(){}function Ss(e,t){var o=dt,l=Wn(),p=t(),g=!dn(l.memoizedState,p);if(g&&(l.memoizedState=p,mn=!0),l=l.queue,Gi(Es.bind(null,o,l,e),[e]),l.getSnapshot!==t||g||Pt!==null&&Pt.memoizedState.tag&1){if(o.flags|=2048,Ni(9,_s.bind(null,o,l,p,t),void 0,null),xt===null)throw Error(s(349));oi&30||Cs(o,t,p)}return p}function Cs(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function _s(e,t,o,l){t.value=o,t.getSnapshot=l,Ts(t)&&En(e,1,-1)}function Es(e,t,o){return o(function(){Ts(t)&&En(e,1,-1)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!dn(e,o)}catch{return!0}}function Aa(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=kf.bind(null,dt,e),[t.memoizedState,e]}function Ni(e,t,o,l){return e={tag:e,create:t,destroy:o,deps:l,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,t.lastEffect=e)),e}function Ms(){return Wn().memoizedState}function Lo(e,t,o,l){var p=or();dt.flags|=e,p.memoizedState=Ni(1|t,o,void 0,l===void 0?null:l)}function Uo(e,t,o,l){var p=Wn();l=l===void 0?null:l;var g=void 0;if(zt!==null){var E=zt.memoizedState;if(g=E.destroy,l!==null&&Ua(l,E.deps)){p.memoizedState=Ni(t,o,g,l);return}}dt.flags|=e,p.memoizedState=Ni(1|t,o,g,l)}function Da(e,t){return Lo(8390656,8,e,t)}function Gi(e,t){return Uo(2048,8,e,t)}function ks(e,t){return Uo(4,2,e,t)}function Ps(e,t){return Uo(4,4,e,t)}function Ls(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Us(e,t,o){return o=o!=null?o.concat([e]):null,Uo(4,4,Ls.bind(null,t,e),o)}function Oa(){}function Rs(e,t){var o=Wn();t=t===void 0?null:t;var l=o.memoizedState;return l!==null&&t!==null&&Ua(t,l[1])?l[0]:(o.memoizedState=[e,t],e)}function Fs(e,t){var o=Wn();t=t===void 0?null:t;var l=o.memoizedState;return l!==null&&t!==null&&Ua(t,l[1])?l[0]:(e=e(),o.memoizedState=[e,t],e)}function Tf(e,t){var o=Ne;Ne=o!==0&&4>o?o:4,e(!0);var l=_n.transition;_n.transition={};try{e(!1),t()}finally{Ne=o,_n.transition=l}}function As(){return Wn().memoizedState}function Mf(e,t,o){var l=vr(e);o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Ds(e)?Os(t,o):(zs(e,t,o),o=Kt(),e=En(e,l,o),e!==null&&Is(e,t,l))}function kf(e,t,o){var l=vr(e),p={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ds(e))Os(t,p);else{zs(e,t,p);var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var E=t.lastRenderedState,U=g(E,o);if(p.hasEagerState=!0,p.eagerState=U,dn(U,E))return}catch{}finally{}o=Kt(),e=En(e,l,o),e!==null&&Is(e,t,l)}}function Ds(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function Os(e,t){bi=Mo=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function zs(e,t,o){xt!==null&&e.mode&1&&!(Be&2)?(e=t.interleaved,e===null?(o.next=o,hn===null?hn=[t]:hn.push(t)):(o.next=e.next,e.next=o),t.interleaved=o):(e=t.pending,e===null?o.next=o:(o.next=e.next,e.next=o),t.pending=o)}function Is(e,t,o){if(o&4194240){var l=t.lanes;l&=e.pendingLanes,o|=l,t.lanes=o,Bn(e,o)}}var Ro={readContext:vt,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Pf={readContext:vt,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Da,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,Lo(4194308,4,Ls.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var o=or();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var l=or();return t=o!==void 0?o(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Mf.bind(null,dt,e),[l.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:Aa,useDebugValue:Oa,useDeferredValue:function(e){var t=Aa(e),o=t[0],l=t[1];return Da(function(){var p=_n.transition;_n.transition={};try{l(e)}finally{_n.transition=p}},[e]),o},useTransition:function(){var e=Aa(!1),t=e[0];return e=Tf.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var l=dt,p=or();if(ot){if(o===void 0)throw Error(s(407));o=o()}else{if(o=t(),xt===null)throw Error(s(349));oi&30||Cs(l,t,o)}p.memoizedState=o;var g={value:o,getSnapshot:t};return p.queue=g,Da(Es.bind(null,l,g,e),[e]),l.flags|=2048,Ni(9,_s.bind(null,l,g,o,t),void 0,null),o},useId:function(){var e=or(),t=xt.identifierPrefix;if(ot){var o=ir,l=rr;o=(l&~(1<<32-cn(l)-1)).toString(32)+o,t=":"+t+"R"+o,o=Bi++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=Ef++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lf={readContext:vt,useCallback:Rs,useContext:vt,useEffect:Gi,useImperativeHandle:Us,useInsertionEffect:ks,useLayoutEffect:Ps,useMemo:Fs,useReducer:ko,useRef:Ms,useState:function(){return ko(Lr)},useDebugValue:Oa,useDeferredValue:function(e){var t=ko(Lr),o=t[0],l=t[1];return Gi(function(){var p=_n.transition;_n.transition={};try{l(e)}finally{_n.transition=p}},[e]),o},useTransition:function(){var e=ko(Lr)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:ws,useSyncExternalStore:Ss,useId:As,unstable_isNewReconciler:!1},Uf={readContext:vt,useCallback:Rs,useContext:vt,useEffect:Gi,useImperativeHandle:Us,useInsertionEffect:ks,useLayoutEffect:Ps,useMemo:Fs,useReducer:Po,useRef:Ms,useState:function(){return Po(Lr)},useDebugValue:Oa,useDeferredValue:function(e){var t=Po(Lr),o=t[0],l=t[1];return Gi(function(){var p=_n.transition;_n.transition={};try{l(e)}finally{_n.transition=p}},[e]),o},useTransition:function(){var e=Po(Lr)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:ws,useSyncExternalStore:Ss,useId:As,unstable_isNewReconciler:!1};function za(e,t){try{var o="",l=t;do o+=Mr(l),l=l.return;while(l);var p=o}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:p}}function Ia(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var Rf=typeof WeakMap=="function"?WeakMap:Map;function js(e,t,o){o=nr(-1,o),o.tag=3,o.payload={element:null};var l=t.value;return o.callback=function(){Qo||(Qo=!0,tl=l),Ia(e,t)},o}function bs(e,t,o){o=nr(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var p=t.value;o.payload=function(){return l(p)},o.callback=function(){Ia(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Ia(e,t),typeof l!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=t.stack;this.componentDidCatch(t.value,{componentStack:E!==null?E:""})}),o}function Bs(e,t,o){var l=e.pingCache;if(l===null){l=e.pingCache=new Rf;var p=new Set;l.set(t,p)}else p=l.get(t),p===void 0&&(p=new Set,l.set(t,p));p.has(o)||(p.add(o),e=Vf.bind(null,e,t,o),t.then(e,e))}function Ns(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gs(e,t,o,l,p){return e.mode&1?(e.flags|=65536,e.lanes=p,e):(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=nr(-1,1),t.tag=2,dr(o,t))),o.lanes|=1),e)}function Hn(e){e.flags|=4}function Ws(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var Wi,Hi,Fo,Ao;if(K)Wi=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)I(e,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Hi=function(){},Fo=function(e,t,o,l,p){if(e=e.memoizedProps,e!==l){var g=t.stateNode,E=Gn(Cn.current);o=Y(g,o,e,l,p,E),(t.updateQueue=o)&&Hn(t)}},Ao=function(e,t,o,l){o!==l&&Hn(t)};else if($){Wi=function(e,t,o,l){for(var p=t.child;p!==null;){if(p.tag===5){var g=p.stateNode;o&&l&&(g=lr(g,p.type,p.memoizedProps,p)),I(e,g)}else if(p.tag===6)g=p.stateNode,o&&l&&(g=rt(g,p.memoizedProps,p)),I(e,g);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)g=p.child,g!==null&&(g.return=p),Wi(e,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===t)break;for(;p.sibling===null;){if(p.return===null||p.return===t)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};var Hs=function(e,t,o,l){for(var p=t.child;p!==null;){if(p.tag===5){var g=p.stateNode;o&&l&&(g=lr(g,p.type,p.memoizedProps,p)),Wt(e,g)}else if(p.tag===6)g=p.stateNode,o&&l&&(g=rt(g,p.memoizedProps,p)),Wt(e,g);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)g=p.child,g!==null&&(g.return=p),Hs(e,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===t)break;for(;p.sibling===null;){if(p.return===null||p.return===t)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};Hi=function(e,t){var o=t.stateNode;if(!Ws(e,t)){e=o.containerInfo;var l=Un(e);Hs(l,t,!1,!1),o.pendingChildren=l,Hn(t),Ht(e,l)}},Fo=function(e,t,o,l,p){var g=e.stateNode,E=e.memoizedProps;if((e=Ws(e,t))&&E===l)t.stateNode=g;else{var U=t.stateNode,V=Gn(Cn.current),se=null;E!==l&&(se=Y(U,o,E,l,p,V)),e&&se===null?t.stateNode=g:(g=Yn(g,se,o,E,l,t,e,U),Q(g,o,l,p,V)&&Hn(t),t.stateNode=g,e?Hn(t):Wi(g,t,!1,!1))}},Ao=function(e,t,o,l){o!==l?(e=Gn(ri.current),o=Gn(Cn.current),t.stateNode=re(l,e,o,t),Hn(t)):t.stateNode=e.stateNode}}else Hi=function(){},Fo=function(){},Ao=function(){};function Vi(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(t)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags&14680064,l|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=o,t}function Ff(e,t,o){var l=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Tt(t.type)&&Fn(),jt(t),null;case 3:return l=t.stateNode,ii(),Ye(Et),Ye(St),La(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Oi(t)?Hn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dn!==null&&(il(Dn),Dn=null))),Hi(e,t),jt(t),null;case 5:ka(t),o=Gn(ri.current);var p=t.type;if(e!==null&&t.stateNode!=null)Fo(e,t,p,l,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(s(166));return jt(t),null}if(e=Gn(Cn.current),Oi(t)){if(!xe)throw Error(s(175));e=an(t.stateNode,t.type,t.memoizedProps,o,e,t,!Di),t.updateQueue=e,e!==null&&Hn(t)}else{var g=k(p,l,o,e,t);Wi(g,t,!1,!1),t.stateNode=g,Q(g,p,l,o,e)&&Hn(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)Ao(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=Gn(ri.current),o=Gn(Cn.current),Oi(t)){if(!xe)throw Error(s(176));if(e=t.stateNode,l=t.memoizedProps,(o=Jn(e,l,t,!Di))&&(p=pn,p!==null))switch(g=(p.mode&1)!==0,p.tag){case 3:Ei(p.stateNode.containerInfo,e,l,g);break;case 5:Ti(p.type,p.memoizedProps,p.stateNode,e,l,g)}o&&Hn(t)}else t.stateNode=re(l,e,o,t)}return jt(t),null;case 13:if(Ye(lt),l=t.memoizedState,ot&&vn!==null&&t.mode&1&&!(t.flags&128)){for(e=vn;e;)e=ft(e);return ti(),t.flags|=98560,t}if(l!==null&&l.dehydrated!==null){if(l=Oi(t),e===null){if(!l)throw Error(s(318));if(!xe)throw Error(s(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ma(e,t)}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return jt(t),null}return Dn!==null&&(il(Dn),Dn=null),t.flags&128?(t.lanes=o,t):(l=l!==null,o=!1,e===null?Oi(t):o=e.memoizedState!==null,l&&!o&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Ct===0&&(Ct=3):al())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return ii(),Hi(e,t),e===null&&ce(t.stateNode.containerInfo),jt(t),null;case 10:return kt(t.type._context),jt(t),null;case 17:return Tt(t.type)&&Fn(),jt(t),null;case 19:if(Ye(lt),p=t.memoizedState,p===null)return jt(t),null;if(l=(t.flags&128)!==0,g=p.rendering,g===null)if(l)Vi(p,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Eo(e),g!==null){for(t.flags|=128,Vi(p,!1),e=g.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=o,l=t.child;l!==null;)o=l,p=e,o.flags&=14680066,g=o.alternate,g===null?(o.childLanes=0,o.lanes=p,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,p=g.dependencies,o.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),l=l.sibling;return Ke(lt,lt.current&1|2),t.child}e=e.sibling}p.tail!==null&&at()>el&&(t.flags|=128,l=!0,Vi(p,!1),t.lanes=4194304)}else{if(!l)if(e=Eo(g),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Vi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!ot)return jt(t),null}else 2*at()-p.renderingStartTime>el&&o!==1073741824&&(t.flags|=128,l=!0,Vi(p,!1),t.lanes=4194304);p.isBackwards?(g.sibling=t.child,t.child=g):(e=p.last,e!==null?e.sibling=g:t.child=g,p.last=g)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=at(),t.sibling=null,e=lt.current,Ke(lt,l?e&1|2:e&1),t):(jt(t),null);case 22:case 23:return ol(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?gn&1073741824&&(jt(t),K&&t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}var Af=f.ReactCurrentOwner,mn=!1;function Jt(e,t,o,l){t.child=e===null?ys(t,null,o,l):ni(t,e.child,o,l)}function Vs(e,t,o,l,p){o=o.render;var g=t.ref;return pt(t,p),l=Ra(e,t,o,l,g,p),o=Fa(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,ar(e,t,p)):(ot&&o&&Sa(t),t.flags|=1,Jt(e,t,l,p),t.child)}function Zs(e,t,o,l,p){if(e===null){var g=o.type;return typeof g=="function"&&!ll(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=g,Qs(e,t,g,l,p)):(e=ea(o.type,null,l,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!(e.lanes&p)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Tr,o(E,l)&&e.ref===t.ref)return ar(e,t,p)}return t.flags|=1,e=gr(g,l),e.ref=t.ref,e.return=t,t.child=e}function Qs(e,t,o,l,p){if(e!==null&&Tr(e.memoizedProps,l)&&e.ref===t.ref)if(mn=!1,(e.lanes&p)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,ar(e,t,p);return ja(e,t,o,l,p)}function Xs(e,t,o){var l=t.pendingProps,p=l.children,g=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},Ke(ai,gn),gn|=o;else if(o&1073741824)t.memoizedState={baseLanes:0,cachePool:null},l=g!==null?g.baseLanes:o,Ke(ai,gn),gn|=l;else return e=g!==null?g.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ke(ai,gn),gn|=e,null;else g!==null?(l=g.baseLanes|o,t.memoizedState=null):l=o,Ke(ai,gn),gn|=l;return Jt(e,t,p,o),t.child}function Ys(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,o,l,p){var g=Tt(o)?jn:St.current;return g=yn(t,g),pt(t,p),o=Ra(e,t,o,l,g,p),l=Fa(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,ar(e,t,p)):(ot&&l&&Sa(t),t.flags|=1,Jt(e,t,o,p),t.child)}function Js(e,t,o,l,p){if(Tt(o)){var g=!0;sr(t)}else g=!1;if(pt(t,p),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),cs(t,o,l),wa(t,o,l,p),l=!0;else if(e===null){var E=t.stateNode,U=t.memoizedProps;E.props=U;var V=E.context,se=o.contextType;typeof se=="object"&&se!==null?se=vt(se):(se=Tt(o)?jn:St.current,se=yn(t,se));var ge=o.getDerivedStateFromProps,Fe=typeof ge=="function"||typeof E.getSnapshotBeforeUpdate=="function";Fe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U!==l||V!==se)&&fs(t,E,l,se),fr=!1;var Le=t.memoizedState;E.state=Le,xo(t,l,E,p),V=t.memoizedState,U!==l||Le!==V||Et.current||fr?(typeof ge=="function"&&(xa(t,o,ge,l),V=t.memoizedState),(U=fr||us(t,o,U,l,Le,V,se))?(Fe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(t.flags|=4194308)):(typeof E.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=V),E.props=l,E.state=V,E.context=se,l=U):(typeof E.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{E=t.stateNode,os(e,t),U=t.memoizedProps,se=t.type===t.elementType?U:Xt(t.type,U),E.props=se,Fe=t.pendingProps,Le=E.context,V=o.contextType,typeof V=="object"&&V!==null?V=vt(V):(V=Tt(o)?jn:St.current,V=yn(t,V));var $e=o.getDerivedStateFromProps;(ge=typeof $e=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U!==Fe||Le!==V)&&fs(t,E,l,V),fr=!1,Le=t.memoizedState,E.state=Le,xo(t,l,E,p);var Te=t.memoizedState;U!==Fe||Le!==Te||Et.current||fr?(typeof $e=="function"&&(xa(t,o,$e,l),Te=t.memoizedState),(se=fr||us(t,o,se,l,Le,Te,V)||!1)?(ge||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(l,Te,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(l,Te,V)),typeof E.componentDidUpdate=="function"&&(t.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof E.componentDidUpdate!="function"||U===e.memoizedProps&&Le===e.memoizedState||(t.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===e.memoizedProps&&Le===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Te),E.props=l,E.state=Te,E.context=V,l=se):(typeof E.componentDidUpdate!="function"||U===e.memoizedProps&&Le===e.memoizedState||(t.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===e.memoizedProps&&Le===e.memoizedState||(t.flags|=1024),l=!1)}return ba(e,t,o,l,g,p)}function ba(e,t,o,l,p,g){Ys(e,t);var E=(t.flags&128)!==0;if(!l&&!E)return p&&un(t,o,!1),ar(e,t,g);l=t.stateNode,Af.current=t;var U=E&&typeof o.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&E?(t.child=ni(t,e.child,null,g),t.child=ni(t,null,U,g)):Jt(e,t,U,g),t.memoizedState=l.state,p&&un(t,o,!0),t.child}function Ks(e){var t=e.stateNode;t.pendingContext?Zr(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zr(e,t.context,!1),Ma(e,t.containerInfo)}function qs(e,t,o,l,p){return ti(),Ta(p),t.flags|=256,Jt(e,t,o,l),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null}}function $s(e,t,o){var l=t.pendingProps,p=lt.current,g=!1,E=(t.flags&128)!==0,U;if((U=E)||(U=e!==null&&e.memoizedState===null?!1:(p&2)!==0),U?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),Ke(lt,p&1),e===null)return Ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?ht(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=l.children,e=l.fallback,g?(l=t.mode,g=t.child,p={mode:"hidden",children:p},!(l&1)&&g!==null?(g.childLanes=0,g.pendingProps=p):g=ta(p,l,0,null),e=Or(e,l,o,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=Oo(o),t.memoizedState=Do,e):Ba(t,p));if(p=e.memoizedState,p!==null){if(U=p.dehydrated,U!==null){if(E)return t.flags&256?(t.flags&=-257,zo(e,t,o,Error(s(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=l.fallback,p=t.mode,l=ta({mode:"visible",children:l.children},p,0,null),g=Or(g,p,o,null),g.flags|=2,l.return=t,g.return=t,l.sibling=g,t.child=l,t.mode&1&&ni(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,g);if(!(t.mode&1))t=zo(e,t,o,null);else if(ht(U))t=zo(e,t,o,Error(s(419)));else if(l=(o&e.childLanes)!==0,mn||l){if(l=xt,l!==null){switch(o&-o){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}l=g&(l.suspendedLanes|o)?0:g,l!==0&&l!==p.retryLane&&(p.retryLane=l,En(e,l,-1))}al(),t=zo(e,t,o,Error(s(421)))}else Xe(U)?(t.flags|=128,t.child=e.child,t=Zf.bind(null,e),qt(U,t),t=null):(o=p.treeContext,xe&&(vn=On(U),pn=t,ot=!0,Dn=null,Di=!1,o!==null&&(wn[Sn++]=rr,wn[Sn++]=ir,wn[Sn++]=kr,rr=o.id,ir=o.overflow,kr=t)),t=Ba(t,t.pendingProps.children),t.flags|=4096);return t}return g?(l=tu(e,t,l.children,l.fallback,o),g=t.child,p=e.child.memoizedState,g.memoizedState=p===null?Oo(o):{baseLanes:p.baseLanes|o,cachePool:null},g.childLanes=e.childLanes&~o,t.memoizedState=Do,l):(o=eu(e,t,l.children,o),t.memoizedState=null,o)}return g?(l=tu(e,t,l.children,l.fallback,o),g=t.child,p=e.child.memoizedState,g.memoizedState=p===null?Oo(o):{baseLanes:p.baseLanes|o,cachePool:null},g.childLanes=e.childLanes&~o,t.memoizedState=Do,l):(o=eu(e,t,l.children,o),t.memoizedState=null,o)}function Ba(e,t){return t=ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eu(e,t,o,l){var p=e.child;return e=p.sibling,o=gr(p,{mode:"visible",children:o}),!(t.mode&1)&&(o.lanes=l),o.return=t,o.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=o}function tu(e,t,o,l,p){var g=t.mode;e=e.child;var E=e.sibling,U={mode:"hidden",children:o};return!(g&1)&&t.child!==e?(o=t.child,o.childLanes=0,o.pendingProps=U,t.deletions=null):(o=gr(e,U),o.subtreeFlags=e.subtreeFlags&14680064),E!==null?l=gr(E,l):(l=Or(l,g,p,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,l}function zo(e,t,o,l){return l!==null&&Ta(l),ni(t,e.child,null,o),e=Ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nu(e,t,o){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Yt(e.return,t,o)}function Na(e,t,o,l,p){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:p}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=o,g.tailMode=p)}function ru(e,t,o){var l=t.pendingProps,p=l.revealOrder,g=l.tail;if(Jt(e,t,l.children,o),l=lt.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nu(e,o,t);else if(e.tag===19)nu(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ke(lt,l),!(t.mode&1))t.memoizedState=null;else switch(p){case"forwards":for(o=t.child,p=null;o!==null;)e=o.alternate,e!==null&&Eo(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=t.child,t.child=null):(p=o.sibling,o.sibling=null),Na(t,!1,p,o,g);break;case"backwards":for(o=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&Eo(e)===null){t.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}Na(t,!0,o,null,g);break;case"together":Na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ar(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(o&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,o=gr(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=gr(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function Df(e,t,o){switch(t.tag){case 3:Ks(t),ti();break;case 5:xs(t);break;case 1:Tt(t.type)&&sr(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:go(t,t.type._context,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ke(lt,lt.current&1),t.flags|=128,null):o&t.child.childLanes?$s(e,t,o):(Ke(lt,lt.current&1),e=ar(e,t,o),e!==null?e.sibling:null);Ke(lt,lt.current&1);break;case 19:if(l=(o&t.childLanes)!==0,e.flags&128){if(l)return ru(e,t,o);t.flags|=128}var p=t.memoizedState;if(p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(lt,lt.current),l)break;return null;case 22:case 23:return t.lanes=0,Xs(e,t,o)}return ar(e,t,o)}function Of(e,t){switch(Ca(t),t.tag){case 1:return Tt(t.type)&&Fn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),Ye(Et),Ye(St),La(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ka(t),null;case 13:if(Ye(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(lt),null;case 4:return ii(),null;case 10:return kt(t.type._context),null;case 22:case 23:return ol(),null;case 24:return null;default:return null}}var Io=!1,Ur=!1,zf=typeof WeakSet=="function"?WeakSet:Set,de=null;function jo(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){nn(e,t,l)}else o.current=null}function Ga(e,t,o){try{o()}catch(l){nn(e,t,l)}}var iu=!1;function If(e,t){for(j(e.containerInfo),de=t;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var o=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var l=o.memoizedProps,p=o.memoizedState,g=e.stateNode,E=g.getSnapshotBeforeUpdate(e.elementType===e.type?l:Xt(e.type,l),p);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:K&&Ln(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(U){nn(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return o=iu,iu=!1,o}function Rr(e,t,o){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&e)===e){var g=p.destroy;p.destroy=void 0,g!==void 0&&Ga(t,o,g)}p=p.next}while(p!==l)}}function Zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==t)}}function Wa(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=ae(o);break;default:e=o}typeof t=="function"?t(e):t.current=e}}function ou(e,t,o){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(_r,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var l=e=e.next;do{var p=l,g=p.destroy;p=p.tag,g!==void 0&&(p&2||p&4)&&Ga(t,o,g),l=l.next}while(l!==e)}break;case 1:if(jo(t,o),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(E){nn(t,o,E)}break;case 5:jo(t,o);break;case 4:K?fu(e,t,o):$&&$&&(t=t.stateNode.containerInfo,o=Un(t),tt(t,o))}}function au(e,t,o){for(var l=t;;)if(ou(e,l,o),l.child===null||K&&l.tag===4){if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}else l.child.return=l,l=l.child}function lu(e){var t=e.alternate;t!==null&&(e.alternate=null,lu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return e.tag===5||e.tag===3||e.tag===4}function uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e){if(K){e:{for(var t=e.return;t!==null;){if(su(t))break e;t=t.return}throw Error(s(160))}var o=t;switch(o.tag){case 5:t=o.stateNode,o.flags&32&&(Je(t),o.flags&=-33),o=uu(e),Va(e,o,t);break;case 3:case 4:t=o.stateNode.containerInfo,o=uu(e),Ha(e,o,t);break;default:throw Error(s(161))}}}function Ha(e,t,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?be(o,e,t):ze(o,e);else if(l!==4&&(e=e.child,e!==null))for(Ha(e,t,o),e=e.sibling;e!==null;)Ha(e,t,o),e=e.sibling}function Va(e,t,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?qe(o,e,t):Me(o,e);else if(l!==4&&(e=e.child,e!==null))for(Va(e,t,o),e=e.sibling;e!==null;)Va(e,t,o),e=e.sibling}function fu(e,t,o){for(var l=t,p=!1,g,E;;){if(!p){p=l.return;e:for(;;){if(p===null)throw Error(s(160));switch(g=p.stateNode,p.tag){case 5:E=!1;break e;case 3:g=g.containerInfo,E=!0;break e;case 4:g=g.containerInfo,E=!0;break e}p=p.return}p=!0}if(l.tag===5||l.tag===6)au(e,l,o),E?Qe(g,l.stateNode):Ue(g,l.stateNode);else if(l.tag===18)E?co(g,l.stateNode):ga(g,l.stateNode);else if(l.tag===4){if(l.child!==null){g=l.stateNode.containerInfo,E=!0,l.child.return=l,l=l.child;continue}}else if(ou(e,l,o),l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return,l.tag===4&&(p=!1)}l.sibling.return=l.return,l=l.sibling}}function Za(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:Rr(3,t,t.return),Zi(3,t),Rr(5,t,t.return);return;case 1:return;case 5:var o=t.stateNode;if(o!=null){var l=t.memoizedProps;e=e!==null?e.memoizedProps:l;var p=t.type,g=t.updateQueue;t.updateQueue=null,g!==null&&De(o,g,p,e,l,t)}return;case 6:if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,He(t.stateNode,e!==null?e.memoizedProps:o,o);return;case 3:xe&&e!==null&&e.memoizedState.isDehydrated&&xr(t.stateNode.containerInfo);return;case 12:return;case 13:bo(t);return;case 19:bo(t);return;case 17:return}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:Rr(3,t,t.return),Zi(3,t),Rr(5,t,t.return);return;case 12:return;case 13:bo(t);return;case 19:bo(t);return;case 3:xe&&e!==null&&e.memoizedState.isDehydrated&&xr(t.stateNode.containerInfo);break;case 22:case 23:return}e:if($){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,tt(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function bo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new zf),t.forEach(function(l){var p=Qf.bind(null,e,l);o.has(l)||(o.add(l),l.then(p,p))})}}function jf(e,t){for(de=t;de!==null;){t=de;var o=t.deletions;if(o!==null)for(var l=0;l<o.length;l++){var p=o[l];try{var g=e;K?fu(g,p,t):au(g,p,t);var E=p.alternate;E!==null&&(E.return=null),p.return=null}catch(Ee){nn(p,t,Ee)}}if(o=t.child,t.subtreeFlags&12854&&o!==null)o.return=t,de=o;else for(;de!==null;){t=de;try{var U=t.flags;if(U&32&&K&&Je(t.stateNode),U&512){var V=t.alternate;if(V!==null){var se=V.ref;se!==null&&(typeof se=="function"?se(null):se.current=null)}}if(U&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var ge=t.alternate;(ge===null||ge.memoizedState===null)&&($a=at())}break;case 22:var Fe=t.memoizedState!==null,Le=t.alternate,$e=Le!==null&&Le.memoizedState!==null;if(o=t,K){e:if(l=o,p=Fe,g=null,K)for(var Te=l;;){if(Te.tag===5){if(g===null){g=Te;var bt=Te.stateNode;p?ct(bt):et(Te.stateNode,Te.memoizedProps)}}else if(Te.tag===6){if(g===null){var Mn=Te.stateNode;p?Ie(Mn):Ut(Mn,Te.memoizedProps)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===l)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===l)break;for(;Te.sibling===null;){if(Te.return===null||Te.return===l)break e;g===Te&&(g=null),Te=Te.return}g===Te&&(g=null),Te.sibling.return=Te.return,Te=Te.sibling}}if(Fe&&!$e&&o.mode&1){de=o;for(var z=o.child;z!==null;){for(o=de=z;de!==null;){l=de;var F=l.child;switch(l.tag){case 0:case 11:case 14:case 15:Rr(4,l,l.return);break;case 1:jo(l,l.return);var N=l.stateNode;if(typeof N.componentWillUnmount=="function"){var he=l.return;try{N.props=l.memoizedProps,N.state=l.memoizedState,N.componentWillUnmount()}catch(Ee){nn(l,he,Ee)}}break;case 5:jo(l,l.return);break;case 22:if(l.memoizedState!==null){pu(o);continue}}F!==null?(F.return=l,de=F):pu(o)}z=z.sibling}}}switch(U&4102){case 2:cu(t),t.flags&=-3;break;case 6:cu(t),t.flags&=-3,Za(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Za(t.alternate,t);break;case 4:Za(t.alternate,t)}}catch(Ee){nn(t,t.return,Ee)}if(o=t.sibling,o!==null){o.return=t.return,de=o;break}de=t.return}}}function bf(e,t,o){de=e,du(e)}function du(e,t,o){for(var l=(e.mode&1)!==0;de!==null;){var p=de,g=p.child;if(p.tag===22&&l){var E=p.memoizedState!==null||Io;if(!E){var U=p.alternate,V=U!==null&&U.memoizedState!==null||Ur;U=Io;var se=Ur;if(Io=E,(Ur=V)&&!se)for(de=p;de!==null;)E=de,V=E.child,E.tag===22&&E.memoizedState!==null?vu(p):V!==null?(V.return=E,de=V):vu(p);for(;g!==null;)de=g,du(g),g=g.sibling;de=p,Io=U,Ur=se}hu(e)}else p.subtreeFlags&8772&&g!==null?(g.return=p,de=g):hu(e)}}function hu(e){for(;de!==null;){var t=de;if(t.flags&8772){var o=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||Zi(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Ur)if(o===null)l.componentDidMount();else{var p=t.elementType===t.type?o.memoizedProps:Xt(t.type,o.memoizedProps);l.componentDidUpdate(p,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&ls(t,g,l);break;case 3:var E=t.updateQueue;if(E!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=ae(t.child.stateNode);break;case 1:o=t.child.stateNode}ls(t,E,o)}break;case 5:var U=t.stateNode;o===null&&t.flags&4&&ut(U,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(xe&&t.memoizedState===null){var V=t.alternate;if(V!==null){var se=V.memoizedState;if(se!==null){var ge=se.dehydrated;ge!==null&&_i(ge)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Ur||t.flags&512&&Wa(t)}catch(Fe){nn(t,t.return,Fe)}}if(t===e){de=null;break}if(o=t.sibling,o!==null){o.return=t.return,de=o;break}de=t.return}}function pu(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var o=t.sibling;if(o!==null){o.return=t.return,de=o;break}de=t.return}}function vu(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{Zi(4,t)}catch(V){nn(t,o,V)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var p=t.return;try{l.componentDidMount()}catch(V){nn(t,p,V)}}var g=t.return;try{Wa(t)}catch(V){nn(t,g,V)}break;case 5:var E=t.return;try{Wa(t)}catch(V){nn(t,E,V)}}}catch(V){nn(t,t.return,V)}if(t===e){de=null;break}var U=t.sibling;if(U!==null){U.return=t.return,de=U;break}de=t.return}}var Bo=0,No=1,Go=2,Wo=3,Ho=4;if(typeof Symbol=="function"&&Symbol.for){var Qi=Symbol.for;Bo=Qi("selector.component"),No=Qi("selector.has_pseudo_class"),Go=Qi("selector.role"),Wo=Qi("selector.test_id"),Ho=Qi("selector.text")}function Qa(e){var t=Re(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(s(364));return t}if(e=ie(e),e===null)throw Error(s(362));return e.stateNode.current}function Xa(e,t){switch(t.$$typeof){case Bo:if(e.type===t.value)return!0;break;case No:e:{t=t.value,e=[e,0];for(var o=0;o<e.length;){var l=e[o++],p=e[o++],g=t[p];if(l.tag!==5||!we(l)){for(;g!=null&&Xa(l,g);)p++,g=t[p];if(p===t.length){t=!0;break e}else for(l=l.child;l!==null;)e.push(l,p),l=l.sibling}}t=!1}return t;case Go:if(e.tag===5&&me(e.stateNode,t.value))return!0;break;case Ho:if((e.tag===5||e.tag===6)&&(e=ye(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Wo:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Ya(e){switch(e.$$typeof){case Bo:return"<"+(b(e.value)||"Unknown")+">";case No:return":has("+(Ya(e)||"")+")";case Go:return'[role="'+e.value+'"]';case Ho:return'"'+e.value+'"';case Wo:return'[data-testname="'+e.value+'"]';default:throw Error(s(365))}}function mu(e,t){var o=[];e=[e,0];for(var l=0;l<e.length;){var p=e[l++],g=e[l++],E=t[g];if(p.tag!==5||!we(p)){for(;E!=null&&Xa(p,E);)g++,E=t[g];if(g===t.length)o.push(p);else for(p=p.child;p!==null;)e.push(p,g),p=p.sibling}}return o}function Ja(e,t){if(!pe)throw Error(s(363));e=Qa(e),e=mu(e,t),t=[],e=Array.from(e);for(var o=0;o<e.length;){var l=e[o++];if(l.tag===5)we(l)||t.push(l.stateNode);else for(l=l.child;l!==null;)e.push(l),l=l.sibling}return t}var Bf=Math.ceil,Vo=f.ReactCurrentDispatcher,Ka=f.ReactCurrentOwner,mt=f.ReactCurrentBatchConfig,Be=0,xt=null,wt=null,Ft=0,gn=0,ai=ln(0),Ct=0,Xi=null,li=0,Zo=0,qa=0,Yi=null,en=null,$a=0,el=1/0;function si(){el=at()+500}var Qo=!1,tl=null,hr=null,Xo=!1,pr=null,Yo=0,Ji=0,nl=null,Jo=-1,Ko=0;function Kt(){return Be&6?at():Jo!==-1?Jo:Jo=at()}function vr(e){return e.mode&1?Be&2&&Ft!==0?Ft&-Ft:Er.transition!==null?(Ko===0&&(e=Kn,Kn<<=1,!(Kn&4194240)&&(Kn=64),Ko=e),Ko):(e=Ne,e!==0?e:Se()):1}function En(e,t,o){if(50<Ji)throw Ji=0,nl=null,Error(s(185));var l=qo(e,t);return l===null?null:(bn(l,t,o),(!(Be&2)||l!==xt)&&(l===xt&&(!(Be&2)&&(Zo|=t),Ct===4&&mr(l,Ft)),tn(l,o),t===1&&Be===0&&!(e.mode&1)&&(si(),Nn&&$t())),l)}function qo(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}function tn(e,t){var o=e.callbackNode;ki(e,t);var l=Sr(e,e===xt?Ft:0);if(l===0)o!==null&&Jr(o),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(o!=null&&Jr(o),t===1)e.tag===0?Ai(yu.bind(null,e)):Fi(yu.bind(null,e)),le?Ce(function(){Be===0&&$t()}):tr(Cr,$t),o=null;else{switch(Pi(l)){case 1:o=Cr;break;case 4:o=vo;break;case 16:o=Zt;break;case 536870912:o=Ui;break;default:o=Zt}o=ku(o,gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function gu(e,t){if(Jo=-1,Ko=0,Be&6)throw Error(s(327));var o=e.callbackNode;if(Dr()&&e.callbackNode!==o)return null;var l=Sr(e,e===xt?Ft:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=$o(e,l);else{t=l;var p=Be;Be|=2;var g=Su();(xt!==e||Ft!==t)&&(si(),Fr(e,t));do try{Wf();break}catch(U){wu(e,U)}while(1);qr(),Vo.current=g,Be=p,wt!==null?t=0:(xt=null,Ft=0,t=Ct)}if(t!==0){if(t===2&&(p=er(e),p!==0&&(l=p,t=rl(e,p))),t===1)throw o=Xi,Fr(e,0),mr(e,l),tn(e,at()),o;if(t===6)mr(e,l);else{if(p=e.current.alternate,!(l&30)&&!Nf(p)&&(t=$o(e,l),t===2&&(g=er(e),g!==0&&(l=g,t=rl(e,g))),t===1))throw o=Xi,Fr(e,0),mr(e,l),tn(e,at()),o;switch(e.finishedWork=p,e.finishedLanes=l,t){case 0:case 1:throw Error(s(345));case 2:Ar(e,en);break;case 3:if(mr(e,l),(l&130023424)===l&&(t=$a+500-at(),10<t)){if(Sr(e,0)!==0)break;if(p=e.suspendedLanes,(p&l)!==l){Kt(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=X(Ar.bind(null,e,en),t);break}Ar(e,en);break;case 4:if(mr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,p=-1;0<l;){var E=31-cn(l);g=1<<E,E=t[E],E>p&&(p=E),l&=~g}if(l=p,l=at()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Bf(l/1960))-l,10<l){e.timeoutHandle=X(Ar.bind(null,e,en),l);break}Ar(e,en);break;case 5:Ar(e,en);break;default:throw Error(s(329))}}}return tn(e,at()),e.callbackNode===o?gu.bind(null,e):null}function rl(e,t){var o=Yi;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=$o(e,t),e!==2&&(t=en,en=o,t!==null&&il(t)),e}function il(e){en===null?en=e:en.push.apply(en,e)}function Nf(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var p=o[l],g=p.getSnapshot;p=p.value;try{if(!dn(g(),p))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~qa,t&=~Zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-cn(t),l=1<<o;e[o]=-1,t&=~l}}function yu(e){if(Be&6)throw Error(s(327));Dr();var t=Sr(e,0);if(!(t&1))return tn(e,at()),null;var o=$o(e,t);if(e.tag!==0&&o===2){var l=er(e);l!==0&&(t=l,o=rl(e,l))}if(o===1)throw o=Xi,Fr(e,0),mr(e,t),tn(e,at()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ar(e,en),tn(e,at()),null}function xu(e){pr!==null&&pr.tag===0&&!(Be&6)&&Dr();var t=Be;Be|=1;var o=mt.transition,l=Ne;try{if(mt.transition=null,Ne=1,e)return e()}finally{Ne=l,mt.transition=o,Be=t,!(Be&6)&&$t()}}function ol(){gn=ai.current,Ye(ai)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==ue&&(e.timeoutHandle=ue,te(o)),wt!==null)for(o=wt.return;o!==null;){var l=o;switch(Ca(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Fn();break;case 3:ii(),Ye(Et),Ye(St),La();break;case 5:ka(l);break;case 4:ii();break;case 13:Ye(lt);break;case 19:Ye(lt);break;case 10:kt(l.type._context);break;case 22:case 23:ol()}o=o.return}if(xt=e,wt=e=gr(e.current,null),Ft=gn=t,Ct=0,Xi=null,qa=Zo=li=0,en=Yi=null,hn!==null){for(t=0;t<hn.length;t++)if(o=hn[t],l=o.interleaved,l!==null){o.interleaved=null;var p=l.next,g=o.pending;if(g!==null){var E=g.next;g.next=p,l.next=E}o.pending=l}hn=null}return e}function wu(e,t){do{var o=wt;try{if(qr(),To.current=Ro,Mo){for(var l=dt.memoizedState;l!==null;){var p=l.queue;p!==null&&(p.pending=null),l=l.next}Mo=!1}if(oi=0,Pt=zt=dt=null,bi=!1,Bi=0,Ka.current=null,o===null||o.return===null){Ct=1,Xi=t,wt=null;break}e:{var g=e,E=o.return,U=o,V=t;if(t=Ft,U.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=V,ge=U,Fe=ge.tag;if(!(ge.mode&1)&&(Fe===0||Fe===11||Fe===15)){var Le=ge.alternate;Le?(ge.updateQueue=Le.updateQueue,ge.memoizedState=Le.memoizedState,ge.lanes=Le.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var $e=Ns(E);if($e!==null){$e.flags&=-257,Gs($e,E,U,g,t),$e.mode&1&&Bs(g,se,t),t=$e,V=se;var Te=t.updateQueue;if(Te===null){var bt=new Set;bt.add(V),t.updateQueue=bt}else Te.add(V);break e}else{if(!(t&1)){Bs(g,se,t),al();break e}V=Error(s(426))}}else if(ot&&U.mode&1){var Mn=Ns(E);if(Mn!==null){!(Mn.flags&65536)&&(Mn.flags|=256),Gs(Mn,E,U,g,t),Ta(V);break e}}g=V,Ct!==4&&(Ct=2),Yi===null?Yi=[g]:Yi.push(g),V=za(V,U),U=E;do{switch(U.tag){case 3:U.flags|=65536,t&=-t,U.lanes|=t;var z=js(U,V,t);as(U,z);break e;case 1:g=V;var F=U.type,N=U.stateNode;if(!(U.flags&128)&&(typeof F.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(hr===null||!hr.has(N)))){U.flags|=65536,t&=-t,U.lanes|=t;var he=bs(U,g,t);as(U,he);break e}}U=U.return}while(U!==null)}_u(o)}catch(Ee){t=Ee,wt===o&&o!==null&&(wt=o=o.return);continue}break}while(1)}function Su(){var e=Vo.current;return Vo.current=Ro,e===null?Ro:e}function al(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),xt===null||!(li&268435455)&&!(Zo&268435455)||mr(xt,Ft)}function $o(e,t){var o=Be;Be|=2;var l=Su();xt===e&&Ft===t||Fr(e,t);do try{Gf();break}catch(p){wu(e,p)}while(1);if(qr(),Be=o,Vo.current=l,wt!==null)throw Error(s(261));return xt=null,Ft=0,Ct}function Gf(){for(;wt!==null;)Cu(wt)}function Wf(){for(;wt!==null&&!Li();)Cu(wt)}function Cu(e){var t=Mu(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?_u(e):wt=t,Ka.current=null}function _u(e){var t=e;do{var o=t.alternate;if(e=t.return,t.flags&32768){if(o=Of(o,t),o!==null){o.flags&=32767,wt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,wt=null;return}}else if(o=Ff(o,t,gn),o!==null){wt=o;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);Ct===0&&(Ct=5)}function Ar(e,t){var o=Ne,l=mt.transition;try{mt.transition=null,Ne=1,Hf(e,t,o)}finally{mt.transition=l,Ne=o}return null}function Hf(e,t,o){do Dr();while(pr!==null);if(Be&6)throw Error(s(327));var l=e.finishedWork,p=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var g=l.lanes|l.childLanes;if(ur(e,g),e===xt&&(wt=xt=null,Ft=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Xo||(Xo=!0,ku(Zt,function(){return Dr(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=mt.transition,mt.transition=null;var E=Ne;Ne=1;var U=Be;Be|=4,Ka.current=null,If(e,l),jf(e,l),W(e.containerInfo),e.current=l,bf(l),po(),Be=U,Ne=E,mt.transition=g}else e.current=l;if(Xo&&(Xo=!1,pr=e,Yo=p),g=e.pendingLanes,g===0&&(hr=null),Ri(l.stateNode),tn(e,at()),t!==null)for(o=e.onRecoverableError,l=0;l<t.length;l++)o(t[l]);if(Qo)throw Qo=!1,e=tl,tl=null,e;return Yo&1&&e.tag!==0&&Dr(),g=e.pendingLanes,g&1?e===nl?Ji++:(Ji=0,nl=e):Ji=0,$t(),null}function Dr(){if(pr!==null){var e=Pi(Yo),t=mt.transition,o=Ne;try{if(mt.transition=null,Ne=16>e?16:e,pr===null)var l=!1;else{if(e=pr,pr=null,Yo=0,Be&6)throw Error(s(331));var p=Be;for(Be|=4,de=e.current;de!==null;){var g=de,E=g.child;if(de.flags&16){var U=g.deletions;if(U!==null){for(var V=0;V<U.length;V++){var se=U[V];for(de=se;de!==null;){var ge=de;switch(ge.tag){case 0:case 11:case 15:Rr(8,ge,g)}var Fe=ge.child;if(Fe!==null)Fe.return=ge,de=Fe;else for(;de!==null;){ge=de;var Le=ge.sibling,$e=ge.return;if(lu(ge),ge===se){de=null;break}if(Le!==null){Le.return=$e,de=Le;break}de=$e}}}var Te=g.alternate;if(Te!==null){var bt=Te.child;if(bt!==null){Te.child=null;do{var Mn=bt.sibling;bt.sibling=null,bt=Mn}while(bt!==null)}}de=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,de=E;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Rr(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,de=z;break e}de=g.return}}var F=e.current;for(de=F;de!==null;){E=de;var N=E.child;if(E.subtreeFlags&2064&&N!==null)N.return=E,de=N;else e:for(E=F;de!==null;){if(U=de,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:Zi(9,U)}}catch(Ee){nn(U,U.return,Ee)}if(U===E){de=null;break e}var he=U.sibling;if(he!==null){he.return=U.return,de=he;break e}de=U.return}}if(Be=p,$t(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(_r,e)}catch{}l=!0}return l}finally{Ne=o,mt.transition=t}}return!1}function Eu(e,t,o){t=za(o,t),t=js(e,t,1),dr(e,t),t=Kt(),e=qo(e,1),e!==null&&(bn(e,1,t),tn(e,t))}function nn(e,t,o){if(e.tag===3)Eu(e,e,o);else for(;t!==null;){if(t.tag===3){Eu(t,e,o);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){e=za(o,e),e=bs(t,e,1),dr(t,e),e=Kt(),t=qo(t,1),t!==null&&(bn(t,1,e),tn(t,e));break}}t=t.return}}function Vf(e,t,o){var l=e.pingCache;l!==null&&l.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&o,xt===e&&(Ft&o)===o&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>at()-$a?Fr(e,0):qa|=o),tn(e,t)}function Tu(e,t){t===0&&(e.mode&1?(t=qn,qn<<=1,!(qn&130023424)&&(qn=4194304)):t=1);var o=Kt();e=qo(e,t),e!==null&&(bn(e,t,o),tn(e,o))}function Zf(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Tu(e,o)}function Qf(e,t){var o=0;switch(e.tag){case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(t),Tu(e,o)}var Mu;Mu=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)mn=!0;else{if(!(e.lanes&o)&&!(t.flags&128))return mn=!1,Df(e,t,o);mn=!!(e.flags&131072)}else mn=!1,ot&&t.flags&1048576&&ds(t,Co,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var p=yn(t,St.current);pt(t,o),p=Ra(null,t,l,e,p,o);var g=Fa();return t.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(l)?(g=!0,sr(t)):g=!1,t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ya(t),p.updater=wo,t.stateNode=p,p._reactInternals=t,wa(t,l,e,o),t=ba(null,t,l,!0,g,o)):(t.tag=0,ot&&g&&Sa(t),Jt(null,t,p,o),t=t.child),t;case 16:l=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,p=l._init,l=p(l._payload),t.type=l,p=t.tag=Yf(l),e=Xt(l,e),p){case 0:t=ja(null,t,l,e,o);break e;case 1:t=Js(null,t,l,e,o);break e;case 11:t=Vs(null,t,l,e,o);break e;case 14:t=Zs(null,t,l,Xt(l.type,e),o);break e}throw Error(s(306,l,""))}return t;case 0:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:Xt(l,p),ja(e,t,l,p,o);case 1:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:Xt(l,p),Js(e,t,l,p,o);case 3:e:{if(Ks(t),e===null)throw Error(s(387));l=t.pendingProps,g=t.memoizedState,p=g.element,os(e,t),xo(t,l,null,o);var E=t.memoizedState;if(l=E.element,xe&&g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:E.cache,transitions:E.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){p=Error(s(423)),t=qs(e,t,l,o,p);break e}else if(l!==p){p=Error(s(424)),t=qs(e,t,l,o,p);break e}else for(xe&&(vn=Rt(t.stateNode.containerInfo),pn=t,ot=!0,Dn=null,Di=!1),o=ys(t,null,l,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ti(),l===p){t=ar(e,t,o);break e}Jt(e,t,l,o)}t=t.child}return t;case 5:return xs(t),e===null&&Ea(t),l=t.type,p=t.pendingProps,g=e!==null?e.memoizedProps:null,E=p.children,H(l,p)?E=null:g!==null&&H(l,g)&&(t.flags|=32),Ys(e,t),Jt(e,t,E,o),t.child;case 6:return e===null&&Ea(t),null;case 13:return $s(e,t,o);case 4:return Ma(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ni(t,null,l,o):Jt(e,t,l,o),t.child;case 11:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:Xt(l,p),Vs(e,t,l,p,o);case 7:return Jt(e,t,t.pendingProps,o),t.child;case 8:return Jt(e,t,t.pendingProps.children,o),t.child;case 12:return Jt(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(l=t.type._context,p=t.pendingProps,g=t.memoizedProps,E=p.value,go(t,l,E),g!==null)if(dn(g.value,E)){if(g.children===p.children&&!Et.current){t=ar(e,t,o);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var U=g.dependencies;if(U!==null){E=g.child;for(var V=U.firstContext;V!==null;){if(V.context===l){if(g.tag===1){V=nr(-1,o&-o),V.tag=2;var se=g.updateQueue;if(se!==null){se=se.shared;var ge=se.pending;ge===null?V.next=V:(V.next=ge.next,ge.next=V),se.pending=V}}g.lanes|=o,V=g.alternate,V!==null&&(V.lanes|=o),Yt(g.return,o,t),U.lanes|=o;break}V=V.next}}else if(g.tag===10)E=g.type===t.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=o,U=E.alternate,U!==null&&(U.lanes|=o),Yt(E,o,t),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===t){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Jt(e,t,p.children,o),t=t.child}return t;case 9:return p=t.type,l=t.pendingProps.children,pt(t,o),p=vt(p),l=l(p),t.flags|=1,Jt(e,t,l,o),t.child;case 14:return l=t.type,p=Xt(l,t.pendingProps),p=Xt(l.type,p),Zs(e,t,l,p,o);case 15:return Qs(e,t,t.type,t.pendingProps,o);case 17:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:Xt(l,p),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Tt(l)?(e=!0,sr(t)):e=!1,pt(t,o),cs(t,l,p),wa(t,l,p,o),ba(null,t,l,!0,e,o);case 19:return ru(e,t,o);case 22:return Xs(e,t,o)}throw Error(s(156,t.tag))};function ku(e,t){return tr(e,t)}function Xf(e,t,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,o,l){return new Xf(e,t,o,l)}function ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yf(e){if(typeof e=="function")return ll(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T)return 11;if(e===w)return 14}return 2}function gr(e,t){var o=e.alternate;return o===null?(o=Tn(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function ea(e,t,o,l,p,g){var E=2;if(l=e,typeof e=="function")ll(e)&&(E=1);else if(typeof e=="string")E=5;else e:switch(e){case d:return Or(o.children,p,g,t);case m:E=8,p|=8;break;case y:return e=Tn(12,o,t,p|2),e.elementType=y,e.lanes=g,e;case S:return e=Tn(13,o,t,p),e.elementType=S,e.lanes=g,e;case _:return e=Tn(19,o,t,p),e.elementType=_,e.lanes=g,e;case D:return ta(o,p,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:E=10;break e;case C:E=9;break e;case T:E=11;break e;case w:E=14;break e;case M:E=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Tn(E,o,t,p),t.elementType=e,t.type=l,t.lanes=g,t}function Or(e,t,o,l){return e=Tn(7,e,l,t),e.lanes=o,e}function ta(e,t,o,l){return e=Tn(22,e,l,t),e.elementType=D,e.lanes=o,e.stateNode={},e}function sl(e,t,o){return e=Tn(6,e,null,t),e.lanes=o,e}function ul(e,t,o){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jf(e,t,o,l,p){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=l,this.onRecoverableError=p,xe&&(this.mutableSourceEagerHydrationData=null)}function Pu(e,t,o,l,p,g,E,U,V){return e=new Jf(e,t,o,U,V),t===1?(t=1,g===!0&&(t|=8)):t=0,g=Tn(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null},ya(g),e}function Lu(e){if(!e)return sn;e=e._reactInternals;e:{if(J(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(Tt(o))return Qr(e,o,t)}return t}function Uu(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=O(t),e===null?null:e.stateNode}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function cl(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function Kf(e){return e=O(e),e===null?null:e.stateNode}function qf(){return null}return c.attemptContinuousHydration=function(e){if(e.tag===13){var t=Kt();En(e,134217728,t),cl(e,134217728)}},c.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Kt(),o=vr(e);En(e,o,t),cl(e,o)}},c.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=$n(t.pendingLanes);o!==0&&(Bn(t,o|1),tn(t,at()),!(Be&6)&&(si(),$t()))}break;case 13:var l=Kt();xu(function(){return En(e,1,l)}),cl(e,1)}},c.batchedUpdates=function(e,t){var o=Be;Be|=1;try{return e(t)}finally{Be=o,Be===0&&(si(),Nn&&$t())}},c.createComponentSelector=function(e){return{$$typeof:Bo,value:e}},c.createContainer=function(e,t,o,l,p,g,E){return Pu(e,t,!1,null,o,l,p,g,E)},c.createHasPseudoClassSelector=function(e){return{$$typeof:No,value:e}},c.createHydrationContainer=function(e,t,o,l,p,g,E,U,V){return e=Pu(o,l,!0,e,p,g,E,U,V),e.context=Lu(null),o=e.current,l=Kt(),p=vr(o),g=nr(l,p),g.callback=t??null,dr(o,g),e.current.lanes=p,bn(e,p,l),tn(e,l),e},c.createPortal=function(e,t,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:l==null?null:""+l,children:e,containerInfo:t,implementation:o}},c.createRoleSelector=function(e){return{$$typeof:Go,value:e}},c.createTestNameSelector=function(e){return{$$typeof:Wo,value:e}},c.createTextSelector=function(e){return{$$typeof:Ho,value:e}},c.deferredUpdates=function(e){var t=Ne,o=mt.transition;try{return mt.transition=null,Ne=16,e()}finally{Ne=t,mt.transition=o}},c.discreteUpdates=function(e,t,o,l,p){var g=Ne,E=mt.transition;try{return mt.transition=null,Ne=1,e(t,o,l,p)}finally{Ne=g,mt.transition=E,Be===0&&si()}},c.findAllNodes=Ja,c.findBoundingRects=function(e,t){if(!pe)throw Error(s(363));t=Ja(e,t),e=[];for(var o=0;o<t.length;o++)e.push(Pe(t[o]));for(t=e.length-1;0<t;t--){o=e[t];for(var l=o.x,p=l+o.width,g=o.y,E=g+o.height,U=t-1;0<=U;U--)if(t!==U){var V=e[U],se=V.x,ge=se+V.width,Fe=V.y,Le=Fe+V.height;if(l>=se&&g>=Fe&&p<=ge&&E<=Le){e.splice(t,1);break}else if(l!==se||o.width!==V.width||Le<g||Fe>E){if(!(g!==Fe||o.height!==V.height||ge<l||se>p)){se>l&&(V.width+=se-l,V.x=l),ge<p&&(V.width=p-se),e.splice(t,1);break}}else{Fe>g&&(V.height+=Fe-g,V.y=g),Le<E&&(V.height=E-Fe),e.splice(t,1);break}}}return e},c.findHostInstance=Uu,c.findHostInstanceWithNoPortals=function(e){return e=G(e),e=e!==null?q(e):null,e===null?null:e.stateNode},c.findHostInstanceWithWarning=function(e){return Uu(e)},c.flushControlled=function(e){var t=Be;Be|=1;var o=mt.transition,l=Ne;try{mt.transition=null,Ne=1,e()}finally{Ne=l,mt.transition=o,Be=t,Be===0&&(si(),$t())}},c.flushPassiveEffects=Dr,c.flushSync=xu,c.focusWithin=function(e,t){if(!pe)throw Error(s(363));for(e=Qa(e),t=mu(e,t),t=Array.from(t),e=0;e<t.length;){var o=t[e++];if(!we(o)){if(o.tag===5&&We(o.stateNode))return!0;for(o=o.child;o!==null;)t.push(o),o=o.sibling}}return!1},c.getCurrentUpdatePriority=function(){return Ne},c.getFindAllNodesFailureDescription=function(e,t){if(!pe)throw Error(s(363));var o=0,l=[];e=[Qa(e),0];for(var p=0;p<e.length;){var g=e[p++],E=e[p++],U=t[E];if((g.tag!==5||!we(g))&&(Xa(g,U)&&(l.push(Ya(U)),E++,E>o&&(o=E)),E<t.length))for(g=g.child;g!==null;)e.push(g,E),g=g.sibling}if(o<t.length){for(e=[];o<t.length;o++)e.push(Ya(t[o]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},c.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return ae(e.child.stateNode);default:return e.child.stateNode}},c.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:Kf,findFiberByHostInstance:e.findFiberByHostInstance||qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{_r=t.inject(e),fn=t}catch{}e=!!t.checkDCE}}return e},c.isAlreadyRendering=function(){return!1},c.observeVisibleRects=function(e,t,o,l){if(!pe)throw Error(s(363));e=Ja(e,t);var p=Oe(e,o,l).disconnect;return{disconnect:function(){p()}}},c.registerMutableSourceForHydration=function(e,t){var o=t._getVersion;o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o)},c.runWithPriority=function(e,t){var o=Ne;try{return Ne=e,t()}finally{Ne=o}},c.shouldError=function(){return null},c.shouldSuspend=function(){return!1},c.updateContainer=function(e,t,o,l){var p=t.current,g=Kt(),E=vr(p);return o=Lu(o),t.context===null?t.context=o:t.pendingContext=o,t=nr(g,E),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),dr(p,t),e=En(p,E,g),e!==null&&yo(e,p,E),E},c};Lc.exports=Id;var jd=Lc.exports;const bd=Cc(jd),Bd=a=>typeof a=="object"&&typeof a.then=="function",jr=[];function Fc(a,n,c=(v,i)=>v===i){if(a===n)return!0;if(!a||!n)return!1;const v=a.length;if(n.length!==v)return!1;for(let i=0;i<v;i++)if(!c(a[i],n[i]))return!1;return!0}function Ac(a,n=null,c=!1,v={}){n===null&&(n=[a]);for(const r of jr)if(Fc(n,r.keys,r.equal)){if(c)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return v.lifespan&&v.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,v.lifespan)),r.response;if(!c)throw r.promise}const i={keys:n,equal:v.equal,remove:()=>{const r=jr.indexOf(i);r!==-1&&jr.splice(r,1)},promise:(Bd(a)?a:a(...n)).then(r=>{i.response=r,v.lifespan&&v.lifespan>0&&(i.timeout=setTimeout(i.remove,v.lifespan))}).catch(r=>i.error=r)};if(jr.push(i),!c)throw i.promise}const Nd=(a,n,c)=>Ac(a,n,!1,c),Gd=(a,n,c)=>void Ac(a,n,!0,c),Wd=a=>{if(a===void 0||a.length===0)jr.splice(0,jr.length);else{const n=jr.find(c=>Fc(a,c.keys,c.equal));n&&n.remove()}},Kl={},Hd=a=>void Object.assign(Kl,a);function Vd(a,n){function c(d,{args:m=[],attach:y,...x},C){let T=`${d[0].toUpperCase()}${d.slice(1)}`,S;if(d==="primitive"){if(x.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=x.object;S=di(_,{type:d,root:C,attach:y,primitive:!0})}else{const _=Kl[T];if(!_)throw new Error(`R3F: ${T} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");S=di(new _(...m),{type:d,root:C,attach:y,memoizedProps:{args:m}})}return S.__r3f.attach===void 0&&(S instanceof Ec?S.__r3f.attach="geometry":S instanceof sd&&(S.__r3f.attach="material")),T!=="inject"&&ml(S,x),S}function v(d,m){let y=!1;if(m){var x,C;(x=m.__r3f)!=null&&x.attach?vl(d,m,m.__r3f.attach):m.isObject3D&&d.isObject3D&&(d.add(m),y=!0),y||(C=d.__r3f)==null||C.objects.push(m),m.__r3f||di(m,{}),m.__r3f.parent=d,Ol(m),hi(m)}}function i(d,m,y){let x=!1;if(m){var C,T;if((C=m.__r3f)!=null&&C.attach)vl(d,m,m.__r3f.attach);else if(m.isObject3D&&d.isObject3D){m.parent=d,m.dispatchEvent({type:"added"});const S=d.children.filter(w=>w!==m),_=S.indexOf(y);d.children=[...S.slice(0,_),m,...S.slice(_)],x=!0}x||(T=d.__r3f)==null||T.objects.push(m),m.__r3f||di(m,{}),m.__r3f.parent=d,Ol(m),hi(m)}}function r(d,m,y=!1){d&&[...d].forEach(x=>s(m,x,y))}function s(d,m,y){if(m){var x,C,T;if(m.__r3f&&(m.__r3f.parent=null),(x=d.__r3f)!=null&&x.objects&&(d.__r3f.objects=d.__r3f.objects.filter(D=>D!==m)),(C=m.__r3f)!=null&&C.attach)Bu(d,m,m.__r3f.attach);else if(m.isObject3D&&d.isObject3D){var S;d.remove(m),(S=m.__r3f)!=null&&S.root&&e1(m.__r3f.root,m)}const w=(T=m.__r3f)==null?void 0:T.primitive,M=!w&&(y===void 0?m.dispose!==null:y);if(!w){var _;r((_=m.__r3f)==null?void 0:_.objects,m,M),r(m.children,m,M)}if(delete m.__r3f,M&&m.dispose&&m.type!=="Scene"){const D=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Al.unstable_scheduleCallback(Al.unstable_IdlePriority,D):D()}hi(d)}}function f(d,m,y,x){var C;const T=(C=d.__r3f)==null?void 0:C.parent;if(!T)return;const S=c(m,y,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&v(S,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>v(S,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||s(T,d),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),v(T,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[x,x.alternate].forEach(_=>{_!==null&&(_.stateNode=S,_.ref&&(typeof _.ref=="function"?_.ref(S):_.ref.current=S))})}const u=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:bd({createInstance:c,removeChild:s,appendChild:v,appendInitialChild:v,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,m)=>{if(!m)return;const y=d.getState().scene;y.__r3f&&(y.__r3f.root=d,v(y,m))},removeChildFromContainer:(d,m)=>{m&&s(d.getState().scene,m)},insertInContainerBefore:(d,m,y)=>{if(!m||!y)return;const x=d.getState().scene;x.__r3f&&i(x,m,y)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var m;return!!((m=d==null?void 0:d.__r3f)!=null?m:{}).handlers},prepareUpdate(d,m,y,x){var C;if(((C=d==null?void 0:d.__r3f)!=null?C:{}).primitive&&x.object&&x.object!==d)return[!0];{const{args:S=[],children:_,...w}=x,{args:M=[],children:D,...R}=y;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((b,B)=>b!==M[B]))return[!0];const A=Bc(d,w,R,!0);return A.changes.length?[!1,A]:null}},commitUpdate(d,[m,y],x,C,T,S){m?f(d,x,T,S):ml(d,y)},commitMount(d,m,y,x){var C;const T=(C=d.__r3f)!=null?C:{};d.raycast&&T.handlers&&T.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>di(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var m;const{attach:y,parent:x}=(m=d.__r3f)!=null?m:{};y&&x&&Bu(x,d,y),d.isObject3D&&(d.visible=!1),hi(d)},unhideInstance(d,m){var y;const{attach:x,parent:C}=(y=d.__r3f)!=null?y:{};x&&C&&vl(C,d,x),(d.isObject3D&&m.visible==null||m.visible)&&(d.visible=!0),hi(d)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>n?n():vi.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nt.fun(performance.now)?performance.now:nt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ml}}var zu,Iu;const pl=a=>"colorSpace"in a||"outputColorSpace"in a,Dc=()=>{var a;return(a=Kl.ColorManagement)!=null?a:null},Oc=a=>a&&a.isOrthographicCamera,Zd=a=>a&&a.hasOwnProperty("current"),Si=typeof window<"u"&&((zu=window.document)!=null&&zu.createElement||((Iu=window.navigator)==null?void 0:Iu.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function zc(a){const n=P.useRef(a);return Si(()=>void(n.current=a),[a]),n}function Qd({set:a}){return Si(()=>(a(new Promise(()=>null)),()=>a(!1)),[a]),null}class Ic extends P.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}}Ic.getDerivedStateFromError=()=>({error:!0});const jc="__default",ju=new Map,Xd=a=>a&&!!a.memoized&&!!a.changes;function bc(a){var n;const c=typeof window<"u"?(n=window.devicePixelRatio)!=null?n:2:1;return Array.isArray(a)?Math.min(Math.max(a[0],c),a[1]):a}const qi=a=>{var n;return(n=a.__r3f)==null?void 0:n.root.getState()},nt={obj:a=>a===Object(a)&&!nt.arr(a)&&typeof a!="function",fun:a=>typeof a=="function",str:a=>typeof a=="string",num:a=>typeof a=="number",boo:a=>typeof a=="boolean",und:a=>a===void 0,arr:a=>Array.isArray(a),equ(a,n,{arrays:c="shallow",objects:v="reference",strict:i=!0}={}){if(typeof a!=typeof n||!!a!=!!n)return!1;if(nt.str(a)||nt.num(a))return a===n;const r=nt.obj(a);if(r&&v==="reference")return a===n;const s=nt.arr(a);if(s&&c==="reference")return a===n;if((s||r)&&a===n)return!0;let f;for(f in a)if(!(f in n))return!1;if(r&&c==="shallow"&&v==="shallow"){for(f in i?n:a)if(!nt.equ(a[f],n[f],{strict:i,objects:"reference"}))return!1}else for(f in i?n:a)if(a[f]!==n[f])return!1;if(nt.und(f)){if(s&&a.length===0&&n.length===0||r&&Object.keys(a).length===0&&Object.keys(n).length===0)return!0;if(a!==n)return!1}return!0}};function Yd(a){const n={nodes:{},materials:{}};return a&&a.traverse(c=>{c.name&&(n.nodes[c.name]=c),c.material&&!n.materials[c.material.name]&&(n.materials[c.material.name]=c.material)}),n}function Jd(a){a.dispose&&a.type!=="Scene"&&a.dispose();for(const n in a)n.dispose==null||n.dispose(),delete a[n]}function di(a,n){const c=a;return c.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...n},a}function Dl(a,n){let c=a;if(n.includes("-")){const v=n.split("-"),i=v.pop();return c=v.reduce((r,s)=>r[s],a),{target:c,key:i}}else return{target:c,key:n}}const bu=/-\d+$/;function vl(a,n,c){if(nt.str(c)){if(bu.test(c)){const r=c.replace(bu,""),{target:s,key:f}=Dl(a,r);Array.isArray(s[f])||(s[f]=[])}const{target:v,key:i}=Dl(a,c);n.__r3f.previousAttach=v[i],v[i]=n}else n.__r3f.previousAttach=c(a,n)}function Bu(a,n,c){var v,i;if(nt.str(c)){const{target:r,key:s}=Dl(a,c),f=n.__r3f.previousAttach;f===void 0?delete r[s]:r[s]=f}else(v=n.__r3f)==null||v.previousAttach==null||v.previousAttach(a,n);(i=n.__r3f)==null||delete i.previousAttach}function Bc(a,{children:n,key:c,ref:v,...i},{children:r,key:s,ref:f,...u}={},h=!1){var d;const m=(d=a==null?void 0:a.__r3f)!=null?d:{},y=Object.entries(i),x=[];if(h){const T=Object.keys(u);for(let S=0;S<T.length;S++)i.hasOwnProperty(T[S])||y.unshift([T[S],jc+"remove"])}y.forEach(([T,S])=>{var _;if((_=a.__r3f)!=null&&_.primitive&&T==="object"||nt.equ(S,u[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return x.push([T,S,!0,[]]);let w=[];T.includes("-")&&(w=T.split("-")),x.push([T,S,!1,w]);for(const M in i){const D=i[M];M.startsWith(`${T}-`)&&x.push([M,D,!1,M.split("-")])}});const C={...i};return m.memoizedProps&&m.memoizedProps.args&&(C.args=m.memoizedProps.args),m.memoizedProps&&m.memoizedProps.attach&&(C.attach=m.memoizedProps.attach),{memoized:C,changes:x}}const Kd=typeof process<"u"&&!1;function ml(a,n){var c,v,i;const r=(c=a.__r3f)!=null?c:{},s=r.root,f=(v=s==null||s.getState==null?void 0:s.getState())!=null?v:{},{memoized:u,changes:h}=Xd(n)?n:Bc(a,n),d=r.eventCount;a.__r3f&&(a.__r3f.memoizedProps=u);for(let y=0;y<h.length;y++){let[x,C,T,S]=h[y];if(pl(a)){const D="srgb",R="srgb-linear";x==="encoding"?(x="colorSpace",C=C===3001?D:R):x==="outputEncoding"&&(x="outputColorSpace",C=C===3001?D:R)}let _=a,w=_[x];if(S.length&&(w=S.reduce((M,D)=>M[D],a),!(w&&w.set))){const[M,...D]=S.reverse();_=D.reverse().reduce((R,A)=>R[A],a),x=M}if(C===jc+"remove")if(_.constructor){let M=ju.get(_.constructor);M||(M=new _.constructor,ju.set(_.constructor,M)),C=M[x]}else C=0;if(T)C?r.handlers[x]=C:delete r.handlers[x],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof fl)){if(Array.isArray(C))w.fromArray?w.fromArray(C):w.set(...C);else if(w.copy&&C&&C.constructor&&(Kd?w.constructor.name===C.constructor.name:w.constructor===C.constructor))w.copy(C);else if(C!==void 0){const M=w instanceof io;!M&&w.setScalar?w.setScalar(C):w instanceof fl&&C instanceof fl?w.mask=C.mask:w.set(C),!Dc()&&!f.linear&&M&&w.convertSRGBToLinear()}}else if(_[x]=C,_[x]instanceof Vl&&_[x].format===ad&&_[x].type===ld){const M=_[x];pl(M)&&pl(f.gl)?M.colorSpace=f.gl.outputColorSpace:M.encoding=f.gl.outputEncoding}hi(a)}if(r.parent&&f.internal&&a.raycast&&d!==r.eventCount){const y=f.internal.interaction.indexOf(a);y>-1&&f.internal.interaction.splice(y,1),r.eventCount&&f.internal.interaction.push(a)}return!(h.length===1&&h[0][0]==="onUpdate")&&h.length&&(i=a.__r3f)!=null&&i.parent&&Ol(a),a}function hi(a){var n,c;const v=(n=a.__r3f)==null||(c=n.root)==null||c.getState==null?void 0:c.getState();v&&v.internal.frames===0&&v.invalidate()}function Ol(a){a.onUpdate==null||a.onUpdate(a)}function qd(a,n){a.manual||(Oc(a)?(a.left=n.width/-2,a.right=n.width/2,a.top=n.height/2,a.bottom=n.height/-2):a.aspect=n.width/n.height,a.updateProjectionMatrix(),a.updateMatrixWorld())}function na(a){return(a.eventObject||a.object).uuid+"/"+a.index+a.instanceId}function $d(){var a;const n=typeof self<"u"&&self||typeof window<"u"&&window;if(!n)return vi.DefaultEventPriority;switch((a=n.event)==null?void 0:a.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vi.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vi.ContinuousEventPriority;default:return vi.DefaultEventPriority}}function Nc(a,n,c,v){const i=c.get(n);i&&(c.delete(n),c.size===0&&(a.delete(v),i.target.releasePointerCapture(v)))}function e1(a,n){const{internal:c}=a.getState();c.interaction=c.interaction.filter(v=>v!==n),c.initialHits=c.initialHits.filter(v=>v!==n),c.hovered.forEach((v,i)=>{(v.eventObject===n||v.object===n)&&c.hovered.delete(i)}),c.capturedMap.forEach((v,i)=>{Nc(c.capturedMap,n,v,i)})}function t1(a){function n(u){const{internal:h}=a.getState(),d=u.offsetX-h.initialClick[0],m=u.offsetY-h.initialClick[1];return Math.round(Math.sqrt(d*d+m*m))}function c(u){return u.filter(h=>["Move","Over","Enter","Out","Leave"].some(d=>{var m;return(m=h.__r3f)==null?void 0:m.handlers["onPointer"+d]}))}function v(u,h){const d=a.getState(),m=new Set,y=[],x=h?h(d.internal.interaction):d.internal.interaction;for(let _=0;_<x.length;_++){const w=qi(x[_]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(u,d);function C(_){const w=qi(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var M;w.events.compute==null||w.events.compute(u,w,(M=w.previousRoot)==null?void 0:M.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let T=x.flatMap(C).sort((_,w)=>{const M=qi(_.object),D=qi(w.object);return!M||!D?_.distance-w.distance:D.events.priority-M.events.priority||_.distance-w.distance}).filter(_=>{const w=na(_);return m.has(w)?!1:(m.add(w),!0)});d.events.filter&&(T=d.events.filter(T,d));for(const _ of T){let w=_.object;for(;w;){var S;(S=w.__r3f)!=null&&S.eventCount&&y.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in u&&d.internal.capturedMap.has(u.pointerId))for(let _ of d.internal.capturedMap.get(u.pointerId).values())m.has(na(_.intersection))||y.push(_.intersection);return y}function i(u,h,d,m){const y=a.getState();if(u.length){const x={stopped:!1};for(const C of u){const T=qi(C.object)||y,{raycaster:S,pointer:_,camera:w,internal:M}=T,D=new st(_.x,_.y,0).unproject(w),R=oe=>{var G,O;return(G=(O=M.capturedMap.get(oe))==null?void 0:O.has(C.eventObject))!=null?G:!1},A=oe=>{const G={intersection:C,target:h.target};M.capturedMap.has(oe)?M.capturedMap.get(oe).set(C.eventObject,G):M.capturedMap.set(oe,new Map([[C.eventObject,G]])),h.target.setPointerCapture(oe)},b=oe=>{const G=M.capturedMap.get(oe);G&&Nc(M.capturedMap,C.eventObject,G,oe)};let B={};for(let oe in h){let G=h[oe];typeof G!="function"&&(B[oe]=G)}let J={...C,...B,pointer:_,intersections:u,stopped:x.stopped,delta:d,unprojectedPoint:D,ray:S.ray,camera:w,stopPropagation(){const oe="pointerId"in h&&M.capturedMap.get(h.pointerId);if((!oe||oe.has(C.eventObject))&&(J.stopped=x.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(G=>G.eventObject===C.eventObject))){const G=u.slice(0,u.indexOf(C));r([...G,C])}},target:{hasPointerCapture:R,setPointerCapture:A,releasePointerCapture:b},currentTarget:{hasPointerCapture:R,setPointerCapture:A,releasePointerCapture:b},nativeEvent:h};if(m(J),x.stopped===!0)break}}return u}function r(u){const{internal:h}=a.getState();for(const d of h.hovered.values())if(!u.length||!u.find(m=>m.object===d.object&&m.index===d.index&&m.instanceId===d.instanceId)){const y=d.eventObject.__r3f,x=y==null?void 0:y.handlers;if(h.hovered.delete(na(d)),y!=null&&y.eventCount){const C={...d,intersections:u};x.onPointerOut==null||x.onPointerOut(C),x.onPointerLeave==null||x.onPointerLeave(C)}}}function s(u,h){for(let d=0;d<h.length;d++){const m=h[d].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(u)}}function f(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return h=>{const{internal:d}=a.getState();"pointerId"in h&&d.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(h.pointerId)&&(d.capturedMap.delete(h.pointerId),r([]))})}}return function(d){const{onPointerMissed:m,internal:y}=a.getState();y.lastEvent.current=d;const x=u==="onPointerMove",C=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",S=v(d,x?c:void 0),_=C?n(d):0;u==="onPointerDown"&&(y.initialClick=[d.offsetX,d.offsetY],y.initialHits=S.map(M=>M.eventObject)),C&&!S.length&&_<=2&&(s(d,y.interaction),m&&m(d)),x&&r(S);function w(M){const D=M.eventObject,R=D.__r3f,A=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(x){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const b=na(M),B=y.hovered.get(b);B?B.stopped&&M.stopPropagation():(y.hovered.set(b,M),A.onPointerOver==null||A.onPointerOver(M),A.onPointerEnter==null||A.onPointerEnter(M))}A.onPointerMove==null||A.onPointerMove(M)}else{const b=A[u];b?(!C||y.initialHits.includes(D))&&(s(d,y.interaction.filter(B=>!y.initialHits.includes(B))),b(M)):C&&y.initialHits.includes(D)&&s(d,y.interaction.filter(B=>!y.initialHits.includes(B)))}}i(S,d,_,w)}}return{handlePointer:f}}const Gc=a=>!!(a!=null&&a.render),Wc=P.createContext(null),n1=(a,n)=>{const c=zd((f,u)=>{const h=new st,d=new st,m=new st;function y(_=u().camera,w=d,M=u().size){const{width:D,height:R,top:A,left:b}=M,B=D/R;w instanceof st?m.copy(w):m.set(...w);const J=_.getWorldPosition(h).distanceTo(m);if(Oc(_))return{width:D/_.zoom,height:R/_.zoom,top:A,left:b,factor:1,distance:J,aspect:B};{const oe=_.fov*Math.PI/180,G=2*Math.tan(oe/2)*J,O=G*(D/R);return{width:O,height:G,top:A,left:b,factor:D/O,distance:J,aspect:B}}}let x;const C=_=>f(w=>({performance:{...w.performance,current:_}})),T=new Nr;return{set:f,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>a(u(),_),advance:(_,w)=>n(_,w,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new gd,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=u();x&&clearTimeout(x),_.performance.current!==_.performance.min&&C(_.performance.min),x=setTimeout(()=>C(u().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:_=>f(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,M,D,R)=>{const A=u().camera,b={width:_,height:w,top:D||0,left:R||0,updateStyle:M};f(B=>({size:b,viewport:{...B.viewport,...y(A,d,b)}}))},setDpr:_=>f(w=>{const M=bc(_);return{viewport:{...w.viewport,dpr:M,initialDpr:w.viewport.initialDpr||M}}}),setFrameloop:(_="always")=>{const w=u().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),f(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,w,M)=>{const D=u().internal;return D.priority=D.priority+(w>0?1:0),D.subscribers.push({ref:_,priority:w,store:M}),D.subscribers=D.subscribers.sort((R,A)=>R.priority-A.priority),()=>{const R=u().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(A=>A.ref!==_))}}}}}),v=c.getState();let i=v.size,r=v.viewport.dpr,s=v.camera;return c.subscribe(()=>{const{camera:f,size:u,viewport:h,gl:d,set:m}=c.getState();if(u.width!==i.width||u.height!==i.height||h.dpr!==r){var y;i=u,r=h.dpr,qd(f,u),d.setPixelRatio(h.dpr);const x=(y=u.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(u.width,u.height,x)}f!==s&&(s=f,m(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(f)}})))}),c.subscribe(f=>a(f)),c};function ql(a,n){const c={callback:a};return n.add(c),()=>void n.delete(c)}let ra,Hc=new Set,Vc=new Set,Zc=new Set;const r1=a=>ql(a,Hc),i1=a=>ql(a,Vc),o1=a=>ql(a,Zc);function gl(a,n){if(a.size)for(const{callback:c}of a.values())c(n)}function $i(a,n){switch(a){case"before":return gl(Hc,n);case"after":return gl(Vc,n);case"tail":return gl(Zc,n)}}let yl,xl;function wl(a,n,c){let v=n.clock.getDelta();for(n.frameloop==="never"&&typeof a=="number"&&(v=a-n.clock.elapsedTime,n.clock.oldTime=n.clock.elapsedTime,n.clock.elapsedTime=a),yl=n.internal.subscribers,ra=0;ra<yl.length;ra++)xl=yl[ra],xl.ref.current(xl.store.getState(),v,c);return!n.internal.priority&&n.gl.render&&n.gl.render(n.scene,n.camera),n.internal.frames=Math.max(0,n.internal.frames-1),n.frameloop==="always"?1:n.internal.frames}function a1(a){let n=!1,c,v,i;function r(u){v=requestAnimationFrame(r),n=!0,c=0,$i("before",u);for(const d of a.values()){var h;i=d.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((h=i.gl.xr)!=null&&h.isPresenting)&&(c+=wl(u,i))}if($i("after",u),c===0)return $i("tail",u),n=!1,cancelAnimationFrame(v)}function s(u,h=1){var d;if(!u)return a.forEach(m=>s(m.store.getState()),h);(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(u.internal.frames=Math.min(60,u.internal.frames+h),n||(n=!0,requestAnimationFrame(r)))}function f(u,h=!0,d,m){if(h&&$i("before",u),d)wl(u,d,m);else for(const y of a.values())wl(u,y.store.getState());h&&$i("after",u)}return{loop:r,invalidate:s,advance:f}}function fp(a){const n=P.useRef(null);return Si(()=>void(n.current=a.current.__r3f),[a]),n}function Qc(){const a=P.useContext(Wc);if(!a)throw new Error("R3F: Hooks can only be used within the Canvas component!");return a}function Ci(a=c=>c,n){return Qc()(a,n)}function ao(a,n=0){const c=Qc(),v=c.getState().internal.subscribe,i=zc(a);return Si(()=>v(i,n,c),[n,v,c]),null}const Nu=new WeakMap;function Xc(a,n){return function(c,...v){let i=Nu.get(c);return i||(i=new c,Nu.set(c,i)),a&&a(i),Promise.all(v.map(r=>new Promise((s,f)=>i.load(r,u=>{u.scene&&Object.assign(u,Yd(u.scene)),s(u)},n,u=>f(new Error(`Could not load ${r}: ${u==null?void 0:u.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Yc(a,n,c,v){const i=Array.isArray(n)?n:[n],r=Nd(Xc(c,v),[a,...i],{equal:nt.equ});return Array.isArray(n)?r:r[0]}Yc.preload=function(a,n,c){const v=Array.isArray(n)?n:[n];return Gd(Xc(c),[a,...v])};Yc.clear=function(a,n){const c=Array.isArray(n)?n:[n];return Wd([a,...c])};const wi=new Map,{invalidate:Gu,advance:Wu}=a1(wi),{reconciler:ha,applyProps:ui}=Vd(wi,$d),ci={objects:"shallow",strict:!1},l1=(a,n)=>{const c=typeof a=="function"?a(n):a;return Gc(c)?c:new dd({powerPreference:"high-performance",canvas:n,antialias:!0,alpha:!0,...a})};function s1(a,n){const c=typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement;if(n){const{width:v,height:i,top:r,left:s,updateStyle:f=c}=n;return{width:v,height:i,top:r,left:s,updateStyle:f}}else if(typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement&&a.parentElement){const{width:v,height:i,top:r,left:s}=a.parentElement.getBoundingClientRect();return{width:v,height:i,top:r,left:s,updateStyle:c}}else if(typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas)return{width:a.width,height:a.height,top:0,left:0,updateStyle:c};return{width:0,height:0,top:0,left:0}}function u1(a){const n=wi.get(a),c=n==null?void 0:n.fiber,v=n==null?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,r=v||n1(Gu,Wu),s=c||ha.createContainer(r,vi.ConcurrentRoot,null,!1,null,"",i,null);n||wi.set(a,{fiber:s,store:r});let f,u=!1,h;return{configure(d={}){let{gl:m,size:y,scene:x,events:C,onCreated:T,shadows:S=!1,linear:_=!1,flat:w=!1,legacy:M=!1,orthographic:D=!1,frameloop:R="always",dpr:A=[1,2],performance:b,raycaster:B,camera:J,onPointerMissed:oe}=d,G=r.getState(),O=G.gl;G.gl||G.set({gl:O=l1(m,a)});let ee=G.raycaster;ee||G.set({raycaster:ee=new ud});const{params:q,...ne}=B||{};if(nt.equ(ne,ee,ci)||ui(ee,{...ne}),nt.equ(q,ee.params,ci)||ui(ee,{params:{...ee.params,...q}}),!G.camera||G.camera===h&&!nt.equ(h,J,ci)){h=J;const I=J instanceof hd,Q=I?J:D?new Zl(0,0,0,0,.1,1e3):new Ql(75,0,.1,1e3);I||(Q.position.z=5,J&&ui(Q,J),!G.camera&&!(J!=null&&J.rotation)&&Q.lookAt(0,0,0)),G.set({camera:Q}),ee.camera=Q}if(!G.scene){let I;x instanceof da?I=x:(I=new da,x&&ui(I,x)),G.set({scene:di(I)})}if(!G.xr){var ae;const I=(H,re)=>{const X=r.getState();X.frameloop!=="never"&&Wu(H,!0,X,re)},Q=()=>{const H=r.getState();H.gl.xr.enabled=H.gl.xr.isPresenting,H.gl.xr.setAnimationLoop(H.gl.xr.isPresenting?I:null),H.gl.xr.isPresenting||Gu(H)},Y={connect(){const H=r.getState().gl;H.xr.addEventListener("sessionstart",Q),H.xr.addEventListener("sessionend",Q)},disconnect(){const H=r.getState().gl;H.xr.removeEventListener("sessionstart",Q),H.xr.removeEventListener("sessionend",Q)}};typeof((ae=O.xr)==null?void 0:ae.addEventListener)=="function"&&Y.connect(),G.set({xr:Y})}if(O.shadowMap){const I=O.shadowMap.enabled,Q=O.shadowMap.type;if(O.shadowMap.enabled=!!S,nt.boo(S))O.shadowMap.type=dl;else if(nt.str(S)){var ve;const Y={basic:pd,percentage:vd,soft:dl,variance:md};O.shadowMap.type=(ve=Y[S])!=null?ve:dl}else nt.obj(S)&&Object.assign(O.shadowMap,S);(I!==O.shadowMap.enabled||Q!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}const Z=Dc();Z&&("enabled"in Z?Z.enabled=!M:"legacyMode"in Z&&(Z.legacyMode=M)),ui(O,{outputEncoding:_?3e3:3001,toneMapping:w?cd:fd}),G.legacy!==M&&G.set(()=>({legacy:M})),G.linear!==_&&G.set(()=>({linear:_})),G.flat!==w&&G.set(()=>({flat:w})),m&&!nt.fun(m)&&!Gc(m)&&!nt.equ(m,O,ci)&&ui(O,m),C&&!G.events.handlers&&G.set({events:C(r)});const k=s1(a,y);return nt.equ(k,G.size,ci)||G.setSize(k.width,k.height,k.updateStyle,k.top,k.left),A&&G.viewport.dpr!==bc(A)&&G.setDpr(A),G.frameloop!==R&&G.setFrameloop(R),G.onPointerMissed||G.set({onPointerMissed:oe}),b&&!nt.equ(b,G.performance,ci)&&G.set(I=>({performance:{...I.performance,...b}})),f=T,u=!0,this},render(d){return u||this.configure(),ha.updateContainer(P.createElement(c1,{store:r,children:d,onCreated:f,rootElement:a}),s,null,()=>{}),r},unmount(){Jc(a)}}}function c1({store:a,children:n,onCreated:c,rootElement:v}){return Si(()=>{const i=a.getState();i.set(r=>({internal:{...r.internal,active:!0}})),c&&c(i),a.getState().events.connected||i.events.connect==null||i.events.connect(v)},[]),P.createElement(Wc.Provider,{value:a},n)}function Jc(a,n){const c=wi.get(a),v=c==null?void 0:c.fiber;if(v){const i=c==null?void 0:c.store.getState();i&&(i.internal.active=!1),ha.updateContainer(null,v,null,()=>{i&&setTimeout(()=>{try{var r,s,f,u;i.events.disconnect==null||i.events.disconnect(),(r=i.gl)==null||(s=r.renderLists)==null||s.dispose==null||s.dispose(),(f=i.gl)==null||f.forceContextLoss==null||f.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),Jd(i),wi.delete(a),n&&n(a)}catch{}},500)})}}ha.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});function zl(a,n,c){var v,i,r,s,f;n==null&&(n=100);function u(){var d=Date.now()-s;d<n&&d>=0?v=setTimeout(u,n-d):(v=null,c||(f=a.apply(r,i),r=i=null))}var h=function(){r=this,i=arguments,s=Date.now();var d=c&&!v;return v||(v=setTimeout(u,n)),d&&(f=a.apply(r,i),r=i=null),f};return h.clear=function(){v&&(clearTimeout(v),v=null)},h.flush=function(){v&&(f=a.apply(r,i),r=i=null,clearTimeout(v),v=null)},h}zl.debounce=zl;var f1=zl;const Hu=Cc(f1);function d1(a){let{debounce:n,scroll:c,polyfill:v,offsetSize:i}=a===void 0?{debounce:0,scroll:!1,offsetSize:!1}:a;const r=v||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,f]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),h=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,m=P.useRef(!1);P.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,x,C]=P.useMemo(()=>{const w=()=>{if(!u.current.element)return;const{left:M,top:D,width:R,height:A,bottom:b,right:B,x:J,y:oe}=u.current.element.getBoundingClientRect(),G={left:M,top:D,width:R,height:A,bottom:b,right:B,x:J,y:oe};u.current.element instanceof HTMLElement&&i&&(G.height=u.current.element.offsetHeight,G.width=u.current.element.offsetWidth),Object.freeze(G),m.current&&!m1(u.current.lastBounds,G)&&f(u.current.lastBounds=G)};return[w,d?Hu(w,d):w,h?Hu(w,h):w]},[f,i,h,d]);function T(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",C,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function S(){u.current.element&&(u.current.resizeObserver=new r(C),u.current.resizeObserver.observe(u.current.element),c&&u.current.scrollContainers&&u.current.scrollContainers.forEach(w=>w.addEventListener("scroll",C,{capture:!0,passive:!0})))}const _=w=>{!w||w===u.current.element||(T(),u.current.element=w,u.current.scrollContainers=Kc(w),S())};return p1(C,!!c),h1(x),P.useEffect(()=>{T(),S()},[c,C,x]),P.useEffect(()=>T,[]),[_,s,y]}function h1(a){P.useEffect(()=>{const n=a;return window.addEventListener("resize",n),()=>void window.removeEventListener("resize",n)},[a])}function p1(a,n){P.useEffect(()=>{if(n){const c=a;return window.addEventListener("scroll",c,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",c,!0)}},[a,n])}function Kc(a){const n=[];if(!a||a===document.body)return n;const{overflow:c,overflowX:v,overflowY:i}=window.getComputedStyle(a);return[c,v,i].some(r=>r==="auto"||r==="scroll")&&n.push(a),[...n,...Kc(a.parentElement)]}const v1=["x","y","top","bottom","left","right","width","height"],m1=(a,n)=>v1.every(c=>a[c]===n[c]);var g1=Object.defineProperty,y1=Object.defineProperties,x1=Object.getOwnPropertyDescriptors,Vu=Object.getOwnPropertySymbols,w1=Object.prototype.hasOwnProperty,S1=Object.prototype.propertyIsEnumerable,Zu=(a,n,c)=>n in a?g1(a,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[n]=c,Qu=(a,n)=>{for(var c in n||(n={}))w1.call(n,c)&&Zu(a,c,n[c]);if(Vu)for(var c of Vu(n))S1.call(n,c)&&Zu(a,c,n[c]);return a},C1=(a,n)=>y1(a,x1(n));function qc(a,n,c){if(!a)return;if(c(a)===!0)return a;let v=n?a.return:a.child;for(;v;){const i=qc(v,n,c);if(i)return i;v=n?null:v.sibling}}function $c(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const $l=$c(P.createContext(null));class ef extends P.Component{render(){return P.createElement($l.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Xu,ReactCurrentDispatcher:Yu}=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _1(){const a=P.useContext($l);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=P.useId();return P.useMemo(()=>{for(const v of[Xu==null?void 0:Xu.current,a,a==null?void 0:a.alternate]){if(!v)continue;const i=qc(v,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===n)return!0;s=s.next}});if(i)return i}},[a,n])}function E1(){var a,n;const c=_1(),[v]=P.useState(()=>new Map);v.clear();let i=c;for(;i;){const r=(a=i.type)==null?void 0:a._context;r&&r!==$l&&!v.has(r)&&v.set(r,(n=Yu==null?void 0:Yu.current)==null?void 0:n.readContext($c(r))),i=i.return}return v}function T1(){const a=E1();return P.useMemo(()=>Array.from(a.keys()).reduce((n,c)=>v=>P.createElement(n,null,P.createElement(c.Provider,C1(Qu({},v),{value:a.get(c)}))),n=>P.createElement(ef,Qu({},n))),[a])}const Sl={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function M1(a){const{handlePointer:n}=t1(a);return{priority:1,enabled:!0,compute(c,v,i){v.pointer.set(c.offsetX/v.size.width*2-1,-(c.offsetY/v.size.height)*2+1),v.raycaster.setFromCamera(v.pointer,v.camera)},connected:void 0,handlers:Object.keys(Sl).reduce((c,v)=>({...c,[v]:n(v)}),{}),update:()=>{var c;const{events:v,internal:i}=a.getState();(c=i.lastEvent)!=null&&c.current&&v.handlers&&v.handlers.onPointerMove(i.lastEvent.current)},connect:c=>{var v;const{set:i,events:r}=a.getState();r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:c}})),Object.entries((v=r.handlers)!=null?v:[]).forEach(([s,f])=>{const[u,h]=Sl[s];c.addEventListener(u,f,{passive:h})})},disconnect:()=>{const{set:c,events:v}=a.getState();if(v.connected){var i;Object.entries((i=v.handlers)!=null?i:[]).forEach(([r,s])=>{if(v&&v.connected instanceof HTMLElement){const[f]=Sl[r];v.connected.removeEventListener(f,s)}}),c(r=>({events:{...r.events,connected:void 0}}))}}}}const k1=P.forwardRef(function({children:n,fallback:c,resize:v,style:i,gl:r,events:s=M1,eventSource:f,eventPrefix:u,shadows:h,linear:d,flat:m,legacy:y,orthographic:x,frameloop:C,dpr:T,performance:S,raycaster:_,camera:w,scene:M,onPointerMissed:D,onCreated:R,...A},b){P.useMemo(()=>Hd(yd),[]);const B=T1(),[J,oe]=d1({scroll:!0,debounce:{scroll:50,resize:0},...v}),G=P.useRef(null),O=P.useRef(null);P.useImperativeHandle(b,()=>G.current);const ee=zc(D),[q,ne]=P.useState(!1),[ae,ve]=P.useState(!1);if(q)throw q;if(ae)throw ae;const Z=P.useRef(null);Si(()=>{const W=G.current;oe.width>0&&oe.height>0&&W&&(Z.current||(Z.current=u1(W)),Z.current.configure({gl:r,events:s,shadows:h,linear:d,flat:m,legacy:y,orthographic:x,frameloop:C,dpr:T,performance:S,raycaster:_,camera:w,scene:M,size:oe,onPointerMissed:(...k)=>ee.current==null?void 0:ee.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(f?Zd(f)?f.current:f:O.current),u&&k.setEvents({compute:(I,Q)=>{const Y=I[u+"X"],H=I[u+"Y"];Q.pointer.set(Y/Q.size.width*2-1,-(H/Q.size.height)*2+1),Q.raycaster.setFromCamera(Q.pointer,Q.camera)}}),R==null||R(k)}}),Z.current.render(P.createElement(B,null,P.createElement(Ic,{set:ve},P.createElement(P.Suspense,{fallback:P.createElement(Qd,{set:ne})},n)))))}),P.useEffect(()=>{const W=G.current;if(W)return()=>Jc(W)},[]);const j=f?"none":"auto";return P.createElement("div",yi({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},A),P.createElement("div",{ref:J,style:{width:"100%",height:"100%"}},P.createElement("canvas",{ref:G,style:{display:"block"}},c)))}),P1=P.forwardRef(function(n,c){return P.createElement(ef,null,P.createElement(k1,yi({},n,{ref:c})))}),lo=new st,es=new st,L1=new st;function U1(a,n,c){const v=lo.setFromMatrixPosition(a.matrixWorld);v.project(n);const i=c.width/2,r=c.height/2;return[v.x*i+i,-(v.y*r)+r]}function R1(a,n){const c=lo.setFromMatrixPosition(a.matrixWorld),v=es.setFromMatrixPosition(n.matrixWorld),i=c.sub(v),r=n.getWorldDirection(L1);return i.angleTo(r)>Math.PI/2}function F1(a,n,c,v){const i=lo.setFromMatrixPosition(a.matrixWorld),r=i.clone();r.project(n),c.setFromCamera(r,n);const s=c.intersectObjects(v,!0);if(s.length){const f=s[0].distance;return i.distanceTo(c.ray.origin)<f}return!0}function A1(a,n){if(n instanceof Zl)return n.zoom;if(n instanceof Ql){const c=lo.setFromMatrixPosition(a.matrixWorld),v=es.setFromMatrixPosition(n.matrixWorld),i=n.fov*Math.PI/180,r=c.distanceTo(v);return 1/(2*Math.tan(i/2)*r)}else return 1}function D1(a,n,c){if(n instanceof Ql||n instanceof Zl){const v=lo.setFromMatrixPosition(a.matrixWorld),i=es.setFromMatrixPosition(n.matrixWorld),r=v.distanceTo(i),s=(c[1]-c[0])/(n.far-n.near),f=c[1]-s*n.far;return Math.round(s*r+f)}}const Il=a=>Math.abs(a)<1e-10?0:a;function tf(a,n,c=""){let v="matrix3d(";for(let i=0;i!==16;i++)v+=Il(n[i]*a.elements[i])+(i!==15?",":")");return c+v}const O1=(a=>n=>tf(n,a))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),z1=(a=>(n,c)=>tf(n,a(c),"translate(-50%,-50%)"))(a=>[1/a,1/a,1/a,1,-1/a,-1/a,-1/a,-1,1/a,1/a,1/a,1,1,1,1,1]);function I1(a){return a&&typeof a=="object"&&"current"in a}const hp=P.forwardRef(({children:a,eps:n=.001,style:c,className:v,prepend:i,center:r,fullscreen:s,portal:f,distanceFactor:u,sprite:h=!1,transform:d=!1,occlude:m,onOcclude:y,castShadow:x,receiveShadow:C,material:T,geometry:S,zIndexRange:_=[16777271,0],calculatePosition:w=U1,as:M="div",wrapperClass:D,pointerEvents:R="auto",...A},b)=>{const{gl:B,camera:J,scene:oe,size:G,raycaster:O,events:ee,viewport:q}=Ci(),[ne]=P.useState(()=>document.createElement(M)),ae=P.useRef(),ve=P.useRef(null),Z=P.useRef(0),j=P.useRef([0,0]),W=P.useRef(null),k=P.useRef(null),I=(f==null?void 0:f.current)||ee.connected||B.domElement.parentNode,Q=P.useRef(null),Y=P.useRef(!1),H=P.useMemo(()=>m&&m!=="blending"||Array.isArray(m)&&m.length&&I1(m[0]),[m]);P.useLayoutEffect(()=>{const fe=B.domElement;m&&m==="blending"?(fe.style.zIndex=`${Math.floor(_[0]/2)}`,fe.style.position="absolute",fe.style.pointerEvents="none"):(fe.style.zIndex=null,fe.style.position=null,fe.style.pointerEvents=null)},[m]),P.useLayoutEffect(()=>{if(ve.current){const fe=ae.current=_c(ne);if(oe.updateMatrixWorld(),d)ne.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const K=w(ve.current,J,G);ne.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${K[0]}px,${K[1]}px,0);transform-origin:0 0;`}return I&&(i?I.prepend(ne):I.appendChild(ne)),()=>{I&&I.removeChild(ne),fe.unmount()}}},[I,d]),P.useLayoutEffect(()=>{D&&(ne.className=D)},[D]);const re=P.useMemo(()=>d?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...s&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...c},[c,r,s,G,d]),X=P.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);P.useLayoutEffect(()=>{if(Y.current=!1,d){var fe;(fe=ae.current)==null||fe.render(P.createElement("div",{ref:W,style:re},P.createElement("div",{ref:k,style:X},P.createElement("div",{ref:b,className:v,style:c,children:a}))))}else{var K;(K=ae.current)==null||K.render(P.createElement("div",{ref:b,style:re,className:v,children:a}))}});const te=P.useRef(!0);ao(fe=>{if(ve.current){J.updateMatrixWorld(),ve.current.updateWorldMatrix(!0,!1);const K=d?j.current:w(ve.current,J,G);if(d||Math.abs(Z.current-J.zoom)>n||Math.abs(j.current[0]-K[0])>n||Math.abs(j.current[1]-K[1])>n){const $=R1(ve.current,J);let xe=!1;H&&(m!=="blending"?xe=[oe]:Array.isArray(m)&&(xe=m.map(ke=>ke.current)));const Re=te.current;if(xe){const ke=F1(ve.current,J,O,xe);te.current=ke&&!$}else te.current=!$;Re!==te.current&&(y?y(!te.current):ne.style.display=te.current?"block":"none");const ce=Math.floor(_[0]/2),Se=m?H?[_[0],ce]:[ce-1,0]:_;if(ne.style.zIndex=`${D1(ve.current,J,Se)}`,d){const[ke,le]=[G.width/2,G.height/2],Ce=J.projectionMatrix.elements[5]*le,{isOrthographicCamera:pe,top:ie,left:Pe,bottom:ye,right:we}=J,me=O1(J.matrixWorldInverse),We=pe?`scale(${Ce})translate(${Il(-(we+Pe)/2)}px,${Il((ie+ye)/2)}px)`:`translateZ(${Ce}px)`;let Oe=ve.current.matrixWorld;h&&(Oe=J.matrixWorldInverse.clone().transpose().copyPosition(Oe).scale(ve.current.scale),Oe.elements[3]=Oe.elements[7]=Oe.elements[11]=0,Oe.elements[15]=1),ne.style.width=G.width+"px",ne.style.height=G.height+"px",ne.style.perspective=pe?"":`${Ce}px`,W.current&&k.current&&(W.current.style.transform=`${We}${me}translate(${ke}px,${le}px)`,k.current.style.transform=z1(Oe,1/((u||10)/400)))}else{const ke=u===void 0?1:A1(ve.current,J)*u;ne.style.transform=`translate3d(${K[0]}px,${K[1]}px,0) scale(${ke})`}j.current=K,Z.current=J.zoom}}if(!H&&Q.current&&!Y.current)if(d){if(W.current){const K=W.current.children[0];if(K!=null&&K.clientWidth&&K!=null&&K.clientHeight){const{isOrthographicCamera:$}=J;if($||S)A.scale&&(Array.isArray(A.scale)?A.scale instanceof st?Q.current.scale.copy(A.scale.clone().divideScalar(1)):Q.current.scale.set(1/A.scale[0],1/A.scale[1],1/A.scale[2]):Q.current.scale.setScalar(1/A.scale));else{const xe=(u||10)/400,Re=K.clientWidth*xe,ce=K.clientHeight*xe;Q.current.scale.set(Re,ce,1)}Y.current=!0}}}else{const K=ne.children[0];if(K!=null&&K.clientWidth&&K!=null&&K.clientHeight){const $=1/q.factor,xe=K.clientWidth*$,Re=K.clientHeight*$;Q.current.scale.set(xe,Re,1),Y.current=!0}Q.current.lookAt(fe.camera.position)}});const ue=P.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return P.createElement("group",yi({},A,{ref:ve}),m&&!H&&P.createElement("mesh",{castShadow:x,receiveShadow:C,ref:Q},S||P.createElement("planeGeometry",null),T||P.createElement("shaderMaterial",{side:Xl,vertexShader:ue.vertexShader,fragmentShader:ue.fragmentShader})))});function pp(a){return function(n){a.forEach(function(c){typeof c=="function"?c(n):c!=null&&(c.current=n)})}}function j1(a){let n=0;for(let v in a.attributes){const i=a.getAttribute(v);n+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const c=a.getIndex();return n+=c?c.count*c.itemSize*c.array.BYTES_PER_ELEMENT:0,n}const Ju=new pa,ia=new st;class ts extends Tc{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const n=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],c=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],v=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(v),this.setAttribute("position",new Ul(n,3)),this.setAttribute("uv",new Ul(c,2))}applyMatrix4(n){const c=this.attributes.instanceStart,v=this.attributes.instanceEnd;return c!==void 0&&(c.applyMatrix4(n),v.applyMatrix4(n),c.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(n){let c;n instanceof Float32Array?c=n:Array.isArray(n)&&(c=new Float32Array(n));const v=new Rl(c,6,1);return this.setAttribute("instanceStart",new pi(v,3,0)),this.setAttribute("instanceEnd",new pi(v,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(n){let c;n instanceof Float32Array?c=n:Array.isArray(n)&&(c=new Float32Array(n));const v=new Rl(c,6,1);return this.setAttribute("instanceColorStart",new pi(v,3,0)),this.setAttribute("instanceColorEnd",new pi(v,3,3)),this}fromWireframeGeometry(n){return this.setPositions(n.attributes.position.array),this}fromEdgesGeometry(n){return this.setPositions(n.attributes.position.array),this}fromMesh(n){return this.fromWireframeGeometry(new xd(n.geometry)),this}fromLineSegments(n){const c=n.geometry;return this.setPositions(c.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pa);const n=this.attributes.instanceStart,c=this.attributes.instanceEnd;n!==void 0&&c!==void 0&&(this.boundingBox.setFromBufferAttribute(n),Ju.setFromBufferAttribute(c),this.boundingBox.union(Ju))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yl),this.boundingBox===null&&this.computeBoundingBox();const n=this.attributes.instanceStart,c=this.attributes.instanceEnd;if(n!==void 0&&c!==void 0){const v=this.boundingSphere.center;this.boundingBox.getCenter(v);let i=0;for(let r=0,s=n.count;r<s;r++)ia.fromBufferAttribute(n,r),i=Math.max(i,v.distanceToSquared(ia)),ia.fromBufferAttribute(c,r),i=Math.max(i,v.distanceToSquared(ia));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(n){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(n)}}class nf extends ts{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(n){const c=n.length-3,v=new Float32Array(2*c);for(let i=0;i<c;i+=3)v[2*i]=n[i],v[2*i+1]=n[i+1],v[2*i+2]=n[i+2],v[2*i+3]=n[i+3],v[2*i+4]=n[i+4],v[2*i+5]=n[i+5];return super.setPositions(v),this}setColors(n){const c=n.length-3,v=new Float32Array(2*c);for(let i=0;i<c;i+=3)v[2*i]=n[i],v[2*i+1]=n[i+1],v[2*i+2]=n[i+2],v[2*i+3]=n[i+3],v[2*i+4]=n[i+4],v[2*i+5]=n[i+5];return super.setColors(v),this}fromLine(n){const c=n.geometry;return this.setPositions(c.attributes.position.array),this}}class ns extends wd{constructor(n){super({type:"LineMaterial",uniforms:Fl.clone(Fl.merge([Fu.common,Fu.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Nr(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(Sd.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(c){this.uniforms.diffuse.value=c}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(c){c===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(c){this.uniforms.linewidth.value=c}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(c){!!c!="USE_DASH"in this.defines&&(this.needsUpdate=!0),c===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(c){this.uniforms.dashScale.value=c}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(c){this.uniforms.dashSize.value=c}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(c){this.uniforms.dashOffset.value=c}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(c){this.uniforms.gapSize.value=c}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(c){this.uniforms.opacity.value=c}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(c){this.uniforms.resolution.value.copy(c)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(c){!!c!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),c===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(n)}}const Ku=new st,qu=new st,At=new xi,Dt=new xi,Vn=new xi,Cl=new st,_l=new Mc,Bt=new Cd,$u=new st,oa=new pa,aa=new Yl,Zn=new xi;let Qn,jl,rf,br;function ec(a,n,c){return Zn.set(0,0,-n,1).applyMatrix4(a.projectionMatrix),Zn.multiplyScalar(1/Zn.w),Zn.x=br/c.width,Zn.y=br/c.height,Zn.applyMatrix4(a.projectionMatrixInverse),Zn.multiplyScalar(1/Zn.w),Math.abs(Math.max(Zn.x,Zn.y))}function b1(a,n){for(let c=0,v=jl.count;c<v;c++){Bt.start.fromBufferAttribute(jl,c),Bt.end.fromBufferAttribute(rf,c);const i=new st,r=new st;Qn.distanceSqToSegment(Bt.start,Bt.end,r,i),r.distanceTo(i)<br*.5&&n.push({point:r,pointOnLine:i,distance:Qn.origin.distanceTo(r),object:a,face:null,faceIndex:c,uv:null,uv2:null})}}function B1(a,n,c){const v=n.projectionMatrix,r=a.material.resolution,s=a.matrixWorld,f=a.geometry,u=f.attributes.instanceStart,h=f.attributes.instanceEnd,d=-n.near;Qn.at(1,Vn),Vn.w=1,Vn.applyMatrix4(n.matrixWorldInverse),Vn.applyMatrix4(v),Vn.multiplyScalar(1/Vn.w),Vn.x*=r.x/2,Vn.y*=r.y/2,Vn.z=0,Cl.copy(Vn),_l.multiplyMatrices(n.matrixWorldInverse,s);for(let m=0,y=u.count;m<y;m++){if(At.fromBufferAttribute(u,m),Dt.fromBufferAttribute(h,m),At.w=1,Dt.w=1,At.applyMatrix4(_l),Dt.applyMatrix4(_l),At.z>d&&Dt.z>d)continue;if(At.z>d){const w=At.z-Dt.z,M=(At.z-d)/w;At.lerp(Dt,M)}else if(Dt.z>d){const w=Dt.z-At.z,M=(Dt.z-d)/w;Dt.lerp(At,M)}At.applyMatrix4(v),Dt.applyMatrix4(v),At.multiplyScalar(1/At.w),Dt.multiplyScalar(1/Dt.w),At.x*=r.x/2,At.y*=r.y/2,Dt.x*=r.x/2,Dt.y*=r.y/2,Bt.start.copy(At),Bt.start.z=0,Bt.end.copy(Dt),Bt.end.z=0;const C=Bt.closestPointToPointParameter(Cl,!0);Bt.at(C,$u);const T=kc.lerp(At.z,Dt.z,C),S=T>=-1&&T<=1,_=Cl.distanceTo($u)<br*.5;if(S&&_){Bt.start.fromBufferAttribute(u,m),Bt.end.fromBufferAttribute(h,m),Bt.start.applyMatrix4(s),Bt.end.applyMatrix4(s);const w=new st,M=new st;Qn.distanceSqToSegment(Bt.start,Bt.end,M,w),c.push({point:M,pointOnLine:w,distance:Qn.origin.distanceTo(M),object:a,face:null,faceIndex:m,uv:null,uv2:null})}}}class of extends oo{constructor(n=new ts,c=new ns({color:Math.random()*16777215})){super(n,c),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const n=this.geometry,c=n.attributes.instanceStart,v=n.attributes.instanceEnd,i=new Float32Array(2*c.count);for(let s=0,f=0,u=c.count;s<u;s++,f+=2)Ku.fromBufferAttribute(c,s),qu.fromBufferAttribute(v,s),i[f]=f===0?0:i[f-1],i[f+1]=i[f]+Ku.distanceTo(qu);const r=new Rl(i,2,1);return n.setAttribute("instanceDistanceStart",new pi(r,1,0)),n.setAttribute("instanceDistanceEnd",new pi(r,1,1)),this}raycast(n,c){const v=this.material.worldUnits,i=n.camera;i===null&&!v&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const r=n.params.Line2!==void 0&&n.params.Line2.threshold||0;Qn=n.ray;const s=this.matrixWorld,f=this.geometry,u=this.material;br=u.linewidth+r,jl=f.attributes.instanceStart,rf=f.attributes.instanceEnd,f.boundingSphere===null&&f.computeBoundingSphere(),aa.copy(f.boundingSphere).applyMatrix4(s);let h;if(v)h=br*.5;else{const m=Math.max(i.near,aa.distanceToPoint(Qn.origin));h=ec(i,m,u.resolution)}if(aa.radius+=h,Qn.intersectsSphere(aa)===!1)return;f.boundingBox===null&&f.computeBoundingBox(),oa.copy(f.boundingBox).applyMatrix4(s);let d;if(v)d=br*.5;else{const m=Math.max(i.near,oa.distanceToPoint(Qn.origin));d=ec(i,m,u.resolution)}oa.expandByScalar(d),Qn.intersectsBox(oa)!==!1&&(v?b1(this,c):B1(this,i,c))}}class N1 extends of{constructor(n=new nf,c=new ns({color:Math.random()*16777215})){super(n,c),this.isLine2=!0,this.type="Line2"}}const vp=P.forwardRef(function({points:n,color:c="black",vertexColors:v,linewidth:i,lineWidth:r,segments:s,dashed:f,...u},h){const d=Ci(C=>C.size),m=P.useMemo(()=>s?new of:new N1,[s]),[y]=P.useState(()=>new ns),x=P.useMemo(()=>{const C=s?new ts:new nf,T=n.map(S=>{const _=Array.isArray(S);return S instanceof st?[S.x,S.y,S.z]:S instanceof Nr?[S.x,S.y,0]:_&&S.length===3?[S[0],S[1],S[2]]:_&&S.length===2?[S[0],S[1],0]:S});if(C.setPositions(T.flat()),v){const S=v.map(_=>_ instanceof io?_.toArray():_);C.setColors(S.flat())}return C},[n,s,v]);return P.useLayoutEffect(()=>{m.computeLineDistances()},[n,m]),P.useLayoutEffect(()=>{f?y.defines.USE_DASH="":delete y.defines.USE_DASH,y.needsUpdate=!0},[f,y]),P.useEffect(()=>()=>x.dispose(),[x]),P.createElement("primitive",yi({object:m,ref:h},u),P.createElement("primitive",{object:x,attach:"geometry"}),P.createElement("primitive",yi({object:y,attach:"material",color:c,vertexColors:!!v,resolution:[d.width,d.height],linewidth:i??r,dashed:f},u)))});function G1(){var a=Object.create(null);function n(i,r){var s=i.id,f=i.name,u=i.dependencies;u===void 0&&(u=[]);var h=i.init;h===void 0&&(h=function(){});var d=i.getTransferables;if(d===void 0&&(d=null),!a[s])try{u=u.map(function(y){return y&&y.isWorkerModule&&(n(y,function(x){if(x instanceof Error)throw x}),y=a[y.id].value),y}),h=v("<"+f+">.init",h),d&&(d=v("<"+f+">.getTransferables",d));var m=null;typeof h=="function"?m=h.apply(void 0,u):console.error("worker module init function failed to rehydrate"),a[s]={id:s,value:m,getTransferables:d},r(m)}catch(y){y&&y.noLog||console.error(y),r(y)}}function c(i,r){var s,f=i.id,u=i.args;(!a[f]||typeof a[f].value!="function")&&r(new Error("Worker module "+f+": not found or its 'init' did not return a function"));try{var h=(s=a[f]).value.apply(s,u);h&&typeof h.then=="function"?h.then(d,function(m){return r(m instanceof Error?m:new Error(""+m))}):d(h)}catch(m){r(m)}function d(m){try{var y=a[f].getTransferables&&a[f].getTransferables(m);(!y||!Array.isArray(y)||!y.length)&&(y=void 0),r(m,y)}catch(x){console.error(x),r(x)}}}function v(i,r){var s=void 0;self.troikaDefine=function(u){return s=u};var f=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(f)}catch(u){console.error(u)}return URL.revokeObjectURL(f),delete self.troikaDefine,s}self.addEventListener("message",function(i){var r=i.data,s=r.messageId,f=r.action,u=r.data;try{f==="registerModule"&&n(u,function(h){h instanceof Error?postMessage({messageId:s,success:!1,error:h.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof h=="function"}})}),f==="callModule"&&c(u,function(h,d){h instanceof Error?postMessage({messageId:s,success:!1,error:h.message}):postMessage({messageId:s,success:!0,result:h},d||void 0)})}catch(h){postMessage({messageId:s,success:!1,error:h.stack})}})}function W1(a){var n=function(){for(var c=[],v=arguments.length;v--;)c[v]=arguments[v];return n._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,c);throw new Error("Worker module function was called but `init` did not return a callable function")})};return n._getInitResult=function(){var c=a.dependencies,v=a.init;c=Array.isArray(c)?c.map(function(r){return r&&r._getInitResult?r._getInitResult():r}):[];var i=Promise.all(c).then(function(r){return v.apply(null,r)});return n._getInitResult=function(){return i},i},n}var af=function(){var a=!1;if(typeof window<"u"&&typeof window.document<"u")try{var n=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));n.terminate(),a=!0}catch(c){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+c.message+"]")}return af=function(){return a},a},H1=0,V1=0,El=!1,no=Object.create(null),ro=Object.create(null),bl=Object.create(null);function so(a){if((!a||typeof a.init!="function")&&!El)throw new Error("requires `options.init` function");var n=a.dependencies,c=a.init,v=a.getTransferables,i=a.workerId;if(!af())return W1(a);i==null&&(i="#default");var r="workerModule"+ ++H1,s=a.name||r,f=null;n=n&&n.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(El=!0,h=so({workerId:i,name:"<"+s+"> function dependency: "+h.name,init:`function(){return (
`+ca(h)+`
)}`}),El=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function u(){for(var h=[],d=arguments.length;d--;)h[d]=arguments[d];if(!f){f=tc(i,"registerModule",u.workerModuleData);var m=function(){f=null,ro[i].delete(m)};(ro[i]||(ro[i]=new Set)).add(m)}return f.then(function(y){var x=y.isCallable;if(x)return tc(i,"callModule",{id:r,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:r,name:s,dependencies:n,init:ca(c),getTransferables:v&&ca(v)},u}function Z1(a){ro[a]&&ro[a].forEach(function(n){n()}),no[a]&&(no[a].terminate(),delete no[a])}function ca(a){var n=a.toString();return!/^function/.test(n)&&/^\w+\s*\(/.test(n)&&(n="function "+n),n}function Q1(a){var n=no[a];if(!n){var c=ca(G1);n=no[a]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+a.replace(/\*/g,"")+` **/

;(`+c+")()"],{type:"application/javascript"}))),n.onmessage=function(v){var i=v.data,r=i.messageId,s=bl[r];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete bl[r],s(i)}}return n}function tc(a,n,c){return new Promise(function(v,i){var r=++V1;bl[r]=function(s){s.success?v(s.result):i(new Error("Error in worker "+n+" call: "+s.error))},Q1(a).postMessage({messageId:r,action:n,data:c})})}function lf(){var a=function(n){function c(j,W,k,I,Q,Y,H,re){var X=1-H;re.x=X*X*j+2*X*H*k+H*H*Q,re.y=X*X*W+2*X*H*I+H*H*Y}function v(j,W,k,I,Q,Y,H,re,X,te){var ue=1-X;te.x=ue*ue*ue*j+3*ue*ue*X*k+3*ue*X*X*Q+X*X*X*H,te.y=ue*ue*ue*W+3*ue*ue*X*I+3*ue*X*X*Y+X*X*X*re}function i(j,W){for(var k=/([MLQCZ])([^MLQCZ]*)/g,I,Q,Y,H,re;I=k.exec(j);){var X=I[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(te){return parseFloat(te)});switch(I[1]){case"M":H=Q=X[0],re=Y=X[1];break;case"L":(X[0]!==H||X[1]!==re)&&W("L",H,re,H=X[0],re=X[1]);break;case"Q":{W("Q",H,re,H=X[2],re=X[3],X[0],X[1]);break}case"C":{W("C",H,re,H=X[4],re=X[5],X[0],X[1],X[2],X[3]);break}case"Z":(H!==Q||re!==Y)&&W("L",H,re,Q,Y);break}}}function r(j,W,k){k===void 0&&(k=16);var I={x:0,y:0};i(j,function(Q,Y,H,re,X,te,ue,fe,K){switch(Q){case"L":W(Y,H,re,X);break;case"Q":{for(var $=Y,xe=H,Re=1;Re<k;Re++)c(Y,H,te,ue,re,X,Re/(k-1),I),W($,xe,I.x,I.y),$=I.x,xe=I.y;break}case"C":{for(var ce=Y,Se=H,ke=1;ke<k;ke++)v(Y,H,te,ue,fe,K,re,X,ke/(k-1),I),W(ce,Se,I.x,I.y),ce=I.x,Se=I.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",f="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,h={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(j,W){var k=j.getContext?j.getContext("webgl",h):j,I=u.get(k);if(!I){let ue=function(ce){var Se=Y[ce];if(!Se&&(Se=Y[ce]=k.getExtension(ce),!Se))throw new Error(ce+" not supported");return Se},fe=function(ce,Se){var ke=k.createShader(Se);return k.shaderSource(ke,ce),k.compileShader(ke),ke},K=function(ce,Se,ke,le){if(!H[ce]){var Ce={},pe={},ie=k.createProgram();k.attachShader(ie,fe(Se,k.VERTEX_SHADER)),k.attachShader(ie,fe(ke,k.FRAGMENT_SHADER)),k.linkProgram(ie),H[ce]={program:ie,transaction:function(ye){k.useProgram(ie),ye({setUniform:function(me,We){for(var Oe=[],Me=arguments.length-2;Me-- >0;)Oe[Me]=arguments[Me+2];var ze=pe[We]||(pe[We]=k.getUniformLocation(ie,We));k["uniform"+me].apply(k,[ze].concat(Oe))},setAttribute:function(me,We,Oe,Me,ze){var He=Ce[me];He||(He=Ce[me]={buf:k.createBuffer(),loc:k.getAttribLocation(ie,me),data:null}),k.bindBuffer(k.ARRAY_BUFFER,He.buf),k.vertexAttribPointer(He.loc,We,k.FLOAT,!1,0,0),k.enableVertexAttribArray(He.loc),Q?k.vertexAttribDivisor(He.loc,Me):ue("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(He.loc,Me),ze!==He.data&&(k.bufferData(k.ARRAY_BUFFER,ze,Oe),He.data=ze)}})}}}H[ce].transaction(le)},$=function(ce,Se){X++;try{k.activeTexture(k.TEXTURE0+X);var ke=re[ce];ke||(ke=re[ce]=k.createTexture(),k.bindTexture(k.TEXTURE_2D,ke),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST)),k.bindTexture(k.TEXTURE_2D,ke),Se(ke,X)}finally{X--}},xe=function(ce,Se,ke){var le=k.createFramebuffer();te.push(le),k.bindFramebuffer(k.FRAMEBUFFER,le),k.activeTexture(k.TEXTURE0+Se),k.bindTexture(k.TEXTURE_2D,ce),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,ce,0);try{ke(le)}finally{k.deleteFramebuffer(le),k.bindFramebuffer(k.FRAMEBUFFER,te[--te.length-1]||null)}},Re=function(){Y={},H={},re={},X=-1,te.length=0};var Q=typeof WebGL2RenderingContext<"u"&&k instanceof WebGL2RenderingContext,Y={},H={},re={},X=-1,te=[];k.canvas.addEventListener("webglcontextlost",function(ce){Re(),ce.preventDefault()},!1),u.set(k,I={gl:k,isWebGL2:Q,getExtension:ue,withProgram:K,withTexture:$,withTextureFramebuffer:xe,handleContextLoss:Re})}W(I)}function m(j,W,k,I,Q,Y,H,re){H===void 0&&(H=15),re===void 0&&(re=null),d(j,function(X){var te=X.gl,ue=X.withProgram,fe=X.withTexture;fe("copy",function(K,$){te.texImage2D(te.TEXTURE_2D,0,te.RGBA,Q,Y,0,te.RGBA,te.UNSIGNED_BYTE,W),ue("copy",s,f,function(xe){var Re=xe.setUniform,ce=xe.setAttribute;ce("aUV",2,te.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Re("1i","image",$),te.bindFramebuffer(te.FRAMEBUFFER,re||null),te.disable(te.BLEND),te.colorMask(H&8,H&4,H&2,H&1),te.viewport(k,I,Q,Y),te.scissor(k,I,Q,Y),te.drawArrays(te.TRIANGLES,0,3)})})})}function y(j,W,k){var I=j.width,Q=j.height;d(j,function(Y){var H=Y.gl,re=new Uint8Array(I*Q*4);H.readPixels(0,0,I,Q,H.RGBA,H.UNSIGNED_BYTE,re),j.width=W,j.height=k,m(H,re,0,0,I,Q)})}var x=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:m,resizeWebGLCanvasWithoutClearing:y});function C(j,W,k,I,Q,Y){Y===void 0&&(Y=1);var H=new Uint8Array(j*W),re=I[2]-I[0],X=I[3]-I[1],te=[];r(k,function(ce,Se,ke,le){te.push({x1:ce,y1:Se,x2:ke,y2:le,minX:Math.min(ce,ke),minY:Math.min(Se,le),maxX:Math.max(ce,ke),maxY:Math.max(Se,le)})}),te.sort(function(ce,Se){return ce.maxX-Se.maxX});for(var ue=0;ue<j;ue++)for(var fe=0;fe<W;fe++){var K=xe(I[0]+re*(ue+.5)/j,I[1]+X*(fe+.5)/W),$=Math.pow(1-Math.abs(K)/Q,Y)/2;K<0&&($=1-$),$=Math.max(0,Math.min(255,Math.round($*255))),H[fe*j+ue]=$}return H;function xe(ce,Se){for(var ke=1/0,le=1/0,Ce=te.length;Ce--;){var pe=te[Ce];if(pe.maxX+le<=ce)break;if(ce+le>pe.minX&&Se-le<pe.maxY&&Se+le>pe.minY){var ie=_(ce,Se,pe.x1,pe.y1,pe.x2,pe.y2);ie<ke&&(ke=ie,le=Math.sqrt(ke))}}return Re(ce,Se)&&(le=-le),le}function Re(ce,Se){for(var ke=0,le=te.length;le--;){var Ce=te[le];if(Ce.maxX<=ce)break;var pe=Ce.y1>Se!=Ce.y2>Se&&ce<(Ce.x2-Ce.x1)*(Se-Ce.y1)/(Ce.y2-Ce.y1)+Ce.x1;pe&&(ke+=Ce.y1<Ce.y2?1:-1)}return ke!==0}}function T(j,W,k,I,Q,Y,H,re,X,te){Y===void 0&&(Y=1),re===void 0&&(re=0),X===void 0&&(X=0),te===void 0&&(te=0),S(j,W,k,I,Q,Y,H,null,re,X,te)}function S(j,W,k,I,Q,Y,H,re,X,te,ue){Y===void 0&&(Y=1),X===void 0&&(X=0),te===void 0&&(te=0),ue===void 0&&(ue=0);for(var fe=C(j,W,k,I,Q,Y),K=new Uint8Array(fe.length*4),$=0;$<fe.length;$++)K[$*4+ue]=fe[$];m(H,K,X,te,j,W,1<<3-ue,re)}function _(j,W,k,I,Q,Y){var H=Q-k,re=Y-I,X=H*H+re*re,te=X?Math.max(0,Math.min(1,((j-k)*H+(W-I)*re)/X)):0,ue=j-(k+te*H),fe=W-(I+te*re);return ue*ue+fe*fe}var w=Object.freeze({__proto__:null,generate:C,generateIntoCanvas:T,generateIntoFramebuffer:S}),M="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",D="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",R="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",A=new Float32Array([0,0,2,0,0,2]),b=null,B=!1,J={},oe=new WeakMap;function G(j){if(!B&&!ne(j))throw new Error("WebGL generation not supported")}function O(j,W,k,I,Q,Y,H){if(Y===void 0&&(Y=1),H===void 0&&(H=null),!H&&(H=b,!H)){var re=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!re)throw new Error("OffscreenCanvas or DOM canvas not supported");H=b=re.getContext("webgl",{depth:!1})}G(H);var X=new Uint8Array(j*W*4);d(H,function(K){var $=K.gl,xe=K.withTexture,Re=K.withTextureFramebuffer;xe("readable",function(ce,Se){$.texImage2D($.TEXTURE_2D,0,$.RGBA,j,W,0,$.RGBA,$.UNSIGNED_BYTE,null),Re(ce,Se,function(ke){q(j,W,k,I,Q,Y,$,ke,0,0,0),$.readPixels(0,0,j,W,$.RGBA,$.UNSIGNED_BYTE,X)})})});for(var te=new Uint8Array(j*W),ue=0,fe=0;ue<X.length;ue+=4)te[fe++]=X[ue];return te}function ee(j,W,k,I,Q,Y,H,re,X,te){Y===void 0&&(Y=1),re===void 0&&(re=0),X===void 0&&(X=0),te===void 0&&(te=0),q(j,W,k,I,Q,Y,H,null,re,X,te)}function q(j,W,k,I,Q,Y,H,re,X,te,ue){Y===void 0&&(Y=1),X===void 0&&(X=0),te===void 0&&(te=0),ue===void 0&&(ue=0),G(H);var fe=[];r(k,function(K,$,xe,Re){fe.push(K,$,xe,Re)}),fe=new Float32Array(fe),d(H,function(K){var $=K.gl,xe=K.isWebGL2,Re=K.getExtension,ce=K.withProgram,Se=K.withTexture,ke=K.withTextureFramebuffer,le=K.handleContextLoss;if(Se("rawDistances",function(Ce,pe){(j!==Ce._lastWidth||W!==Ce._lastHeight)&&$.texImage2D($.TEXTURE_2D,0,$.RGBA,Ce._lastWidth=j,Ce._lastHeight=W,0,$.RGBA,$.UNSIGNED_BYTE,null),ce("main",M,D,function(ie){var Pe=ie.setAttribute,ye=ie.setUniform,we=!xe&&Re("ANGLE_instanced_arrays"),me=!xe&&Re("EXT_blend_minmax");Pe("aUV",2,$.STATIC_DRAW,0,A),Pe("aLineSegment",4,$.DYNAMIC_DRAW,1,fe),ye.apply(void 0,["4f","uGlyphBounds"].concat(I)),ye("1f","uMaxDistance",Q),ye("1f","uExponent",Y),ke(Ce,pe,function(We){$.enable($.BLEND),$.colorMask(!0,!0,!0,!0),$.viewport(0,0,j,W),$.scissor(0,0,j,W),$.blendFunc($.ONE,$.ONE),$.blendEquationSeparate($.FUNC_ADD,xe?$.MAX:me.MAX_EXT),$.clear($.COLOR_BUFFER_BIT),xe?$.drawArraysInstanced($.TRIANGLES,0,3,fe.length/4):we.drawArraysInstancedANGLE($.TRIANGLES,0,3,fe.length/4)})}),ce("post",s,R,function(ie){ie.setAttribute("aUV",2,$.STATIC_DRAW,0,A),ie.setUniform("1i","tex",pe),$.bindFramebuffer($.FRAMEBUFFER,re),$.disable($.BLEND),$.colorMask(ue===0,ue===1,ue===2,ue===3),$.viewport(X,te,j,W),$.scissor(X,te,j,W),$.drawArrays($.TRIANGLES,0,3)})}),$.isContextLost())throw le(),new Error("webgl context lost")})}function ne(j){var W=!j||j===b?J:j.canvas||j,k=oe.get(W);if(k===void 0){B=!0;var I=null;try{var Q=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=O(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,j);k=Y&&Q.length===Y.length&&Y.every(function(H,re){return H===Q[re]}),k||(I="bad trial run results",console.info(Q,Y))}catch(H){k=!1,I=H.message}I&&console.warn("WebGL SDF generation not supported:",I),B=!1,oe.set(W,k)}return k}var ae=Object.freeze({__proto__:null,generate:O,generateIntoCanvas:ee,generateIntoFramebuffer:q,isSupported:ne});function ve(j,W,k,I,Q,Y){Q===void 0&&(Q=Math.max(I[2]-I[0],I[3]-I[1])/2),Y===void 0&&(Y=1);try{return O.apply(ae,arguments)}catch(H){return console.info("WebGL SDF generation failed, falling back to JS",H),C.apply(w,arguments)}}function Z(j,W,k,I,Q,Y,H,re,X,te){Q===void 0&&(Q=Math.max(I[2]-I[0],I[3]-I[1])/2),Y===void 0&&(Y=1),re===void 0&&(re=0),X===void 0&&(X=0),te===void 0&&(te=0);try{return ee.apply(ae,arguments)}catch(ue){return console.info("WebGL SDF generation failed, falling back to JS",ue),T.apply(w,arguments)}}return n.forEachPathCommand=i,n.generate=ve,n.generateIntoCanvas=Z,n.javascript=w,n.pathToLineSegments=r,n.webgl=ae,n.webglUtils=x,Object.defineProperty(n,"__esModule",{value:!0}),n}({});return a}function X1(){var a=function(n){var c={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},v={},i={};v.L=1,i[1]="L",Object.keys(c).forEach(function(le,Ce){v[le]=1<<Ce+1,i[v[le]]=le}),Object.freeze(v);var r=v.LRI|v.RLI|v.FSI,s=v.L|v.R|v.AL,f=v.B|v.S|v.WS|v.ON|v.FSI|v.LRI|v.RLI|v.PDI,u=v.BN|v.RLE|v.LRE|v.RLO|v.LRO|v.PDF,h=v.S|v.WS|v.B|r|v.PDI|u,d=null;function m(){if(!d){d=new Map;var le=function(pe){if(c.hasOwnProperty(pe)){var ie=0;c[pe].split(",").forEach(function(Pe){var ye=Pe.split("+"),we=ye[0],me=ye[1];we=parseInt(we,36),me=me?parseInt(me,36):0,d.set(ie+=we,v[pe]);for(var We=0;We<me;We++)d.set(++ie,v[pe])})}};for(var Ce in c)le(Ce)}}function y(le){return m(),d.get(le.codePointAt(0))||v.L}function x(le){return i[y(le)]}var C={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function T(le,Ce){var pe=36,ie=0,Pe=new Map,ye=Ce&&new Map,we;return le.split(",").forEach(function me(We){if(We.indexOf("+")!==-1)for(var Oe=+We;Oe--;)me(we);else{we=We;var Me=We.split(">"),ze=Me[0],He=Me[1];ze=String.fromCodePoint(ie+=parseInt(ze,pe)),He=String.fromCodePoint(ie+=parseInt(He,pe)),Pe.set(ze,He),Ce&&ye.set(He,ze)}}),{map:Pe,reverseMap:ye}}var S,_,w;function M(){if(!S){var le=T(C.pairs,!0),Ce=le.map,pe=le.reverseMap;S=Ce,_=pe,w=T(C.canonical,!1).map}}function D(le){return M(),S.get(le)||null}function R(le){return M(),_.get(le)||null}function A(le){return M(),w.get(le)||null}var b=v.L,B=v.R,J=v.EN,oe=v.ES,G=v.ET,O=v.AN,ee=v.CS,q=v.B,ne=v.S,ae=v.ON,ve=v.BN,Z=v.NSM,j=v.AL,W=v.LRO,k=v.RLO,I=v.LRE,Q=v.RLE,Y=v.PDF,H=v.LRI,re=v.RLI,X=v.FSI,te=v.PDI;function ue(le,Ce){for(var pe=125,ie=new Uint32Array(le.length),Pe=0;Pe<le.length;Pe++)ie[Pe]=y(le[Pe]);var ye=new Map;function we(kt,Yt){var pt=ie[kt];ie[kt]=Yt,ye.set(pt,ye.get(pt)-1),pt&f&&ye.set(f,ye.get(f)-1),ye.set(Yt,(ye.get(Yt)||0)+1),Yt&f&&ye.set(f,(ye.get(f)||0)+1)}for(var me=new Uint8Array(le.length),We=new Map,Oe=[],Me=null,ze=0;ze<le.length;ze++)Me||Oe.push(Me={start:ze,end:le.length-1,level:Ce==="rtl"?1:Ce==="ltr"?0:qr(ze,!1)}),ie[ze]&q&&(Me.end=ze,Me=null);for(var He=Q|I|k|W|r|te|Y|q,ut=function(kt){return kt+(kt&1?1:2)},De=function(kt){return kt+(kt&1?2:1)},qe=0;qe<Oe.length;qe++){Me=Oe[qe];var be=[{_level:Me.level,_override:0,_isolate:0}],Ue=void 0,Qe=0,Je=0,ct=0;ye.clear();for(var Ie=Me.start;Ie<=Me.end;Ie++){var et=ie[Ie];if(Ue=be[be.length-1],ye.set(et,(ye.get(et)||0)+1),et&f&&ye.set(f,(ye.get(f)||0)+1),et&He)if(et&(Q|I)){me[Ie]=Ue._level;var Ut=(et===Q?De:ut)(Ue._level);Ut<=pe&&!Qe&&!Je?be.push({_level:Ut,_override:0,_isolate:0}):Qe||Je++}else if(et&(k|W)){me[Ie]=Ue._level;var Ln=(et===k?De:ut)(Ue._level);Ln<=pe&&!Qe&&!Je?be.push({_level:Ln,_override:et&k?B:b,_isolate:0}):Qe||Je++}else if(et&r){et&X&&(et=qr(Ie+1,!0)===1?re:H),me[Ie]=Ue._level,Ue._override&&we(Ie,Ue._override);var Yn=(et===re?De:ut)(Ue._level);Yn<=pe&&Qe===0&&Je===0?(ct++,be.push({_level:Yn,_override:0,_isolate:1,_isolInitIndex:Ie})):Qe++}else if(et&te){if(Qe>0)Qe--;else if(ct>0){for(Je=0;!be[be.length-1]._isolate;)be.pop();var Un=be[be.length-1]._isolInitIndex;Un!=null&&(We.set(Un,Ie),We.set(Ie,Un)),be.pop(),ct--}Ue=be[be.length-1],me[Ie]=Ue._level,Ue._override&&we(Ie,Ue._override)}else et&Y?(Qe===0&&(Je>0?Je--:!Ue._isolate&&be.length>1&&(be.pop(),Ue=be[be.length-1])),me[Ie]=Ue._level):et&q&&(me[Ie]=Me.level);else me[Ie]=Ue._level,Ue._override&&et!==ve&&we(Ie,Ue._override)}for(var Wt=[],Ht=null,tt=Me.start;tt<=Me.end;tt++){var lr=ie[tt];if(!(lr&u)){var rt=me[tt],it=lr&r,on=lr===te;Ht&&rt===Ht._level?(Ht._end=tt,Ht._endsWithIsolInit=it):Wt.push(Ht={_start:tt,_end:tt,_level:rt,_startsWithPDI:on,_endsWithIsolInit:it})}}for(var Vt=[],Xe=0;Xe<Wt.length;Xe++){var ht=Wt[Xe];if(!ht._startsWithPDI||ht._startsWithPDI&&!We.has(ht._start)){for(var qt=[Ht=ht],ft=void 0;Ht&&Ht._endsWithIsolInit&&(ft=We.get(Ht._end))!=null;)for(var yt=Xe+1;yt<Wt.length;yt++)if(Wt[yt]._start===ft){qt.push(Ht=Wt[yt]);break}for(var Rt=[],On=0;On<qt.length;On++)for(var an=qt[On],Jn=an._start;Jn<=an._end;Jn++)Rt.push(Jn);for(var ma=me[Rt[0]],uo=Me.level,xr=Rt[0]-1;xr>=0;xr--)if(!(ie[xr]&u)){uo=me[xr];break}var _i=Rt[Rt.length-1],ga=me[_i],co=Me.level;if(!(ie[_i]&r)){for(var Wr=_i+1;Wr<=Me.end;Wr++)if(!(ie[Wr]&u)){co=me[Wr];break}}Vt.push({_seqIndices:Rt,_sosType:Math.max(uo,ma)%2?B:b,_eosType:Math.max(co,ga)%2?B:b})}}for(var Ei=0;Ei<Vt.length;Ei++){var Ti=Vt[Ei],_e=Ti._seqIndices,Rn=Ti._sosType,Mi=Ti._eosType,zn=me[_e[0]]&1?B:b;if(ye.get(Z))for(var Hr=0;Hr<_e.length;Hr++){var Vr=_e[Hr];if(ie[Vr]&Z){for(var In=Rn,ln=Hr-1;ln>=0;ln--)if(!(ie[_e[ln]]&u)){In=ie[_e[ln]];break}we(Vr,In&(r|te)?ae:In)}}if(ye.get(J))for(var Ye=0;Ye<_e.length;Ye++){var Ke=_e[Ye];if(ie[Ke]&J)for(var sn=Ye-1;sn>=-1;sn--){var St=sn===-1?Rn:ie[_e[sn]];if(St&s){St===j&&we(Ke,O);break}}}if(ye.get(j))for(var Et=0;Et<_e.length;Et++){var jn=_e[Et];ie[jn]&j&&we(jn,B)}if(ye.get(oe)||ye.get(ee))for(var yn=1;yn<_e.length-1;yn++){var Tt=_e[yn];if(ie[Tt]&(oe|ee)){for(var Fn=0,Zr=0,Qr=yn-1;Qr>=0&&(Fn=ie[_e[Qr]],!!(Fn&u));Qr--);for(var sr=yn+1;sr<_e.length&&(Zr=ie[_e[sr]],!!(Zr&u));sr++);Fn===Zr&&(ie[Tt]===oe?Fn===J:Fn&(J|O))&&we(Tt,Fn)}}if(ye.get(J))for(var un=0;un<_e.length;un++){var cn=_e[un];if(ie[cn]&J){for(var Xr=un-1;Xr>=0&&ie[_e[Xr]]&(G|u);Xr--)we(_e[Xr],J);for(un++;un<_e.length&&ie[_e[un]]&(G|u|J);un++)ie[_e[un]]!==J&&we(_e[un],J)}}if(ye.get(G)||ye.get(oe)||ye.get(ee))for(var wr=0;wr<_e.length;wr++){var fo=_e[wr];if(ie[fo]&(G|oe|ee)){we(fo,ae);for(var Kn=wr-1;Kn>=0&&ie[_e[Kn]]&u;Kn--)we(_e[Kn],ae);for(var qn=wr+1;qn<_e.length&&ie[_e[qn]]&u;qn++)we(_e[qn],ae)}}if(ye.get(J))for(var $n=0,Sr=Rn;$n<_e.length;$n++){var ho=_e[$n],ki=ie[ho];ki&J?Sr===b&&we(ho,b):ki&s&&(Sr=ki)}if(ye.get(f)){var er=B|J|O,Yr=er|b,bn=[];{for(var ur=[],Bn=0;Bn<_e.length;Bn++)if(ie[_e[Bn]]&f){var Ne=le[_e[Bn]],Pi=void 0;if(D(Ne)!==null)if(ur.length<63)ur.push({char:Ne,seqIndex:Bn});else break;else if((Pi=R(Ne))!==null)for(var tr=ur.length-1;tr>=0;tr--){var Jr=ur[tr].char;if(Jr===Pi||Jr===R(A(Ne))||D(A(Jr))===Ne){bn.push([ur[tr].seqIndex,Bn]),ur.length=tr;break}}}bn.sort(function(kt,Yt){return kt[0]-Yt[0]})}for(var Li=0;Li<bn.length;Li++){for(var po=bn[Li],at=po[0],Cr=po[1],vo=!1,Zt=0,Ui=at+1;Ui<Cr;Ui++){var _r=_e[Ui];if(ie[_r]&Yr){vo=!0;var fn=ie[_r]&er?B:b;if(fn===zn){Zt=fn;break}}}if(vo&&!Zt){Zt=Rn;for(var Ri=at-1;Ri>=0;Ri--){var mo=_e[Ri];if(ie[mo]&Yr){var dn=ie[mo]&er?B:b;dn!==zn?Zt=dn:Zt=zn;break}}}if(Zt){if(ie[_e[at]]=ie[_e[Cr]]=Zt,Zt!==zn){for(var Qt=at+1;Qt<_e.length;Qt++)if(!(ie[_e[Qt]]&u)){y(le[_e[Qt]])&Z&&(ie[_e[Qt]]=Zt);break}}if(Zt!==zn){for(var Nn=Cr+1;Nn<_e.length;Nn++)if(!(ie[_e[Nn]]&u)){y(le[_e[Nn]])&Z&&(ie[_e[Nn]]=Zt);break}}}}for(var xn=0;xn<_e.length;xn++)if(ie[_e[xn]]&f){for(var Fi=xn,Ai=xn,$t=Rn,Er=xn-1;Er>=0;Er--)if(ie[_e[Er]]&u)Fi=Er;else{$t=ie[_e[Er]]&er?B:b;break}for(var Tr=Mi,Mr=xn+1;Mr<_e.length;Mr++)if(ie[_e[Mr]]&(f|u))Ai=Mr;else{Tr=ie[_e[Mr]]&er?B:b;break}for(var Xt=Fi;Xt<=Ai;Xt++)ie[_e[Xt]]=$t===Tr?$t:zn;xn=Ai}}}for(var Mt=Me.start;Mt<=Me.end;Mt++){var Kr=me[Mt],An=ie[Mt];if(Kr&1?An&(b|J|O)&&me[Mt]++:An&B?me[Mt]++:An&(O|J)&&(me[Mt]+=2),An&u&&(me[Mt]=Mt===0?Me.level:me[Mt-1]),Mt===Me.end||y(le[Mt])&(ne|q))for(var cr=Mt;cr>=0&&y(le[cr])&h;cr--)me[cr]=Me.level}}return{levels:me,paragraphs:Oe};function qr(kt,Yt){for(var pt=kt;pt<le.length;pt++){var vt=ie[pt];if(vt&(B|j))return 1;if(vt&(q|b)||Yt&&vt===te)return 0;if(vt&r){var hn=go(pt);pt=hn===-1?le.length:hn}}return 0}function go(kt){for(var Yt=1,pt=kt+1;pt<le.length;pt++){var vt=ie[pt];if(vt&q)break;if(vt&te){if(--Yt===0)return pt}else vt&r&&Yt++}return-1}}var fe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",K;function $(){if(!K){var le=T(fe,!0),Ce=le.map,pe=le.reverseMap;pe.forEach(function(ie,Pe){Ce.set(Pe,ie)}),K=Ce}}function xe(le){return $(),K.get(le)||null}function Re(le,Ce,pe,ie){var Pe=le.length;pe=Math.max(0,pe==null?0:+pe),ie=Math.min(Pe-1,ie==null?Pe-1:+ie);for(var ye=new Map,we=pe;we<=ie;we++)if(Ce[we]&1){var me=xe(le[we]);me!==null&&ye.set(we,me)}return ye}function ce(le,Ce,pe,ie){var Pe=le.length;pe=Math.max(0,pe==null?0:+pe),ie=Math.min(Pe-1,ie==null?Pe-1:+ie);var ye=[];return Ce.paragraphs.forEach(function(we){var me=Math.max(pe,we.start),We=Math.min(ie,we.end);if(me<We){for(var Oe=Ce.levels.slice(me,We+1),Me=We;Me>=me&&y(le[Me])&h;Me--)Oe[Me]=we.level;for(var ze=we.level,He=1/0,ut=0;ut<Oe.length;ut++){var De=Oe[ut];De>ze&&(ze=De),De<He&&(He=De|1)}for(var qe=ze;qe>=He;qe--)for(var be=0;be<Oe.length;be++)if(Oe[be]>=qe){for(var Ue=be;be+1<Oe.length&&Oe[be+1]>=qe;)be++;be>Ue&&ye.push([Ue+me,be+me])}}}),ye}function Se(le,Ce,pe,ie){var Pe=ke(le,Ce,pe,ie),ye=[].concat(le);return Pe.forEach(function(we,me){ye[me]=(Ce.levels[we]&1?xe(le[we]):null)||le[we]}),ye.join("")}function ke(le,Ce,pe,ie){for(var Pe=ce(le,Ce,pe,ie),ye=[],we=0;we<le.length;we++)ye[we]=we;return Pe.forEach(function(me){for(var We=me[0],Oe=me[1],Me=ye.slice(We,Oe+1),ze=Me.length;ze--;)ye[Oe-ze]=Me[ze]}),ye}return n.closingToOpeningBracket=R,n.getBidiCharType=y,n.getBidiCharTypeName=x,n.getCanonicalBracket=A,n.getEmbeddingLevels=ue,n.getMirroredCharacter=xe,n.getMirroredCharactersMap=Re,n.getReorderSegments=ce,n.getReorderedIndices=ke,n.getReorderedString=Se,n.openingToClosingBracket=D,Object.defineProperty(n,"__esModule",{value:!0}),n}({});return a}const sf=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Bl(a){const n=/^[ \t]*#include +<([\w\d./]+)>/gm;function c(v,i){let r=Md[i];return r?Bl(r):v}return a.replace(n,c)}const Ot=[];for(let a=0;a<256;a++)Ot[a]=(a<16?"0":"")+a.toString(16);function Y1(){const a=Math.random()*4294967295|0,n=Math.random()*4294967295|0,c=Math.random()*4294967295|0,v=Math.random()*4294967295|0;return(Ot[a&255]+Ot[a>>8&255]+Ot[a>>16&255]+Ot[a>>24&255]+"-"+Ot[n&255]+Ot[n>>8&255]+"-"+Ot[n>>16&15|64]+Ot[n>>24&255]+"-"+Ot[c&63|128]+Ot[c>>8&255]+"-"+Ot[c>>16&255]+Ot[c>>24&255]+Ot[v&255]+Ot[v>>8&255]+Ot[v>>16&255]+Ot[v>>24&255]).toUpperCase()}const zr=Object.assign||function(){let a=arguments[0];for(let n=1,c=arguments.length;n<c;n++){let v=arguments[n];if(v)for(let i in v)Object.prototype.hasOwnProperty.call(v,i)&&(a[i]=v[i])}return a},J1=Date.now(),nc=new WeakMap,rc=new Map;let K1=1e10;function Nl(a,n){const c=t0(n);let v=nc.get(a);if(v||nc.set(a,v=Object.create(null)),v[c])return new v[c];const i=`_onBeforeCompile${c}`,r=function(h,d){a.onBeforeCompile.call(this,h,d);const m=this.customProgramCacheKey()+"|"+h.vertexShader+"|"+h.fragmentShader;let y=rc[m];if(!y){const x=q1(this,h,n,c);y=rc[m]=x}h.vertexShader=y.vertexShader,h.fragmentShader=y.fragmentShader,zr(h.uniforms,this.uniforms),n.timeUniform&&(h.uniforms[n.timeUniform]={get value(){return Date.now()-J1}}),this[i]&&this[i](h)},s=function(){return f(n.chained?a:a.clone())},f=function(h){const d=Object.create(h,u);return Object.defineProperty(d,"baseMaterial",{value:a}),Object.defineProperty(d,"id",{value:K1++}),d.uuid=Y1(),d.uniforms=zr({},h.uniforms,n.uniforms),d.defines=zr({},h.defines,n.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${c}`]="",d.extensions=zr({},h.extensions,n.extensions),d._listeners=void 0,d},u={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return a.customProgramCacheKey()+"|"+c}},onBeforeCompile:{get(){return r},set(h){this[i]=h}},copy:{writable:!0,configurable:!0,value:function(h){return a.copy.call(this,h),!a.isShaderMaterial&&!a.isDerivedMaterial&&(zr(this.extensions,h.extensions),zr(this.defines,h.defines),zr(this.uniforms,Fl.clone(h.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const h=new a.constructor;return f(h).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let h=this._depthMaterial;return h||(h=this._depthMaterial=Nl(a.isDerivedMaterial?a.getDepthMaterial():new _d({depthPacking:Ed}),n),h.defines.IS_DEPTH_MATERIAL="",h.uniforms=this.uniforms),h}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let h=this._distanceMaterial;return h||(h=this._distanceMaterial=Nl(a.isDerivedMaterial?a.getDistanceMaterial():new Td,n),h.defines.IS_DISTANCE_MATERIAL="",h.uniforms=this.uniforms),h}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:h,_distanceMaterial:d}=this;h&&h.dispose(),d&&d.dispose(),a.dispose.call(this)}}};return v[c]=s,new s}function q1(a,{vertexShader:n,fragmentShader:c},v,i){let{vertexDefs:r,vertexMainIntro:s,vertexMainOutro:f,vertexTransform:u,fragmentDefs:h,fragmentMainIntro:d,fragmentMainOutro:m,fragmentColorTransform:y,customRewriter:x,timeUniform:C}=v;if(r=r||"",s=s||"",f=f||"",h=h||"",d=d||"",m=m||"",(u||x)&&(n=Bl(n)),(y||x)&&(c=c.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),c=Bl(c)),x){let T=x({vertexShader:n,fragmentShader:c});n=T.vertexShader,c=T.fragmentShader}if(y){let T=[];c=c.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,S=>(T.push(S),"")),m=`${y}
${T.join(`
`)}
${m}`}if(C){const T=`
uniform float ${C};
`;r=T+r,h=T+h}return u&&(n=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${n}
`,r=`${r}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,n=n.replace(/\b(position|normal|uv)\b/g,(T,S,_,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,_))?S:`troika_${S}_${i}`),a.map&&a.map.channel>0||(n=n.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),n=ic(n,i,r,s,f),c=ic(c,i,h,d,m),{vertexShader:n,fragmentShader:c}}function ic(a,n,c,v,i){return(v||i||c)&&(a=a.replace(sf,`
${c}
void troikaOrigMain${n}() {`),a+=`
void main() {
  ${v}
  troikaOrigMain${n}();
  ${i}
}`),a}function $1(a,n){return a==="uniforms"?void 0:typeof n=="function"?n.toString():n}let e0=0;const oc=new Map;function t0(a){const n=JSON.stringify(a,$1);let c=oc.get(n);return c==null&&oc.set(n,c=++e0),c}function n0(a,n,c){const{defaultFontURL:v}=c,i=Object.create(null),r=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,f="[^\\S\\u00A0]",u=new RegExp(`${f}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function h(w,M){function D(){const R=A=>{console.error(`Failure loading font ${w}${w===v?"":"; trying fallback"}`,A),w!==v&&(w=v,D())};try{const A=new XMLHttpRequest;A.open("get",w,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status>=400)R(new Error(A.statusText));else if(A.status>0)try{const b=a(A.response);M(b)}catch(b){R(b)}},A.onerror=R,A.send()}catch(A){R(A)}}D()}function d(w,M){w||(w=v);let D=i[w];D?D.pending?D.pending.push(M):M(D):(i[w]={pending:[M]},h(w,R=>{let A=i[w].pending;i[w]=R,A.forEach(b=>b(R))}))}function m({text:w="",font:M=v,sdfGlyphSize:D=64,fontSize:R=1,letterSpacing:A=0,lineHeight:b="normal",maxWidth:B=r,direction:J,textAlign:oe="left",textIndent:G=0,whiteSpace:O="normal",overflowWrap:ee="normal",anchorX:q=0,anchorY:ne=0,includeCaretPositions:ae=!1,chunkedBoundsSize:ve=8192,colorRanges:Z=null},j,W=!1){const k=T(),I={fontLoad:0,typesetting:0};w.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),w=w.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),R=+R,A=+A,B=+B,b=b||"normal",G=+G,d(M,Q=>{const Y=isFinite(B);let H=null,re=null,X=null,te=null,ue=null,fe=null,K=null,$=0,xe=0,Re=O!=="nowrap";const{ascender:ce,descender:Se,unitsPerEm:ke,lineGap:le,capHeight:Ce,xHeight:pe}=Q;I.fontLoad=T()-k;const ie=T(),Pe=R/ke;b==="normal"&&(b=(ce-Se+le)/ke),b=b*R;const ye=(b-(ce-Se)*Pe)/2,we=-(ce*Pe+ye),me=Math.min(b,(ce-Se)*Pe),We=(ce+Se)/2*Pe-me/2;let Oe=G,Me=new S;const ze=[Me];Q.forEachGlyph(w,R,A,(De,qe,be)=>{const Ue=w.charAt(be),Qe=De.advanceWidth*Pe,Je=Me.count;let ct;if("isEmpty"in De||(De.isWhitespace=!!Ue&&new RegExp(f).test(Ue),De.canBreakAfter=!!Ue&&u.test(Ue),De.isEmpty=De.xMin===De.xMax||De.yMin===De.yMax||s.test(Ue)),!De.isWhitespace&&!De.isEmpty&&xe++,Re&&Y&&!De.isWhitespace&&qe+Qe+Oe>B&&Je){if(Me.glyphAt(Je-1).glyphObj.canBreakAfter)ct=new S,Oe=-qe;else for(let et=Je;et--;)if(et===0&&ee==="break-word"){ct=new S,Oe=-qe;break}else if(Me.glyphAt(et).glyphObj.canBreakAfter){ct=Me.splitAt(et+1);const Ut=ct.glyphAt(0).x;Oe-=Ut;for(let Ln=ct.count;Ln--;)ct.glyphAt(Ln).x-=Ut;break}ct&&(Me.isSoftWrapped=!0,Me=ct,ze.push(Me),$=B)}let Ie=Me.glyphAt(Me.count);Ie.glyphObj=De,Ie.x=qe+Oe,Ie.width=Qe,Ie.charIndex=be,Ue===`
`&&(Me=new S,ze.push(Me),Oe=-(qe+Qe+A*R)+G)}),ze.forEach(De=>{for(let qe=De.count;qe--;){let{glyphObj:be,x:Ue,width:Qe}=De.glyphAt(qe);if(!be.isWhitespace){De.width=Ue+Qe,De.width>$&&($=De.width);return}}});let He=0,ut=0;if(q&&(typeof q=="number"?He=-q:typeof q=="string"&&(He=-$*(q==="left"?0:q==="center"?.5:q==="right"?1:x(q)))),ne){if(typeof ne=="number")ut=-ne;else if(typeof ne=="string"){let De=ze.length*b;ut=ne==="top"?0:ne==="top-baseline"?-we:ne==="top-cap"?-we-Ce*Pe:ne==="top-ex"?-we-pe*Pe:ne==="middle"?De/2:ne==="bottom"?De:ne==="bottom-baseline"?De-ye+Se*Pe:x(ne)*De}}if(!W){const De=n.getEmbeddingLevels(w,J);H=new Uint16Array(xe),re=new Float32Array(xe*2),X={},fe=[r,r,-r,-r],K=[];let qe=we;ae&&(ue=new Float32Array(w.length*3)),Z&&(te=new Uint8Array(xe*3));let be=0,Ue=-1,Qe=-1,Je,ct;if(ze.forEach((Ie,et)=>{let{count:Ut,width:Ln}=Ie;if(Ut>0){let Yn=0;for(let rt=Ut;rt--&&Ie.glyphAt(rt).glyphObj.isWhitespace;)Yn++;let Un=0,Wt=0;if(oe==="center")Un=($-Ln)/2;else if(oe==="right")Un=$-Ln;else if(oe==="justify"&&Ie.isSoftWrapped){let rt=0;for(let it=Ut-Yn;it--;)Ie.glyphAt(it).glyphObj.isWhitespace&&rt++;Wt=($-Ln)/rt}if(Wt||Un){let rt=0;for(let it=0;it<Ut;it++){let on=Ie.glyphAt(it);const Vt=on.glyphObj;on.x+=Un+rt,Wt!==0&&Vt.isWhitespace&&it<Ut-Yn&&(rt+=Wt,on.width+=Wt)}}const Ht=n.getReorderSegments(w,De,Ie.glyphAt(0).charIndex,Ie.glyphAt(Ie.count-1).charIndex);for(let rt=0;rt<Ht.length;rt++){const[it,on]=Ht[rt];let Vt=1/0,Xe=-1/0;for(let ht=0;ht<Ut;ht++)if(Ie.glyphAt(ht).charIndex>=it){let qt=ht,ft=ht;for(;ft<Ut;ft++){let yt=Ie.glyphAt(ft);if(yt.charIndex>on)break;ft<Ut-Yn&&(Vt=Math.min(Vt,yt.x),Xe=Math.max(Xe,yt.x+yt.width))}for(let yt=qt;yt<ft;yt++){const Rt=Ie.glyphAt(yt);Rt.x=Xe-(Rt.x+Rt.width-Vt)}break}}let tt;const lr=rt=>tt=rt;for(let rt=0;rt<Ut;rt++){let it=Ie.glyphAt(rt);tt=it.glyphObj;const on=tt.index,Vt=De.levels[it.charIndex]&1;if(Vt){const Xe=n.getMirroredCharacter(w[it.charIndex]);Xe&&Q.forEachGlyph(Xe,0,0,lr)}if(ae){const{charIndex:Xe}=it,ht=it.x+He,qt=it.x+it.width+He;ue[Xe*3]=Vt?qt:ht,ue[Xe*3+1]=Vt?ht:qt,ue[Xe*3+2]=qe+We+ut;const ft=Xe-Ue;ft>1&&C(ue,Ue,ft),Ue=Xe}if(Z){const{charIndex:Xe}=it;for(;Xe>Qe;)Qe++,Z.hasOwnProperty(Qe)&&(ct=Z[Qe])}if(!tt.isWhitespace&&!tt.isEmpty){const Xe=be++;X[on]||(X[on]={path:tt.path,pathBounds:[tt.xMin,tt.yMin,tt.xMax,tt.yMax]});const ht=it.x+He,qt=qe+ut;re[Xe*2]=ht,re[Xe*2+1]=qt;const ft=ht+tt.xMin*Pe,yt=qt+tt.yMin*Pe,Rt=ht+tt.xMax*Pe,On=qt+tt.yMax*Pe;ft<fe[0]&&(fe[0]=ft),yt<fe[1]&&(fe[1]=yt),Rt>fe[2]&&(fe[2]=Rt),On>fe[3]&&(fe[3]=On),Xe%ve===0&&(Je={start:Xe,end:Xe,rect:[r,r,-r,-r]},K.push(Je)),Je.end++;const an=Je.rect;if(ft<an[0]&&(an[0]=ft),yt<an[1]&&(an[1]=yt),Rt>an[2]&&(an[2]=Rt),On>an[3]&&(an[3]=On),H[Xe]=on,Z){const Jn=Xe*3;te[Jn]=ct>>16&255,te[Jn+1]=ct>>8&255,te[Jn+2]=ct&255}}}}qe-=b}),ue){const Ie=w.length-Ue;Ie>1&&C(ue,Ue,Ie)}}I.typesetting=T()-ie,j({glyphIds:H,glyphPositions:re,glyphData:X,caretPositions:ue,caretHeight:me,glyphColors:te,chunkedBounds:K,fontSize:R,unitsPerEm:ke,ascender:ce*Pe,descender:Se*Pe,capHeight:Ce*Pe,xHeight:pe*Pe,lineHeight:b,topBaseline:we,blockBounds:[He,ut-ze.length*b,He+$,ut],visibleBounds:fe,timings:I})})}function y(w,M){m(w,D=>{const[R,A,b,B]=D.blockBounds;M({width:b-R,height:B-A})},{metricsOnly:!0})}function x(w){let M=w.match(/^([\d.]+)%$/),D=M?parseFloat(M[1]):NaN;return isNaN(D)?0:D/100}function C(w,M,D){const R=w[M*3],A=w[M*3+1],b=w[M*3+2],B=(A-R)/D;for(let J=0;J<D;J++){const oe=(M+J)*3;w[oe]=R+B*J,w[oe+1]=R+B*(J+1),w[oe+2]=b}}function T(){return(self.performance||Date).now()}function S(){this.data=[]}const _=["glyphObj","x","width","charIndex"];return S.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/_.length)},glyphAt(w){let M=S.flyweight;return M.data=this.data,M.index=w,M},splitAt(w){let M=new S;return M.data=this.data.splice(w*_.length),M}},S.flyweight=_.reduce((w,M,D,R)=>(Object.defineProperty(w,M,{get(){return this.data[this.index*_.length+D]},set(A){this.data[this.index*_.length+D]=A}}),w),{data:null,index:0}),{typeset:m,measure:y,loadFont:d}}const Br=()=>(self.performance||Date).now(),va=lf();let ac;function r0(a,n,c,v,i,r,s,f,u,h,d=!0){return d?o0(a,n,c,v,i,r,s,f,u,h).then(null,m=>(ac||(console.warn("WebGL SDF generation failed, falling back to JS",m),ac=!0),sc(a,n,c,v,i,r,s,f,u,h))):sc(a,n,c,v,i,r,s,f,u,h)}const fa=[],i0=5;let Gl=0;function uf(){const a=Br();for(;fa.length&&Br()-a<i0;)fa.shift()();Gl=fa.length?setTimeout(uf,0):0}const o0=(...a)=>new Promise((n,c)=>{fa.push(()=>{const v=Br();try{va.webgl.generateIntoCanvas(...a),n({timing:Br()-v})}catch(i){c(i)}}),Gl||(Gl=setTimeout(uf,0))}),a0=4,l0=2e3,lc={};let s0=0;function sc(a,n,c,v,i,r,s,f,u,h){const d="TroikaTextSDFGenerator_JS_"+s0++%a0;let m=lc[d];return m||(m=lc[d]={workerModule:so({name:d,workerId:d,dependencies:[lf,Br],init(y,x){const C=y().javascript.generate;return function(...T){const S=x();return{textureData:C(...T),timing:x()-S}}},getTransferables(y){return[y.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(a,n,c,v,i,r).then(({textureData:y,timing:x})=>{const C=Br(),T=new Uint8Array(y.length*4);for(let S=0;S<y.length;S++)T[S*4+h]=y[S];return va.webglUtils.renderImageData(s,T,f,u,a,n,1<<3-h),x+=Br()-C,--m.requests===0&&(m.idleTimer=setTimeout(()=>{Z1(d)},l0)),{timing:x}})}function u0(a){a._warm||(va.webgl.isSupported(a),a._warm=!0)}const c0=va.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function f0(){return typeof window>"u"&&(self.window=self),function(a){var n={parse:function(i){var r=n._bin,s=new Uint8Array(i);if(r.readASCII(s,0,4)=="ttcf"){var f=4;r.readUshort(s,f),f+=2,r.readUshort(s,f),f+=2;var u=r.readUint(s,f);f+=4;for(var h=[],d=0;d<u;d++){var m=r.readUint(s,f);f+=4,h.push(n._readFont(s,m))}return h}return[n._readFont(s,0)]},_readFont:function(i,r){var s=n._bin,f=r;s.readFixed(i,r),r+=4;var u=s.readUshort(i,r);r+=2,s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2;for(var h=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],d={_data:i,_offset:f},m={},y=0;y<u;y++){var x=s.readASCII(i,r,4);r+=4,s.readUint(i,r),r+=4;var C=s.readUint(i,r);r+=4;var T=s.readUint(i,r);r+=4,m[x]={offset:C,length:T}}for(y=0;y<h.length;y++){var S=h[y];m[S]&&(d[S.trim()]=n[S.trim()].parse(i,m[S].offset,m[S].length,d))}return d},_tabOffset:function(i,r,s){for(var f=n._bin,u=f.readUshort(i,s+4),h=s+12,d=0;d<u;d++){var m=f.readASCII(i,h,4);h+=4,f.readUint(i,h),h+=4;var y=f.readUint(i,h);if(h+=4,f.readUint(i,h),h+=4,m==r)return y}return 0}};n._bin={readFixed:function(i,r){return(i[r]<<8|i[r+1])+(i[r+2]<<8|i[r+3])/65540},readF2dot14:function(i,r){return n._bin.readShort(i,r)/16384},readInt:function(i,r){return n._bin._view(i).getInt32(r)},readInt8:function(i,r){return n._bin._view(i).getInt8(r)},readShort:function(i,r){return n._bin._view(i).getInt16(r)},readUshort:function(i,r){return n._bin._view(i).getUint16(r)},readUshorts:function(i,r,s){for(var f=[],u=0;u<s;u++)f.push(n._bin.readUshort(i,r+2*u));return f},readUint:function(i,r){return n._bin._view(i).getUint32(r)},readUint64:function(i,r){return 4294967296*n._bin.readUint(i,r)+n._bin.readUint(i,r+4)},readASCII:function(i,r,s){for(var f="",u=0;u<s;u++)f+=String.fromCharCode(i[r+u]);return f},readUnicode:function(i,r,s){for(var f="",u=0;u<s;u++){var h=i[r++]<<8|i[r++];f+=String.fromCharCode(h)}return f},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,r,s){var f=n._bin._tdec;return f&&r==0&&s==i.length?f.decode(i):n._bin.readASCII(i,r,s)},readBytes:function(i,r,s){for(var f=[],u=0;u<s;u++)f.push(i[r+u]);return f},readASCIIArray:function(i,r,s){for(var f=[],u=0;u<s;u++)f.push(String.fromCharCode(i[r+u]));return f},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},n._lctf={},n._lctf.parse=function(i,r,s,f,u){var h=n._bin,d={},m=r;h.readFixed(i,r),r+=4;var y=h.readUshort(i,r);r+=2;var x=h.readUshort(i,r);r+=2;var C=h.readUshort(i,r);return r+=2,d.scriptList=n._lctf.readScriptList(i,m+y),d.featureList=n._lctf.readFeatureList(i,m+x),d.lookupList=n._lctf.readLookupList(i,m+C,u),d},n._lctf.readLookupList=function(i,r,s){var f=n._bin,u=r,h=[],d=f.readUshort(i,r);r+=2;for(var m=0;m<d;m++){var y=f.readUshort(i,r);r+=2;var x=n._lctf.readLookupTable(i,u+y,s);h.push(x)}return h},n._lctf.readLookupTable=function(i,r,s){var f=n._bin,u=r,h={tabs:[]};h.ltype=f.readUshort(i,r),r+=2,h.flag=f.readUshort(i,r),r+=2;var d=f.readUshort(i,r);r+=2;for(var m=h.ltype,y=0;y<d;y++){var x=f.readUshort(i,r);r+=2;var C=s(i,m,u+x,h);h.tabs.push(C)}return h},n._lctf.numOfOnes=function(i){for(var r=0,s=0;s<32;s++)i>>>s&1&&r++;return r},n._lctf.readClassDef=function(i,r){var s=n._bin,f=[],u=s.readUshort(i,r);if(r+=2,u==1){var h=s.readUshort(i,r);r+=2;var d=s.readUshort(i,r);r+=2;for(var m=0;m<d;m++)f.push(h+m),f.push(h+m),f.push(s.readUshort(i,r)),r+=2}if(u==2){var y=s.readUshort(i,r);for(r+=2,m=0;m<y;m++)f.push(s.readUshort(i,r)),r+=2,f.push(s.readUshort(i,r)),r+=2,f.push(s.readUshort(i,r)),r+=2}return f},n._lctf.getInterval=function(i,r){for(var s=0;s<i.length;s+=3){var f=i[s],u=i[s+1];if(i[s+2],f<=r&&r<=u)return s}return-1},n._lctf.readCoverage=function(i,r){var s=n._bin,f={};f.fmt=s.readUshort(i,r),r+=2;var u=s.readUshort(i,r);return r+=2,f.fmt==1&&(f.tab=s.readUshorts(i,r,u)),f.fmt==2&&(f.tab=s.readUshorts(i,r,3*u)),f},n._lctf.coverageIndex=function(i,r){var s=i.tab;if(i.fmt==1)return s.indexOf(r);if(i.fmt==2){var f=n._lctf.getInterval(s,r);if(f!=-1)return s[f+2]+(r-s[f])}return-1},n._lctf.readFeatureList=function(i,r){var s=n._bin,f=r,u=[],h=s.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=s.readASCII(i,r,4);r+=4;var y=s.readUshort(i,r);r+=2;var x=n._lctf.readFeatureTable(i,f+y);x.tag=m.trim(),u.push(x)}return u},n._lctf.readFeatureTable=function(i,r){var s=n._bin,f=r,u={},h=s.readUshort(i,r);r+=2,h>0&&(u.featureParams=f+h);var d=s.readUshort(i,r);r+=2,u.tab=[];for(var m=0;m<d;m++)u.tab.push(s.readUshort(i,r+2*m));return u},n._lctf.readScriptList=function(i,r){var s=n._bin,f=r,u={},h=s.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=s.readASCII(i,r,4);r+=4;var y=s.readUshort(i,r);r+=2,u[m.trim()]=n._lctf.readScriptTable(i,f+y)}return u},n._lctf.readScriptTable=function(i,r){var s=n._bin,f=r,u={},h=s.readUshort(i,r);r+=2,u.default=n._lctf.readLangSysTable(i,f+h);var d=s.readUshort(i,r);r+=2;for(var m=0;m<d;m++){var y=s.readASCII(i,r,4);r+=4;var x=s.readUshort(i,r);r+=2,u[y.trim()]=n._lctf.readLangSysTable(i,f+x)}return u},n._lctf.readLangSysTable=function(i,r){var s=n._bin,f={};s.readUshort(i,r),r+=2,f.reqFeature=s.readUshort(i,r),r+=2;var u=s.readUshort(i,r);return r+=2,f.features=s.readUshorts(i,r,u),f},n.CFF={},n.CFF.parse=function(i,r,s){var f=n._bin;(i=new Uint8Array(i.buffer,r,s))[r=0],i[++r],i[++r],i[++r],r++;var u=[];r=n.CFF.readIndex(i,r,u);for(var h=[],d=0;d<u.length-1;d++)h.push(f.readASCII(i,r+u[d],u[d+1]-u[d]));r+=u[u.length-1];var m=[];r=n.CFF.readIndex(i,r,m);var y=[];for(d=0;d<m.length-1;d++)y.push(n.CFF.readDict(i,r+m[d],r+m[d+1]));r+=m[m.length-1];var x=y[0],C=[];r=n.CFF.readIndex(i,r,C);var T=[];for(d=0;d<C.length-1;d++)T.push(f.readASCII(i,r+C[d],C[d+1]-C[d]));if(r+=C[C.length-1],n.CFF.readSubrs(i,r,x),x.CharStrings){r=x.CharStrings,C=[],r=n.CFF.readIndex(i,r,C);var S=[];for(d=0;d<C.length-1;d++)S.push(f.readBytes(i,r+C[d],C[d+1]-C[d]));x.CharStrings=S}if(x.ROS){r=x.FDArray;var _=[];for(r=n.CFF.readIndex(i,r,_),x.FDArray=[],d=0;d<_.length-1;d++){var w=n.CFF.readDict(i,r+_[d],r+_[d+1]);n.CFF._readFDict(i,w,T),x.FDArray.push(w)}r+=_[_.length-1],r=x.FDSelect,x.FDSelect=[];var M=i[r];if(r++,M!=3)throw M;var D=f.readUshort(i,r);for(r+=2,d=0;d<D+1;d++)x.FDSelect.push(f.readUshort(i,r),i[r+2]),r+=3}return x.Encoding&&(x.Encoding=n.CFF.readEncoding(i,x.Encoding,x.CharStrings.length)),x.charset&&(x.charset=n.CFF.readCharset(i,x.charset,x.CharStrings.length)),n.CFF._readFDict(i,x,T),x},n.CFF._readFDict=function(i,r,s){var f;for(var u in r.Private&&(f=r.Private[1],r.Private=n.CFF.readDict(i,f,f+r.Private[0]),r.Private.Subrs&&n.CFF.readSubrs(i,f+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(r[u]=s[r[u]-426+35])},n.CFF.readSubrs=function(i,r,s){var f=n._bin,u=[];r=n.CFF.readIndex(i,r,u);var h,d=u.length;h=d<1240?107:d<33900?1131:32768,s.Bias=h,s.Subrs=[];for(var m=0;m<u.length-1;m++)s.Subrs.push(f.readBytes(i,r+u[m],u[m+1]-u[m]))},n.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],n.CFF.glyphByUnicode=function(i,r){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==r)return s;return-1},n.CFF.glyphBySE=function(i,r){return r<0||r>255?-1:n.CFF.glyphByUnicode(i,n.CFF.tableSE[r])},n.CFF.readEncoding=function(i,r,s){n._bin;var f=[".notdef"],u=i[r];if(r++,u!=0)throw"error: unknown encoding format: "+u;var h=i[r];r++;for(var d=0;d<h;d++)f.push(i[r+d]);return f},n.CFF.readCharset=function(i,r,s){var f=n._bin,u=[".notdef"],h=i[r];if(r++,h==0)for(var d=0;d<s;d++){var m=f.readUshort(i,r);r+=2,u.push(m)}else{if(h!=1&&h!=2)throw"error: format: "+h;for(;u.length<s;){m=f.readUshort(i,r),r+=2;var y=0;for(h==1?(y=i[r],r++):(y=f.readUshort(i,r),r+=2),d=0;d<=y;d++)u.push(m),m++}}return u},n.CFF.readIndex=function(i,r,s){var f=n._bin,u=f.readUshort(i,r)+1,h=i[r+=2];if(r++,h==1)for(var d=0;d<u;d++)s.push(i[r+d]);else if(h==2)for(d=0;d<u;d++)s.push(f.readUshort(i,r+2*d));else if(h==3)for(d=0;d<u;d++)s.push(16777215&f.readUint(i,r+3*d-1));else if(u!=1)throw"unsupported offset size: "+h+", count: "+u;return(r+=u*h)-1},n.CFF.getCharString=function(i,r,s){var f=n._bin,u=i[r],h=i[r+1];i[r+2],i[r+3],i[r+4];var d=1,m=null,y=null;u<=20&&(m=u,d=1),u==12&&(m=100*u+h,d=2),21<=u&&u<=27&&(m=u,d=1),u==28&&(y=f.readShort(i,r+1),d=3),29<=u&&u<=31&&(m=u,d=1),32<=u&&u<=246&&(y=u-139,d=1),247<=u&&u<=250&&(y=256*(u-247)+h+108,d=2),251<=u&&u<=254&&(y=256*-(u-251)-h-108,d=2),u==255&&(y=f.readInt(i,r+1)/65535,d=5),s.val=y??"o"+m,s.size=d},n.CFF.readCharString=function(i,r,s){for(var f=r+s,u=n._bin,h=[];r<f;){var d=i[r],m=i[r+1];i[r+2],i[r+3],i[r+4];var y=1,x=null,C=null;d<=20&&(x=d,y=1),d==12&&(x=100*d+m,y=2),d!=19&&d!=20||(x=d,y=2),21<=d&&d<=27&&(x=d,y=1),d==28&&(C=u.readShort(i,r+1),y=3),29<=d&&d<=31&&(x=d,y=1),32<=d&&d<=246&&(C=d-139,y=1),247<=d&&d<=250&&(C=256*(d-247)+m+108,y=2),251<=d&&d<=254&&(C=256*-(d-251)-m-108,y=2),d==255&&(C=u.readInt(i,r+1)/65535,y=5),h.push(C??"o"+x),r+=y}return h},n.CFF.readDict=function(i,r,s){for(var f=n._bin,u={},h=[];r<s;){var d=i[r],m=i[r+1];i[r+2],i[r+3],i[r+4];var y=1,x=null,C=null;if(d==28&&(C=f.readShort(i,r+1),y=3),d==29&&(C=f.readInt(i,r+1),y=5),32<=d&&d<=246&&(C=d-139,y=1),247<=d&&d<=250&&(C=256*(d-247)+m+108,y=2),251<=d&&d<=254&&(C=256*-(d-251)-m-108,y=2),d==255)throw C=f.readInt(i,r+1)/65535,y=5,"unknown number";if(d==30){var T=[];for(y=1;;){var S=i[r+y];y++;var _=S>>4,w=15&S;if(_!=15&&T.push(_),w!=15&&T.push(w),w==15)break}for(var M="",D=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],R=0;R<T.length;R++)M+=D[T[R]];C=parseFloat(M)}d<=21&&(x=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],y=1,d==12&&(x=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],y=2)),x!=null?(u[x]=h.length==1?h[0]:h,h=[]):h.push(C),r+=y}return u},n.cmap={},n.cmap.parse=function(i,r,s){i=new Uint8Array(i.buffer,r,s),r=0;var f=n._bin,u={};f.readUshort(i,r),r+=2;var h=f.readUshort(i,r);r+=2;var d=[];u.tables=[];for(var m=0;m<h;m++){var y=f.readUshort(i,r);r+=2;var x=f.readUshort(i,r);r+=2;var C=f.readUint(i,r);r+=4;var T="p"+y+"e"+x,S=d.indexOf(C);if(S==-1){var _;S=u.tables.length,d.push(C);var w=f.readUshort(i,C);w==0?_=n.cmap.parse0(i,C):w==4?_=n.cmap.parse4(i,C):w==6?_=n.cmap.parse6(i,C):w==12?_=n.cmap.parse12(i,C):console.debug("unknown format: "+w,y,x,C),u.tables.push(_)}if(u[T]!=null)throw"multiple tables for one platform+encoding";u[T]=S}return u},n.cmap.parse0=function(i,r){var s=n._bin,f={};f.format=s.readUshort(i,r),r+=2;var u=s.readUshort(i,r);r+=2,s.readUshort(i,r),r+=2,f.map=[];for(var h=0;h<u-6;h++)f.map.push(i[r+h]);return f},n.cmap.parse4=function(i,r){var s=n._bin,f=r,u={};u.format=s.readUshort(i,r),r+=2;var h=s.readUshort(i,r);r+=2,s.readUshort(i,r),r+=2;var d=s.readUshort(i,r);r+=2;var m=d/2;u.searchRange=s.readUshort(i,r),r+=2,u.entrySelector=s.readUshort(i,r),r+=2,u.rangeShift=s.readUshort(i,r),r+=2,u.endCount=s.readUshorts(i,r,m),r+=2*m,r+=2,u.startCount=s.readUshorts(i,r,m),r+=2*m,u.idDelta=[];for(var y=0;y<m;y++)u.idDelta.push(s.readShort(i,r)),r+=2;for(u.idRangeOffset=s.readUshorts(i,r,m),r+=2*m,u.glyphIdArray=[];r<f+h;)u.glyphIdArray.push(s.readUshort(i,r)),r+=2;return u},n.cmap.parse6=function(i,r){var s=n._bin,f={};f.format=s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2,s.readUshort(i,r),r+=2,f.firstCode=s.readUshort(i,r),r+=2;var u=s.readUshort(i,r);r+=2,f.glyphIdArray=[];for(var h=0;h<u;h++)f.glyphIdArray.push(s.readUshort(i,r)),r+=2;return f},n.cmap.parse12=function(i,r){var s=n._bin,f={};f.format=s.readUshort(i,r),r+=2,r+=2,s.readUint(i,r),r+=4,s.readUint(i,r),r+=4;var u=s.readUint(i,r);r+=4,f.groups=[];for(var h=0;h<u;h++){var d=r+12*h,m=s.readUint(i,d+0),y=s.readUint(i,d+4),x=s.readUint(i,d+8);f.groups.push([m,y,x])}return f},n.glyf={},n.glyf.parse=function(i,r,s,f){for(var u=[],h=0;h<f.maxp.numGlyphs;h++)u.push(null);return u},n.glyf._parseGlyf=function(i,r){var s=n._bin,f=i._data,u=n._tabOffset(f,"glyf",i._offset)+i.loca[r];if(i.loca[r]==i.loca[r+1])return null;var h={};if(h.noc=s.readShort(f,u),u+=2,h.xMin=s.readShort(f,u),u+=2,h.yMin=s.readShort(f,u),u+=2,h.xMax=s.readShort(f,u),u+=2,h.yMax=s.readShort(f,u),u+=2,h.xMin>=h.xMax||h.yMin>=h.yMax)return null;if(h.noc>0){h.endPts=[];for(var d=0;d<h.noc;d++)h.endPts.push(s.readUshort(f,u)),u+=2;var m=s.readUshort(f,u);if(u+=2,f.length-u<m)return null;h.instructions=s.readBytes(f,u,m),u+=m;var y=h.endPts[h.noc-1]+1;for(h.flags=[],d=0;d<y;d++){var x=f[u];if(u++,h.flags.push(x),(8&x)!=0){var C=f[u];u++;for(var T=0;T<C;T++)h.flags.push(x),d++}}for(h.xs=[],d=0;d<y;d++){var S=(2&h.flags[d])!=0,_=(16&h.flags[d])!=0;S?(h.xs.push(_?f[u]:-f[u]),u++):_?h.xs.push(0):(h.xs.push(s.readShort(f,u)),u+=2)}for(h.ys=[],d=0;d<y;d++)S=(4&h.flags[d])!=0,_=(32&h.flags[d])!=0,S?(h.ys.push(_?f[u]:-f[u]),u++):_?h.ys.push(0):(h.ys.push(s.readShort(f,u)),u+=2);var w=0,M=0;for(d=0;d<y;d++)w+=h.xs[d],M+=h.ys[d],h.xs[d]=w,h.ys[d]=M}else{var D;h.parts=[];do{D=s.readUshort(f,u),u+=2;var R={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(h.parts.push(R),R.glyphIndex=s.readUshort(f,u),u+=2,1&D){var A=s.readShort(f,u);u+=2;var b=s.readShort(f,u);u+=2}else A=s.readInt8(f,u),u++,b=s.readInt8(f,u),u++;2&D?(R.m.tx=A,R.m.ty=b):(R.p1=A,R.p2=b),8&D?(R.m.a=R.m.d=s.readF2dot14(f,u),u+=2):64&D?(R.m.a=s.readF2dot14(f,u),u+=2,R.m.d=s.readF2dot14(f,u),u+=2):128&D&&(R.m.a=s.readF2dot14(f,u),u+=2,R.m.b=s.readF2dot14(f,u),u+=2,R.m.c=s.readF2dot14(f,u),u+=2,R.m.d=s.readF2dot14(f,u),u+=2)}while(32&D);if(256&D){var B=s.readUshort(f,u);for(u+=2,h.instr=[],d=0;d<B;d++)h.instr.push(f[u]),u++}}return h},n.GPOS={},n.GPOS.parse=function(i,r,s,f){return n._lctf.parse(i,r,s,f,n.GPOS.subt)},n.GPOS.subt=function(i,r,s,f){var u=n._bin,h=s,d={};if(d.fmt=u.readUshort(i,s),s+=2,r==1||r==2||r==3||r==7||r==8&&d.fmt<=2){var m=u.readUshort(i,s);s+=2,d.coverage=n._lctf.readCoverage(i,m+h)}if(r==1&&d.fmt==1){var y=u.readUshort(i,s);s+=2;var x=n._lctf.numOfOnes(y);y!=0&&(d.pos=n.GPOS.readValueRecord(i,s,y))}else if(r==2&&d.fmt>=1&&d.fmt<=2){y=u.readUshort(i,s),s+=2;var C=u.readUshort(i,s);s+=2,x=n._lctf.numOfOnes(y);var T=n._lctf.numOfOnes(C);if(d.fmt==1){d.pairsets=[];var S=u.readUshort(i,s);s+=2;for(var _=0;_<S;_++){var w=h+u.readUshort(i,s);s+=2;var M=u.readUshort(i,w);w+=2;for(var D=[],R=0;R<M;R++){var A=u.readUshort(i,w);w+=2,y!=0&&(O=n.GPOS.readValueRecord(i,w,y),w+=2*x),C!=0&&(ee=n.GPOS.readValueRecord(i,w,C),w+=2*T),D.push({gid2:A,val1:O,val2:ee})}d.pairsets.push(D)}}if(d.fmt==2){var b=u.readUshort(i,s);s+=2;var B=u.readUshort(i,s);s+=2;var J=u.readUshort(i,s);s+=2;var oe=u.readUshort(i,s);for(s+=2,d.classDef1=n._lctf.readClassDef(i,h+b),d.classDef2=n._lctf.readClassDef(i,h+B),d.matrix=[],_=0;_<J;_++){var G=[];for(R=0;R<oe;R++){var O=null,ee=null;y!=0&&(O=n.GPOS.readValueRecord(i,s,y),s+=2*x),C!=0&&(ee=n.GPOS.readValueRecord(i,s,C),s+=2*T),G.push({val1:O,val2:ee})}d.matrix.push(G)}}}else{if(r==9&&d.fmt==1){var q=u.readUshort(i,s);s+=2;var ne=u.readUint(i,s);if(s+=4,f.ltype==9)f.ltype=q;else if(f.ltype!=q)throw"invalid extension substitution";return n.GPOS.subt(i,f.ltype,h+ne)}console.debug("unsupported GPOS table LookupType",r,"format",d.fmt)}return d},n.GPOS.readValueRecord=function(i,r,s){var f=n._bin,u=[];return u.push(1&s?f.readShort(i,r):0),r+=1&s?2:0,u.push(2&s?f.readShort(i,r):0),r+=2&s?2:0,u.push(4&s?f.readShort(i,r):0),r+=4&s?2:0,u.push(8&s?f.readShort(i,r):0),r+=8&s?2:0,u},n.GSUB={},n.GSUB.parse=function(i,r,s,f){return n._lctf.parse(i,r,s,f,n.GSUB.subt)},n.GSUB.subt=function(i,r,s,f){var u=n._bin,h=s,d={};if(d.fmt=u.readUshort(i,s),s+=2,r!=1&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==4||r==5&&d.fmt<=2||r==6&&d.fmt<=2){var m=u.readUshort(i,s);s+=2,d.coverage=n._lctf.readCoverage(i,h+m)}if(r==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=u.readShort(i,s),s+=2;else if(d.fmt==2){var y=u.readUshort(i,s);s+=2,d.newg=u.readUshorts(i,s,y),s+=2*d.newg.length}}else if(r==4){d.vals=[],y=u.readUshort(i,s),s+=2;for(var x=0;x<y;x++){var C=u.readUshort(i,s);s+=2,d.vals.push(n.GSUB.readLigatureSet(i,h+C))}}else if(r==5&&d.fmt==2){if(d.fmt==2){var T=u.readUshort(i,s);s+=2,d.cDef=n._lctf.readClassDef(i,h+T),d.scset=[];var S=u.readUshort(i,s);for(s+=2,x=0;x<S;x++){var _=u.readUshort(i,s);s+=2,d.scset.push(_==0?null:n.GSUB.readSubClassSet(i,h+_))}}}else if(r==6&&d.fmt==3){if(d.fmt==3){for(x=0;x<3;x++){y=u.readUshort(i,s),s+=2;for(var w=[],M=0;M<y;M++)w.push(n._lctf.readCoverage(i,h+u.readUshort(i,s+2*M)));s+=2*y,x==0&&(d.backCvg=w),x==1&&(d.inptCvg=w),x==2&&(d.ahedCvg=w)}y=u.readUshort(i,s),s+=2,d.lookupRec=n.GSUB.readSubstLookupRecords(i,s,y)}}else{if(r==7&&d.fmt==1){var D=u.readUshort(i,s);s+=2;var R=u.readUint(i,s);if(s+=4,f.ltype==9)f.ltype=D;else if(f.ltype!=D)throw"invalid extension substitution";return n.GSUB.subt(i,f.ltype,h+R)}console.debug("unsupported GSUB table LookupType",r,"format",d.fmt)}return d},n.GSUB.readSubClassSet=function(i,r){var s=n._bin.readUshort,f=r,u=[],h=s(i,r);r+=2;for(var d=0;d<h;d++){var m=s(i,r);r+=2,u.push(n.GSUB.readSubClassRule(i,f+m))}return u},n.GSUB.readSubClassRule=function(i,r){var s=n._bin.readUshort,f={},u=s(i,r),h=s(i,r+=2);r+=2,f.input=[];for(var d=0;d<u-1;d++)f.input.push(s(i,r)),r+=2;return f.substLookupRecords=n.GSUB.readSubstLookupRecords(i,r,h),f},n.GSUB.readSubstLookupRecords=function(i,r,s){for(var f=n._bin.readUshort,u=[],h=0;h<s;h++)u.push(f(i,r),f(i,r+2)),r+=4;return u},n.GSUB.readChainSubClassSet=function(i,r){var s=n._bin,f=r,u=[],h=s.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=s.readUshort(i,r);r+=2,u.push(n.GSUB.readChainSubClassRule(i,f+m))}return u},n.GSUB.readChainSubClassRule=function(i,r){for(var s=n._bin,f={},u=["backtrack","input","lookahead"],h=0;h<u.length;h++){var d=s.readUshort(i,r);r+=2,h==1&&d--,f[u[h]]=s.readUshorts(i,r,d),r+=2*f[u[h]].length}return d=s.readUshort(i,r),r+=2,f.subst=s.readUshorts(i,r,2*d),r+=2*f.subst.length,f},n.GSUB.readLigatureSet=function(i,r){var s=n._bin,f=r,u=[],h=s.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=s.readUshort(i,r);r+=2,u.push(n.GSUB.readLigature(i,f+m))}return u},n.GSUB.readLigature=function(i,r){var s=n._bin,f={chain:[]};f.nglyph=s.readUshort(i,r),r+=2;var u=s.readUshort(i,r);r+=2;for(var h=0;h<u-1;h++)f.chain.push(s.readUshort(i,r)),r+=2;return f},n.head={},n.head.parse=function(i,r,s){var f=n._bin,u={};return f.readFixed(i,r),r+=4,u.fontRevision=f.readFixed(i,r),r+=4,f.readUint(i,r),r+=4,f.readUint(i,r),r+=4,u.flags=f.readUshort(i,r),r+=2,u.unitsPerEm=f.readUshort(i,r),r+=2,u.created=f.readUint64(i,r),r+=8,u.modified=f.readUint64(i,r),r+=8,u.xMin=f.readShort(i,r),r+=2,u.yMin=f.readShort(i,r),r+=2,u.xMax=f.readShort(i,r),r+=2,u.yMax=f.readShort(i,r),r+=2,u.macStyle=f.readUshort(i,r),r+=2,u.lowestRecPPEM=f.readUshort(i,r),r+=2,u.fontDirectionHint=f.readShort(i,r),r+=2,u.indexToLocFormat=f.readShort(i,r),r+=2,u.glyphDataFormat=f.readShort(i,r),r+=2,u},n.hhea={},n.hhea.parse=function(i,r,s){var f=n._bin,u={};return f.readFixed(i,r),r+=4,u.ascender=f.readShort(i,r),r+=2,u.descender=f.readShort(i,r),r+=2,u.lineGap=f.readShort(i,r),r+=2,u.advanceWidthMax=f.readUshort(i,r),r+=2,u.minLeftSideBearing=f.readShort(i,r),r+=2,u.minRightSideBearing=f.readShort(i,r),r+=2,u.xMaxExtent=f.readShort(i,r),r+=2,u.caretSlopeRise=f.readShort(i,r),r+=2,u.caretSlopeRun=f.readShort(i,r),r+=2,u.caretOffset=f.readShort(i,r),r+=2,r+=8,u.metricDataFormat=f.readShort(i,r),r+=2,u.numberOfHMetrics=f.readUshort(i,r),r+=2,u},n.hmtx={},n.hmtx.parse=function(i,r,s,f){for(var u=n._bin,h={aWidth:[],lsBearing:[]},d=0,m=0,y=0;y<f.maxp.numGlyphs;y++)y<f.hhea.numberOfHMetrics&&(d=u.readUshort(i,r),r+=2,m=u.readShort(i,r),r+=2),h.aWidth.push(d),h.lsBearing.push(m);return h},n.kern={},n.kern.parse=function(i,r,s,f){var u=n._bin,h=u.readUshort(i,r);if(r+=2,h==1)return n.kern.parseV1(i,r-2,s,f);var d=u.readUshort(i,r);r+=2;for(var m={glyph1:[],rval:[]},y=0;y<d;y++){r+=2,s=u.readUshort(i,r),r+=2;var x=u.readUshort(i,r);r+=2;var C=x>>>8;if((C&=15)!=0)throw"unknown kern table format: "+C;r=n.kern.readFormat0(i,r,m)}return m},n.kern.parseV1=function(i,r,s,f){var u=n._bin;u.readFixed(i,r),r+=4;var h=u.readUint(i,r);r+=4;for(var d={glyph1:[],rval:[]},m=0;m<h;m++){u.readUint(i,r),r+=4;var y=u.readUshort(i,r);r+=2,u.readUshort(i,r),r+=2;var x=y>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;r=n.kern.readFormat0(i,r,d)}return d},n.kern.readFormat0=function(i,r,s){var f=n._bin,u=-1,h=f.readUshort(i,r);r+=2,f.readUshort(i,r),r+=2,f.readUshort(i,r),r+=2,f.readUshort(i,r),r+=2;for(var d=0;d<h;d++){var m=f.readUshort(i,r);r+=2;var y=f.readUshort(i,r);r+=2;var x=f.readShort(i,r);r+=2,m!=u&&(s.glyph1.push(m),s.rval.push({glyph2:[],vals:[]}));var C=s.rval[s.rval.length-1];C.glyph2.push(y),C.vals.push(x),u=m}return r},n.loca={},n.loca.parse=function(i,r,s,f){var u=n._bin,h=[],d=f.head.indexToLocFormat,m=f.maxp.numGlyphs+1;if(d==0)for(var y=0;y<m;y++)h.push(u.readUshort(i,r+(y<<1))<<1);if(d==1)for(y=0;y<m;y++)h.push(u.readUint(i,r+(y<<2)));return h},n.maxp={},n.maxp.parse=function(i,r,s){var f=n._bin,u={},h=f.readUint(i,r);return r+=4,u.numGlyphs=f.readUshort(i,r),r+=2,h==65536&&(u.maxPoints=f.readUshort(i,r),r+=2,u.maxContours=f.readUshort(i,r),r+=2,u.maxCompositePoints=f.readUshort(i,r),r+=2,u.maxCompositeContours=f.readUshort(i,r),r+=2,u.maxZones=f.readUshort(i,r),r+=2,u.maxTwilightPoints=f.readUshort(i,r),r+=2,u.maxStorage=f.readUshort(i,r),r+=2,u.maxFunctionDefs=f.readUshort(i,r),r+=2,u.maxInstructionDefs=f.readUshort(i,r),r+=2,u.maxStackElements=f.readUshort(i,r),r+=2,u.maxSizeOfInstructions=f.readUshort(i,r),r+=2,u.maxComponentElements=f.readUshort(i,r),r+=2,u.maxComponentDepth=f.readUshort(i,r),r+=2),u},n.name={},n.name.parse=function(i,r,s){var f=n._bin,u={};f.readUshort(i,r),r+=2;var h=f.readUshort(i,r);r+=2,f.readUshort(i,r);for(var d,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],y=r+=2,x=0;x<h;x++){var C=f.readUshort(i,r);r+=2;var T=f.readUshort(i,r);r+=2;var S=f.readUshort(i,r);r+=2;var _=f.readUshort(i,r);r+=2;var w=f.readUshort(i,r);r+=2;var M=f.readUshort(i,r);r+=2;var D,R=m[_],A=y+12*h+M;if(C==0)D=f.readUnicode(i,A,w/2);else if(C==3&&T==0)D=f.readUnicode(i,A,w/2);else if(T==0)D=f.readASCII(i,A,w);else if(T==1)D=f.readUnicode(i,A,w/2);else if(T==3)D=f.readUnicode(i,A,w/2);else{if(C!=1)throw"unknown encoding "+T+", platformID: "+C;D=f.readASCII(i,A,w),console.debug("reading unknown MAC encoding "+T+" as ASCII")}var b="p"+C+","+S.toString(16);u[b]==null&&(u[b]={}),u[b][R!==void 0?R:_]=D,u[b]._lang=S}for(var B in u)if(u[B].postScriptName!=null&&u[B]._lang==1033)return u[B];for(var B in u)if(u[B].postScriptName!=null&&u[B]._lang==0)return u[B];for(var B in u)if(u[B].postScriptName!=null&&u[B]._lang==3084)return u[B];for(var B in u)if(u[B].postScriptName!=null)return u[B];for(var B in u){d=B;break}return console.debug("returning name table with languageID "+u[d]._lang),u[d]},n["OS/2"]={},n["OS/2"].parse=function(i,r,s){var f=n._bin.readUshort(i,r);r+=2;var u={};if(f==0)n["OS/2"].version0(i,r,u);else if(f==1)n["OS/2"].version1(i,r,u);else if(f==2||f==3||f==4)n["OS/2"].version2(i,r,u);else{if(f!=5)throw"unknown OS/2 table version: "+f;n["OS/2"].version5(i,r,u)}return u},n["OS/2"].version0=function(i,r,s){var f=n._bin;return s.xAvgCharWidth=f.readShort(i,r),r+=2,s.usWeightClass=f.readUshort(i,r),r+=2,s.usWidthClass=f.readUshort(i,r),r+=2,s.fsType=f.readUshort(i,r),r+=2,s.ySubscriptXSize=f.readShort(i,r),r+=2,s.ySubscriptYSize=f.readShort(i,r),r+=2,s.ySubscriptXOffset=f.readShort(i,r),r+=2,s.ySubscriptYOffset=f.readShort(i,r),r+=2,s.ySuperscriptXSize=f.readShort(i,r),r+=2,s.ySuperscriptYSize=f.readShort(i,r),r+=2,s.ySuperscriptXOffset=f.readShort(i,r),r+=2,s.ySuperscriptYOffset=f.readShort(i,r),r+=2,s.yStrikeoutSize=f.readShort(i,r),r+=2,s.yStrikeoutPosition=f.readShort(i,r),r+=2,s.sFamilyClass=f.readShort(i,r),r+=2,s.panose=f.readBytes(i,r,10),r+=10,s.ulUnicodeRange1=f.readUint(i,r),r+=4,s.ulUnicodeRange2=f.readUint(i,r),r+=4,s.ulUnicodeRange3=f.readUint(i,r),r+=4,s.ulUnicodeRange4=f.readUint(i,r),r+=4,s.achVendID=[f.readInt8(i,r),f.readInt8(i,r+1),f.readInt8(i,r+2),f.readInt8(i,r+3)],r+=4,s.fsSelection=f.readUshort(i,r),r+=2,s.usFirstCharIndex=f.readUshort(i,r),r+=2,s.usLastCharIndex=f.readUshort(i,r),r+=2,s.sTypoAscender=f.readShort(i,r),r+=2,s.sTypoDescender=f.readShort(i,r),r+=2,s.sTypoLineGap=f.readShort(i,r),r+=2,s.usWinAscent=f.readUshort(i,r),r+=2,s.usWinDescent=f.readUshort(i,r),r+=2},n["OS/2"].version1=function(i,r,s){var f=n._bin;return r=n["OS/2"].version0(i,r,s),s.ulCodePageRange1=f.readUint(i,r),r+=4,s.ulCodePageRange2=f.readUint(i,r),r+=4},n["OS/2"].version2=function(i,r,s){var f=n._bin;return r=n["OS/2"].version1(i,r,s),s.sxHeight=f.readShort(i,r),r+=2,s.sCapHeight=f.readShort(i,r),r+=2,s.usDefault=f.readUshort(i,r),r+=2,s.usBreak=f.readUshort(i,r),r+=2,s.usMaxContext=f.readUshort(i,r),r+=2},n["OS/2"].version5=function(i,r,s){var f=n._bin;return r=n["OS/2"].version2(i,r,s),s.usLowerOpticalPointSize=f.readUshort(i,r),r+=2,s.usUpperOpticalPointSize=f.readUshort(i,r),r+=2},n.post={},n.post.parse=function(i,r,s){var f=n._bin,u={};return u.version=f.readFixed(i,r),r+=4,u.italicAngle=f.readFixed(i,r),r+=4,u.underlinePosition=f.readShort(i,r),r+=2,u.underlineThickness=f.readShort(i,r),r+=2,u},n==null&&(n={}),n.U==null&&(n.U={}),n.U.codeToGlyph=function(i,r){var s=i.cmap,f=-1;if(s.p0e4!=null?f=s.p0e4:s.p3e1!=null?f=s.p3e1:s.p1e0!=null?f=s.p1e0:s.p0e3!=null&&(f=s.p0e3),f==-1)throw"no familiar platform and encoding!";var u=s.tables[f];if(u.format==0)return r>=u.map.length?0:u.map[r];if(u.format==4){for(var h=-1,d=0;d<u.endCount.length;d++)if(r<=u.endCount[d]){h=d;break}return h==-1||u.startCount[h]>r?0:65535&(u.idRangeOffset[h]!=0?u.glyphIdArray[r-u.startCount[h]+(u.idRangeOffset[h]>>1)-(u.idRangeOffset.length-h)]:r+u.idDelta[h])}if(u.format==12){if(r>u.groups[u.groups.length-1][1])return 0;for(d=0;d<u.groups.length;d++){var m=u.groups[d];if(m[0]<=r&&r<=m[1])return m[2]+(r-m[0])}return 0}throw"unknown cmap table format "+u.format},n.U.glyphToPath=function(i,r){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[r]){var f=i.SVG.entries[r];return f==null?s:(typeof f=="string"&&(f=n.SVG.toPath(f),i.SVG.entries[r]=f),f)}if(i.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},h=i.CFF,d=i.CFF.Private;if(h.ROS){for(var m=0;h.FDSelect[m+2]<=r;)m+=2;d=h.FDArray[h.FDSelect[m+1]].Private}n.U._drawCFF(i.CFF.CharStrings[r],u,h,d,s)}else i.glyf&&n.U._drawGlyf(r,i,s);return s},n.U._drawGlyf=function(i,r,s){var f=r.glyf[i];f==null&&(f=r.glyf[i]=n.glyf._parseGlyf(r,i)),f!=null&&(f.noc>-1?n.U._simpleGlyph(f,s):n.U._compoGlyph(f,r,s))},n.U._simpleGlyph=function(i,r){for(var s=0;s<i.noc;s++){for(var f=s==0?0:i.endPts[s-1]+1,u=i.endPts[s],h=f;h<=u;h++){var d=h==f?u:h-1,m=h==u?f:h+1,y=1&i.flags[h],x=1&i.flags[d],C=1&i.flags[m],T=i.xs[h],S=i.ys[h];if(h==f)if(y){if(!x){n.U.P.moveTo(r,T,S);continue}n.U.P.moveTo(r,i.xs[d],i.ys[d])}else x?n.U.P.moveTo(r,i.xs[d],i.ys[d]):n.U.P.moveTo(r,(i.xs[d]+T)/2,(i.ys[d]+S)/2);y?x&&n.U.P.lineTo(r,T,S):C?n.U.P.qcurveTo(r,T,S,i.xs[m],i.ys[m]):n.U.P.qcurveTo(r,T,S,(T+i.xs[m])/2,(S+i.ys[m])/2)}n.U.P.closePath(r)}},n.U._compoGlyph=function(i,r,s){for(var f=0;f<i.parts.length;f++){var u={cmds:[],crds:[]},h=i.parts[f];n.U._drawGlyf(h.glyphIndex,r,u);for(var d=h.m,m=0;m<u.crds.length;m+=2){var y=u.crds[m],x=u.crds[m+1];s.crds.push(y*d.a+x*d.b+d.tx),s.crds.push(y*d.c+x*d.d+d.ty)}for(m=0;m<u.cmds.length;m++)s.cmds.push(u.cmds[m])}},n.U._getGlyphClass=function(i,r){var s=n._lctf.getInterval(r,i);return s==-1?0:r[s+2]},n.U.getPairAdjustment=function(i,r,s){var f=!1;if(i.GPOS)for(var u=i.GPOS,h=u.lookupList,d=u.featureList,m=[],y=0;y<d.length;y++){var x=d[y];if(x.tag=="kern"){f=!0;for(var C=0;C<x.tab.length;C++)if(!m[x.tab[C]]){m[x.tab[C]]=!0;for(var T=h[x.tab[C]],S=0;S<T.tabs.length;S++)if(T.tabs[S]!=null){var _,w=T.tabs[S];if((!w.coverage||(_=n._lctf.coverageIndex(w.coverage,r))!=-1)&&T.ltype!=1){if(T.ltype==2){var M=null;if(w.fmt==1){var D=w.pairsets[_];for(y=0;y<D.length;y++)D[y].gid2==s&&(M=D[y])}else if(w.fmt==2){var R=n.U._getGlyphClass(r,w.classDef1),A=n.U._getGlyphClass(s,w.classDef2);M=w.matrix[R][A]}if(M){var b=0;return M.val1&&M.val1[2]&&(b+=M.val1[2]),M.val2&&M.val2[0]&&(b+=M.val2[0]),b}}}}}}}if(i.kern&&!f){var B=i.kern.glyph1.indexOf(r);if(B!=-1){var J=i.kern.rval[B].glyph2.indexOf(s);if(J!=-1)return i.kern.rval[B].vals[J]}}return 0},n.U._applySubs=function(i,r,s,f){for(var u=i.length-r-1,h=0;h<s.tabs.length;h++)if(s.tabs[h]!=null){var d,m=s.tabs[h];if(!m.coverage||(d=n._lctf.coverageIndex(m.coverage,i[r]))!=-1){if(s.ltype==1)i[r],m.fmt==1?i[r]=i[r]+m.delta:i[r]=m.newg[d];else if(s.ltype==4)for(var y=m.vals[d],x=0;x<y.length;x++){var C=y[x],T=C.chain.length;if(!(T>u)){for(var S=!0,_=0,w=0;w<T;w++){for(;i[r+_+(1+w)]==-1;)_++;C.chain[w]!=i[r+_+(1+w)]&&(S=!1)}if(S){for(i[r]=C.nglyph,w=0;w<T+_;w++)i[r+w+1]=-1;break}}}else if(s.ltype==5&&m.fmt==2)for(var M=n._lctf.getInterval(m.cDef,i[r]),D=m.cDef[M+2],R=m.scset[D],A=0;A<R.length;A++){var b=R[A],B=b.input;if(!(B.length>u)){for(S=!0,w=0;w<B.length;w++){var J=n._lctf.getInterval(m.cDef,i[r+1+w]);if(M==-1&&m.cDef[J+2]!=B[w]){S=!1;break}}if(S){var oe=b.substLookupRecords;for(x=0;x<oe.length;x+=2)oe[x],oe[x+1]}}}else if(s.ltype==6&&m.fmt==3){if(!n.U._glsCovered(i,m.backCvg,r-m.backCvg.length)||!n.U._glsCovered(i,m.inptCvg,r)||!n.U._glsCovered(i,m.ahedCvg,r+m.inptCvg.length))continue;var G=m.lookupRec;for(A=0;A<G.length;A+=2){M=G[A];var O=f[G[A+1]];n.U._applySubs(i,r+M,O,f)}}}}},n.U._glsCovered=function(i,r,s){for(var f=0;f<r.length;f++)if(n._lctf.coverageIndex(r[f],i[s+f])==-1)return!1;return!0},n.U.glyphsToPath=function(i,r,s){for(var f={cmds:[],crds:[]},u=0,h=0;h<r.length;h++){var d=r[h];if(d!=-1){for(var m=h<r.length-1&&r[h+1]!=-1?r[h+1]:0,y=n.U.glyphToPath(i,d),x=0;x<y.crds.length;x+=2)f.crds.push(y.crds[x]+u),f.crds.push(y.crds[x+1]);for(s&&f.cmds.push(s),x=0;x<y.cmds.length;x++)f.cmds.push(y.cmds[x]);s&&f.cmds.push("X"),u+=i.hmtx.aWidth[d],h<r.length-1&&(u+=n.U.getPairAdjustment(i,d,m))}}return f},n.U.P={},n.U.P.moveTo=function(i,r,s){i.cmds.push("M"),i.crds.push(r,s)},n.U.P.lineTo=function(i,r,s){i.cmds.push("L"),i.crds.push(r,s)},n.U.P.curveTo=function(i,r,s,f,u,h,d){i.cmds.push("C"),i.crds.push(r,s,f,u,h,d)},n.U.P.qcurveTo=function(i,r,s,f,u){i.cmds.push("Q"),i.crds.push(r,s,f,u)},n.U.P.closePath=function(i){i.cmds.push("Z")},n.U._drawCFF=function(i,r,s,f,u){for(var h=r.stack,d=r.nStems,m=r.haveWidth,y=r.width,x=r.open,C=0,T=r.x,S=r.y,_=0,w=0,M=0,D=0,R=0,A=0,b=0,B=0,J=0,oe=0,G={val:0,size:0};C<i.length;){n.CFF.getCharString(i,C,G);var O=G.val;if(C+=G.size,O=="o1"||O=="o18")h.length%2!=0&&!m&&(y=h.shift()+f.nominalWidthX),d+=h.length>>1,h.length=0,m=!0;else if(O=="o3"||O=="o23")h.length%2!=0&&!m&&(y=h.shift()+f.nominalWidthX),d+=h.length>>1,h.length=0,m=!0;else if(O=="o4")h.length>1&&!m&&(y=h.shift()+f.nominalWidthX,m=!0),x&&n.U.P.closePath(u),S+=h.pop(),n.U.P.moveTo(u,T,S),x=!0;else if(O=="o5")for(;h.length>0;)T+=h.shift(),S+=h.shift(),n.U.P.lineTo(u,T,S);else if(O=="o6"||O=="o7")for(var ee=h.length,q=O=="o6",ne=0;ne<ee;ne++){var ae=h.shift();q?T+=ae:S+=ae,q=!q,n.U.P.lineTo(u,T,S)}else if(O=="o8"||O=="o24"){ee=h.length;for(var ve=0;ve+6<=ee;)_=T+h.shift(),w=S+h.shift(),M=_+h.shift(),D=w+h.shift(),T=M+h.shift(),S=D+h.shift(),n.U.P.curveTo(u,_,w,M,D,T,S),ve+=6;O=="o24"&&(T+=h.shift(),S+=h.shift(),n.U.P.lineTo(u,T,S))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(w=S,M=(_=T+h.shift())+h.shift(),oe=D=w+h.shift(),A=D,B=S,T=(b=(R=(J=M+h.shift())+h.shift())+h.shift())+h.shift(),n.U.P.curveTo(u,_,w,M,D,J,oe),n.U.P.curveTo(u,R,A,b,B,T,S)),O=="o1235"&&(_=T+h.shift(),w=S+h.shift(),M=_+h.shift(),D=w+h.shift(),J=M+h.shift(),oe=D+h.shift(),R=J+h.shift(),A=oe+h.shift(),b=R+h.shift(),B=A+h.shift(),T=b+h.shift(),S=B+h.shift(),h.shift(),n.U.P.curveTo(u,_,w,M,D,J,oe),n.U.P.curveTo(u,R,A,b,B,T,S)),O=="o1236"&&(_=T+h.shift(),w=S+h.shift(),M=_+h.shift(),oe=D=w+h.shift(),A=D,b=(R=(J=M+h.shift())+h.shift())+h.shift(),B=A+h.shift(),T=b+h.shift(),n.U.P.curveTo(u,_,w,M,D,J,oe),n.U.P.curveTo(u,R,A,b,B,T,S)),O=="o1237"&&(_=T+h.shift(),w=S+h.shift(),M=_+h.shift(),D=w+h.shift(),J=M+h.shift(),oe=D+h.shift(),R=J+h.shift(),A=oe+h.shift(),b=R+h.shift(),B=A+h.shift(),Math.abs(b-T)>Math.abs(B-S)?T=b+h.shift():S=B+h.shift(),n.U.P.curveTo(u,_,w,M,D,J,oe),n.U.P.curveTo(u,R,A,b,B,T,S));else if(O=="o14"){if(h.length>0&&!m&&(y=h.shift()+s.nominalWidthX,m=!0),h.length==4){var Z=h.shift(),j=h.shift(),W=h.shift(),k=h.shift(),I=n.CFF.glyphBySE(s,W),Q=n.CFF.glyphBySE(s,k);n.U._drawCFF(s.CharStrings[I],r,s,f,u),r.x=Z,r.y=j,n.U._drawCFF(s.CharStrings[Q],r,s,f,u)}x&&(n.U.P.closePath(u),x=!1)}else if(O=="o19"||O=="o20")h.length%2!=0&&!m&&(y=h.shift()+f.nominalWidthX),d+=h.length>>1,h.length=0,m=!0,C+=d+7>>3;else if(O=="o21")h.length>2&&!m&&(y=h.shift()+f.nominalWidthX,m=!0),S+=h.pop(),T+=h.pop(),x&&n.U.P.closePath(u),n.U.P.moveTo(u,T,S),x=!0;else if(O=="o22")h.length>1&&!m&&(y=h.shift()+f.nominalWidthX,m=!0),T+=h.pop(),x&&n.U.P.closePath(u),n.U.P.moveTo(u,T,S),x=!0;else if(O=="o25"){for(;h.length>6;)T+=h.shift(),S+=h.shift(),n.U.P.lineTo(u,T,S);_=T+h.shift(),w=S+h.shift(),M=_+h.shift(),D=w+h.shift(),T=M+h.shift(),S=D+h.shift(),n.U.P.curveTo(u,_,w,M,D,T,S)}else if(O=="o26")for(h.length%2&&(T+=h.shift());h.length>0;)_=T,w=S+h.shift(),T=M=_+h.shift(),S=(D=w+h.shift())+h.shift(),n.U.P.curveTo(u,_,w,M,D,T,S);else if(O=="o27")for(h.length%2&&(S+=h.shift());h.length>0;)w=S,M=(_=T+h.shift())+h.shift(),D=w+h.shift(),T=M+h.shift(),S=D,n.U.P.curveTo(u,_,w,M,D,T,S);else if(O=="o10"||O=="o29"){var Y=O=="o10"?f:s;if(h.length==0)console.debug("error: empty stack");else{var H=h.pop(),re=Y.Subrs[H+Y.Bias];r.x=T,r.y=S,r.nStems=d,r.haveWidth=m,r.width=y,r.open=x,n.U._drawCFF(re,r,s,f,u),T=r.x,S=r.y,d=r.nStems,m=r.haveWidth,y=r.width,x=r.open}}else if(O=="o30"||O=="o31"){var X=h.length,te=(ve=0,O=="o31");for(ve+=X-(ee=-3&X);ve<ee;)te?(w=S,M=(_=T+h.shift())+h.shift(),S=(D=w+h.shift())+h.shift(),ee-ve==5?(T=M+h.shift(),ve++):T=M,te=!1):(_=T,w=S+h.shift(),M=_+h.shift(),D=w+h.shift(),T=M+h.shift(),ee-ve==5?(S=D+h.shift(),ve++):S=D,te=!0),n.U.P.curveTo(u,_,w,M,D,T,S),ve+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,i),O;h.push(O)}}}r.x=T,r.y=S,r.nStems=d,r.haveWidth=m,r.width=y,r.open=x};var c=n,v={Typr:c};return a.Typr=c,a.default=v,Object.defineProperty(a,"__esModule",{value:!0}),a}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function d0(){return function(a){var n=Uint8Array,c=Uint16Array,v=Uint32Array,i=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=function(O,ee){for(var q=new c(31),ne=0;ne<31;++ne)q[ne]=ee+=1<<O[ne-1];var ae=new v(q[30]);for(ne=1;ne<30;++ne)for(var ve=q[ne];ve<q[ne+1];++ve)ae[ve]=ve-q[ne]<<5|ne;return[q,ae]},u=f(i,2),h=u[0],d=u[1];h[28]=258,d[258]=28;for(var m=f(r,0)[0],y=new c(32768),x=0;x<32768;++x){var C=(43690&x)>>>1|(21845&x)<<1;C=(61680&(C=(52428&C)>>>2|(13107&C)<<2))>>>4|(3855&C)<<4,y[x]=((65280&C)>>>8|(255&C)<<8)>>>1}var T=function(O,ee,q){for(var ne=O.length,ae=0,ve=new c(ee);ae<ne;++ae)++ve[O[ae]-1];var Z,j=new c(ee);for(ae=0;ae<ee;++ae)j[ae]=j[ae-1]+ve[ae-1]<<1;if(q){Z=new c(1<<ee);var W=15-ee;for(ae=0;ae<ne;++ae)if(O[ae])for(var k=ae<<4|O[ae],I=ee-O[ae],Q=j[O[ae]-1]++<<I,Y=Q|(1<<I)-1;Q<=Y;++Q)Z[y[Q]>>>W]=k}else for(Z=new c(ne),ae=0;ae<ne;++ae)O[ae]&&(Z[ae]=y[j[O[ae]-1]++]>>>15-O[ae]);return Z},S=new n(288);for(x=0;x<144;++x)S[x]=8;for(x=144;x<256;++x)S[x]=9;for(x=256;x<280;++x)S[x]=7;for(x=280;x<288;++x)S[x]=8;var _=new n(32);for(x=0;x<32;++x)_[x]=5;var w=T(S,9,1),M=T(_,5,1),D=function(O){for(var ee=O[0],q=1;q<O.length;++q)O[q]>ee&&(ee=O[q]);return ee},R=function(O,ee,q){var ne=ee/8|0;return(O[ne]|O[ne+1]<<8)>>(7&ee)&q},A=function(O,ee){var q=ee/8|0;return(O[q]|O[q+1]<<8|O[q+2]<<16)>>(7&ee)},b=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],B=function(O,ee,q){var ne=new Error(ee||b[O]);if(ne.code=O,Error.captureStackTrace&&Error.captureStackTrace(ne,B),!q)throw ne;return ne},J=function(O,ee,q){var ne=O.length;if(!ne||q&&!q.l&&ne<5)return ee||new n(0);var ae=!ee||q,ve=!q||q.i;q||(q={}),ee||(ee=new n(3*ne));var Z,j=function(Ue){var Qe=ee.length;if(Ue>Qe){var Je=new n(Math.max(2*Qe,Ue));Je.set(ee),ee=Je}},W=q.f||0,k=q.p||0,I=q.b||0,Q=q.l,Y=q.d,H=q.m,re=q.n,X=8*ne;do{if(!Q){q.f=W=R(O,k,1);var te=R(O,k+1,3);if(k+=3,!te){var ue=O[(pe=((Z=k)/8|0)+(7&Z&&1)+4)-4]|O[pe-3]<<8,fe=pe+ue;if(fe>ne){ve&&B(0);break}ae&&j(I+ue),ee.set(O.subarray(pe,fe),I),q.b=I+=ue,q.p=k=8*fe;continue}if(te==1)Q=w,Y=M,H=9,re=5;else if(te==2){var K=R(O,k,31)+257,$=R(O,k+10,15)+4,xe=K+R(O,k+5,31)+1;k+=14;for(var Re=new n(xe),ce=new n(19),Se=0;Se<$;++Se)ce[s[Se]]=R(O,k+3*Se,7);k+=3*$;var ke=D(ce),le=(1<<ke)-1,Ce=T(ce,ke,1);for(Se=0;Se<xe;){var pe,ie=Ce[R(O,k,le)];if(k+=15&ie,(pe=ie>>>4)<16)Re[Se++]=pe;else{var Pe=0,ye=0;for(pe==16?(ye=3+R(O,k,3),k+=2,Pe=Re[Se-1]):pe==17?(ye=3+R(O,k,7),k+=3):pe==18&&(ye=11+R(O,k,127),k+=7);ye--;)Re[Se++]=Pe}}var we=Re.subarray(0,K),me=Re.subarray(K);H=D(we),re=D(me),Q=T(we,H,1),Y=T(me,re,1)}else B(1);if(k>X){ve&&B(0);break}}ae&&j(I+131072);for(var We=(1<<H)-1,Oe=(1<<re)-1,Me=k;;Me=k){var ze=(Pe=Q[A(O,k)&We])>>>4;if((k+=15&Pe)>X){ve&&B(0);break}if(Pe||B(2),ze<256)ee[I++]=ze;else{if(ze==256){Me=k,Q=null;break}var He=ze-254;if(ze>264){var ut=i[Se=ze-257];He=R(O,k,(1<<ut)-1)+h[Se],k+=ut}var De=Y[A(O,k)&Oe],qe=De>>>4;if(De||B(3),k+=15&De,me=m[qe],qe>3&&(ut=r[qe],me+=A(O,k)&(1<<ut)-1,k+=ut),k>X){ve&&B(0);break}ae&&j(I+131072);for(var be=I+He;I<be;I+=4)ee[I]=ee[I-me],ee[I+1]=ee[I+1-me],ee[I+2]=ee[I+2-me],ee[I+3]=ee[I+3-me];I=be}}q.l=Q,q.p=Me,q.b=I,Q&&(W=1,q.m=H,q.d=Y,q.n=re)}while(!W);return I==ee.length?ee:function(Ue,Qe,Je){(Qe==null||Qe<0)&&(Qe=0),(Je==null||Je>Ue.length)&&(Je=Ue.length);var ct=new(Ue instanceof c?c:Ue instanceof v?v:n)(Je-Qe);return ct.set(Ue.subarray(Qe,Je)),ct}(ee,0,I)},oe=new n(0),G=typeof TextDecoder<"u"&&new TextDecoder;try{G.decode(oe,{stream:!0})}catch{}return a.convert_streams=function(O){var ee=new DataView(O),q=0;function ne(){var K=ee.getUint16(q);return q+=2,K}function ae(){var K=ee.getUint32(q);return q+=4,K}function ve(K){ue.setUint16(fe,K),fe+=2}function Z(K){ue.setUint32(fe,K),fe+=4}for(var j={signature:ae(),flavor:ae(),length:ae(),numTables:ne(),reserved:ne(),totalSfntSize:ae(),majorVersion:ne(),minorVersion:ne(),metaOffset:ae(),metaLength:ae(),metaOrigLength:ae(),privOffset:ae(),privLength:ae()},W=0;Math.pow(2,W)<=j.numTables;)W++;W--;for(var k=16*Math.pow(2,W),I=16*j.numTables-k,Q=12,Y=[],H=0;H<j.numTables;H++)Y.push({tag:ae(),offset:ae(),compLength:ae(),origLength:ae(),origChecksum:ae()}),Q+=16;var re,X=new Uint8Array(12+16*Y.length+Y.reduce(function(K,$){return K+$.origLength+4},0)),te=X.buffer,ue=new DataView(te),fe=0;return Z(j.flavor),ve(j.numTables),ve(k),ve(W),ve(I),Y.forEach(function(K){Z(K.tag),Z(K.origChecksum),Z(Q),Z(K.origLength),K.outOffset=Q,(Q+=K.origLength)%4!=0&&(Q+=4-Q%4)}),Y.forEach(function(K){var $,xe=O.slice(K.offset,K.offset+K.compLength);if(K.compLength!=K.origLength){var Re=new Uint8Array(K.origLength);$=new Uint8Array(xe,2),J($,Re)}else Re=new Uint8Array(xe);X.set(Re,K.outOffset);var ce=0;(Q=K.outOffset+K.origLength)%4!=0&&(ce=4-Q%4),X.set(new Uint8Array(ce).buffer,K.outOffset+K.origLength),re=Q+ce}),te.slice(0,re)},Object.defineProperty(a,"__esModule",{value:!0}),a}({}).convert_streams}function h0(a,n){const c={M:2,L:2,Q:4,C:6,Z:0},v={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,r=2,s=4,f=8,u=16,h=32;let d;function m(R){if(!d){const A={R:r,L:i,D:s,C:u,U:h,T:f};d=new Map;for(let b in v){let B=0;v[b].split(",").forEach(J=>{let[oe,G]=J.split("+");oe=parseInt(oe,36),G=G?parseInt(G,36):0,d.set(B+=oe,A[b]);for(let O=G;O--;)d.set(++B,A[b])})}}return d.get(R)||h}const y=1,x=2,C=3,T=4,S=[null,"isol","init","fina","medi"];function _(R){const A=new Uint8Array(R.length);let b=h,B=y,J=-1;for(let oe=0;oe<R.length;oe++){const G=R.codePointAt(oe);let O=m(G)|0,ee=y;O&f||(b&(i|s|u)?O&(r|s|u)?(ee=C,(B===y||B===C)&&A[J]++):O&(i|h)&&(B===x||B===T)&&A[J]--:b&(r|h)&&(B===x||B===T)&&A[J]--,B=A[oe]=ee,b=O,J=oe,G>65535&&oe++)}return A}function w(R,A){const b=[];for(let J=0;J<A.length;J++){const oe=A.codePointAt(J);oe>65535&&J++,b.push(a.U.codeToGlyph(R,oe))}const B=R.GSUB;if(B){const{lookupList:J,featureList:oe}=B;let G;const O=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,ee=[];oe.forEach(q=>{if(O.test(q.tag))for(let ne=0;ne<q.tab.length;ne++){if(ee[q.tab[ne]])continue;ee[q.tab[ne]]=!0;const ae=J[q.tab[ne]],ve=/^(isol|init|fina|medi)$/.test(q.tag);ve&&!G&&(G=_(A));for(let Z=0;Z<b.length;Z++)(!G||!ve||S[G[Z]]===q.tag)&&a.U._applySubs(b,Z,ae,J)}})}return b}function M(...R){for(let A=0;A<R.length;A++)if(typeof R[A]=="number")return R[A]}function D(R){const A=Object.create(null),b=R["OS/2"],B=R.hhea,J=R.head.unitsPerEm,oe=M(b&&b.sTypoAscender,B&&B.ascender,J),G={unitsPerEm:J,ascender:oe,descender:M(b&&b.sTypoDescender,B&&B.descender,0),capHeight:M(b&&b.sCapHeight,oe),xHeight:M(b&&b.sxHeight,oe),lineGap:M(b&&b.sTypoLineGap,B&&B.lineGap),forEachGlyph(O,ee,q,ne){let ae=0;const ve=1/G.unitsPerEm*ee,Z=w(R,O);let j=0,W=-1;return Z.forEach((k,I)=>{if(k!==-1){let Q=A[k];if(!Q){const{cmds:Y,crds:H}=a.U.glyphToPath(R,k);let re="",X=0;for(let $=0,xe=Y.length;$<xe;$++){const Re=c[Y[$]];re+=Y[$];for(let ce=1;ce<=Re;ce++)re+=(ce>1?",":"")+H[X++]}let te,ue,fe,K;if(H.length){te=ue=1/0,fe=K=-1/0;for(let $=0,xe=H.length;$<xe;$+=2){let Re=H[$],ce=H[$+1];Re<te&&(te=Re),ce<ue&&(ue=ce),Re>fe&&(fe=Re),ce>K&&(K=ce)}}else te=fe=ue=K=0;Q=A[k]={index:k,advanceWidth:R.hmtx.aWidth[k],xMin:te,yMin:ue,xMax:fe,yMax:K,path:re,pathCommandCount:Y.length}}W!==-1&&(ae+=a.U.getPairAdjustment(R,W,k)*ve),ne.call(null,Q,ae,j),Q.advanceWidth&&(ae+=Q.advanceWidth*ve),q&&(ae+=q*ee),W=k}j+=O.codePointAt(j)>65535?2:1}),ae}};return G}return function(A){const b=new Uint8Array(A,0,4),B=a._bin.readASCII(b,0,4);if(B==="wOFF")A=n(A);else if(B==="wOF2")throw new Error("woff2 fonts not supported");return D(a.parse(A)[0])}}const p0=so({name:"Typr Font Parser",dependencies:[f0,d0,h0],init(a,n,c){const v=a(),i=n();return c(v,i)}}),mi={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},v0=new io;function fi(){return(self.performance||Date).now()}const uc=Object.create(null);function cf(a,n){a=y0({},a);const c=fi();if(a.font=x0(a.font||mi.defaultFontURL),a.text=""+a.text,a.sdfGlyphSize=a.sdfGlyphSize||mi.sdfGlyphSize,a.colorRanges!=null){let m={};for(let y in a.colorRanges)if(a.colorRanges.hasOwnProperty(y)){let x=a.colorRanges[y];typeof x!="number"&&(x=v0.set(x).getHex()),m[y]=x}a.colorRanges=m}Object.freeze(a);const{textureWidth:v,sdfExponent:i}=mi,{sdfGlyphSize:r}=a,s=v/r*4;let f=uc[r];if(!f){const m=document.createElement("canvas");m.width=v,m.height=r*256/s,f=uc[r]={glyphCount:0,sdfGlyphSize:r,sdfCanvas:m,sdfTexture:new Vl(m,void 0,void 0,void 0,Au,Au),contextLost:!1,glyphsByFont:new Map},f.sdfTexture.generateMipmaps=!1,m0(f)}const{sdfTexture:u,sdfCanvas:h}=f;let d=f.glyphsByFont.get(a.font);d||f.glyphsByFont.set(a.font,d=new Map),S0(a).then(m=>{const{glyphIds:y,glyphPositions:x,fontSize:C,unitsPerEm:T,timings:S}=m,_=[],w=new Float32Array(y.length*4),M=C/T;let D=0,R=0;const A=fi();y.forEach((G,O)=>{let ee=d.get(G);if(!ee){const{path:ve,pathBounds:Z}=m.glyphData[G],j=Math.max(Z[2]-Z[0],Z[3]-Z[1])/r*(mi.sdfMargin*r+.5),W=f.glyphCount++,k=[Z[0]-j,Z[1]-j,Z[2]+j,Z[3]+j];d.set(G,ee={path:ve,atlasIndex:W,sdfViewBox:k}),_.push(ee)}const{sdfViewBox:q}=ee,ne=x[R++],ae=x[R++];w[D++]=ne+q[0]*M,w[D++]=ae+q[1]*M,w[D++]=ne+q[2]*M,w[D++]=ae+q[3]*M,y[O]=ee.atlasIndex}),S.quads=(S.quads||0)+(fi()-A);const b=fi();S.sdf={};const B=h.height,J=Math.ceil(f.glyphCount/s),oe=Math.pow(2,Math.ceil(Math.log2(J*r)));oe>B&&(console.info(`Increasing SDF texture size ${B}->${oe}`),c0(h,v,oe),u.dispose()),Promise.all(_.map(G=>ff(G,f,a.gpuAccelerateSDF).then(({timing:O})=>{S.sdf[G.atlasIndex]=O}))).then(()=>{_.length&&!f.contextLost&&(df(f),u.needsUpdate=!0),S.sdfTotal=fi()-b,S.total=fi()-c,n(Object.freeze({parameters:a,sdfTexture:u,sdfGlyphSize:r,sdfExponent:i,glyphBounds:w,glyphAtlasIndices:y,glyphColors:m.glyphColors,caretPositions:m.caretPositions,caretHeight:m.caretHeight,chunkedBounds:m.chunkedBounds,ascender:m.ascender,descender:m.descender,lineHeight:m.lineHeight,capHeight:m.capHeight,xHeight:m.xHeight,topBaseline:m.topBaseline,blockBounds:m.blockBounds,visibleBounds:m.visibleBounds,timings:m.timings}))})}),Promise.resolve().then(()=>{f.contextLost||u0(h)})}function ff({path:a,atlasIndex:n,sdfViewBox:c},{sdfGlyphSize:v,sdfCanvas:i,contextLost:r},s){if(r)return Promise.resolve({timing:-1});const{textureWidth:f,sdfExponent:u}=mi,h=Math.max(c[2]-c[0],c[3]-c[1]),d=Math.floor(n/4),m=d%(f/v)*v,y=Math.floor(d/(f/v))*v,x=n%4;return r0(v,v,a,c,h,u,i,m,y,x,s)}function m0(a){const n=a.sdfCanvas;n.addEventListener("webglcontextlost",c=>{console.log("Context Lost",c),c.preventDefault(),a.contextLost=!0}),n.addEventListener("webglcontextrestored",c=>{console.log("Context Restored",c),a.contextLost=!1;const v=[];a.glyphsByFont.forEach(i=>{i.forEach(r=>{v.push(ff(r,a,!0))})}),Promise.all(v).then(()=>{df(a),a.sdfTexture.needsUpdate=!0})})}function g0({font:a,characters:n,sdfGlyphSize:c},v){let i=Array.isArray(n)?n.join(`
`):""+n;cf({font:a,sdfGlyphSize:c,text:i},v)}function y0(a,n){for(let c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);return a}let la;function x0(a){return la||(la=typeof document>"u"?{}:document.createElement("a")),la.href=a,la.href}function df(a){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:n,sdfTexture:c}=a,{width:v,height:i}=n,r=a.sdfCanvas.getContext("webgl");let s=c.image.data;(!s||s.length!==v*i*4)&&(s=new Uint8Array(v*i*4),c.image={width:v,height:i,data:s},c.flipY=!1,c.isDataTexture=!0),r.readPixels(0,0,v,i,r.RGBA,r.UNSIGNED_BYTE,s)}}const w0=so({name:"Typesetter",dependencies:[mi,p0,n0,X1],init(a,n,c,v){const{defaultFontURL:i}=a;return c(n,v(),{defaultFontURL:i})}}),S0=so({name:"Typesetter",dependencies:[w0],init(a){return function(n){return new Promise(c=>{a.typeset(n,c)})}},getTransferables(a){const n=[a.glyphPositions.buffer,a.glyphIds.buffer];return a.caretPositions&&n.push(a.caretPositions.buffer),a.glyphColors&&n.push(a.glyphColors.buffer),n}}),cc={};function C0(a){let n=cc[a];if(!n){const c=new Jl(1,1,a,a),v=c.clone(),i=c.attributes,r=v.attributes,s=new Ec,f=i.uv.count;for(let u=0;u<f;u++)r.position.array[u*3]*=-1,r.normal.array[u*3+2]*=-1;["position","normal","uv"].forEach(u=>{s.setAttribute(u,new Ul([...i[u].array,...r[u].array],i[u].itemSize))}),s.setIndex([...c.index.array,...v.index.array.map(u=>u+f)]),s.translate(.5,.5,0),n=cc[a]=s}return n}const _0="aTroikaGlyphBounds",fc="aTroikaGlyphIndex",E0="aTroikaGlyphColor";class T0 extends Tc{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Yl,this.boundingBox=new pa}computeBoundingSphere(){}computeBoundingBox(){}setSide(n){const c=this.getIndex().count;this.setDrawRange(n===Pd?c/2:0,n===Xl?c:c/2)}set detail(n){if(n!==this._detail){this._detail=n,(typeof n!="number"||n<1)&&(n=1);let c=C0(n);["position","normal","uv"].forEach(v=>{this.attributes[v]=c.attributes[v].clone()}),this.setIndex(c.getIndex().clone())}}get detail(){return this._detail}set curveRadius(n){n!==this._curveRadius&&(this._curveRadius=n,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(n,c,v,i,r){Tl(this,_0,n,4),Tl(this,fc,c,1),Tl(this,E0,r,3),this._blockBounds=v,this._chunkedBounds=i,this.instanceCount=c.length,this._updateBounds()}_updateBounds(){const n=this._blockBounds;if(n){const{curveRadius:c,boundingBox:v}=this;if(c){const{PI:i,floor:r,min:s,max:f,sin:u,cos:h}=Math,d=i/2,m=i*2,y=Math.abs(c),x=n[0]/y,C=n[2]/y,T=r((x+d)/m)!==r((C+d)/m)?-y:s(u(x)*y,u(C)*y),S=r((x-d)/m)!==r((C-d)/m)?y:f(u(x)*y,u(C)*y),_=r((x+i)/m)!==r((C+i)/m)?y*2:f(y-h(x)*y,y-h(C)*y);v.min.set(T,n[1],c<0?-_:0),v.max.set(S,n[3],c<0?0:_)}else v.min.set(n[0],n[1],0),v.max.set(n[2],n[3],0);v.getBoundingSphere(this.boundingSphere)}}applyClipRect(n){let c=this.getAttribute(fc).count,v=this._chunkedBounds;if(v)for(let i=v.length;i--;){c=v[i].end;let r=v[i].rect;if(r[1]<n.w&&r[3]>n.y&&r[0]<n.z&&r[2]>n.x)break}this.instanceCount=c}}function Tl(a,n,c,v){const i=a.getAttribute(n);c?i&&i.array.length===c.length?(i.array.set(c),i.needsUpdate=!0):(a.setAttribute(n,new Ld(c,v)),delete a._maxInstanceCount,a.dispose()):i&&a.deleteAttribute(n)}const M0=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,k0=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,P0=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,L0=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function U0(a){const n=Nl(a,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Nr},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new xi(0,0,0,0)},uTroikaClipRect:{value:new xi(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Nr},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new io},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Ud},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:M0,vertexTransform:k0,fragmentDefs:P0,fragmentColorTransform:L0,customRewriter({vertexShader:c,fragmentShader:v}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(v)&&(v=v.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(c)||(c=c.replace(sf,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:c,fragmentShader:v}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),n}const rs=new Rd({color:16777215,side:Xl,transparent:!0}),dc=8421504,hc=new Mc,sa=new st,Ml=new st,eo=[],R0=new st,kl="+x+y";function pc(a){return Array.isArray(a)?a[0]:a}let hf=()=>{const a=new oo(new Jl(1,1),rs);return hf=()=>a,a},pf=()=>{const a=new oo(new Jl(1,1,32,1),rs);return pf=()=>a,a};const F0={type:"syncstart"},A0={type:"synccomplete"},vf=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],D0=vf.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let mf=class extends oo{constructor(){const n=new T0;super(n,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=dc,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=kl,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(n){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(n):(this._isSyncing=!0,this.dispatchEvent(F0),cf({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},c=>{this._isSyncing=!1,this._textRenderInfo=c,this.geometry.updateGlyphs(c.glyphBounds,c.glyphAtlasIndices,c.blockBounds,c.chunkedBounds,c.glyphColors);const v=this._queuedSyncs;v&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{v.forEach(i=>i&&i())})),this.dispatchEvent(A0),n&&n()})))}onBeforeRender(n,c,v,i,r,s){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r),r._hadOwnSide=r.hasOwnProperty("side"),this.geometry.setSide(r._actualSide=r.side),r.side=kd}onAfterRender(n,c,v,i,r,s){r._hadOwnSide?r.side=r._actualSide:delete r.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let n=this._derivedMaterial;const c=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=rs.clone());if((!n||n.baseMaterial!==c)&&(n=this._derivedMaterial=U0(c),c.addEventListener("dispose",function v(){c.removeEventListener("dispose",v),n.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let v=n._outlineMtl;return v||(v=n._outlineMtl=Object.create(n,{id:{value:n.id+.1}}),v.isTextOutlineMaterial=!0,v.depthWrite=!1,v.map=null,n.addEventListener("dispose",function i(){n.removeEventListener("dispose",i),v.dispose()})),[v,n]}else return n}set material(n){n&&n.isTroikaTextMaterial?(this._derivedMaterial=n,this._baseMaterial=n.baseMaterial):this._baseMaterial=n}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(n){this.geometry.detail=n}get curveRadius(){return this.geometry.curveRadius}set curveRadius(n){this.geometry.curveRadius=n}get customDepthMaterial(){return pc(this.material).getDepthMaterial()}get customDistanceMaterial(){return pc(this.material).getDistanceMaterial()}_prepareForRender(n){const c=n.isTextOutlineMaterial,v=n.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:f,blockBounds:u}=i;v.uTroikaSDFTexture.value=f,v.uTroikaSDFTextureSize.value.set(f.image.width,f.image.height),v.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,v.uTroikaSDFExponent.value=i.sdfExponent,v.uTroikaTotalBounds.value.fromArray(u),v.uTroikaUseGlyphColors.value=!c&&!!i.glyphColors;let h=0,d=0,m=0,y,x,C,T=0,S=0;if(c){let{outlineWidth:w,outlineOffsetX:M,outlineOffsetY:D,outlineBlur:R,outlineOpacity:A}=this;h=this._parsePercent(w)||0,d=Math.max(0,this._parsePercent(R)||0),y=A,T=this._parsePercent(M)||0,S=this._parsePercent(D)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(C=this.strokeColor,v.uTroikaStrokeColor.value.set(C??dc),x=this.strokeOpacity,x==null&&(x=1)),y=this.fillOpacity;v.uTroikaDistanceOffset.value=h,v.uTroikaPositionOffset.value.set(T,S),v.uTroikaBlurRadius.value=d,v.uTroikaStrokeWidth.value=m,v.uTroikaStrokeOpacity.value=x,v.uTroikaFillOpacity.value=y??1,v.uTroikaCurveRadius.value=this.curveRadius||0;let _=this.clipRect;if(_&&Array.isArray(_)&&_.length===4)v.uTroikaClipRect.value.fromArray(_);else{const w=(this.fontSize||.1)*100;v.uTroikaClipRect.value.set(u[0]-w,u[1]-w,u[2]+w,u[3]+w)}this.geometry.applyClipRect(v.uTroikaClipRect.value)}v.uTroikaSDFDebug.value=!!this.debugSDF,n.polygonOffset=!!this.depthOffset,n.polygonOffsetFactor=n.polygonOffsetUnits=this.depthOffset||0;const r=c?this.outlineColor||0:this.color;if(r==null)delete n.color;else{const f=n.hasOwnProperty("color")?n.color:n.color=new io;(r!==f._input||typeof r=="object")&&f.set(f._input=r)}let s=this.orientation||kl;if(s!==n._orientation){let f=v.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let u=s!==kl&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){let[,h,d,m,y]=u;sa.set(0,0,0)[d]=h==="-"?1:-1,Ml.set(0,0,0)[y]=m==="-"?-1:1,hc.lookAt(R0,sa.cross(Ml),Ml),f.setFromMatrix4(hc)}else f.identity();n._orientation=s}}_parsePercent(n){if(typeof n=="string"){let c=n.match(/^(-?[\d.]+)%$/),v=c?parseFloat(c[1]):NaN;n=(isNaN(v)?0:v/100)*this.fontSize}return n}localPositionToTextCoords(n,c=new Nr){c.copy(n);const v=this.curveRadius;return v&&(c.x=Math.atan2(n.x,Math.abs(v)-Math.abs(n.z))*Math.abs(v)),c}worldPositionToTextCoords(n,c=new Nr){return sa.copy(n),this.localPositionToTextCoords(this.worldToLocal(sa),c)}raycast(n,c){const{textRenderInfo:v,curveRadius:i}=this;if(v){const r=v.blockBounds,s=i?pf():hf(),f=s.geometry,{position:u,uv:h}=f.attributes;for(let d=0;d<h.count;d++){let m=r[0]+h.getX(d)*(r[2]-r[0]);const y=r[1]+h.getY(d)*(r[3]-r[1]);let x=0;i&&(x=i-Math.cos(m/i)*i,m=Math.sin(m/i)*i),u.setXYZ(d,m,y,x)}f.boundingSphere=this.geometry.boundingSphere,f.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,eo.length=0,s.raycast(n,eo);for(let d=0;d<eo.length;d++)eo[d].object=this,c.push(eo[d])}}copy(n){const c=this.geometry;return super.copy(n),this.geometry=c,D0.forEach(v=>{this[v]=n[v]}),this}clone(){return new this.constructor().copy(this)}};vf.forEach(a=>{const n="_private_"+a;Object.defineProperty(mf.prototype,a,{get(){return this[n]},set(c){c!==this[n]&&(this[n]=c,this._needsSync=!0)}})});function O0(a,n,c=(v,i)=>v===i){if(a===n)return!0;if(!a||!n)return!1;const v=a.length;if(n.length!==v)return!1;for(let i=0;i<v;i++)if(!c(a[i],n[i]))return!1;return!0}const ua=[];function z0(a,n,c=!1,v={}){for(const r of ua)if(O0(n,r.keys,r.equal)){if(c)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return r.response;if(!c)throw r.promise}const i={keys:n,equal:v.equal,promise:a(...n).then(r=>i.response=r).then(()=>{v.lifespan&&v.lifespan>0&&setTimeout(()=>{const r=ua.indexOf(i);r!==-1&&ua.splice(r,1)},v.lifespan)}).catch(r=>i.error=r)};if(ua.push(i),!c)throw i.promise}const I0=(a,n,c)=>z0(a,n,!1,c),vc=P.forwardRef(({anchorX:a="center",anchorY:n="middle",font:c,fontSize:v=1,children:i,characters:r,onSync:s,...f},u)=>{const h=Ci(({invalidate:x})=>x),[d]=P.useState(()=>new mf),[m,y]=P.useMemo(()=>{const x=[];let C="";return P.Children.forEach(i,T=>{typeof T=="string"||typeof T=="number"?C+=T:x.push(T)}),[x,C]},[i]);return I0(()=>new Promise(x=>g0({font:c,characters:r},x)),["troika-text",c,r]),P.useLayoutEffect(()=>void d.sync(()=>{h(),s&&s(d)})),P.useEffect(()=>()=>d.dispose(),[d]),P.createElement("primitive",yi({object:d,ref:u,font:c,text:y,anchorX:a,anchorY:n,fontSize:v},f),m)});function gt(a,n){if(a==null)return{};var c={},v=Object.keys(a),i,r;for(r=0;r<v.length;r++)i=v[r],!(n.indexOf(i)>=0)&&(c[i]=a[i]);return c}var j0=["color"],gf=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,j0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),b0=["color"],B0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,b0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),N0=["color"],G0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,N0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),W0=["color"],H0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,W0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),V0=["color"],Z0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,V0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),Q0=["color"],X0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,Q0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),Y0=["color"],J0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,Y0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),K0=["color"],q0=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,K0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),$0=["color"],Wl=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,$0);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),eh=["color"],th=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,eh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),nh=["color"],rh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,nh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),ih=["color"],oh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,ih);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),ah=["color"],lh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,ah);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),sh=["color"],uh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,sh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),ch=["color"],fh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,ch);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),dh=["color"],hh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,dh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),ph=["color"],vh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,ph);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),mh=["color"],gh=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,mh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))}),yh=["color"],yf=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,yh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:v}))}),xh=["color"],xf=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,xh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:v}))}),wh=["color"],wf=P.forwardRef(function(a,n){var c=a.color,v=c===void 0?"currentColor":c,i=gt(a,wh);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),P.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:v,fillRule:"evenodd",clipRule:"evenodd"}))});function Sh(a,n){if(typeof a!="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var v=c.call(a,n||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Ch(a){var n=Sh(a,"string");return typeof n=="symbol"?n:String(n)}function _h(a,n,c){return n=Ch(n),n in a?Object.defineProperty(a,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[n]=c,a}function mc(a,n){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(a);n&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),c.push.apply(c,v)}return c}function Hl(a){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?mc(Object(c),!0).forEach(function(v){_h(a,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mc(Object(c)).forEach(function(v){Object.defineProperty(a,v,Object.getOwnPropertyDescriptor(c,v))})}return a}const Pn={value:0,fpsLimit:60,isOverLimit:0},to=a=>(a==null?void 0:a.reduce((n,c)=>n+c,0))/a.length;class Eh{constructor(n={}){this.names=[""],this.finished=[],this.gl=void 0,this.extension=void 0,this.query=void 0,this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,n),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=kc.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let n=0;const c=v=>{++n<20?this.rafId=window.requestAnimationFrame(c):(this.detected=Math.ceil(1e3*n/(v-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=v)};this.rafId=window.requestAnimationFrame(c)}addUI(n){this.names.indexOf(n)===-1&&(this.names.push(n),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(n){const c=16.666666666666668,v=c-n.timeRemaining(),i=c*Pn.fpsLimit/10/v;i<0||(Pn.value=i,Pn.isOverLimit<25?Pn.isOverLimit++:Ge.setState({overclockingFps:!0}))}nextFrame(n){this.frameId++;const c=n||this.now();let v=c-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=c;else if(c>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const r=this.frameId-this.paramFrame,s=r*1e3/v,f=Ge.getState().overclockingFps?Pn.value:s;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/v,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const u=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=u.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(s),this.logsAccums.fps.push(f),this.logsAccums.gpu.push(i),this.overClock&&typeof window.requestIdleCallback<"u"&&(Pn.isOverLimit>0&&f>s?Pn.isOverLimit--:Ge.getState().overclockingFps&&Ge.setState({overclockingFps:!1})),c>=this.paramTime+180&&(this.paramLogger({cpu:to(this.logsAccums.cpu),gpu:to(this.logsAccums.gpu),mem:to(this.logsAccums.mem),fps:to(this.logsAccums.fps),duration:Math.round(v),maxMemory:this.maxMemory,frameCount:r}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=c),this.overClock&&c-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=n,Pn.fpsLimit=Math.round(to(this.logsAccums.fpsFixed)/10)*100,Ge.setState({fpsLimit:Pn.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=c)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=c,this.circularId=0;else{const r=c-this.chartTime;let s=this.chartHz*r/1e3;for(;--s>0&&this.detected;){const u=(this.frameId-this.chartFrame)/r*1e3,h=Ge.getState().overclockingFps?Pn.value:u;this.fpsChart[this.circularId%this.chartLen]=h;const d=1e3/this.currentMem,m=this.currentCpu,y=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/v*100))+4;y>0&&(this.gpuChart[this.circularId%this.chartLen]=y),m>0&&(this.cpuChart[this.circularId%this.chartLen]=m),d>0&&(this.memChart[this.circularId%this.chartLen]=d);for(let x=0;x<this.names.length;x++)this.chartLogger({i:x,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=c}}}startGpu(){const n=this.gl,c=this.extension;if(!(!n||!c)&&this.isWebGL2){let v=!1,i,r;if(this.query){this.queryHasResult=!1;let s=this.query;if(v=n.getQueryParameter(s,n.QUERY_RESULT_AVAILABLE),i=n.getParameter(c.GPU_DISJOINT_EXT),v&&!i){r=n.getQueryParameter(this.query,n.QUERY_RESULT);const f=r*1e-6;v&&f>0&&(i||this.activeAccums.forEach((u,h)=>{this.gpuAccums[h]=f}))}}(v||!this.query)&&(this.queryCreated=!0,this.query=n.createQuery(),n.beginQuery(c.TIME_ELAPSED_EXT,this.query))}}endGpu(){const n=this.extension,c=this.gl;this.isWebGL2&&this.queryCreated&&c.getQuery(n.TIME_ELAPSED_EXT,c.CURRENT_QUERY)&&c.endQuery(n.TIME_ELAPSED_EXT)}begin(n){this.startGpu(),this.updateAccums(n)}end(n){this.endGpu(),this.updateAccums(n)}updateAccums(n){let c=this.names.indexOf(n);c===-1&&(c=this.names.length,this.addUI(n));const v=this.now();this.activeAccums[c]=!this.activeAccums[c],this.t0=v}}const Th=a=>{a.forEach((n,c)=>{const{meshes:v}=n;if(!v)return;let i={total:0,type:"Triangle",data:[]};Object.keys(v).forEach(r=>{const s=v[r],{geometry:f,material:u}=s;let h=f.index;const d=f.attributes.position;if(!d)return;let m=1;u.wireframe===!0&&(m=0);const y=h!==null?h.count:d.count,x=f.drawRange.start*m,C=f.drawRange.count*m,T=x,S=Math.min(y,x+C)-1;let _=1;const w=s.count||1;let M="Triangle",D=0;s.isMesh?u.wireframe===!0?(M="Line",_=_/2):(M="Triangle",_=_/3):s.isLine?(M="Line",s.isLineSegments?_=_/2:s.isLineLoop?_=_:_=_-1):s.isPoints?(M="Point",_=_):s.isSprite&&(M="Triangle",_=_/3);const R=Math.round(Math.max(0,S-T+1)*(_*w));R>D&&(D=R,i.type=M),i.total+=R,i.data.push({drawCount:R,type:M}),s.userData.drawCount={type:M,count:R}}),n.drawCounts=i})},Mh=Ir.prototype.updateMatrixWorld,kh=Ir.prototype.updateWorldMatrix,gc=Ir.prototype.updateMatrix;let gi={value:0},Xn={value:0};const Ph=a=>{let n=""+a;return n=n.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),n!==null},yc=(a,n)=>{a.defines||(a.defines={}),a.defines&&!a.defines.muiPerf&&(a.defines=Object.assign(a.defines||{},{muiPerf:a.uuid}));const c=a.uuid;return n[c]||(n[c]={meshes:{},material:a},a.needsUpdate=!0),a.needsUpdate=!1,c},Lh=a=>a==="muiPerf",Ge=ed(a=>({log:null,paused:!1,triggerProgramsUpdate:0,customData:0,fpsLimit:60,overclockingFps:!1,chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos"})),Sf=({trackCPU:a,overClock:n,chart:c,deepAnalyze:v,matrixUpdate:i})=>{const{gl:r,scene:s}=Ci();Ge.setState({gl:r,scene:s});const f=P.useMemo(()=>{const u=new Eh({trackGPU:!0,overClock:n,chartLen:c?c.length:120,chartHz:c?c.hz:60,gl:r.getContext(),chartLogger:m=>{Ge.setState({chart:m})},paramLogger:m=>{Ge.setState({log:{maxMemory:m.maxMemory,gpu:m.gpu,cpu:m.cpu,mem:m.mem,fps:m.fps,totalTime:m.duration,frameCount:m.frameCount}})}}),h=new Map,d=new Map;return Object.defineProperty(da.prototype,"onBeforeRender",{get(){return(...m)=>{var y;u&&u.begin("profiler"),(y=h.get(this))===null||y===void 0||y(...m)}},set(m){h.set(this,m)},configurable:!0}),Object.defineProperty(da.prototype,"onAfterRender",{get(){return(...m)=>{var y;u&&u.end("profiler"),(y=d.get(this))===null||y===void 0||y(...m)}},set(m){d.set(this,m)},configurable:!0}),u},[]);return P.useEffect(()=>{f&&(f.overClock=n||!1,n===!1&&(Ge.setState({overclockingFps:!1}),Pn.value=0,Pn.isOverLimit=0),f.chartHz=(c==null?void 0:c.hz)||60,f.chartLen=(c==null?void 0:c.length)||120)},[n,f,c==null?void 0:c.length,c==null?void 0:c.hz]),P.useEffect(()=>{i&&(Ir.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&gi.value++,Mh.apply(this,arguments)},Ir.prototype.updateWorldMatrix=function(){gi.value++,kh.apply(this,arguments)},Ir.prototype.updateMatrix=function(){Xn.value++,gc.apply(this,arguments)}),r.info.autoReset=!1;let u=null,h=null;if(r.info)return u=r1(function(){Ge.getState().paused&&Ge.setState({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),f.startCpuProfiling=!0),Xn.value-=1,gi.value=0,Xn.value=0,r.info&&r.info.reset()}),h=i1(function(){if(f&&!f.paused&&(f.nextFrame(window.performance.now()),n&&typeof window.requestIdleCallback<"u"&&(f.idleCbId=requestIdleCallback(f.nextFps))),v){var m,y;const x={},C=new Map;s.traverse(function(S){if((S instanceof oo||S instanceof Fd)&&S.material){let _=S.material.uuid;Array.isArray(S.material)&&S.material.length>1?_=yc(S.material[1],x):_=yc(S.material,x),x[_].meshes[S.uuid]=S}}),r==null||(m=r.info)===null||m===void 0||(y=m.programs)===null||y===void 0||y.forEach(T=>{const S=T.cacheKey.split(","),_=S[S.findIndex(Lh)+1];if(Ph(_)&&x[_]){const{material:w,meshes:M}=x[_];C.set(_,{program:T,material:w,meshes:M,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),C.size!==Ge.getState().programs.size&&(Th(C),Ge.setState({programs:C,triggerProgramsUpdate:Ge.getState().triggerProgramsUpdate++}))}}),()=>{f&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(f.idleCbId),window.cancelAnimationFrame(f.rafId),window.cancelAnimationFrame(f.checkQueryId)),i&&(Ir.prototype.updateMatrixWorld=gc),u(),h()}},[f,r,a,c,i]),P.useEffect(()=>{const u=o1(function(){return f&&(f.paused=!0,Xn.value=0,gi.value=0,Ge.setState({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{u()}},[]),null},Uh=_t("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),Pl=_t("small",{position:"absolute",right:0,fontSize:"10px"}),Nt=_t("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),rn=_t("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),Rh=_t("div",{display:"flex"}),Fh=_t("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Ah=_t("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Dh=_t("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),is=_t("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Oh=_t("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),zh=_t("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),Ih=_t("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),jh=_t("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),bh=_t("div",{marginTop:"0"}),xc=_t("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),Cf=_t("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),_f=_t("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),Bh=_t("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),Nh=_t("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}}),kn=P.memo(({isPerf:a,color:n,colorBlind:c,customData:v,isMemory:i,isShadersInfo:r,metric:s,fontSize:f,offsetY:u=0,offsetX:h,round:d,hasInstance:m})=>{const{width:y,height:x}=Ci(S=>S.viewport),C=P.useRef(null),T=P.useRef(null);return ao(function(){const _=Ge.getState().gl,w=Ge.getState().log;if(!w||!C.current||(v&&(C.current.text=Ge.getState().customData),!s))return;let M=w[s];if(r){var D;M=(D=_.info.programs)===null||D===void 0?void 0:D.length}else s==="matriceCount"?M=Xn.value:!a&&_.info.render&&(M=(i?_.info.memory:_.info.render)[s]);if(s==="fps"&&(C.current.color=Ge.getState().overclockingFps?Gt(c).overClock.toString():`rgb(${Gt(c).fps.toString()})`),C.current.text=(Math.round(M*Math.pow(10,d))/Math.pow(10,d)).toFixed(d),m){const R=_.info.instance;if(typeof R>"u"&&s!=="matriceCount")return;let A;s==="matriceCount"?A=gi.value:A=R[s],A>0?(C.current.fontSize=f/1.15,T.current.fontSize=M>0?f/1.4:f,C.current.position.y=x/2-u-f/1.9,T.current.text=" 	"+(Math.round(A*Math.pow(10,d))/Math.pow(10,d)).toFixed(d)):(C.current.position.y=x/2-u-f,C.current.fontSize=f)}Xn.value-=1,C.current.updateMatrix(),C.current.matrixWorld.copy(C.current.matrix)}),L.jsxs(P.Suspense,{fallback:null,children:[L.jsxs(vc,{textAlign:"justify",matrixAutoUpdate:!1,ref:C,fontSize:f,position:[-y/2+h+f,x/2-u-f,0],color:n,characters:"0123456789",onUpdate:S=>{S.updateMatrix(),Xn.value-=1,S.matrixWorld.copy(S.matrix)},children:[L.jsx("meshBasicMaterial",{blending:Du}),"0"]}),m&&L.jsx(vc,{textAlign:"justify",matrixAutoUpdate:!1,ref:T,fontSize:8,position:[-y/2+h+f,x/2-u-f*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:S=>{S.updateMatrix(),Xn.value-=1,S.matrixWorld.copy(S.matrix)},children:L.jsx("meshBasicMaterial",{blending:Du})})]})}),Gh=({colorBlind:a,customData:n,minimal:c,matrixUpdate:v})=>L.jsxs(L.Fragment,{children:[L.jsx(kn,{colorBlind:a,color:`rgb(${Gt(a).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),L.jsx(kn,{color:`rgb(${Gt(a).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),L.jsx(kn,{color:`rgb(${Gt(a).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),c?null:L.jsxs(L.Fragment,{children:[L.jsx(kn,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),L.jsx(kn,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),L.jsx(kn,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),L.jsx(kn,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),L.jsx(kn,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),L.jsx(kn,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),L.jsx(kn,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),v&&L.jsx(kn,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),n&&L.jsx(kn,{color:`rgb(${Gt(a).custom.toString()})`,customData:n,fontSize:14,offsetY:0,offsetX:c?200:320,round:0})]}),Wh=({colorBlind:a,minimal:n,chart:c={length:30,hz:15}})=>{const v=P.useMemo(()=>({fps:new Float32Array(c.length*3),cpu:new Float32Array(c.length*3),gpu:new Float32Array(c.length*3)}),[c]),i=P.useRef(null),r=P.useRef(null),s=P.useRef(null),f=P.useRef(null),u=P.useMemo(()=>new st(0,0,0),[]),h=(d,m=1,y,x)=>{let C=0;const{width:T,height:S}=x,_=Ge.getState().chart.data[d];if(!_||_.length===0)return;const w=n?2:6,M=n?12:50;let D=_.length;for(let R=0;R<D;R++){let A=(Ge.getState().chart.circularId+R+1)%D;_[A]!==void 0&&(_[A]>C&&(C=_[A]*m),u.set(w+R/(D-1)*(T-w*2)-T/2,Math.min(100,_[A])*m/100*(S-w*2-M)-S/2,0),u.toArray(y.attributes.position.array,R*3))}y.attributes.position.needsUpdate=!0};return ao(function({viewport:m}){h("fps",1,i.current,m),r.current&&r.current.color.set(Ge.getState().overclockingFps?Gt(a).overClock.toString():`rgb(${Gt(a).fps.toString()})`),h("gpu",5,s.current,m),h("cpu",5,f.current,m)}),L.jsxs(L.Fragment,{children:[L.jsxs("line",{children:[L.jsx("bufferGeometry",{ref:i,children:L.jsx("bufferAttribute",{attach:"attributes-position",count:c.length,array:v.fps,itemSize:3,usage:hl,needsUpdate:!0})}),L.jsx("lineBasicMaterial",{ref:r,color:`rgb(${Gt(a).fps.toString()})`,transparent:!0,opacity:.5})]}),L.jsxs("line",{children:[L.jsx("bufferGeometry",{ref:s,children:L.jsx("bufferAttribute",{attach:"attributes-position",count:c.length,array:v.gpu,itemSize:3,usage:hl,needsUpdate:!0})}),L.jsx("lineBasicMaterial",{color:`rgb(${Gt(a).gpu.toString()})`,transparent:!0,opacity:.5})]}),L.jsxs("line",{children:[L.jsx("bufferGeometry",{ref:f,children:L.jsx("bufferAttribute",{attach:"attributes-position",count:c.length,array:v.cpu,itemSize:3,usage:hl,needsUpdate:!0})}),L.jsx("lineBasicMaterial",{color:`rgb(${Gt(a).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},Hh=({colorBlind:a,chart:n,customData:c,matrixUpdate:v,showGraph:i=!0,antialias:r=!0,minimal:s})=>{const f=P.useRef(void 0),u=Ge(h=>h.paused);return L.jsxs(Ah,{style:{display:"flex",position:"absolute",height:`${s?37:i?100:60}px`,minWidth:`${s?"100px":c?"370px":"310px"}`},children:[L.jsx(P1,{ref:f,orthographic:!0,dpr:r?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:h})=>{h.traverse(d=>{d.matrixWorldAutoUpdate=!1,d.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${s?37:i?100:60}px`},children:u?null:L.jsxs(L.Fragment,{children:[L.jsx(Vh,{}),L.jsx(Gh,{customData:c,minimal:s,matrixUpdate:v}),i&&L.jsx(Wh,{colorBlind:a,minimal:s,chart:n})]})}),u&&L.jsxs(Dh,{children:[L.jsx(fh,{})," PAUSED"]})]})},Vh=()=>(ao(function({gl:n,scene:c,camera:v}){v.updateMatrix(),Xn.value-=1,v.matrixWorld.copy(v.matrix),v.matrixWorldInverse.copy(v.matrixWorld).invert(),n.render(c,v),gi.value=0,Xn.value=0},1/0),null);function Zh(a,n){if(a==null)return{};var c={},v=Object.keys(a),i,r;for(r=0;r<v.length;r++)i=v[r],!(n.indexOf(i)>=0)&&(c[i]=a[i]);return c}function Qh(a,n){if(a==null)return{};var c=Zh(a,n),v,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(i=0;i<r.length;i++)v=r[i],!(n.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(a,v)&&(c[v]=a[v])}return c}const Xh=["portal","className","children"],Yh=P.forwardRef((a,n)=>{let{portal:c,className:v,children:i}=a,r=Qh(a,Xh);const s=Ci(d=>d.gl),f=P.useRef(null),u=P.useRef(null),h=(c==null?void 0:c.current)!=null?c.current:s.domElement.parentNode;return P.useLayoutEffect(()=>{if(!f.current||!h)return;const d=document.createElement("div"),m=u.current=_c(d);return h.appendChild(d),()=>{m.unmount(),u.current=null,h.removeChild(d)}},[h]),P.useLayoutEffect(()=>{const d=u.current;d&&d.render(L.jsx("div",{ref:n,className:v,children:i}))}),L.jsx("group",Hl(Hl({},r),{},{ref:f}))}),wc=(a,n)=>{const c=i=>{switch(i){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},v=i=>{switch(i){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:a,url:n.image.currentSrc,encoding:v(n.encoding),wrapT:c(n.image.wrapT),flipY:n.flipY.toString()}},Jh=({program:a,material:n,setTexNumber:c})=>{const v=Ge(s=>s.gl),[i,r]=P.useState(null);return P.useEffect(()=>{if(v){const s=a==null?void 0:a.getUniforms();let f=0;const u=new Map;s.seq.forEach(h=>{if(!h.id.includes("uTroika")&&h.id!=="isOrthographic"&&h.id!=="uvTransform"&&h.id!=="lightProbe"&&h.id!=="projectionMatrix"&&h.id!=="viewMatrix"&&h.id!=="normalMatrix"&&h.id!=="modelMatrix"&&h.id!=="modelViewMatrix"){let d=[],m={name:h.id};h.cache&&(h.cache.forEach(y=>{typeof y<"u"&&d.push(y.toString().substring(0,4))}),m.value=d.join(),n[h.id]&&n[h.id].image&&n[h.id].image&&(f++,m.value=wc(h.id,n[h.id])),m.value||(m.value="empty"),u.set(h.id,m))}}),n.uniforms&&Object.keys(n.uniforms).forEach(h=>{const d=n.uniforms[h];if(d.value){const{value:m}=d;let y={name:h};if(h.includes("uTroika"))return;if(m instanceof Vl)f++,y.value=wc(h,m);else{let x=JSON.stringify(m);try{x=JSON.stringify(m)}catch{x=m.toString()}y.value=x}u.set(h,y)}}),f>0&&c(f),r(u)}},[]),L.jsx(Cf,{children:i&&Array.from(i.values()).map(s=>L.jsx("span",{children:typeof s.value=="string"?L.jsx("li",{children:L.jsxs("span",{children:[s.name," :"," ",L.jsxs("b",{children:[s.value.substring(0,30),s.value.length>30?"...":""]})]})}):L.jsxs(L.Fragment,{children:[L.jsx("li",{children:L.jsxs("b",{children:[s.value.name,":"]})}),L.jsxs("div",{children:[Object.keys(s.value).map(f=>f!=="name"?L.jsx("div",{children:f==="url"?L.jsx("a",{href:s.value[f],target:"_blank",children:L.jsx("img",{src:s.value[f]})}):L.jsxs("li",{children:[f,": ",L.jsx("b",{children:s.value[f]})]})},f):null),L.jsxs(_f,{onClick:()=>{var f;console.info(n[s.value.name]||(n==null||(f=n.uniforms[s.value.name])===null||f===void 0?void 0:f.value))},children:["console.info(",s.value.name,");"]})]})]})},s.name))})},Kh=({el:a})=>{Ge(v=>v.log);const n=Ge(v=>v.gl),c=v=>{if(!n)return 0;const i=Math.round(v.drawCounts.total/(n.info.render.triangles+n.info.render.lines+n.info.render.points)*100*10)/10;return isFinite(i)&&i||0};return L.jsx(L.Fragment,{children:a.drawCounts.total>0&&L.jsxs(Nt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[a.drawCounts.type==="Triangle"?L.jsx(wf,{style:{top:"-1px"}}):L.jsx(gf,{style:{top:"-1px"}}),a.drawCounts.total,L.jsxs("small",{children:[a.drawCounts.type,"s"]}),n&&L.jsxs(rn,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[a.visible&&!a.material.wireframe?c(a):0,"%"]})]})})},qh=({el:a})=>{const[n,c]=P.useState(a.visible),[v,i]=P.useState(a.expand),[r,s]=P.useState(0),{meshes:f,program:u,material:h}=a;return L.jsxs(zh,{children:[L.jsxs(Fh,{onClick:()=>{a.expand=!v,Object.keys(f).forEach(d=>{const m=f[d];m.material.wireframe=!1}),i(!v)},children:[L.jsx(is,{style:{marginRight:"6px"},children:v?L.jsx("span",{children:L.jsx(yf,{})}):L.jsx("span",{children:L.jsx(xf,{})})}),u&&L.jsxs("span",{children:[L.jsx(Ih,{children:u.name}),L.jsxs(Nt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[L.jsx(rh,{style:{top:"-1px"}}),Object.keys(f).length,L.jsx("small",{children:Object.keys(f).length>1?"users":"user"})]}),r>0&&L.jsxs(Nt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[r>1?L.jsx(Wl,{style:{top:"-1px"}}):L.jsx(Wl,{style:{top:"-1px"}}),r,L.jsx("small",{children:"tex"})]}),L.jsx(Kh,{el:a}),h.glslVersion==="300 es"&&L.jsxs(Nt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[L.jsx(hh,{style:{top:"-1px"}}),"300",L.jsx("small",{children:"es"}),L.jsx(rn,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),L.jsx(Oh,{onPointerEnter:()=>{Object.keys(f).forEach(d=>{const m=f[d];m.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(f).forEach(d=>{const m=f[d];m.material.wireframe=!1})},onClick:d=>{d.stopPropagation(),Object.keys(f).forEach(m=>{const y=f[m],x=!n;y.visible=x,a.visible=x,c(x)})},children:n?L.jsx(q0,{}):L.jsx(J0,{})})]}),L.jsxs("div",{style:{maxHeight:v?"9999px":0,overflow:"hidden"},children:[L.jsxs(xc,{children:[L.jsx(G0,{})," Uniforms:"]}),L.jsx(Jh,{program:u,material:h,setTexNumber:s}),L.jsxs(xc,{children:[L.jsx(H0,{})," Geometries:"]}),L.jsx(Cf,{children:f&&Object.keys(f).map(d=>f[d]&&f[d].geometry&&L.jsxs(Nh,{children:[L.jsxs("span",{children:[f[d].geometry.type,": "]}),f[d].userData&&f[d].userData.drawCount&&L.jsxs("b",{children:[L.jsxs("div",{children:[f[d].userData.drawCount.count,L.jsxs("small",{children:[" ",f[d].userData.drawCount.type,"s"]})]}),L.jsx("br",{}),L.jsxs("div",{children:[Math.round(j1(f[d].geometry)/1024*1e3)/1e3,"Kb",L.jsx("small",{children:" memory used"})]})]})]},d))}),L.jsxs(_f,{onClick:()=>{console.info(h)},children:["console.info(",h.type,")"]})]})]})},$h=()=>{Ge(n=>n.triggerProgramsUpdate);const a=Ge(n=>n.programs);return L.jsx(bh,{children:a&&Array.from(a.values()).map(n=>n&&n?L.jsx(qh,{el:n},n.material.uuid):null)})},Gt=a=>({overClock:"#ff6eff",fps:a?"100, 143, 255":"238,38,110",cpu:a?"254, 254, 98":"66,226,46",gpu:a?"254,254,254":"253,151,31",custom:a?"86,180,233":"40,255,255"}),ep=({showGraph:a,colorBlind:n})=>{const c=Ge(i=>i.overclockingFps),v=Ge(i=>i.fpsLimit);return L.jsxs(rn,{style:a?{color:c?Gt(n).overClock.toString():`rgb(${Gt(n).fps})`}:{},children:["FPS ",c?`${v}`:""]})},tp=({showGraph:a,colorBlind:n,customData:c,minimal:v})=>{const i=Ge(r=>r.gl);return i?L.jsxs(Rh,{children:[L.jsxs(Nt,{children:[L.jsx(oh,{}),L.jsx(rn,{style:a?{color:`rgb(${Gt(n).gpu.toString()})`}:{},children:"GPU"}),L.jsx(Pl,{children:"ms"})]}),L.jsxs(Nt,{children:[L.jsx(vh,{}),L.jsx(rn,{style:a?{color:`rgb(${Gt(n).cpu.toString()})`}:{},children:"CPU"}),L.jsx(Pl,{children:"ms"})]}),L.jsxs(Nt,{children:[L.jsx(th,{}),L.jsx(ep,{showGraph:a,colorBlind:n})]}),!v&&i&&L.jsxs(Nt,{children:[L.jsx(gh,{}),L.jsx(rn,{children:i.info.render.calls===1?"call":"calls"})]}),!v&&i&&L.jsxs(Nt,{children:[L.jsx(wf,{}),L.jsx(rn,{children:"Triangles"})]}),c&&L.jsxs(Nt,{children:[L.jsx(B0,{}),L.jsx(rn,{style:a?{color:`rgb(${Gt(n).custom})`}:{},children:c.name}),c.info&&L.jsx(Pl,{children:c.info})]})]}):null},np=({showGraph:a,colorBlind:n,deepAnalyze:c,customData:v,matrixUpdate:i,openByDefault:r,minimal:s})=>L.jsxs(L.Fragment,{children:[L.jsx(tp,{showGraph:a,colorBlind:n,customData:v,minimal:s}),!s&&L.jsx(ip,{matrixUpdate:i,openByDefault:r,deepAnalyze:c,showGraph:a})]}),rp=({matrixUpdate:a})=>L.jsxs("div",{children:[L.jsxs(Nt,{children:[L.jsx(lh,{}),L.jsx(rn,{children:"Geometries"})]}),L.jsxs(Nt,{children:[L.jsx(Wl,{}),L.jsx(rn,{children:"Textures"})]}),L.jsxs(Nt,{children:[L.jsx(gf,{}),L.jsx(rn,{children:"shaders"})]}),L.jsxs(Nt,{children:[L.jsx(uh,{}),L.jsx(rn,{children:"Lines"})]}),L.jsxs(Nt,{children:[L.jsx(Z0,{}),L.jsx(rn,{children:"Points"})]}),a&&L.jsxs(Nt,{children:[L.jsx(X0,{}),L.jsx(rn,{children:"Matrices"})]})]}),Sc=({tab:a,title:n,set:c})=>{const v=Ge(i=>i.tab);return L.jsx(is,{className:`${v===a?" __perf_toggle_tab_active":""}`,onClick:()=>{c(!0),Ge.setState({tab:a})},children:L.jsx("span",{children:n})})},ip=({openByDefault:a,showGraph:n,deepAnalyze:c,matrixUpdate:v})=>{const[i,r]=td.useState(a);return L.jsxs("span",{children:[L.jsx(op,{show:i,showGraph:n,matrixUpdate:v}),a&&!c?null:L.jsxs(Bh,{className:"__perf_toggle",children:[c&&L.jsx(Sc,{tab:"programs",title:"Programs",set:r}),c&&L.jsx(Sc,{tab:"infos",title:"Infos",set:r}),L.jsx(is,{onClick:()=>{r(!i)},children:i?L.jsxs("span",{children:[L.jsx(yf,{})," Minimize"]}):L.jsxs("span",{children:[L.jsx(xf,{})," More"]})})]})]})},op=({show:a,showGraph:n,matrixUpdate:c})=>{const v=Ge(i=>i.tab);return L.jsxs(L.Fragment,{children:[L.jsx(rp,{matrixUpdate:c}),a&&L.jsx("div",{children:L.jsx(jh,{style:{marginTop:n?"38px":0},children:v==="programs"&&L.jsx($h,{})})})]})},ap=({showGraph:a,colorBlind:n,openByDefault:c,className:v,overClock:i,style:r,position:s,chart:f,deepAnalyze:u,antialias:h,customData:d,matrixUpdate:m,minimal:y})=>{const x=P.useRef(null);return L.jsxs(L.Fragment,{children:[L.jsx(Sf,{chart:f,overClock:i,deepAnalyze:u,matrixUpdate:m}),L.jsx(Yh,{transform:!1,children:L.jsxs(Uh,{className:(v?" ".concat(v):" ")+` ${s||""} ${y?"minimal":""}`,style:Hl({minHeight:y?"37px":a?"100px":"60px"},r),ref:x,children:[L.jsx(Hh,{perfContainerRef:x,colorBlind:n,chart:f,showGraph:a,antialias:h,customData:d,minimal:y,matrixUpdate:m}),L.jsx(np,{colorBlind:n,showGraph:a,deepAnalyze:u,openByDefault:c,customData:d,matrixUpdate:m,minimal:y})]})})]})},gp=({headless:a=!1,colorBlind:n=!1,overClock:c=!1,showGraph:v=!0,trackCPU:i=!1,deepAnalyze:r=!1,antialias:s=!0,openByDefault:f=!0,customData:u,matrixUpdate:h=!1,position:d="top-right",chart:m={length:30,hz:15},className:y,style:x,minimal:C=!1})=>a?L.jsx(Sf,{chart:m,deepAnalyze:r,matrixUpdate:h,overClock:c}):L.jsx(ap,{colorBlind:n,showGraph:v,trackCPU:i,openByDefault:f,className:y,style:x,overClock:c,position:d,antialias:s,chart:m,deepAnalyze:r,minimal:C,customData:u,matrixUpdate:h}),Ll=5e3,lp={show:"#FF723C",clip:"#FFFF00",episode:"#FF7F50",guest:"#E066FF",topic:"#F8F8FF",Topic:"#F8F8FF",Organization:"#FF7F50"},yp=(a,n)=>{const c=lp[a]||"#F8F8FF";return n?c:parseInt(c.replace("#","0x"),16)},xp=()=>{const{fogColor:a}=Ad("universe",{fogColor:od}),n=nd(r=>r.graphStyle),c=P.useRef(null),v=P.useRef(null),i=P.useRef(null);return ao(({camera:r,clock:s})=>{const f=s.getElapsedTime();if(c.current){const h=Math.sin(f/8)*1e3;c.current.position.setZ(h)}if(v.current&&v.current.position.lerp(r.position,.5),i.current){const u=f*.5,h=Math.sin(u)*Ll,d=Math.cos(u)*Ll;i.current.position.set(h,0,d)}}),L.jsxs(L.Fragment,{children:[L.jsx("hemisphereLight",{args:[Ki.white,rd,id]}),n!=="earth"&&L.jsx("fog",{args:[a,5,18e3],attach:"fog"}),L.jsx("ambientLight",{color:Ki.white,intensity:1}),L.jsx("pointLight",{ref:v,color:Ki.white,distance:4e3,intensity:5,position:[0,0,0]}),L.jsx("directionalLight",{ref:i,color:Ki.white,intensity:8,position:[Ll,0,0]}),L.jsx("pointLight",{ref:c,color:Ki.white,distance:4e3,intensity:8,position:[0,0,0]})]})},wp=a=>{const n=P.useRef();return P.useEffect(()=>{n.current=a}),n.current},Sp={font:"/fonts/Inter-Bold.woff",characters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!",fontSize:2,letterSpacing:-.05,lineHeight:1,"material-toneMapped":!1},Cp=(a,n)=>a.length>n?`${a.substring(0,n)}...`:a;export{P1 as C,lp as D,hp as H,N1 as L,gp as P,vc as T,Yc as a,ao as b,ns as c,ts as d,Hd as e,fp as f,vp as g,yp as h,Sp as i,wp as j,xp as k,pp as m,Cp as t,Ci as u};
