import{ah as me,r as i,ab as ee,_ as Me,ai as ie,aj as kt,ak as ot,al as Ft,am as ae,V as j,an as pe,ao as it,ap as Ut,j as n,aq as Fe,ar as $t,as as B,at as Ue,au as at,G as Zt,av as Gt,aw as Nt,ax as Vt,ay as Bt,az as Wt,aA as qt,aB as Dt,a3 as U,i as v,aC as Xt,aD as ce,f as q,h as F,F as ct,aE as lt,aF as Yt,l as Qt,aG as ut,aH as Kt,aI as Jt,k as dt,Z as er,aJ as oe,aK as tr,aL as rr,aM as nr,aN as ve,x as sr,aO as or,aP as ir,aQ as ar,aR as cr,P as lr,aS as ur}from"./index-8c6e7d86.js";import{u as K,a as Ie,e as dr,m as ft,b as z,T as Se,c as fr,d as pr,f as hr,C as pt,g as N,p as gr,h as mr,i as xr,j as Pe,S as Cr,H as Ae,k as vr,l as ht,n as yr,L as wr,D as br,U as he,P as jr,A as Mr,o as Sr,q as Lr,r as Er,E as Rr,V as Ir,B as Pr,R as $e,O as Ar,s as Tr}from"./index-267bee38.js";import{r as R,A as _r,l as gt}from"./react-toastify.esm-fcf4c1e7.js";import{q as Te}from"./generateCategoricalChart-d76b6bfd.js";import{T as zr}from"./index-9064bf54.js";import{f as Hr,d as Or}from"./index.esm-5e8d1785.js";import{E as kr}from"./EditIcon-80229cd3.js";import{P as Fr}from"./PlusIcon-b3e2a8bf.js";import{u as Ze}from"./index-3a2e60ff.js";import{P as Ur,O as $r}from"./index-a22116be.js";import"./Popover-94860109.js";import"./useSlotProps-723c9ba2.js";import"./InfoIcon-27e3afdb.js";import"./ChevronUpIcon-823264dd.js";import"./ChevronDownIcon-ec5e4f6b.js";import"./index-d010b8aa.js";import"./index-521d6d55.js";import"./index-c3d690f6.js";import"./index-2db2798f.js";import"./Popper-d3638f43.js";import"./CheckIcon-22266ff6.js";import"./Stack-a08a5235.js";function Zr(e){let t=0;for(let s in e.attributes){const o=e.getAttribute(s);t+=o.count*o.itemSize*o.array.BYTES_PER_ELEMENT}const r=e.getIndex();return t+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0,t}const Ge=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function W(e,t){const r=K(o=>o.gl),s=Ie(me,Ge(e)?Object.values(e):e);if(i.useLayoutEffect(()=>{t==null||t(s)},[t]),i.useEffect(()=>{(Array.isArray(s)?s:[s]).forEach(r.initTexture)},[r,s]),Ge(e)){const o=Object.keys(e),l={};return o.forEach(a=>Object.assign(l,{[a]:s[o.indexOf(a)]})),l}else return s}W.preload=e=>Ie.preload(me,e);W.clear=e=>Ie.clear(me,e);ee.func.isRequired,ee.arrayOf(ee.oneOfType([ee.element,ee.func])).isRequired;const Ne=new ae,Ve=new ae,le=[],te=new it;class Gr extends kt{constructor(){super(),this.color=new ot("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var t;return(t=this.instance.current)==null?void 0:t.geometry}raycast(t,r){const s=this.instance.current;if(!s||!s.geometry||!s.material)return;te.geometry=s.geometry;const o=s.matrixWorld,l=s.userData.instances.indexOf(this.instanceKey);if(!(l===-1||l>s.count)){s.getMatrixAt(l,Ne),Ve.multiplyMatrices(o,Ne),te.matrixWorld=Ve,s.material instanceof Ft?te.material.side=s.material.side:te.material.side=s.material[0].side,te.raycast(t,le);for(let a=0,c=le.length;a<c;a++){const u=le[a];u.instanceId=l,u.object=this,r.push(u)}le.length=0}}}const mt=i.createContext(null),Be=new ae,We=new ae,Nr=new ae,qe=new j,De=new pe,Xe=new j,xt=i.forwardRef(({context:e,children:t,...r},s)=>{i.useMemo(()=>dr({PositionMesh:Gr}),[]);const o=i.useRef(),{subscribe:l,getParent:a}=i.useContext(e||mt);return i.useLayoutEffect(()=>l(o),[]),i.createElement("positionMesh",Me({instance:a(),instanceKey:o,ref:ft([s,o])},r),t)}),Vr=i.forwardRef(({children:e,range:t,limit:r=1e3,frames:s=1/0,...o},l)=>{const[{context:a,instance:c}]=i.useState(()=>{const x=i.createContext(null);return{context:x,instance:i.forwardRef((C,M)=>i.createElement(xt,Me({context:x},C,{ref:M})))}}),u=i.useRef(null),[d,g]=i.useState([]),[[h,f]]=i.useState(()=>{const x=new Float32Array(r*16);for(let C=0;C<r;C++)Nr.identity().toArray(x,C*16);return[x,new Float32Array([...new Array(r*3)].map(()=>1))]});i.useEffect(()=>{u.current.instanceMatrix.needsUpdate=!0});let p=0,m=0;z(()=>{if(s===1/0||p<s){u.current.updateMatrix(),u.current.updateMatrixWorld(),Be.copy(u.current.matrixWorld).invert(),m=Math.min(r,t!==void 0?t:r,d.length),u.current.count=m,u.current.instanceMatrix.updateRange.count=m*16,u.current.instanceColor.updateRange.count=m*3;for(let x=0;x<d.length;x++){const C=d[x].current;C.matrixWorld.decompose(qe,De,Xe),We.compose(qe,De,Xe).premultiply(Be),We.toArray(h,x*16),u.current.instanceMatrix.needsUpdate=!0,C.color.toArray(f,x*3),u.current.instanceColor.needsUpdate=!0}p++}});const w=i.useMemo(()=>({getParent:()=>u,subscribe:x=>(g(C=>[...C,x]),()=>g(C=>C.filter(M=>M.current!==x.current)))}),[]);return i.createElement("instancedMesh",Me({userData:{instances:d},matrixAutoUpdate:!1,ref:ft([l,u]),args:[null,null,0],raycast:()=>null},o),i.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:h.length/16,array:h,itemSize:16,usage:ie}),i.createElement("instancedBufferAttribute",{attach:"instanceColor",count:f.length/3,array:f,itemSize:3,usage:ie}),typeof e=="function"?i.createElement(a.Provider,{value:w},e(c)):i.createElement(mt.Provider,{value:w},e))});function L(e,t){if(e==null)return{};var r={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var Br=["color"],Ct=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Br);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Wr=["color"],qr=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Wr);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Dr=["color"],Xr=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Dr);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Yr=["color"],Qr=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Yr);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Kr=["color"],Jr=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Kr);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),en=["color"],tn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,en);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),rn=["color"],nn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,rn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),sn=["color"],on=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,sn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),an=["color"],Le=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,an);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),cn=["color"],ln=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,cn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),un=["color"],dn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,un);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),fn=["color"],pn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,fn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),hn=["color"],gn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,hn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),mn=["color"],xn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,mn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Cn=["color"],vn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Cn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),yn=["color"],wn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,yn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),bn=["color"],jn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,bn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Mn=["color"],Sn=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Mn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Ln=["color"],vt=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Ln);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:s}))}),En=["color"],yt=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,En);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:s}))}),Rn=["color"],wt=i.forwardRef(function(e,t){var r=e.color,s=r===void 0?"currentColor":r,o=L(e,Rn);return i.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),i.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))});function In(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e){var t=In(e,"string");return typeof t=="symbol"?t:String(t)}function An(e,t,r){return t=Pn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,s)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(r),!0).forEach(function(s){An(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const k={value:0,fpsLimit:60,isOverLimit:0},re=e=>(e==null?void 0:e.reduce((t,r)=>t+r,0))/e.length;class Tn{constructor(t={}){this.names=[""],this.finished=[],this.gl=void 0,this.extension=void 0,this.query=void 0,this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,t),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=at.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let t=0;const r=s=>{++t<20?this.rafId=window.requestAnimationFrame(r):(this.detected=Math.ceil(1e3*t/(s-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=s)};this.rafId=window.requestAnimationFrame(r)}addUI(t){this.names.indexOf(t)===-1&&(this.names.push(t),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(t){const r=16.666666666666668,s=r-t.timeRemaining(),o=r*k.fpsLimit/10/s;o<0||(k.value=o,k.isOverLimit<25?k.isOverLimit++:b.setState({overclockingFps:!0}))}nextFrame(t){this.frameId++;const r=t||this.now();let s=r-this.paramTime,o=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=r;else if(r>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const l=this.frameId-this.paramFrame,a=l*1e3/s,c=b.getState().overclockingFps?k.value:a;if(o=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/s,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const u=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=u.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(a),this.logsAccums.fps.push(c),this.logsAccums.gpu.push(o),this.overClock&&typeof window.requestIdleCallback<"u"&&(k.isOverLimit>0&&c>a?k.isOverLimit--:b.getState().overclockingFps&&b.setState({overclockingFps:!1})),r>=this.paramTime+180&&(this.paramLogger({cpu:re(this.logsAccums.cpu),gpu:re(this.logsAccums.gpu),mem:re(this.logsAccums.mem),fps:re(this.logsAccums.fps),duration:Math.round(s),maxMemory:this.maxMemory,frameCount:l}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=r),this.overClock&&r-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=t,k.fpsLimit=Math.round(re(this.logsAccums.fpsFixed)/10)*100,b.setState({fpsLimit:k.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=r)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=r,this.circularId=0;else{const l=r-this.chartTime;let a=this.chartHz*l/1e3;for(;--a>0&&this.detected;){const u=(this.frameId-this.chartFrame)/l*1e3,d=b.getState().overclockingFps?k.value:u;this.fpsChart[this.circularId%this.chartLen]=d;const g=1e3/this.currentMem,h=this.currentCpu,f=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/s*100))+4;f>0&&(this.gpuChart[this.circularId%this.chartLen]=f),h>0&&(this.cpuChart[this.circularId%this.chartLen]=h),g>0&&(this.memChart[this.circularId%this.chartLen]=g);for(let p=0;p<this.names.length;p++)this.chartLogger({i:p,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=r}}}startGpu(){const t=this.gl,r=this.extension;if(!(!t||!r)&&this.isWebGL2){let s=!1,o,l;if(this.query){this.queryHasResult=!1;let a=this.query;if(s=t.getQueryParameter(a,t.QUERY_RESULT_AVAILABLE),o=t.getParameter(r.GPU_DISJOINT_EXT),s&&!o){l=t.getQueryParameter(this.query,t.QUERY_RESULT);const c=l*1e-6;s&&c>0&&(o||this.activeAccums.forEach((u,d)=>{this.gpuAccums[d]=c}))}}(s||!this.query)&&(this.queryCreated=!0,this.query=t.createQuery(),t.beginQuery(r.TIME_ELAPSED_EXT,this.query))}}endGpu(){const t=this.extension,r=this.gl;this.isWebGL2&&this.queryCreated&&r.getQuery(t.TIME_ELAPSED_EXT,r.CURRENT_QUERY)&&r.endQuery(t.TIME_ELAPSED_EXT)}begin(t){this.startGpu(),this.updateAccums(t)}end(t){this.endGpu(),this.updateAccums(t)}updateAccums(t){let r=this.names.indexOf(t);r===-1&&(r=this.names.length,this.addUI(t));const s=this.now();this.activeAccums[r]=!this.activeAccums[r],this.t0=s}}const _n=e=>{e.forEach((t,r)=>{const{meshes:s}=t;if(!s)return;let o={total:0,type:"Triangle",data:[]};Object.keys(s).forEach(l=>{const a=s[l],{geometry:c,material:u}=a;let d=c.index;const g=c.attributes.position;if(!g)return;let h=1;u.wireframe===!0&&(h=0);const f=d!==null?d.count:g.count,p=c.drawRange.start*h,m=c.drawRange.count*h,w=p,x=Math.min(f,p+m)-1;let C=1;const M=a.count||1;let S="Triangle",I=0;a.isMesh?u.wireframe===!0?(S="Line",C=C/2):(S="Triangle",C=C/3):a.isLine?(S="Line",a.isLineSegments?C=C/2:a.isLineLoop?C=C:C=C-1):a.isPoints?(S="Point",C=C):a.isSprite&&(S="Triangle",C=C/3);const E=Math.round(Math.max(0,x-w+1)*(C*M));E>I&&(I=E,o.type=S),o.total+=E,o.data.push({drawCount:E,type:S}),a.userData.drawCount={type:S,count:E}}),t.drawCounts=o})},zn=B.prototype.updateMatrixWorld,Hn=B.prototype.updateWorldMatrix,Qe=B.prototype.updateMatrix;let Q={value:0},$={value:0};const On=e=>{let t=""+e;return t=t.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),t!==null},Ke=(e,t)=>{e.defines||(e.defines={}),e.defines&&!e.defines.muiPerf&&(e.defines=Object.assign(e.defines||{},{muiPerf:e.uuid}));const r=e.uuid;return t[r]||(t[r]={meshes:{},material:e},e.needsUpdate=!0),e.needsUpdate=!1,r},kn=e=>e==="muiPerf",b=Ut(e=>({log:null,paused:!1,triggerProgramsUpdate:0,customData:0,fpsLimit:60,overclockingFps:!1,chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos"})),bt=({trackCPU:e,overClock:t,chart:r,deepAnalyze:s,matrixUpdate:o})=>{const{gl:l,scene:a}=K();b.setState({gl:l,scene:a});const c=i.useMemo(()=>{const u=new Tn({trackGPU:!0,overClock:t,chartLen:r?r.length:120,chartHz:r?r.hz:60,gl:l.getContext(),chartLogger:h=>{b.setState({chart:h})},paramLogger:h=>{b.setState({log:{maxMemory:h.maxMemory,gpu:h.gpu,cpu:h.cpu,mem:h.mem,fps:h.fps,totalTime:h.duration,frameCount:h.frameCount}})}}),d=new Map,g=new Map;return Object.defineProperty(Ue.prototype,"onBeforeRender",{get(){return(...h)=>{var f;u&&u.begin("profiler"),(f=d.get(this))===null||f===void 0||f(...h)}},set(h){d.set(this,h)},configurable:!0}),Object.defineProperty(Ue.prototype,"onAfterRender",{get(){return(...h)=>{var f;u&&u.end("profiler"),(f=g.get(this))===null||f===void 0||f(...h)}},set(h){g.set(this,h)},configurable:!0}),u},[]);return i.useEffect(()=>{c&&(c.overClock=t||!1,t===!1&&(b.setState({overclockingFps:!1}),k.value=0,k.isOverLimit=0),c.chartHz=(r==null?void 0:r.hz)||60,c.chartLen=(r==null?void 0:r.length)||120)},[t,c,r==null?void 0:r.length,r==null?void 0:r.hz]),i.useEffect(()=>{o&&(B.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&Q.value++,zn.apply(this,arguments)},B.prototype.updateWorldMatrix=function(){Q.value++,Hn.apply(this,arguments)},B.prototype.updateMatrix=function(){$.value++,Qe.apply(this,arguments)}),l.info.autoReset=!1;let u=null,d=null;if(l.info)return u=fr(function(){b.getState().paused&&b.setState({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),c.startCpuProfiling=!0),$.value-=1,Q.value=0,$.value=0,l.info&&l.info.reset()}),d=pr(function(){if(c&&!c.paused&&(c.nextFrame(window.performance.now()),t&&typeof window.requestIdleCallback<"u"&&(c.idleCbId=requestIdleCallback(c.nextFps))),s){var h,f;const p={},m=new Map;a.traverse(function(x){if((x instanceof it||x instanceof Gt)&&x.material){let C=x.material.uuid;Array.isArray(x.material)&&x.material.length>1?C=Ke(x.material[1],p):C=Ke(x.material,p),p[C].meshes[x.uuid]=x}}),l==null||(h=l.info)===null||h===void 0||(f=h.programs)===null||f===void 0||f.forEach(w=>{const x=w.cacheKey.split(","),C=x[x.findIndex(kn)+1];if(On(C)&&p[C]){const{material:M,meshes:S}=p[C];m.set(C,{program:w,material:M,meshes:S,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),m.size!==b.getState().programs.size&&(_n(m),b.setState({programs:m,triggerProgramsUpdate:b.getState().triggerProgramsUpdate++}))}}),()=>{c&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(c.idleCbId),window.cancelAnimationFrame(c.rafId),window.cancelAnimationFrame(c.checkQueryId)),o&&(B.prototype.updateMatrixWorld=Qe),u(),d()}},[c,l,e,r,o]),i.useEffect(()=>{const u=hr(function(){return c&&(c.paused=!0,$.value=0,Q.value=0,b.setState({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{u()}},[]),null},Fn=R("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),ye=R("small",{position:"absolute",right:0,fontSize:"10px"}),P=R("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),H=R("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),Un=R("div",{display:"flex"}),$n=R("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Zn=R("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Gn=R("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),_e=R("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Nn=R("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Vn=R("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),Bn=R("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),Wn=R("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),qn=R("div",{marginTop:"0"}),Je=R("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),jt=R("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),Mt=R("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),Dn=R("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),Xn=R("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}}),O=i.memo(({isPerf:e,color:t,colorBlind:r,customData:s,isMemory:o,isShadersInfo:l,metric:a,fontSize:c,offsetY:u=0,offsetX:d,round:g,hasInstance:h})=>{const{width:f,height:p}=K(x=>x.viewport),m=i.useRef(null),w=i.useRef(null);return z(function(){const C=b.getState().gl,M=b.getState().log;if(!M||!m.current||(s&&(m.current.text=b.getState().customData),!a))return;let S=M[a];if(l){var I;S=(I=C.info.programs)===null||I===void 0?void 0:I.length}else a==="matriceCount"?S=$.value:!e&&C.info.render&&(S=(o?C.info.memory:C.info.render)[a]);if(a==="fps"&&(m.current.color=b.getState().overclockingFps?A(r).overClock.toString():`rgb(${A(r).fps.toString()})`),m.current.text=(Math.round(S*Math.pow(10,g))/Math.pow(10,g)).toFixed(g),h){const E=C.info.instance;if(typeof E>"u"&&a!=="matriceCount")return;let T;a==="matriceCount"?T=Q.value:T=E[a],T>0?(m.current.fontSize=c/1.15,w.current.fontSize=S>0?c/1.4:c,m.current.position.y=p/2-u-c/1.9,w.current.text=" ±	"+(Math.round(T*Math.pow(10,g))/Math.pow(10,g)).toFixed(g)):(m.current.position.y=p/2-u-c,m.current.fontSize=c)}$.value-=1,m.current.updateMatrix(),m.current.matrixWorld.copy(m.current.matrix)}),n.jsxs(i.Suspense,{fallback:null,children:[n.jsxs(Se,{textAlign:"justify",matrixAutoUpdate:!1,ref:m,fontSize:c,position:[-f/2+d+c,p/2-u-c,0],color:t,characters:"0123456789",onUpdate:x=>{x.updateMatrix(),$.value-=1,x.matrixWorld.copy(x.matrix)},children:[n.jsx("meshBasicMaterial",{blending:Fe}),"0"]}),h&&n.jsx(Se,{textAlign:"justify",matrixAutoUpdate:!1,ref:w,fontSize:8,position:[-f/2+d+c,p/2-u-c*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:x=>{x.updateMatrix(),$.value-=1,x.matrixWorld.copy(x.matrix)},children:n.jsx("meshBasicMaterial",{blending:Fe})})]})}),Yn=({colorBlind:e,customData:t,minimal:r,matrixUpdate:s})=>n.jsxs(n.Fragment,{children:[n.jsx(O,{colorBlind:e,color:`rgb(${A(e).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),n.jsx(O,{color:`rgb(${A(e).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),n.jsx(O,{color:`rgb(${A(e).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),r?null:n.jsxs(n.Fragment,{children:[n.jsx(O,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),n.jsx(O,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),n.jsx(O,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),n.jsx(O,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),n.jsx(O,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),n.jsx(O,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),n.jsx(O,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),s&&n.jsx(O,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),t&&n.jsx(O,{color:`rgb(${A(e).custom.toString()})`,customData:t,fontSize:14,offsetY:0,offsetX:r?200:320,round:0})]}),Qn=({colorBlind:e,minimal:t,chart:r={length:30,hz:15}})=>{const s=i.useMemo(()=>({fps:new Float32Array(r.length*3),cpu:new Float32Array(r.length*3),gpu:new Float32Array(r.length*3)}),[r]),o=i.useRef(null),l=i.useRef(null),a=i.useRef(null),c=i.useRef(null),u=i.useMemo(()=>new j(0,0,0),[]),d=(g,h=1,f,p)=>{let m=0;const{width:w,height:x}=p,C=b.getState().chart.data[g];if(!C||C.length===0)return;const M=t?2:6,S=t?12:50;let I=C.length;for(let E=0;E<I;E++){let T=(b.getState().chart.circularId+E+1)%I;C[T]!==void 0&&(C[T]>m&&(m=C[T]*h),u.set(M+E/(I-1)*(w-M*2)-w/2,Math.min(100,C[T])*h/100*(x-M*2-S)-x/2,0),u.toArray(f.attributes.position.array,E*3))}f.attributes.position.needsUpdate=!0};return z(function({viewport:h}){d("fps",1,o.current,h),l.current&&l.current.color.set(b.getState().overclockingFps?A(e).overClock.toString():`rgb(${A(e).fps.toString()})`),d("gpu",5,a.current,h),d("cpu",5,c.current,h)}),n.jsxs(n.Fragment,{children:[n.jsxs("line",{children:[n.jsx("bufferGeometry",{ref:o,children:n.jsx("bufferAttribute",{attach:"attributes-position",count:r.length,array:s.fps,itemSize:3,usage:ie,needsUpdate:!0})}),n.jsx("lineBasicMaterial",{ref:l,color:`rgb(${A(e).fps.toString()})`,transparent:!0,opacity:.5})]}),n.jsxs("line",{children:[n.jsx("bufferGeometry",{ref:a,children:n.jsx("bufferAttribute",{attach:"attributes-position",count:r.length,array:s.gpu,itemSize:3,usage:ie,needsUpdate:!0})}),n.jsx("lineBasicMaterial",{color:`rgb(${A(e).gpu.toString()})`,transparent:!0,opacity:.5})]}),n.jsxs("line",{children:[n.jsx("bufferGeometry",{ref:c,children:n.jsx("bufferAttribute",{attach:"attributes-position",count:r.length,array:s.cpu,itemSize:3,usage:ie,needsUpdate:!0})}),n.jsx("lineBasicMaterial",{color:`rgb(${A(e).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},Kn=({colorBlind:e,chart:t,customData:r,matrixUpdate:s,showGraph:o=!0,antialias:l=!0,minimal:a})=>{const c=i.useRef(void 0),u=b(d=>d.paused);return n.jsxs(Zn,{style:{display:"flex",position:"absolute",height:`${a?37:o?100:60}px`,minWidth:`${a?"100px":r?"370px":"310px"}`},children:[n.jsx(pt,{ref:c,orthographic:!0,dpr:l?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:d})=>{d.traverse(g=>{g.matrixWorldAutoUpdate=!1,g.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${a?37:o?100:60}px`},children:u?null:n.jsxs(n.Fragment,{children:[n.jsx(Jn,{}),n.jsx(Yn,{customData:r,minimal:a,matrixUpdate:s}),o&&n.jsx(Qn,{colorBlind:e,minimal:a,chart:t})]})}),u&&n.jsxs(Gn,{children:[n.jsx(vn,{})," PAUSED"]})]})},Jn=()=>(z(function({gl:t,scene:r,camera:s}){s.updateMatrix(),$.value-=1,s.matrixWorld.copy(s.matrix),s.matrixWorldInverse.copy(s.matrixWorld).invert(),t.render(r,s),Q.value=0,$.value=0},1/0),null);function es(e,t){if(e==null)return{};var r={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function ts(e,t){if(e==null)return{};var r=es(e,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const rs=["portal","className","children"],ns=i.forwardRef((e,t)=>{let{portal:r,className:s,children:o}=e,l=ts(e,rs);const a=K(g=>g.gl),c=i.useRef(null),u=i.useRef(null),d=(r==null?void 0:r.current)!=null?r.current:a.domElement.parentNode;return i.useLayoutEffect(()=>{if(!c.current||!d)return;const g=document.createElement("div"),h=u.current=$t(g);return d.appendChild(g),()=>{h.unmount(),u.current=null,d.removeChild(g)}},[d]),i.useLayoutEffect(()=>{const g=u.current;g&&g.render(n.jsx("div",{ref:t,className:s,children:o}))}),n.jsx("group",Ee(Ee({},l),{},{ref:c}))}),et=(e,t)=>{const r=o=>{switch(o){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},s=o=>{switch(o){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:e,url:t.image.currentSrc,encoding:s(t.encoding),wrapT:r(t.image.wrapT),flipY:t.flipY.toString()}},ss=({program:e,material:t,setTexNumber:r})=>{const s=b(a=>a.gl),[o,l]=i.useState(null);return i.useEffect(()=>{if(s){const a=e==null?void 0:e.getUniforms();let c=0;const u=new Map;a.seq.forEach(d=>{if(!d.id.includes("uTroika")&&d.id!=="isOrthographic"&&d.id!=="uvTransform"&&d.id!=="lightProbe"&&d.id!=="projectionMatrix"&&d.id!=="viewMatrix"&&d.id!=="normalMatrix"&&d.id!=="modelMatrix"&&d.id!=="modelViewMatrix"){let g=[],h={name:d.id};d.cache&&(d.cache.forEach(f=>{typeof f<"u"&&g.push(f.toString().substring(0,4))}),h.value=g.join(),t[d.id]&&t[d.id].image&&t[d.id].image&&(c++,h.value=et(d.id,t[d.id])),h.value||(h.value="empty"),u.set(d.id,h))}}),t.uniforms&&Object.keys(t.uniforms).forEach(d=>{const g=t.uniforms[d];if(g.value){const{value:h}=g;let f={name:d};if(d.includes("uTroika"))return;if(h instanceof Nt)c++,f.value=et(d,h);else{let p=JSON.stringify(h);try{p=JSON.stringify(h)}catch{p=h.toString()}f.value=p}u.set(d,f)}}),c>0&&r(c),l(u)}},[]),n.jsx(jt,{children:o&&Array.from(o.values()).map(a=>n.jsx("span",{children:typeof a.value=="string"?n.jsx("li",{children:n.jsxs("span",{children:[a.name," :"," ",n.jsxs("b",{children:[a.value.substring(0,30),a.value.length>30?"...":""]})]})}):n.jsxs(n.Fragment,{children:[n.jsx("li",{children:n.jsxs("b",{children:[a.value.name,":"]})}),n.jsxs("div",{children:[Object.keys(a.value).map(c=>c!=="name"?n.jsx("div",{children:c==="url"?n.jsx("a",{href:a.value[c],target:"_blank",children:n.jsx("img",{src:a.value[c]})}):n.jsxs("li",{children:[c,": ",n.jsx("b",{children:a.value[c]})]})},c):null),n.jsxs(Mt,{onClick:()=>{var c;console.info(t[a.value.name]||(t==null||(c=t.uniforms[a.value.name])===null||c===void 0?void 0:c.value))},children:["console.info(",a.value.name,");"]})]})]})},a.name))})},os=({el:e})=>{b(s=>s.log);const t=b(s=>s.gl),r=s=>{if(!t)return 0;const o=Math.round(s.drawCounts.total/(t.info.render.triangles+t.info.render.lines+t.info.render.points)*100*10)/10;return isFinite(o)&&o||0};return n.jsx(n.Fragment,{children:e.drawCounts.total>0&&n.jsxs(P,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[e.drawCounts.type==="Triangle"?n.jsx(wt,{style:{top:"-1px"}}):n.jsx(Ct,{style:{top:"-1px"}}),e.drawCounts.total,n.jsxs("small",{children:[e.drawCounts.type,"s"]}),t&&n.jsxs(H,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[e.visible&&!e.material.wireframe?r(e):0,"%"]})]})})},is=({el:e})=>{const[t,r]=i.useState(e.visible),[s,o]=i.useState(e.expand),[l,a]=i.useState(0),{meshes:c,program:u,material:d}=e;return n.jsxs(Vn,{children:[n.jsxs($n,{onClick:()=>{e.expand=!s,Object.keys(c).forEach(g=>{const h=c[g];h.material.wireframe=!1}),o(!s)},children:[n.jsx(_e,{style:{marginRight:"6px"},children:s?n.jsx("span",{children:n.jsx(vt,{})}):n.jsx("span",{children:n.jsx(yt,{})})}),u&&n.jsxs("span",{children:[n.jsx(Bn,{children:u.name}),n.jsxs(P,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.jsx(dn,{style:{top:"-1px"}}),Object.keys(c).length,n.jsx("small",{children:Object.keys(c).length>1?"users":"user"})]}),l>0&&n.jsxs(P,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[l>1?n.jsx(Le,{style:{top:"-1px"}}):n.jsx(Le,{style:{top:"-1px"}}),l,n.jsx("small",{children:"tex"})]}),n.jsx(os,{el:e}),d.glslVersion==="300 es"&&n.jsxs(P,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.jsx(wn,{style:{top:"-1px"}}),"300",n.jsx("small",{children:"es"}),n.jsx(H,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),n.jsx(Nn,{onPointerEnter:()=>{Object.keys(c).forEach(g=>{const h=c[g];h.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(c).forEach(g=>{const h=c[g];h.material.wireframe=!1})},onClick:g=>{g.stopPropagation(),Object.keys(c).forEach(h=>{const f=c[h],p=!t;f.visible=p,e.visible=p,r(p)})},children:t?n.jsx(on,{}):n.jsx(nn,{})})]}),n.jsxs("div",{style:{maxHeight:s?"9999px":0,overflow:"hidden"},children:[n.jsxs(Je,{children:[n.jsx(Xr,{})," Uniforms:"]}),n.jsx(ss,{program:u,material:d,setTexNumber:a}),n.jsxs(Je,{children:[n.jsx(Qr,{})," Geometries:"]}),n.jsx(jt,{children:c&&Object.keys(c).map(g=>c[g]&&c[g].geometry&&n.jsxs(Xn,{children:[n.jsxs("span",{children:[c[g].geometry.type,": "]}),c[g].userData&&c[g].userData.drawCount&&n.jsxs("b",{children:[n.jsxs("div",{children:[c[g].userData.drawCount.count,n.jsxs("small",{children:[" ",c[g].userData.drawCount.type,"s"]})]}),n.jsx("br",{}),n.jsxs("div",{children:[Math.round(Zr(c[g].geometry)/1024*1e3)/1e3,"Kb",n.jsx("small",{children:" memory used"})]})]})]},g))}),n.jsxs(Mt,{onClick:()=>{console.info(d)},children:["console.info(",d.type,")"]})]})]})},as=()=>{b(t=>t.triggerProgramsUpdate);const e=b(t=>t.programs);return n.jsx(qn,{children:e&&Array.from(e.values()).map(t=>t&&t?n.jsx(is,{el:t},t.material.uuid):null)})},A=e=>({overClock:"#ff6eff",fps:e?"100, 143, 255":"238,38,110",cpu:e?"254, 254, 98":"66,226,46",gpu:e?"254,254,254":"253,151,31",custom:e?"86,180,233":"40,255,255"}),cs=({showGraph:e,colorBlind:t})=>{const r=b(o=>o.overclockingFps),s=b(o=>o.fpsLimit);return n.jsxs(H,{style:e?{color:r?A(t).overClock.toString():`rgb(${A(t).fps})`}:{},children:["FPS ",r?`${s}🚀`:""]})},ls=({showGraph:e,colorBlind:t,customData:r,minimal:s})=>{const o=b(l=>l.gl);return o?n.jsxs(Un,{children:[n.jsxs(P,{children:[n.jsx(pn,{}),n.jsx(H,{style:e?{color:`rgb(${A(t).gpu.toString()})`}:{},children:"GPU"}),n.jsx(ye,{children:"ms"})]}),n.jsxs(P,{children:[n.jsx(jn,{}),n.jsx(H,{style:e?{color:`rgb(${A(t).cpu.toString()})`}:{},children:"CPU"}),n.jsx(ye,{children:"ms"})]}),n.jsxs(P,{children:[n.jsx(ln,{}),n.jsx(cs,{showGraph:e,colorBlind:t})]}),!s&&o&&n.jsxs(P,{children:[n.jsx(Sn,{}),n.jsx(H,{children:o.info.render.calls===1?"call":"calls"})]}),!s&&o&&n.jsxs(P,{children:[n.jsx(wt,{}),n.jsx(H,{children:"Triangles"})]}),r&&n.jsxs(P,{children:[n.jsx(qr,{}),n.jsx(H,{style:e?{color:`rgb(${A(t).custom})`}:{},children:r.name}),r.info&&n.jsx(ye,{children:r.info})]})]}):null},us=({showGraph:e,colorBlind:t,deepAnalyze:r,customData:s,matrixUpdate:o,openByDefault:l,minimal:a})=>n.jsxs(n.Fragment,{children:[n.jsx(ls,{showGraph:e,colorBlind:t,customData:s,minimal:a}),!a&&n.jsx(fs,{matrixUpdate:o,openByDefault:l,deepAnalyze:r,showGraph:e})]}),ds=({matrixUpdate:e})=>n.jsxs("div",{children:[n.jsxs(P,{children:[n.jsx(gn,{}),n.jsx(H,{children:"Geometries"})]}),n.jsxs(P,{children:[n.jsx(Le,{}),n.jsx(H,{children:"Textures"})]}),n.jsxs(P,{children:[n.jsx(Ct,{}),n.jsx(H,{children:"shaders"})]}),n.jsxs(P,{children:[n.jsx(xn,{}),n.jsx(H,{children:"Lines"})]}),n.jsxs(P,{children:[n.jsx(Jr,{}),n.jsx(H,{children:"Points"})]}),e&&n.jsxs(P,{children:[n.jsx(tn,{}),n.jsx(H,{children:"Matrices"})]})]}),tt=({tab:e,title:t,set:r})=>{const s=b(o=>o.tab);return n.jsx(_e,{className:`${s===e?" __perf_toggle_tab_active":""}`,onClick:()=>{r(!0),b.setState({tab:e})},children:n.jsx("span",{children:t})})},fs=({openByDefault:e,showGraph:t,deepAnalyze:r,matrixUpdate:s})=>{const[o,l]=Zt.useState(e);return n.jsxs("span",{children:[n.jsx(ps,{show:o,showGraph:t,matrixUpdate:s}),e&&!r?null:n.jsxs(Dn,{className:"__perf_toggle",children:[r&&n.jsx(tt,{tab:"programs",title:"Programs",set:l}),r&&n.jsx(tt,{tab:"infos",title:"Infos",set:l}),n.jsx(_e,{onClick:()=>{l(!o)},children:o?n.jsxs("span",{children:[n.jsx(vt,{})," Minimize"]}):n.jsxs("span",{children:[n.jsx(yt,{})," More"]})})]})]})},ps=({show:e,showGraph:t,matrixUpdate:r})=>{const s=b(o=>o.tab);return n.jsxs(n.Fragment,{children:[n.jsx(ds,{matrixUpdate:r}),e&&n.jsx("div",{children:n.jsx(Wn,{style:{marginTop:t?"38px":0},children:s==="programs"&&n.jsx(as,{})})})]})},hs=({showGraph:e,colorBlind:t,openByDefault:r,className:s,overClock:o,style:l,position:a,chart:c,deepAnalyze:u,antialias:d,customData:g,matrixUpdate:h,minimal:f})=>{const p=i.useRef(null);return n.jsxs(n.Fragment,{children:[n.jsx(bt,{chart:c,overClock:o,deepAnalyze:u,matrixUpdate:h}),n.jsx(ns,{transform:!1,children:n.jsxs(Fn,{className:(s?" ".concat(s):" ")+` ${a||""} ${f?"minimal":""}`,style:Ee({minHeight:f?"37px":e?"100px":"60px"},l),ref:p,children:[n.jsx(Kn,{perfContainerRef:p,colorBlind:t,chart:c,showGraph:e,antialias:d,customData:g,minimal:f,matrixUpdate:h}),n.jsx(us,{colorBlind:t,showGraph:e,deepAnalyze:u,openByDefault:r,customData:g,matrixUpdate:h,minimal:f})]})})]})},gs=({headless:e=!1,colorBlind:t=!1,overClock:r=!1,showGraph:s=!0,trackCPU:o=!1,deepAnalyze:l=!1,antialias:a=!0,openByDefault:c=!0,customData:u,matrixUpdate:d=!1,position:g="top-right",chart:h={length:30,hz:15},className:f,style:p,minimal:m=!1})=>e?n.jsx(bt,{chart:h,deepAnalyze:l,matrixUpdate:d,overClock:r}):n.jsx(hs,{colorBlind:t,showGraph:s,trackCPU:o,openByDefault:c,className:f,style:p,overClock:r,position:g,antialias:a,chart:h,deepAnalyze:l,minimal:m,customData:u,matrixUpdate:d}),ms=(e,t,r,s,o)=>{const l=new Bt,a=1e-5;l.absarc(a,a,a,-Math.PI/2,-Math.PI,!0),l.absarc(a,t-s*2,a,Math.PI,Math.PI/2,!0),l.absarc(e-s*2,t-s*2,a,Math.PI/2,0,!0),l.absarc(e-s*2,a,a,0,-Math.PI/2,!0);const c=new Wt(l,{depth:r-s*2,bevelEnabled:!0,bevelSegments:o,steps:2,bevelSize:s,bevelThickness:s,curveSegments:o});c.center();const u=[],d=c.getAttribute("normal"),g=c.getAttribute("position");for(let h=0;h<g.count;h+=1){const f=new j(d.getX(h),d.getY(h),d.getZ(h)),p=new j(g.getX(h),g.getY(h),g.getZ(h));let m=0,w=0;Math.abs(f.y)>.9?(m=p.x/e+.5,w=1-(p.z/r+.5)):Math.abs(f.x)>.9?(m=-p.z/r+.5,w=1-(-p.y/t+.5)):Math.abs(f.z)>.9&&(m=p.x/e+.5,w=1-(-p.y/t+.5)),u.push(m,w)}return c.setAttribute("uv",new qt(u,2)),c};ms(10,10,10,2,10);const Re=new Vt(10,10,10),St=e=>e.node_type==="topic"&&(e.scale||1)>5,xs=500,Cs=800;let ne=null;const vs=500,ze=(e,t)=>{if(ne)return null;ne=setTimeout(()=>{ne&&(clearTimeout(ne),ne=null)},vs);const r=[];return e.forEach(o=>{const l=t.position.distanceTo(Dt.set(o.x,o.y,o.z));l<Cs&&r.push({id:o.ref_id||"",distance:l})}),r.sort((o,l)=>o.distance-l.distance).slice(0,xs).map(o=>o.id)},G=new j(5e3,600,1600),rt=100,ys=600,ws=2e3,we={x:172.7392402058252,y:-239.04675366094037,z:-2e3};let X,se;const bs=4e3,js=2e3,Ms=e=>{const t=U(),r=v(y=>y.cameraFocusTrigger),s=N(y=>y.isUserDragging),o=N(y=>y.isUserScrolling),l=N(y=>y.setUserMovedCamera),a=v(y=>y.setNearbyNodeIds),c=v(y=>y.showSelectionGraph),u=v(y=>y.data),d=v(y=>y.graphStyle),{camera:g}=K(),[h,f]=i.useState(!1),[p,m]=i.useState(!1),[w,x]=i.useState(rt),C=i.useMemo(()=>{if(c)return new j(0,0,0);const y=u==null?void 0:u.nodes.find(V=>V.ref_id===(t==null?void 0:t.ref_id));let _=new j(2e3,2e3,3e3);if(y&&u){const V=u==null?void 0:u.nodes.filter(D=>{var ke;return(ke=y.children)==null?void 0:ke.find(Ot=>Ot===D.id)}),J=new j(y.x,y.y,y.z);let Ce=new j(0,0,0);V.map(D=>(Ce=Ce.add(new j(D.x,D.y,D.z).normalize()),D));const zt=y.scale?1-1/(y.scale+10):1,Ht=J.sub(Ce).multiplyScalar(.8*zt);_=J.add(Ht)}return _},[c,t,u]),M=i.useMemo(()=>{if(c)return new j(0,0,0);const y=u==null?void 0:u.nodes.find(_=>_.ref_id===(t==null?void 0:t.ref_id));return new j((y==null?void 0:y.x)||0,(y==null?void 0:y.y)||0,(y==null?void 0:y.z)||0)},[c,t,u]);i.useEffect(()=>{var y;c&&((y=e.current)==null||y.setLookAt(we.x,we.y,we.z,0,0,0,!1)),S()},[c]),i.useEffect(()=>{c?x(ws):(t==null?void 0:t.node_type)==="topic"?x(ys):x(rt)},[t,x,c]),i.useEffect(()=>{I()},[r]),i.useEffect(()=>{(s||o)&&(f(!0),m(!0))},[s,o,f,m]),i.useEffect(()=>{if(t)if(!c&&d==="earth"&&(e!=null&&e.current)){const y=e.current.camera.position.distanceTo(new j),_=Xt(M,-y/2);e.current.setLookAt(_.x,_.y,_.z,0,0,0,!0)}else X&&clearTimeout(X),X=setTimeout(()=>{m(!0),clearTimeout(X)},js),S();return()=>{X&&clearTimeout(X),se&&clearTimeout(se)}},[t]),z(y=>{e.current&&(h||E(C,y.camera),p||T(M,y.camera))});const S=()=>{if(t){const y=g.position.distanceTo(C);gr(y)}I()},I=()=>{f(!1),m(!1),l(!1),se&&clearTimeout(se),se=setTimeout(()=>{f(!0),m(!0)},bs)},E=(y,_)=>{if(_.position.distanceTo(y)<w)f(!0);else{_.position.lerp(y,.5);const J=ze((u==null?void 0:u.nodes)||[],g);J&&a(J)}},T=(y,_)=>{var V;(V=e==null?void 0:e.current)==null||V.setLookAt(_.position.x,_.position.y,_.position.z,y.x,y.y,y.z,!0)};return null},Ss=1;let Z=null;const Ls=(e,{enabled:t})=>{const r=U();Ms(e);const s=N(g=>g.isUserDragging),o=v(g=>g.disableCameraRotation),l=v(g=>g.data),a=v(g=>g.graphStyle),c=v(g=>g.graphRadius),u=v(g=>g.setNearbyNodeIds);i.useEffect(()=>{t||(Z==null||Z.kill(),Z=null)},[t]);const d=i.useCallback(()=>{Z==null||Z.kill();const g={value:-244},h=mr.to(g,{duration:5,keyframes:{"0%":{value:10},"100%":{delay:2,ease:"Power4.easeIn",value:-200}},onComplete:()=>{Z=null},onInterrupt(){h.kill()},onUpdate:()=>{var p;const{value:f}=g;if(e.current){const m=ze((l==null?void 0:l.nodes)||[],e.current.camera);m&&u(m),(p=e.current)==null||p.dolly(f,!1)}}});h.play(),Z=h},[]);return i.useEffect(()=>{e.current&&c&&(a==="sphere"?(e.current.maxDistance=8e3,e.current.minDistance=200,e.current.setTarget(0,0,500,!0)):(e.current.maxDistance=e.current.getDistanceToFitSphere(c+200),e.current.minDistance=100))},[c,a,e]),i.useEffect(()=>{d()},[d,a]),i.useEffect(()=>{!r&&e.current&&e.current.setLookAt(G.x,G.y,G.z,0,0,0,!0)},[r]),z((g,h)=>{e.current&&(!o&&!s&&(e.current.azimuthAngle+=Ss*h*at.DEG2RAD),e.current.update(h))}),null},Es=({disableAnimations:e})=>{const t=i.useRef(null),r=v(f=>f.graphStyle),s=v(f=>f.data),o=v(f=>f.setNearbyNodeIds),l=v(f=>f.setDisableCameraRotation),[a]=i.useState(.8),{camera:c}=K(),[u,d,g,h]=N(f=>[f.isUserDragging,f.setIsUserDragging,f.isUserScrolling,f.isUserScrollingOnHtmlPanel]);return Ls(t,{enabled:!e&&!g&&!u}),i.useEffect(()=>{t.current&&t.current.setLookAt(G.x,G.y,G.z,0,0,0,!0)},[r]),i.useEffect(()=>{if(!u){const f=ze((s==null?void 0:s.nodes)||[],c);f&&o(f)}},[c,c.position,c.position.x,c.position.y,c.position.z,s==null?void 0:s.nodes,o,u]),i.useEffect(()=>{u&&l(!0)},[u,l]),n.jsx(xr,{ref:t,boundaryEnclosesCamera:!0,enabled:!h,makeDefault:!0,maxDistance:12e3,minDistance:100,onEnd:()=>d(!1),onStart:()=>d(!0),smoothTime:a})},xe={metalness:.9,roughness:0},Rs={...xe},Is=new ce(Rs),Ps=({hide:e})=>{const t=Te(),r=v(o=>o.graphStyle),s=i.useMemo(()=>t.nodes.map((o,l)=>{if(o.node_type==="topic")return!1;const a=!St(o),c=Pe(o.node_type||"",!0);return n.jsx(xt,{color:c,name:o.id,position:[o.x,o.y,o.z],scale:a?(o.scale||1)*.9:0,userData:o},`${o.ref_id||o.id}-instanced-node-${l}-${r}`)}),[r,t]);return n.jsx(Vr,{geometry:Re,material:Is,visible:!e,children:s})},Lt=new me,ge=Lt.load("noimage.jpeg"),nt=new ce({...xe,map:ge}),Et=.4,As=new ce({...xe,map:ge,transparent:!0,opacity:Et}),ue={},Ts=(e,t)=>{const[r,s]=i.useState(ge),[o,l]=i.useState(nt);return i.useEffect(()=>{const a=`${e}${t&&"-transparent"}`;if(ue[a]){s(ue[a].texture),l(ue[a].material);return}Lt.load(e,c=>{const u=new ce({map:c,transparent:t,opacity:t?Et:1,...xe});ue[a]={texture:c,material:u},s(c),l(u)},void 0,()=>{s(ge),l(t?As:nt)})},[e,t]),i.useEffect(()=>function(){r.dispose(),o.dispose()},[r,o]),o},He=i.memo(({node:e,hide:t,animated:r})=>{const s=i.useRef(null),[o]=i.useState(Re),l=U(),a=v(g=>g.showSelectionGraph),c=!!l&&e.ref_id===l.ref_id,u=Ts(e.image_url||"noimage.jpeg",!1);z((g,h)=>{r&&s.current&&(s.current.position.set(e.x,e.y,e.z),c&&(s.current.rotation.y+=h*1,s.current.rotation.x-=h*.6))}),i.useEffect(()=>function(){o.dispose()},[o]);const d=i.useMemo(()=>a&&c?20:c?(e.scale||1)*1.2:e.scale,[e,c,a]);return n.jsx(Cr,{enabled:!!c,children:n.jsx("mesh",{ref:s,geometry:Re,material:u,name:e.id,position:[e.x,e.y,e.z],scale:d,userData:e,visible:!t})})});He.displayName="Cube";const _s=q(ct)`
  text-align: center;
  width: ${e=>e.type==="topic"?"auto":`${e.size}px`};
  height: ${e=>e.type==="topic"?"auto":`${e.size}px`};
  outline: 1px solid ${e=>F.white};
  outline-offset: 0px;
  background: rgba(0, 0, 0, 0.75);
  color: ${e=>e.fontColor};
  border-radius: ${e=>`${e.type==="guest"?"100%":"6px"}`};
  font-size: ${e=>`${e.fontSize}px`};
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  transform: scale(${e=>e.scale});
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 26px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }

  &.selected {
    .badge-wrapper {
      top: 0;
    }

    font-size: 36px;

    &:hover {
      outline-offset: 0px;
    }
  }

  &.topic {
    outline: none;
    background: none;
    &:hover {
      font-size: 36px;
    }
    white-space: nowrap;
    .badge-wrapper {
      display: none;
    }
  }

  .badge-wrapper {
    position: absolute;
    top: -7px;
    left: -14px;
  }
`;q.img`
  background-image: ${({src:e})=>`url(${e})`};
  background-size: contain;
  background-repeat: no-repeat;
  width: ${e=>e.size}px;
  height: ${e=>e.size}px;
  border-radius: ${e=>e.borderRadius};
`;q.div`
  display: flex;
  position: absolute;
  bottom: -14px;
  left: -5px;
  width: auto;
  justify-content: center;
  align-items: center;
`;q.div`
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${F.transparentBlack};
  border: 2px solid ${e=>e.color};
  color: #fff;
  padding: 0 4px;
  min-width: 30px;
  height: 26px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  margin-right: 5px;
`;q.div`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid ${e=>e.color}44;
  background: ${F.transparentBlack};
  padding: 0 4px;
  color: ${e=>e.color};
  min-width: 30px;
  height: 26px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  margin-right: 5px;
`;const zs=new j,Hs=({position:e,userData:t,color:r})=>{const s=i.useRef(null),[o,l]=v(p=>[p.selectedNode,p.setSelectedNode]),a=v(p=>p.setHoveredNode),c=v(p=>p.hoveredNode),u=v(p=>p.showSelectionGraph),d=((t==null?void 0:t.node_type)||"")==="topic",g=((t==null?void 0:t.node_type)||"")==="guest"||((t==null?void 0:t.node_type)||"")==="person";z(()=>{if(u&&s.current){const p=zs.set((t==null?void 0:t.x)||0,(t==null?void 0:t.y)||0,(t==null?void 0:t.z)||0);s.current.position.copy(p)}}),i.useEffect(()=>function(){s.current&&s.current.clear()},[s]);const h=i.useMemo(()=>(c==null?void 0:c.ref_id)===(t==null?void 0:t.ref_id),[c==null?void 0:c.ref_id,t==null?void 0:t.ref_id]),f=(o==null?void 0:o.ref_id)===(t==null?void 0:t.ref_id);return d||f&&u||!f?n.jsx("group",{ref:s,position:e,children:n.jsx(Ae,{center:!0,sprite:!0,zIndexRange:[0,0],children:n.jsxs(_s,{className:Qt(t==null?void 0:t.node_type,{selected:f}),color:r,fontColor:F.white,fontSize:d?64:20,onClick:p=>{p.stopPropagation(),t&&l(t)},onPointerOut:p=>{p.stopPropagation(),a(null)},onPointerOver:p=>{p.stopPropagation(),a(t||null)},scale:h?1.05:1,selected:!1,size:f?100:68,type:(t==null?void 0:t.node_type)||"",children:[!g&&!d?n.jsx("div",{className:"badge-wrapper",children:n.jsx(zr,{type:(t==null?void 0:t.node_type)||""})}):null,d?t==null?void 0:t.label:n.jsx(_r,{rounded:g,size:f?60:52,src:(t==null?void 0:t.image_url)||"audio_default.svg",type:t==null?void 0:t.node_type})]})})}):null},Rt=i.memo(()=>{const e=v(a=>a.data),t=U(),r=v(a=>a.showSelectionGraph),s=v(a=>a.selectionGraphData),o=v(a=>a.selectedNodeRelativeIds),l=i.useMemo(()=>(r?s.nodes:(e==null?void 0:e.nodes)||[]).filter(d=>o.includes((d==null?void 0:d.ref_id)||"")||(t==null?void 0:t.ref_id)===(d==null?void 0:d.ref_id)).slice(0,lt).map(d=>{const g=Pe(d.node_type||"",!0),h=new j((d==null?void 0:d.x)||0,(d==null?void 0:d.y)||0,(d==null?void 0:d.z)||0),f=((e==null?void 0:e.nodes)||[]).filter(p=>p.ref_id&&Yt(p,d)).map(p=>(p==null?void 0:p.ref_id)||"")||[];return n.jsx(Hs,{color:g,position:h,relativeIds:f,userData:d},`node-badge-${d.ref_id}`)}),[o,e==null?void 0:e.nodes,r,s,t]);return n.jsx(i.Fragment,{children:l.length?l:null},"node-badges")});Rt.displayName="RelevanceBadges";const It=({link:e,animated:t})=>{const r=i.useRef(null),s=U(),[o,l]=i.useState(new j(0,0,0)),[a,c]=i.useState(new j(0,0,0)),[u,d]=i.useState(8947848),g=v(h=>h.selectionGraphData);return i.useEffect(()=>{var p,m,w,x,C,M;const h=(s==null?void 0:s.ref_id)||"",f=s&&(h===e.targetRef||h===e.sourceRef);!e.onlyVisibleOnSelect||f?(l(new j(((p=e.sourcePosition)==null?void 0:p.x)||0,((m=e.sourcePosition)==null?void 0:m.y)||0,((w=e.sourcePosition)==null?void 0:w.z)||0)),c(new j(((x=e.targetPosition)==null?void 0:x.x)||0,((C=e.targetPosition)==null?void 0:C.y)||0,((M=e.targetPosition)==null?void 0:M.z)||0))):(l(new j(0,0,0)),c(new j(0,0,0))),d(f?e.color||ut.children.segmentColor:s?5592405:8947848)},[s,e]),z(()=>{if(t&&r.current){const h=g.nodes.find(p=>p.ref_id===e.sourceRef),f=g.nodes.find(p=>p.ref_id===e.targetRef);r.current.start.set((h==null?void 0:h.x)||0,(h==null?void 0:h.y)||0,(h==null?void 0:h.z)||0),r.current.end.set((f==null?void 0:f.x)||0,(f==null?void 0:f.y)||0,(f==null?void 0:f.z)||0)}}),n.jsx(vr,{ref:r,color:"0xFFFFFF",end:a,start:o})},Os={font:"/fonts/Inter-Bold.woff",characters:"abcdefghijklmnopqrstuvwxyz0123456789!",fontSize:2,letterSpacing:-.05,lineHeight:1,"material-toneMapped":!1},Oe=i.memo(({node:e,hide:t})=>{const r=i.useRef(null),s=U(),l=v(g=>g.selectedNodeRelativeIds).includes((e==null?void 0:e.ref_id)||""),a=!!s&&(s==null?void 0:s.id)===e.id,c=v(g=>g.showSelectionGraph);z(({camera:g})=>{r!=null&&r.current&&(r.current.quaternion.copy(g.quaternion),c&&r.current.position.set(e.x,e.y,e.z))});const u=i.useMemo(()=>{let g=(e.scale||1)*4;return c&&a?g=40:!a&&l&&(g=0),g},[e.scale,a,l,c]),d=i.useMemo(()=>s&&s.node_type==="topic"&&!a?.2:1,[a,s]);return n.jsx(Se,{ref:r,anchorX:"center",anchorY:"middle",color:F.white,fillOpacity:d,position:[e.x,e.y,e.z],scale:u,userData:e,visible:!t&&!a,...Os,children:e.label})});Oe.displayName="TextNode";let be=null;const Pt=i.memo(()=>{const e=Te(),t=U(),r=v(l=>l.selectedNodeRelativeIds),s=v(l=>l.selectionGraphData),o=v(l=>l.setSelectionData);return i.useEffect(()=>{const l=e.nodes.filter(c=>c.ref_id===(t==null?void 0:t.ref_id)||r.includes((c==null?void 0:c.ref_id)||"")).map(c=>{const u=c.ref_id===(t==null?void 0:t.ref_id)&&c.node_type!=="topic"?{fx:0,fy:0,fz:0}:{};return{...c,x:0,y:0,z:0,...u}}),a=Kt(l,!1,!1);o({nodes:l,links:a})},[e,t,r,o]),i.useEffect(()=>{be=Jt(s.nodes,s.links,{numDimensions:2,forceLinkStrength:.01,forceCenterStrength:.85,forceChargeStrength:-20,velocityDecay:.9})},[s]),z(()=>{be&&be.tick()}),n.jsxs(n.Fragment,{children:[s==null?void 0:s.nodes.map(l=>l.node_type==="topic"?n.jsx(Oe,{hide:!0,node:l},`${l.ref_id||l.id}-compact`):n.jsx(He,{animated:!0,hide:!0,node:l},`${l.ref_id||l.id}-compact`)),n.jsx(ht,{fog:!0,lineWidth:.9,children:(s==null?void 0:s.links).map((l,a)=>n.jsx(It,{animated:!0,link:l},a.toString()))},`selection-links-${s==null?void 0:s.links.length}`)]})});Pt.displayName="SelectionDataNodes";const At=i.memo(()=>{const e=Te(),t=U(),r=v(f=>f.nearbyNodeIds),s=v(f=>f.setHoveredNode),o=v(f=>f.showSelectionGraph),l=v(f=>f.selectionGraphData),a=dt(f=>f.setTranscriptOpen),c=i.useCallback(f=>!!(o&&!l.nodes.find(p=>p.ref_id===f.ref_id)),[o,l]),u=i.useCallback(f=>{const p=f==null?void 0:f[0];p&&(a(!1),p.userData&&(c(p.userData)||v.getState().setSelectedNode((p==null?void 0:p.userData)||null)))},[a,c]),d=i.useCallback(f=>{f.stopPropagation(),s(null)},[s]),g=i.useCallback(f=>{var w;const m=f.intersections.map(x=>x.object)[0];if((w=m==null?void 0:m.userData)!=null&&w.ref_id){const x=m.userData;c(x)||(f.stopPropagation(),s(x))}},[s,c]),h=o&&!!t;return n.jsxs(yr,{filter:f=>f.filter(p=>{var m;return!!((m=p.userData)!=null&&m.id)}),onChange:u,onPointerOut:d,onPointerOver:g,children:[n.jsx(Ps,{hide:h}),n.jsx(Rt,{}),e.nodes.filter(f=>{const p=(f==null?void 0:f.ref_id)===(t==null?void 0:t.ref_id);return r.includes(f.ref_id||"")||St(f)||p}).map(f=>f.node_type==="topic"?n.jsx(Oe,{hide:h,node:f},f.ref_id||f.id):n.jsx(He,{hide:h,node:f},f.ref_id||f.id)),h&&n.jsx(Pt,{})]})});At.displayName="Cubes";const ks={earthRef:null},Fs=er(e=>({...ks,setEarthRef:t=>e({earthRef:t})})),Us=(e,t)=>{const r=new pe().setFromUnitVectors(new j(0,1,0),e.clone().normalize()),s=new pe().setFromUnitVectors(new j(0,1,0),t.clone().normalize()),o=new pe,l=50,a=[];for(let u=0;u<=l;u+=1){const d=u/l;o.slerpQuaternions(r,s,d);const g=new j(0,1,0).applyQuaternion(o).multiplyScalar(oe+tr);a.push(g)}return new rr(a).getPoints(l)},$s=({link:e})=>{const t=U(),[r,s]=i.useState(8947848);i.useEffect(()=>{const l=(t==null?void 0:t.ref_id)||"",a=t&&(l===e.targetRef||l===e.sourceRef);s(a?e.color||ut.children.segmentColor:t?5592405:8947848)},[t,e]);const o=i.useMemo(()=>{var d,g,h,f,p,m;const l=(t==null?void 0:t.ref_id)||"",a=t&&(l===e.targetRef||l===e.sourceRef);if(!(!e.onlyVisibleOnSelect||a))return[];const c=new j(((d=e.sourcePosition)==null?void 0:d.x)||0,((g=e.sourcePosition)==null?void 0:g.y)||0,((h=e.sourcePosition)==null?void 0:h.z)||0),u=new j(((f=e.targetPosition)==null?void 0:f.x)||0,((p=e.targetPosition)==null?void 0:p.y)||0,((m=e.targetPosition)==null?void 0:m.z)||0);return Us(c,u)},[e,t]);return o.length?n.jsx(wr,{color:r,dashed:!1,lineWidth:3,points:o}):null},Zs=new j(0,0,0),Gs=()=>{const e=i.useRef(null),t=i.useRef(null),r=v(u=>u.graphStyle),s=v(u=>u.showSelectionGraph),o=v(u=>u.data),l=Fs(u=>u.setEarthRef),a=W("textures/earth/galaxy.png"),c=W("textures/earth/clouds.png");return z(({camera:u})=>{t.current&&t.current.position.copy(u.getWorldPosition(Zs))}),i.useLayoutEffect(()=>{e.current&&l(e)},[l]),r!=="earth"||s?null:n.jsxs(n.Fragment,{children:[n.jsxs("mesh",{ref:e,userData:{type:"earth"},children:[n.jsx("sphereGeometry",{args:[oe,200,200]}),n.jsx(Ns,{})]}),n.jsxs("mesh",{children:[n.jsx("sphereGeometry",{args:[oe+2,200,200]}),n.jsx("meshStandardMaterial",{alphaMap:c,map:c,transparent:!0})]}),n.jsxs("mesh",{children:[n.jsx("sphereGeometry",{args:[oe*4,200,200]}),n.jsx("meshStandardMaterial",{map:a,opacity:.4,side:nr,transparent:!0})]}),n.jsx("directionalLight",{ref:t,intensity:.9,position:[0,0,oe*3]}),o==null?void 0:o.links.map((u,d)=>n.jsx($s,{link:u},`curved-${d}`))]})},Ns=()=>{const e=W("textures/earth/earth.jpeg"),t=W("textures/earth/bump.jpeg"),r=W("textures/earth/water.png"),s=i.useMemo(()=>new ce({map:e,bumpMap:t,aoMap:t,roughnessMap:t,metalnessMap:r,toneMapped:!0,roughness:35,metalness:0}),[e,t,r]);return n.jsx("meshStandardMaterial",{...s})},Y=2e3,de=he*4,st=Object.values(br).map(e=>e),Vs=()=>{const e=i.useRef(null);z(()=>{var a,c,u,d,g;const o=(c=(a=e.current)==null?void 0:a.geometry.getAttribute("position"))==null?void 0:c.array,l=(d=(u=e.current)==null?void 0:u.geometry.getAttribute("velocity"))==null?void 0:d.array;if(o&&l){for(let h=0;h<o.length;h+=3){const f=o[h],p=o[h+1],m=o[h+2],w=l[h],x=l[h+1],C=l[h+2];o[h]+=w,o[h+1]+=x,o[h+2]+=C;const M=Math.sqrt(f*f+p*p+m*m);if(M*M>de*de){const I=Math.random()*Math.PI*2,E=Math.random()*Math.PI*2,T=Math.random()*de;o[h]=Math.sin(I)*Math.cos(E)*T,o[h+1]=Math.sin(I)*Math.sin(E)*T,o[h+2]=Math.cos(I)*T}}((g=e.current)==null?void 0:g.geometry.getAttribute("position")).needsUpdate=!0}});const t=i.useMemo(()=>new Float32Array(Y*3),[]),r=i.useMemo(()=>new Float32Array(Y*3),[]);i.useEffect(()=>{const o=de;for(let l=0;l<Y;l+=1){const a=l*3,c=Math.acos(1-l/Y*2),u=Math.PI*2*l/Y;t[a]=Math.sin(c)*Math.cos(u)*o,t[a+1]=Math.sin(c)*Math.sin(u)*o,t[a+2]=Math.cos(c)*o,r[a]=Math.random()-.5,r[a+1]=Math.random()-.5,r[a+2]=Math.random()-.5}},[t,r]);const s=i.useRef(null);return i.useEffect(()=>{s.current&&e.current&&(s.current.setAttribute("position",new ve(t,3)),s.current.setAttribute("velocity",new ve(r,3)),e.current.geometry=s.current)},[t,r]),i.useEffect(()=>{if(s.current){const o=[];for(let l=0;l<Y;l+=1){const a=Math.floor(Math.random()*st.length),c=st[a],u=new ot(c);u.multiplyScalar(2),o.push(u.r,u.g,u.b)}s.current.setAttribute("color",new ve(new Float32Array(o),3))}},[]),n.jsxs("points",{ref:e,frustumCulled:!1,children:[n.jsx("bufferGeometry",{ref:s}),n.jsx("pointsMaterial",{opacity:.8,size:4,transparent:!0,vertexColors:!0})]})},fe=e=>({close:{backgroundColor:"rgba(48, 51, 66, 1)",borderColor:"#fff",fontColor:"rgba(255, 255, 255, 1)"},focus:{backgroundColor:e?"rgba(255, 255, 255, 0.90);":"rgba(255, 255, 255, 0.90)",borderColor:e?"#FFDB58bb":"#fff",fontColor:"rgba(48, 51, 66, 1)"},menu:{backgroundColor:"#00000066",borderColor:e?"#ffffff66":"#5078f2",fontColor:e?"#ffffff66":"#fff"}}),Bs=new j,Tt=i.memo(()=>{const e=i.useRef(null),t=dt(p=>p.setSidebarOpen),{open:r}=Ze("editNodeName"),{open:s}=Ze("addEdgeToNode"),[o]=sr(p=>[p.isAdmin]),l=v(p=>p.showSelectionGraph),a=v(p=>p.selectionGraphData),c=v(p=>p.data),u=U(),d=v(p=>p.setSelectedNode),g=v(p=>p.setShowSelectionGraph);z(()=>{h()});const h=i.useCallback(()=>{const p=l?a:c;if(e.current){const m=p==null?void 0:p.nodes.find(w=>w.ref_id===(u==null?void 0:u.ref_id));if(m){const w=Bs.set(m==null?void 0:m.x,m==null?void 0:m.y,m==null?void 0:m.z);e.current.position.copy(w)}}},[u,l,a,c]),f=i.useMemo(()=>{const p=o?[{key:"control-key-1",colors:fe(l).focus,icon:n.jsx(Fr,{}),left:-80,className:"add",onClick:()=>{s()}},{key:"control-key-2",colors:fe(l).focus,icon:n.jsx(kr,{}),left:-40,className:"edit",onClick:()=>{r()}}]:[],m=[{key:"control-key-4",colors:fe(l).focus,icon:n.jsx(Hr,{}),left:0,className:"expand",onClick:()=>{const w=!l;g(w),w&&t(!0)}},{key:"control-key-5",colors:fe(!0).close,icon:n.jsx(Or,{}),left:40,className:"exit",onClick:()=>{d(null),g(!1)}}];return[...p,...m].map((w,x)=>({...w,left:-80+x*40}))},[l,s,r,g,t,d,o]);return u?n.jsx("group",{ref:e,children:n.jsx(Ae,{center:!0,className:"control-panel",onClick:p=>p.stopPropagation(),onKeyDown:p=>p.stopPropagation(),onPointerDown:p=>p.stopPropagation(),onPointerOut:p=>p.stopPropagation(),onPointerOver:p=>p.stopPropagation(),onPointerUp:p=>p.stopPropagation(),sprite:!0,zIndexRange:[16777271,16777272],children:f.map(p=>n.jsx(Ws,{backgroundColor:p.colors.backgroundColor,borderColor:p.colors.borderColor,className:p.className,fontColor:p.colors.fontColor,left:p.left,onClick:m=>{m.stopPropagation(),p.onClick()},children:p.icon},p.key))})}):null});Tt.displayName="NodeControls";const Ws=q.div`
  position: fixed;
  top: -60px;
  left: ${e=>-7+e.left}px;
  width: 24px;
  height: 24px;

  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${e=>e.backgroundColor?e.backgroundColor:"#000000bb"};
  color: ${e=>e.fontColor?e.fontColor:"#ffffff"};
  border-radius: 100%;
  font-size: 16px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
`,_t=i.memo(()=>n.jsx(n.Fragment,{children:n.jsx(Tt,{})}));_t.displayName="NodeDetailsPanel";const qs=()=>{const e=v(d=>d.data),t=v(d=>d.isFetching),r=v(d=>d.graphStyle),s=v(d=>d.showSelectionGraph),o=v(d=>d.selectedNodeRelativeIds),l=v(d=>d.selectionGraphData),a=v(d=>d.selectedNode),c=i.useMemo(()=>s?0:r==="force"?.2:.4,[s,r]),u=i.useMemo(()=>(s?l.nodes:(e==null?void 0:e.nodes)||[]).filter(f=>o.includes((f==null?void 0:f.ref_id)||"")||(a==null?void 0:a.ref_id)===(f==null?void 0:f.ref_id)).slice(0,lt).map(f=>{const p=new j(a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.z),m=new j(f.x,f.y,f.z),w={source:a!=null&&a.id?a.id:"",target:f.id?f.id:"",targetRef:f.ref_id,sourceRef:a==null?void 0:a.ref_id,sourcePosition:p,targetPosition:m};return n.jsx(It,{link:w},f.id)}),[o,e==null?void 0:e.nodes,s,l,a]);return t?null:n.jsxs(n.Fragment,{children:[n.jsx(At,{}),n.jsx(Gs,{}),n.jsx(Vs,{}),r!=="earth"&&n.jsx(ht,{fog:!0,limit:u.length,lineWidth:c,children:u},`links-${u.length}-${r}`),n.jsx(_t,{})]})},Ds=()=>{const{fogColor:e}=gt("universe",{fogColor:ar}),t=v(l=>l.graphStyle),r=i.useRef(null),s=i.useRef(null),o=i.useRef(null);return z(({camera:l,clock:a})=>{const c=a.getElapsedTime();if(r.current){const d=Math.sin(c/8)*1e3;r.current.position.setZ(d)}if(s.current&&s.current.position.lerp(l.position,.5),o.current){const u=c*.5,d=Math.sin(u)*he,g=Math.cos(u)*he;o.current.position.set(d,0,g)}}),n.jsxs(n.Fragment,{children:[n.jsx("hemisphereLight",{args:[F.white,or,ir]}),t!=="earth"&&n.jsx("fog",{args:[e,5,18e3],attach:"fog"}),n.jsx("ambientLight",{color:F.white,intensity:1}),n.jsx("pointLight",{ref:s,color:F.white,distance:4e3,intensity:5,position:[0,0,0]}),n.jsx("directionalLight",{ref:o,color:F.white,intensity:8,position:[he,0,0]}),n.jsx("pointLight",{ref:r,color:F.white,distance:4e3,intensity:8,position:[0,0,0]})]})},Xs=()=>n.jsx(Ae,{children:n.jsx(Lr,{})}),Ys=()=>{const{universeColor:e}=gt("universe",{universeColor:F.black}),t=U(),r=i.useMemo(()=>t!=null&&t.node_type?Pe(t.node_type):ur,[t]);return n.jsxs(n.Fragment,{children:[n.jsx("color",{args:[e],attach:"background"}),n.jsx(Ds,{}),n.jsx(Es,{}),n.jsxs(Er,{children:[n.jsxs(Rr,{autoClear:!1,multisampling:8,children:[n.jsx(Ir,{darkness:.7,eskil:!1,offset:.05}),n.jsx(Pr,{luminanceThreshold:1,mipmapBlur:!0,resolutionX:$e.AUTO_SIZE,resolutionY:$e.AUTO_SIZE}),n.jsx(Ar,{blendFunction:Tr.SCREEN,blur:!0,edgeStrength:4,hiddenEdgeColor:r,visibleEdgeColor:r})]}),n.jsx(qs,{})]})]})};let je=null;const Qs={aspect:window.innerWidth/window.innerHeight,far:3e4,near:1,position:[G.x,G.y,G.z]},Ks=()=>{const[e,t,r]=[N(a=>a.setIsUserScrollingOnHtmlPanel),N(a=>a.setIsUserScrolling),N(a=>a.setUserMovedCamera)],s=v(a=>a.isFetching),o=i.useCallback(a=>{var d;const{target:c}=a,{offsetParent:u}=c;je&&clearTimeout(je),(d=u==null?void 0:u.classList)!=null&&d.contains("html-panel")&&u.clientHeight<u.scrollHeight&&e(!0),t(!0),r(!0),je=setTimeout(()=>{t(!1),e(!1)},200)},[t,e,r]),l=i.useCallback(a=>cr(a,"threeState"),[]);return n.jsxs(Js,{children:[n.jsx(i.Suspense,{fallback:null,children:n.jsxs(pt,{camera:Qs,id:"universe-canvas",onCreated:l,onWheel:o,children:[lr&&n.jsx(gs,{position:"top-right"}),n.jsxs(i.Suspense,{fallback:n.jsx(Xs,{}),children:[n.jsx(jr,{}),n.jsx(Mr,{}),n.jsx(Sr,{}),n.jsx(Ys,{})]})]})}),s&&n.jsx(Ur,{fullSize:!1}),n.jsx($r,{})]})},Js=q(ct)`
  flex: 1 1 100%;
  position: relative;
`,jo=i.memo(Ks);export{jo as Universe};
