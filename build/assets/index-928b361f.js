import{aa as Yd,ab as Gd,r as h,ac as Xd,J as Kd,j as v,O as be,a3 as ya,M as Zd,ad as qd,ae as Qd,af as Jd,G as vu,ag as eh,R as P,ah as th,e as bu,s as X,g as K,F as ne,B as wi,c as Ue,a as Rs,b as Ut,h as $o,T as _a,o as yt,ai as ln,u as wu,f as xa,aj as ku,k as Eu,p as va,ak as nh,y as rh,x as Ar,D as Jt,al as ih,A as sh,am as oh,an as ah,ao as ch,ap as lh,a6 as uh,aq as fh,q as dh,C as hh,ar as ph,as as dc}from"./index-d485b6c2.js";import{u as Ae,a as lt,m as ki,b as As,e as ba,L as ss,c as mh,d as gh,q as yh,f as _h,t as mr,g as li,T as Ds,h as Ms,H as Rt,i as xh,j as vh,C as hc,P as pc,k as bh}from"./index-2ec69b51.js";import{P as we}from"./isPlainObject-887da352.js";import{e as Cn,c as ye,f as Cu,d as nn,g as Tu,h as Su,i as Er,j as wh,v as Ou,u as kh,k as Eh,l as Ch,m as Th,n as Sh,o as Oh,P as wa,O as $h}from"./index-eb2a6a9a.js";import{A as mc,H as Ph,E as Rh,T as Ah,P as $u,N as os,I as js,C as Dh,a as Mh,b as jh,c as gc,d as Pu,e as Ru,f as zh,g as Ih,h as Lh,i as Nh}from"./index-a9f15ae2.js";import{T as Fh}from"./TextareaAutosize-80cf7b85.js";import{D as Di,F as Uh,V as he,L as Bh,a as Hh,M as qn,b as ve,S as Vh,B as Wh,c as ka,P as Qs,d as Au,e as es,f as On,T as zs,E as Yh,g as Po,h as Gh,i as yc,G as Xh,C as as,j as Kh,k as Ei,Q as Zh,l as Du,W as qh,m as Qh,n as Ea,o as Jh,p as Mu,q as ep,r as tp,s as np,t as rp,u as Ca,v as ip}from"./three.module-a9c166f5.js";import{C as ju}from"./CheckIcon-ee5c643e.js";import{s as sp,E as op,o as ap,S as cp,p as lp}from"./index-402e5f68.js";import{u as Jr}from"./index-5306dbca.js";import{g as zu}from"./index-262e3d57.js";import{C as Ta}from"./ClipLoader-bd473af5.js";import{e as up,c as fp}from"./clsx-1001a10e.js";const dp=["className","component"];function hp(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Yd("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Gd);return h.forwardRef(function(c,l){const u=Xd(n),f=up(c),{className:d,component:p="div"}=f,y=Kd(f,dp);return v.jsx(s,be({as:p,ref:l,className:fp(d,i?i(r):r),theme:e&&u[e]||u},y))})}const pp=["top","right","bottom","left"],xn=Math.min,ft=Math.max,cs=Math.round,Mi=Math.floor,vn=t=>({x:t,y:t}),mp={left:"right",right:"left",bottom:"top",top:"bottom"},gp={start:"end",end:"start"};function Ro(t,e,n){return ft(t,xn(e,n))}function rn(t,e){return typeof t=="function"?t(e):t}function sn(t){return t.split("-")[0]}function Cr(t){return t.split("-")[1]}function Sa(t){return t==="x"?"y":"x"}function Oa(t){return t==="y"?"height":"width"}function Tr(t){return["top","bottom"].includes(sn(t))?"y":"x"}function $a(t){return Sa(Tr(t))}function yp(t,e,n){n===void 0&&(n=!1);const r=Cr(t),i=$a(t),s=Oa(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ls(o)),[o,ls(o)]}function _p(t){const e=ls(t);return[Ao(t),e,Ao(e)]}function Ao(t){return t.replace(/start|end/g,e=>gp[e])}function xp(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function vp(t,e,n,r){const i=Cr(t);let s=xp(sn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Ao)))),s}function ls(t){return t.replace(/left|right|bottom|top/g,e=>mp[e])}function bp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Iu(t){return typeof t!="number"?bp(t):{top:t,right:t,bottom:t,left:t}}function us(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function _c(t,e,n){let{reference:r,floating:i}=t;const s=Tr(e),o=$a(e),a=Oa(o),c=sn(e),l=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Cr(e)){case"start":p[o]-=d*(n&&l?-1:1);break;case"end":p[o]+=d*(n&&l?-1:1);break}return p}const wp=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=_c(l,r,c),d=r,p={},y=0;for(let m=0;m<a.length;m++){const{name:g,fn:b}=a[m],{x:w,y:E,data:x,reset:_}=await b({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});if(u=w??u,f=E??f,p={...p,[g]:{...p[g],...x}},_&&y<=50){y++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(l=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:f}=_c(l,d,c)),m=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}};async function ui(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=rn(e,t),y=Iu(p),g=a[d?f==="floating"?"reference":"floating":f],b=us(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=f==="floating"?{...o.floating,x:r,y:i}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},_=us(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:E,strategy:c}):w);return{top:(b.top-_.top+y.top)/x.y,bottom:(_.bottom-b.bottom+y.bottom)/x.y,left:(b.left-_.left+y.left)/x.x,right:(_.right-b.right+y.right)/x.x}}const xc=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=rn(t,e)||{};if(l==null)return{};const f=Iu(u),d={x:n,y:r},p=$a(i),y=Oa(p),m=await o.getDimensions(l),g=p==="y",b=g?"top":"left",w=g?"bottom":"right",E=g?"clientHeight":"clientWidth",x=s.reference[y]+s.reference[p]-d[p]-s.floating[y],_=d[p]-s.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let C=k?k[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(k)))&&(C=a.floating[E]||s.floating[y]);const T=x/2-_/2,O=C/2-m[y]/2-1,I=xn(f[b],O),U=xn(f[w],O),R=I,G=C-m[y]-U,L=C/2-m[y]/2+T,N=Ro(R,L,G),H=!c.arrow&&Cr(i)!=null&&L!=N&&s.reference[y]/2-(L<R?I:U)-m[y]/2<0,B=H?L<R?L-R:L-G:0;return{[p]:d[p]+B,data:{[p]:N,centerOffset:L-N-B,...H&&{alignmentOffset:B}},reset:H}}}),kp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=rn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=sn(i),w=sn(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(l.floating)),x=d||(w||!m?[ls(a)]:_p(a));!d&&y!=="none"&&x.push(...vp(a,m,y,E));const _=[a,...x],k=await ui(e,g),C=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&C.push(k[b]),f){const R=yp(i,o,E);C.push(k[R[0]],k[R[1]])}if(T=[...T,{placement:i,overflows:C}],!C.every(R=>R<=0)){var O,I;const R=(((O=s.flip)==null?void 0:O.index)||0)+1,G=_[R];if(G)return{data:{index:R,overflows:T},reset:{placement:G}};let L=(I=T.filter(N=>N.overflows[0]<=0).sort((N,H)=>N.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(p){case"bestFit":{var U;const N=(U=T.map(H=>[H.placement,H.overflows.filter(B=>B>0).reduce((B,F)=>B+F,0)]).sort((H,B)=>H[1]-B[1])[0])==null?void 0:U[0];N&&(L=N);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function vc(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bc(t){return pp.some(e=>t[e]>=0)}const Ep=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=rn(t,e);switch(r){case"referenceHidden":{const s=await ui(e,{...i,elementContext:"reference"}),o=vc(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bc(o)}}}case"escaped":{const s=await ui(e,{...i,altBoundary:!0}),o=vc(s,n.floating);return{data:{escapedOffsets:o,escaped:bc(o)}}}default:return{}}}}};async function Cp(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=sn(n),a=Cr(n),c=Tr(n)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,f=rn(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*u,y:d*l}:{x:d*l,y:p*u}}const Tp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await Cp(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Sp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:b,y:w}=g;return{x:b,y:w}}},...c}=rn(t,e),l={x:n,y:r},u=await ui(e,c),f=Tr(sn(i)),d=Sa(f);let p=l[d],y=l[f];if(s){const g=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=p+u[g],E=p-u[b];p=Ro(w,p,E)}if(o){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=y+u[g],E=y-u[b];y=Ro(w,y,E)}const m=a.fn({...e,[d]:p,[f]:y});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Op=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=rn(t,e),u={x:n,y:r},f=Tr(i),d=Sa(f);let p=u[d],y=u[f];const m=rn(a,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const E=d==="y"?"height":"width",x=s.reference[d]-s.floating[E]+g.mainAxis,_=s.reference[d]+s.reference[E]-g.mainAxis;p<x?p=x:p>_&&(p=_)}if(l){var b,w;const E=d==="y"?"width":"height",x=["top","left"].includes(sn(i)),_=s.reference[f]-s.floating[E]+(x&&((b=o.offset)==null?void 0:b[f])||0)+(x?0:g.crossAxis),k=s.reference[f]+s.reference[E]+(x?0:((w=o.offset)==null?void 0:w[f])||0)-(x?g.crossAxis:0);y<_?y=_:y>k&&(y=k)}return{[d]:p,[f]:y}}}},$p=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=rn(t,e),c=await ui(e,a),l=sn(n),u=Cr(n),f=Tr(n)==="y",{width:d,height:p}=r.floating;let y,m;l==="top"||l==="bottom"?(y=l,m=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,y=u==="end"?"top":"bottom");const g=p-c[y],b=d-c[m],w=!e.middlewareData.shift;let E=g,x=b;if(f){const k=d-c.left-c.right;x=u||w?xn(b,k):k}else{const k=p-c.top-c.bottom;E=u||w?xn(g,k):k}if(w&&!u){const k=ft(c.left,0),C=ft(c.right,0),T=ft(c.top,0),O=ft(c.bottom,0);f?x=d-2*(k!==0||C!==0?k+C:ft(c.left,c.right)):E=p-2*(T!==0||O!==0?T+O:ft(c.top,c.bottom))}await o({...e,availableWidth:x,availableHeight:E});const _=await i.getDimensions(s.floating);return d!==_.width||p!==_.height?{reset:{rects:!0}}:{}}}};function bn(t){return Lu(t)?(t.nodeName||"").toLowerCase():"#document"}function pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function un(t){var e;return(e=(Lu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lu(t){return t instanceof Node||t instanceof pt(t).Node}function on(t){return t instanceof Element||t instanceof pt(t).Element}function Bt(t){return t instanceof HTMLElement||t instanceof pt(t).HTMLElement}function wc(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pt(t).ShadowRoot}function Ci(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Et(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Pp(t){return["table","td","th"].includes(bn(t))}function Pa(t){const e=Ra(),n=Et(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Rp(t){let e=gr(t);for(;Bt(e)&&!Is(e);){if(Pa(e))return e;e=gr(e)}return null}function Ra(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Is(t){return["html","body","#document"].includes(bn(t))}function Et(t){return pt(t).getComputedStyle(t)}function Ls(t){return on(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function gr(t){if(bn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wc(t)&&t.host||un(t);return wc(e)?e.host:e}function Nu(t){const e=gr(t);return Is(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bt(e)&&Ci(e)?e:Nu(e)}function fi(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Nu(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=pt(i);return s?e.concat(o,o.visualViewport||[],Ci(i)?i:[],o.frameElement&&n?fi(o.frameElement):[]):e.concat(i,fi(i,[],n))}function Fu(t){const e=Et(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Bt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=cs(n)!==s||cs(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Aa(t){return on(t)?t:t.contextElement}function ur(t){const e=Aa(t);if(!Bt(e))return vn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Fu(e);let o=(s?cs(n.width):n.width)/r,a=(s?cs(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ap=vn(0);function Uu(t){const e=pt(t);return!Ra()||!e.visualViewport?Ap:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Dp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pt(t)?!1:e}function Hn(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Aa(t);let o=vn(1);e&&(r?on(r)&&(o=ur(r)):o=ur(t));const a=Dp(s,n,r)?Uu(s):vn(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=pt(s),p=r&&on(r)?pt(r):r;let y=d.frameElement;for(;y&&r&&p!==d;){const m=ur(y),g=y.getBoundingClientRect(),b=Et(y),w=g.left+(y.clientLeft+parseFloat(b.paddingLeft))*m.x,E=g.top+(y.clientTop+parseFloat(b.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,f*=m.y,c+=w,l+=E,y=pt(y).frameElement}}return us({width:u,height:f,x:c,y:l})}function Mp(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Bt(n),s=un(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=vn(1);const c=vn(0);if((i||!i&&r!=="fixed")&&((bn(n)!=="body"||Ci(s))&&(o=Ls(n)),Bt(n))){const l=Hn(n);a=ur(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}}function jp(t){return Array.from(t.getClientRects())}function Bu(t){return Hn(un(t)).left+Ls(t).scrollLeft}function zp(t){const e=un(t),n=Ls(t),r=t.ownerDocument.body,i=ft(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ft(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bu(t);const a=-n.scrollTop;return Et(r).direction==="rtl"&&(o+=ft(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Ip(t,e){const n=pt(t),r=un(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=Ra();(!l||l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Lp(t,e){const n=Hn(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Bt(t)?ur(t):vn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function kc(t,e,n){let r;if(e==="viewport")r=Ip(t,n);else if(e==="document")r=zp(un(t));else if(on(e))r=Lp(e,n);else{const i=Uu(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return us(r)}function Hu(t,e){const n=gr(t);return n===e||!on(n)||Is(n)?!1:Et(n).position==="fixed"||Hu(n,e)}function Np(t,e){const n=e.get(t);if(n)return n;let r=fi(t,[],!1).filter(a=>on(a)&&bn(a)!=="body"),i=null;const s=Et(t).position==="fixed";let o=s?gr(t):t;for(;on(o)&&!Is(o);){const a=Et(o),c=Pa(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ci(o)&&!c&&Hu(t,o))?r=r.filter(u=>u!==o):i=a,o=gr(o)}return e.set(t,r),r}function Fp(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Np(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=kc(e,u,i);return l.top=ft(f.top,l.top),l.right=xn(f.right,l.right),l.bottom=xn(f.bottom,l.bottom),l.left=ft(f.left,l.left),l},kc(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Up(t){return Fu(t)}function Bp(t,e,n){const r=Bt(e),i=un(e),s=n==="fixed",o=Hn(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=vn(0);if(r||!r&&!s)if((bn(e)!=="body"||Ci(i))&&(a=Ls(e)),r){const l=Hn(e,!0,s,e);c.x=l.x+e.clientLeft,c.y=l.y+e.clientTop}else i&&(c.x=Bu(i));return{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Ec(t,e){return!Bt(t)||Et(t).position==="fixed"?null:e?e(t):t.offsetParent}function Vu(t,e){const n=pt(t);if(!Bt(t))return n;let r=Ec(t,e);for(;r&&Pp(r)&&Et(r).position==="static";)r=Ec(r,e);return r&&(bn(r)==="html"||bn(r)==="body"&&Et(r).position==="static"&&!Pa(r))?n:r||Rp(t)||n}const Hp=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||Vu,s=this.getDimensions;return{reference:Bp(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function Vp(t){return Et(t).direction==="rtl"}const Wp={convertOffsetParentRelativeRectToViewportRelativeRect:Mp,getDocumentElement:un,getClippingRect:Fp,getOffsetParent:Vu,getElementRects:Hp,getClientRects:jp,getDimensions:Up,getScale:ur,isElement:on,isRTL:Vp};function Yp(t,e){let n=null,r;const i=un(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:l,top:u,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const p=Mi(u),y=Mi(i.clientWidth-(l+f)),m=Mi(i.clientHeight-(u+d)),g=Mi(l),w={rootMargin:-p+"px "+-y+"px "+-m+"px "+-g+"px",threshold:ft(0,xn(1,c))||1};let E=!0;function x(_){const k=_[0].intersectionRatio;if(k!==c){if(!E)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(x,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,w)}n.observe(t)}return o(!0),s}function Gp(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Aa(t),u=i||s?[...l?fi(l):[],...fi(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=l&&a?Yp(l,n):null;let d=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let y,m=c?Hn(t):null;c&&g();function g(){const b=Hn(t);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&n(),m=b,y=requestAnimationFrame(g)}return n(),()=>{u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),f&&f(),p&&p.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Xp=(t,e,n)=>{const r=new Map,i={platform:Wp,...n},s={...i.platform,_c:r};return wp(t,e,{...i,platform:s})},Kp=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xc({element:r.current,padding:i}).fn(n):{}:r?xc({element:r,padding:i}).fn(n):{}}}};var ts=typeof document<"u"?h.useLayoutEffect:h.useEffect;function fs(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!fs(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!fs(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Wu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Cc(t,e){const n=Wu(t);return Math.round(e*n)/n}function Tc(t){const e=h.useRef(t);return ts(()=>{e.current=t}),e}function Zp(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,f]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=h.useState(r);fs(d,r)||p(r);const[y,m]=h.useState(null),[g,b]=h.useState(null),w=h.useCallback(H=>{H!=k.current&&(k.current=H,m(H))},[m]),E=h.useCallback(H=>{H!==C.current&&(C.current=H,b(H))},[b]),x=s||y,_=o||g,k=h.useRef(null),C=h.useRef(null),T=h.useRef(u),O=Tc(c),I=Tc(i),U=h.useCallback(()=>{if(!k.current||!C.current)return;const H={placement:e,strategy:n,middleware:d};I.current&&(H.platform=I.current),Xp(k.current,C.current,H).then(B=>{const F={...B,isPositioned:!0};R.current&&!fs(T.current,F)&&(T.current=F,ya.flushSync(()=>{f(F)}))})},[d,e,n,I]);ts(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[l]);const R=h.useRef(!1);ts(()=>(R.current=!0,()=>{R.current=!1}),[]),ts(()=>{if(x&&(k.current=x),_&&(C.current=_),x&&_){if(O.current)return O.current(x,_,U);U()}},[x,_,U,O]);const G=h.useMemo(()=>({reference:k,floating:C,setReference:w,setFloating:E}),[w,E]),L=h.useMemo(()=>({reference:x,floating:_}),[x,_]),N=h.useMemo(()=>{const H={position:n,left:0,top:0};if(!L.floating)return H;const B=Cc(L.floating,u.x),F=Cc(L.floating,u.y);return a?{...H,transform:"translate("+B+"px, "+F+"px)",...Wu(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:F}},[n,a,L.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:U,refs:G,elements:L,floatingStyles:N}),[u,U,G,L,N])}const qp=Zd("MuiBox",["root"]),Qp=qp,Jp=qd(),em=hp({themeId:Qd,defaultTheme:Jp,defaultClassName:Qp.root,generateClassName:Jd.generate}),tm=em;function nm(t){let e;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(p=>p(e,d))}},i=()=>e,s=(l,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const y=u(e);if(!f(d,y)){const m=d;l(d=y,m)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(l,u,f)=>u||f?s(l,u,f):(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,c),c}const rm=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Sc=rm?h.useEffect:h.useLayoutEffect;function im(t){const e=typeof t=="function"?nm(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=h.useReducer(g=>g+1,0),o=e.getState(),a=h.useRef(o),c=h.useRef(r),l=h.useRef(i),u=h.useRef(!1),f=h.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||c.current!==r||l.current!==i||u.current)&&(d=r(o),p=!i(f.current,d)),Sc(()=>{p&&(f.current=d),a.current=o,c.current=r,l.current=i,u.current=!1});const y=h.useRef(o);Sc(()=>{const g=()=>{try{const w=e.getState(),E=c.current(w);l.current(f.current,E)||(a.current=w,f.current=E,s())}catch{u.current=!0,s()}},b=e.subscribe(g);return e.getState()!==y.current&&g(),b},[]);const m=p?d:f.current;return h.useDebugValue(m),m};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}let Dr=0;const sm=im(t=>(Di.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-Dr)/(r-Dr)*100})},Di.onLoad=()=>{t({active:!1})},Di.onError=e=>t(n=>({errors:[...n.errors,e]})),Di.onProgress=(e,n,r)=>{n===r&&(Dr=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-Dr)/(r-Dr)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),om=t=>`Loading ${t.toFixed(2)}%`;function am({containerStyles:t,innerStyles:e,barStyles:n,dataStyles:r,dataInterpolation:i=om,initialState:s=o=>o}){const{active:o,progress:a}=sm(),c=h.useRef(0),l=h.useRef(0),u=h.useRef(null),[f,d]=h.useState(s(o));h.useEffect(()=>{let y;return o!==f&&(y=setTimeout(()=>d(o),300)),()=>clearTimeout(y)},[f,o]);const p=h.useCallback(()=>{u.current&&(c.current+=(a-c.current)/2,(c.current>.95*a||a===100)&&(c.current=a),u.current.innerText=i(c.current),c.current<a&&(l.current=requestAnimationFrame(p)))},[i,a]);return h.useEffect(()=>(p(),()=>cancelAnimationFrame(l.current)),[p]),f?h.createElement("div",{style:{...ji.container,opacity:o?1:0,...t}},h.createElement("div",null,h.createElement("div",{style:{...ji.inner,...e}},h.createElement("div",{style:{...ji.bar,transform:`scaleX(${a/100})`,...n}}),h.createElement("span",{ref:u,style:{...ji.data,...r}})))):null}const ji={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},Js=new Uh,eo=new he,Qn=new he,St=new he,Wt=new he,Mt=new he,Yt=new he,Gt=new he,Mr=new he,jr=new he,zr=new he,zi=new he,Ir=new he,Lr=new he,Nr=new he;class cm{constructor(e,n,r){this.camera=e,this.scene=n,this.startPoint=new he,this.endPoint=new he,this.collection=[],this.deep=r||Number.MAX_VALUE}select(e,n){return this.startPoint=e||this.startPoint,this.endPoint=n||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(Js,this.scene),this.collection}updateFrustum(e,n){if(e=e||this.startPoint,n=n||this.endPoint,e.x===n.x&&(n.x+=Number.EPSILON),e.y===n.y&&(n.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){Qn.copy(e),Qn.x=Math.min(e.x,n.x),Qn.y=Math.max(e.y,n.y),n.x=Math.max(e.x,n.x),n.y=Math.min(e.y,n.y),St.setFromMatrixPosition(this.camera.matrixWorld),Wt.copy(Qn),Mt.set(n.x,Qn.y,0),Yt.copy(n),Gt.set(Qn.x,n.y,0),Wt.unproject(this.camera),Mt.unproject(this.camera),Yt.unproject(this.camera),Gt.unproject(this.camera),Ir.copy(Wt).sub(St),Lr.copy(Mt).sub(St),Nr.copy(Yt).sub(St),Ir.normalize(),Lr.normalize(),Nr.normalize(),Ir.multiplyScalar(this.deep),Lr.multiplyScalar(this.deep),Nr.multiplyScalar(this.deep),Ir.add(St),Lr.add(St),Nr.add(St);var r=Js.planes;r[0].setFromCoplanarPoints(St,Wt,Mt),r[1].setFromCoplanarPoints(St,Mt,Yt),r[2].setFromCoplanarPoints(Yt,Gt,St),r[3].setFromCoplanarPoints(Gt,Wt,St),r[4].setFromCoplanarPoints(Mt,Yt,Gt),r[5].setFromCoplanarPoints(Nr,Lr,Ir),r[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){const i=Math.min(e.x,n.x),s=Math.max(e.y,n.y),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y);Wt.set(i,s,-1),Mt.set(o,s,-1),Yt.set(o,a,-1),Gt.set(i,a,-1),Mr.set(i,s,1),jr.set(o,s,1),zr.set(o,a,1),zi.set(i,a,1),Wt.unproject(this.camera),Mt.unproject(this.camera),Yt.unproject(this.camera),Gt.unproject(this.camera),Mr.unproject(this.camera),jr.unproject(this.camera),zr.unproject(this.camera),zi.unproject(this.camera);var r=Js.planes;r[0].setFromCoplanarPoints(Wt,Mr,jr),r[1].setFromCoplanarPoints(Mt,jr,zr),r[2].setFromCoplanarPoints(zr,zi,Gt),r[3].setFromCoplanarPoints(zi,Mr,Wt),r[4].setFromCoplanarPoints(Mt,Yt,Gt),r[5].setFromCoplanarPoints(zr,jr,Mr),r[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,n){if((n.isMesh||n.isLine||n.isPoints)&&n.material!==void 0&&(n.geometry.boundingSphere===null&&n.geometry.computeBoundingSphere(),eo.copy(n.geometry.boundingSphere.center),eo.applyMatrix4(n.matrixWorld),e.containsPoint(eo)&&this.collection.push(n)),n.children.length>0)for(let r=0;r<n.children.length;r++)this.searchChildInFrustum(e,n.children[r])}}class ei extends Bh{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,n,r,i){const s=this,o=new Hh(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this;function r(D,z){if(D.nodeType!==1)return;const S=x(D);let j=!0,Y=null;switch(D.nodeName){case"svg":break;case"style":s(D);break;case"g":z=y(D,z);break;case"path":z=y(D,z),D.hasAttribute("d")&&(Y=i(D));break;case"rect":z=y(D,z),Y=c(D);break;case"polygon":z=y(D,z),Y=l(D);break;case"polyline":z=y(D,z),Y=u(D);break;case"circle":z=y(D,z),Y=f(D);break;case"ellipse":z=y(D,z),Y=d(D);break;case"line":z=y(D,z),Y=p(D);break;case"defs":j=!1;break;case"mask":j=!1;break;case"use":z=y(D,z);const M=D.href.baseVal.substring(1),Z=D.viewportElement.getElementById(M);Z?r(Z,z):console.warn("SVGLoader: 'use node' references non-existent node id: "+M);break}if(Y&&(z.fill!==void 0&&z.fill!=="none"&&Y.color.setStyle(z.fill),k(Y,W),I.push(Y),Y.userData={node:D,style:z}),j){const M=D.childNodes;for(let Z=0;Z<M.length;Z++)r(M[Z],z)}S&&(R.pop(),R.length>0?W.copy(R[R.length-1]):W.identity())}function i(D){const z=new On,S=new ve,j=new ve,Y=new ve;let M=!0,Z=!1;const re=D.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let ie=0,q=re.length;ie<q;ie++){const ce=re[ie],J=ce.charAt(0),ee=ce.substr(1).trim();M===!0&&(Z=!0,M=!1);let A;switch(J){case"M":A=g(ee);for(let $=0,se=A.length;$<se;$+=2)S.x=A[$+0],S.y=A[$+1],j.x=S.x,j.y=S.y,$===0?z.moveTo(S.x,S.y):z.lineTo(S.x,S.y),$===0&&Y.copy(S);break;case"H":A=g(ee);for(let $=0,se=A.length;$<se;$++)S.x=A[$],j.x=S.x,j.y=S.y,z.lineTo(S.x,S.y),$===0&&Z===!0&&Y.copy(S);break;case"V":A=g(ee);for(let $=0,se=A.length;$<se;$++)S.y=A[$],j.x=S.x,j.y=S.y,z.lineTo(S.x,S.y),$===0&&Z===!0&&Y.copy(S);break;case"L":A=g(ee);for(let $=0,se=A.length;$<se;$+=2)S.x=A[$+0],S.y=A[$+1],j.x=S.x,j.y=S.y,z.lineTo(S.x,S.y),$===0&&Z===!0&&Y.copy(S);break;case"C":A=g(ee);for(let $=0,se=A.length;$<se;$+=6)z.bezierCurveTo(A[$+0],A[$+1],A[$+2],A[$+3],A[$+4],A[$+5]),j.x=A[$+2],j.y=A[$+3],S.x=A[$+4],S.y=A[$+5],$===0&&Z===!0&&Y.copy(S);break;case"S":A=g(ee);for(let $=0,se=A.length;$<se;$+=4)z.bezierCurveTo(m(S.x,j.x),m(S.y,j.y),A[$+0],A[$+1],A[$+2],A[$+3]),j.x=A[$+0],j.y=A[$+1],S.x=A[$+2],S.y=A[$+3],$===0&&Z===!0&&Y.copy(S);break;case"Q":A=g(ee);for(let $=0,se=A.length;$<se;$+=4)z.quadraticCurveTo(A[$+0],A[$+1],A[$+2],A[$+3]),j.x=A[$+0],j.y=A[$+1],S.x=A[$+2],S.y=A[$+3],$===0&&Z===!0&&Y.copy(S);break;case"T":A=g(ee);for(let $=0,se=A.length;$<se;$+=2){const me=m(S.x,j.x),Ee=m(S.y,j.y);z.quadraticCurveTo(me,Ee,A[$+0],A[$+1]),j.x=me,j.y=Ee,S.x=A[$+0],S.y=A[$+1],$===0&&Z===!0&&Y.copy(S)}break;case"A":A=g(ee,[3,4],7);for(let $=0,se=A.length;$<se;$+=7){if(A[$+5]==S.x&&A[$+6]==S.y)continue;const me=S.clone();S.x=A[$+5],S.y=A[$+6],j.x=S.x,j.y=S.y,o(z,A[$],A[$+1],A[$+2],A[$+3],A[$+4],me,S),$===0&&Z===!0&&Y.copy(S)}break;case"m":A=g(ee);for(let $=0,se=A.length;$<se;$+=2)S.x+=A[$+0],S.y+=A[$+1],j.x=S.x,j.y=S.y,$===0?z.moveTo(S.x,S.y):z.lineTo(S.x,S.y),$===0&&Y.copy(S);break;case"h":A=g(ee);for(let $=0,se=A.length;$<se;$++)S.x+=A[$],j.x=S.x,j.y=S.y,z.lineTo(S.x,S.y),$===0&&Z===!0&&Y.copy(S);break;case"v":A=g(ee);for(let $=0,se=A.length;$<se;$++)S.y+=A[$],j.x=S.x,j.y=S.y,z.lineTo(S.x,S.y),$===0&&Z===!0&&Y.copy(S);break;case"l":A=g(ee);for(let $=0,se=A.length;$<se;$+=2)S.x+=A[$+0],S.y+=A[$+1],j.x=S.x,j.y=S.y,z.lineTo(S.x,S.y),$===0&&Z===!0&&Y.copy(S);break;case"c":A=g(ee);for(let $=0,se=A.length;$<se;$+=6)z.bezierCurveTo(S.x+A[$+0],S.y+A[$+1],S.x+A[$+2],S.y+A[$+3],S.x+A[$+4],S.y+A[$+5]),j.x=S.x+A[$+2],j.y=S.y+A[$+3],S.x+=A[$+4],S.y+=A[$+5],$===0&&Z===!0&&Y.copy(S);break;case"s":A=g(ee);for(let $=0,se=A.length;$<se;$+=4)z.bezierCurveTo(m(S.x,j.x),m(S.y,j.y),S.x+A[$+0],S.y+A[$+1],S.x+A[$+2],S.y+A[$+3]),j.x=S.x+A[$+0],j.y=S.y+A[$+1],S.x+=A[$+2],S.y+=A[$+3],$===0&&Z===!0&&Y.copy(S);break;case"q":A=g(ee);for(let $=0,se=A.length;$<se;$+=4)z.quadraticCurveTo(S.x+A[$+0],S.y+A[$+1],S.x+A[$+2],S.y+A[$+3]),j.x=S.x+A[$+0],j.y=S.y+A[$+1],S.x+=A[$+2],S.y+=A[$+3],$===0&&Z===!0&&Y.copy(S);break;case"t":A=g(ee);for(let $=0,se=A.length;$<se;$+=2){const me=m(S.x,j.x),Ee=m(S.y,j.y);z.quadraticCurveTo(me,Ee,S.x+A[$+0],S.y+A[$+1]),j.x=me,j.y=Ee,S.x=S.x+A[$+0],S.y=S.y+A[$+1],$===0&&Z===!0&&Y.copy(S)}break;case"a":A=g(ee,[3,4],7);for(let $=0,se=A.length;$<se;$+=7){if(A[$+5]==0&&A[$+6]==0)continue;const me=S.clone();S.x+=A[$+5],S.y+=A[$+6],j.x=S.x,j.y=S.y,o(z,A[$],A[$+1],A[$+2],A[$+3],A[$+4],me,S),$===0&&Z===!0&&Y.copy(S)}break;case"Z":case"z":z.currentPath.autoClose=!0,z.currentPath.curves.length>0&&(S.copy(Y),z.currentPath.currentPoint.copy(S),M=!0);break;default:console.warn(ce)}Z=!1}return z}function s(D){if(!(!D.sheet||!D.sheet.cssRules||!D.sheet.cssRules.length))for(let z=0;z<D.sheet.cssRules.length;z++){const S=D.sheet.cssRules[z];if(S.type!==1)continue;const j=S.selectorText.split(/,/gm).filter(Boolean).map(Y=>Y.trim());for(let Y=0;Y<j.length;Y++)U[j[Y]]=Object.assign(U[j[Y]]||{},S.style)}}function o(D,z,S,j,Y,M,Z,ae){if(z==0||S==0){D.lineTo(ae.x,ae.y);return}j=j*Math.PI/180,z=Math.abs(z),S=Math.abs(S);const re=(Z.x-ae.x)/2,ie=(Z.y-ae.y)/2,q=Math.cos(j)*re+Math.sin(j)*ie,ce=-Math.sin(j)*re+Math.cos(j)*ie;let J=z*z,ee=S*S;const A=q*q,$=ce*ce,se=A/J+$/ee;if(se>1){const Dt=Math.sqrt(se);z=Dt*z,S=Dt*S,J=z*z,ee=S*S}const me=J*$+ee*A,Ee=(J*ee-me)/me;let $e=Math.sqrt(Math.max(0,Ee));Y===M&&($e=-$e);const tt=$e*z*ce/S,te=-$e*S*q/z,de=Math.cos(j)*tt-Math.sin(j)*te+(Z.x+ae.x)/2,Ne=Math.sin(j)*tt+Math.cos(j)*te+(Z.y+ae.y)/2,He=a(1,0,(q-tt)/z,(ce-te)/S),qe=a((q-tt)/z,(ce-te)/S,(-q-tt)/z,(-ce-te)/S)%(Math.PI*2);D.currentPath.absellipse(de,Ne,z,S,He,He+qe,M===0,j)}function a(D,z,S,j){const Y=D*S+z*j,M=Math.sqrt(D*D+z*z)*Math.sqrt(S*S+j*j);let Z=Math.acos(Math.max(-1,Math.min(1,Y/M)));return D*j-z*S<0&&(Z=-Z),Z}function c(D){const z=E(D.getAttribute("x")||0),S=E(D.getAttribute("y")||0),j=E(D.getAttribute("rx")||D.getAttribute("ry")||0),Y=E(D.getAttribute("ry")||D.getAttribute("rx")||0),M=E(D.getAttribute("width")),Z=E(D.getAttribute("height")),ae=1-.551915024494,re=new On;return re.moveTo(z+j,S),re.lineTo(z+M-j,S),(j!==0||Y!==0)&&re.bezierCurveTo(z+M-j*ae,S,z+M,S+Y*ae,z+M,S+Y),re.lineTo(z+M,S+Z-Y),(j!==0||Y!==0)&&re.bezierCurveTo(z+M,S+Z-Y*ae,z+M-j*ae,S+Z,z+M-j,S+Z),re.lineTo(z+j,S+Z),(j!==0||Y!==0)&&re.bezierCurveTo(z+j*ae,S+Z,z,S+Z-Y*ae,z,S+Z-Y),re.lineTo(z,S+Y),(j!==0||Y!==0)&&re.bezierCurveTo(z,S+Y*ae,z+j*ae,S,z+j,S),re}function l(D){function z(M,Z,ae){const re=E(Z),ie=E(ae);Y===0?j.moveTo(re,ie):j.lineTo(re,ie),Y++}const S=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,j=new On;let Y=0;return D.getAttribute("points").replace(S,z),j.currentPath.autoClose=!0,j}function u(D){function z(M,Z,ae){const re=E(Z),ie=E(ae);Y===0?j.moveTo(re,ie):j.lineTo(re,ie),Y++}const S=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,j=new On;let Y=0;return D.getAttribute("points").replace(S,z),j.currentPath.autoClose=!1,j}function f(D){const z=E(D.getAttribute("cx")||0),S=E(D.getAttribute("cy")||0),j=E(D.getAttribute("r")||0),Y=new Qs;Y.absarc(z,S,j,0,Math.PI*2);const M=new On;return M.subPaths.push(Y),M}function d(D){const z=E(D.getAttribute("cx")||0),S=E(D.getAttribute("cy")||0),j=E(D.getAttribute("rx")||0),Y=E(D.getAttribute("ry")||0),M=new Qs;M.absellipse(z,S,j,Y,0,Math.PI*2);const Z=new On;return Z.subPaths.push(M),Z}function p(D){const z=E(D.getAttribute("x1")||0),S=E(D.getAttribute("y1")||0),j=E(D.getAttribute("x2")||0),Y=E(D.getAttribute("y2")||0),M=new On;return M.moveTo(z,S),M.lineTo(j,Y),M.currentPath.autoClose=!1,M}function y(D,z){z=Object.assign({},z);let S={};if(D.hasAttribute("class")){const Z=D.getAttribute("class").split(/\s/).filter(Boolean).map(ae=>ae.trim());for(let ae=0;ae<Z.length;ae++)S=Object.assign(S,U["."+Z[ae]])}D.hasAttribute("id")&&(S=Object.assign(S,U["#"+D.getAttribute("id")]));function j(Z,ae,re){re===void 0&&(re=function(q){return q.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),q}),D.hasAttribute(Z)&&(z[ae]=re(D.getAttribute(Z))),S[Z]&&(z[ae]=re(S[Z])),D.style&&D.style[Z]!==""&&(z[ae]=re(D.style[Z]))}function Y(Z){return Math.max(0,Math.min(1,E(Z)))}function M(Z){return Math.max(0,E(Z))}return j("fill","fill"),j("fill-opacity","fillOpacity",Y),j("fill-rule","fillRule"),j("opacity","opacity",Y),j("stroke","stroke"),j("stroke-opacity","strokeOpacity",Y),j("stroke-width","strokeWidth",M),j("stroke-linejoin","strokeLineJoin"),j("stroke-linecap","strokeLineCap"),j("stroke-miterlimit","strokeMiterLimit",M),j("visibility","visibility"),z}function m(D,z){return D-(z-D)}function g(D,z,S){if(typeof D!="string")throw new TypeError("Invalid input: "+typeof D);const j={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},Y=0,M=1,Z=2,ae=3;let re=Y,ie=!0,q="",ce="";const J=[];function ee(me,Ee,$e){const tt=new SyntaxError('Unexpected character "'+me+'" at index '+Ee+".");throw tt.partial=$e,tt}function A(){q!==""&&(ce===""?J.push(Number(q)):J.push(Number(q)*Math.pow(10,Number(ce)))),q="",ce=""}let $;const se=D.length;for(let me=0;me<se;me++){if($=D[me],Array.isArray(z)&&z.includes(J.length%S)&&j.FLAGS.test($)){re=M,q=$,A();continue}if(re===Y){if(j.WHITESPACE.test($))continue;if(j.DIGIT.test($)||j.SIGN.test($)){re=M,q=$;continue}if(j.POINT.test($)){re=Z,q=$;continue}j.COMMA.test($)&&(ie&&ee($,me,J),ie=!0)}if(re===M){if(j.DIGIT.test($)){q+=$;continue}if(j.POINT.test($)){q+=$,re=Z;continue}if(j.EXP.test($)){re=ae;continue}j.SIGN.test($)&&q.length===1&&j.SIGN.test(q[0])&&ee($,me,J)}if(re===Z){if(j.DIGIT.test($)){q+=$;continue}if(j.EXP.test($)){re=ae;continue}j.POINT.test($)&&q[q.length-1]==="."&&ee($,me,J)}if(re===ae){if(j.DIGIT.test($)){ce+=$;continue}if(j.SIGN.test($)){if(ce===""){ce+=$;continue}ce.length===1&&j.SIGN.test(ce)&&ee($,me,J)}}j.WHITESPACE.test($)?(A(),re=Y,ie=!1):j.COMMA.test($)?(A(),re=Y,ie=!0):j.SIGN.test($)?(A(),re=M,q=$):j.POINT.test($)?(A(),re=Z,q=$):ee($,me,J)}return A(),J}const b=["mm","cm","in","pt","pc","px"],w={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function E(D){let z="px";if(typeof D=="string"||D instanceof String)for(let j=0,Y=b.length;j<Y;j++){const M=b[j];if(D.endsWith(M)){z=M,D=D.substring(0,D.length-M.length);break}}let S;return z==="px"&&n.defaultUnit!=="px"?S=w.in[n.defaultUnit]/n.defaultDPI:(S=w[z][n.defaultUnit],S<0&&(S=w[z].in*n.defaultDPI)),S*parseFloat(D)}function x(D){if(!(D.hasAttribute("transform")||D.nodeName==="use"&&(D.hasAttribute("x")||D.hasAttribute("y"))))return null;const z=_(D);return R.length>0&&z.premultiply(R[R.length-1]),W.copy(z),R.push(z),z}function _(D){const z=new qn,S=G;if(D.nodeName==="use"&&(D.hasAttribute("x")||D.hasAttribute("y"))){const j=E(D.getAttribute("x")),Y=E(D.getAttribute("y"));z.translate(j,Y)}if(D.hasAttribute("transform")){const j=D.getAttribute("transform").split(")");for(let Y=j.length-1;Y>=0;Y--){const M=j[Y].trim();if(M==="")continue;const Z=M.indexOf("("),ae=M.length;if(Z>0&&Z<ae){const re=M.substr(0,Z),ie=g(M.substr(Z+1,ae-Z-1));switch(S.identity(),re){case"translate":if(ie.length>=1){const q=ie[0];let ce=q;ie.length>=2&&(ce=ie[1]),S.translate(q,ce)}break;case"rotate":if(ie.length>=1){let q=0,ce=0,J=0;q=-ie[0]*Math.PI/180,ie.length>=3&&(ce=ie[1],J=ie[2]),L.identity().translate(-ce,-J),N.identity().rotate(q),H.multiplyMatrices(N,L),L.identity().translate(ce,J),S.multiplyMatrices(L,H)}break;case"scale":if(ie.length>=1){const q=ie[0];let ce=q;ie.length>=2&&(ce=ie[1]),S.scale(q,ce)}break;case"skewX":ie.length===1&&S.set(1,Math.tan(ie[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":ie.length===1&&S.set(1,0,0,Math.tan(ie[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":ie.length===6&&S.set(ie[0],ie[2],ie[4],ie[1],ie[3],ie[5],0,0,1);break}}z.premultiply(S)}}return z}function k(D,z){function S(M){F.set(M.x,M.y,1).applyMatrix3(z),M.set(F.x,F.y)}const j=C(z),Y=D.subPaths;for(let M=0,Z=Y.length;M<Z;M++){const re=Y[M].curves;for(let ie=0;ie<re.length;ie++){const q=re[ie];q.isLineCurve?(S(q.v1),S(q.v2)):q.isCubicBezierCurve?(S(q.v0),S(q.v1),S(q.v2),S(q.v3)):q.isQuadraticBezierCurve?(S(q.v0),S(q.v1),S(q.v2)):q.isEllipseCurve&&(j&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),B.set(q.aX,q.aY),S(B),q.aX=B.x,q.aY=B.y,q.xRadius*=T(z),q.yRadius*=O(z))}}}function C(D){return D.elements[1]!==0||D.elements[3]!==0}function T(D){const z=D.elements;return Math.sqrt(z[0]*z[0]+z[1]*z[1])}function O(D){const z=D.elements;return Math.sqrt(z[3]*z[3]+z[4]*z[4])}const I=[],U={},R=[],G=new qn,L=new qn,N=new qn,H=new qn,B=new ve,F=new he,W=new qn,Q=new DOMParser().parseFromString(e,"image/svg+xml");return r(Q.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:I,xml:Q.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function s(g,b,w,E){const x=g.x,_=b.x,k=w.x,C=E.x,T=g.y,O=b.y,I=w.y,U=E.y,R=(C-k)*(T-I)-(U-I)*(x-k),G=(_-x)*(T-I)-(O-T)*(x-k),L=(U-I)*(_-x)-(C-k)*(O-T),N=R/L,H=G/L;if(L===0&&R!==0||N<=0||N>=1||H<0||H>1)return null;if(R===0&&L===0){for(let B=0;B<2;B++)if(o(B===0?w:E,g,b),i.loc==r.ORIGIN){const F=B===0?w:E;return{x:F.x,y:F.y,t:i.t}}else if(i.loc==r.BETWEEN){const F=+(x+i.t*(_-x)).toPrecision(10),W=+(T+i.t*(O-T)).toPrecision(10);return{x:F,y:W,t:i.t}}return null}else{for(let W=0;W<2;W++)if(o(W===0?w:E,g,b),i.loc==r.ORIGIN){const Q=W===0?w:E;return{x:Q.x,y:Q.y,t:i.t}}const B=+(x+N*(_-x)).toPrecision(10),F=+(T+N*(O-T)).toPrecision(10);return{x:B,y:F,t:N}}}function o(g,b,w){const E=w.x-b.x,x=w.y-b.y,_=g.x-b.x,k=g.y-b.y,C=E*k-_*x;if(g.x===b.x&&g.y===b.y){i.loc=r.ORIGIN,i.t=0;return}if(g.x===w.x&&g.y===w.y){i.loc=r.DESTINATION,i.t=1;return}if(C<-Number.EPSILON){i.loc=r.LEFT;return}if(C>Number.EPSILON){i.loc=r.RIGHT;return}if(E*_<0||x*k<0){i.loc=r.BEHIND;return}if(Math.sqrt(E*E+x*x)<Math.sqrt(_*_+k*k)){i.loc=r.BEYOND;return}let T;E!==0?T=_/E:T=k/x,i.loc=r.BETWEEN,i.t=T}function a(g,b){const w=[],E=[];for(let x=1;x<g.length;x++){const _=g[x-1],k=g[x];for(let C=1;C<b.length;C++){const T=b[C-1],O=b[C],I=s(_,k,T,O);I!==null&&w.find(U=>U.t<=I.t+Number.EPSILON&&U.t>=I.t-Number.EPSILON)===void 0&&(w.push(I),E.push(new ve(I.x,I.y)))}}return E}function c(g,b,w){const E=new ve;b.getCenter(E);const x=[];return w.forEach(_=>{_.boundingBox.containsPoint(E)&&a(g,_.points).forEach(C=>{x.push({identifier:_.identifier,isCW:_.isCW,point:C})})}),x.sort((_,k)=>_.point.x-k.point.x),x}function l(g,b,w,E,x){(x==null||x==="")&&(x="nonzero");const _=new ve;g.boundingBox.getCenter(_);const k=[new ve(w,_.y),new ve(E,_.y)],C=c(k,g.boundingBox,b);C.sort((G,L)=>G.point.x-L.point.x);const T=[],O=[];C.forEach(G=>{G.identifier===g.identifier?T.push(G):O.push(G)});const I=T[0].point.x,U=[];let R=0;for(;R<O.length&&O[R].point.x<I;)U.length>0&&U[U.length-1]===O[R].identifier?U.pop():U.push(O[R].identifier),R++;if(U.push(g.identifier),x==="evenodd"){const G=U.length%2===0,L=U[U.length-2];return{identifier:g.identifier,isHole:G,for:L}}else if(x==="nonzero"){let G=!0,L=null,N=null;for(let H=0;H<U.length;H++){const B=U[H];G?(N=b[B].isCW,G=!1,L=B):N!==b[B].isCW&&(N=b[B].isCW,G=!0)}return{identifier:g.identifier,isHole:G,for:L}}else console.warn('fill-rule: "'+x+'" is currently not implemented.')}let u=0,f=999999999,d=-999999999,p=e.subPaths.map(g=>{const b=g.getPoints();let w=-999999999,E=999999999,x=-999999999,_=999999999;for(let k=0;k<b.length;k++){const C=b[k];C.y>w&&(w=C.y),C.y<E&&(E=C.y),C.x>x&&(x=C.x),C.x<_&&(_=C.x)}return d<=x&&(d=x+1),f>=_&&(f=_-1),{curves:g.curves,points:b,isCW:Vh.isClockWise(b),identifier:u++,boundingBox:new Wh(new ve(_,E),new ve(x,w))}});p=p.filter(g=>g.points.length>1);const y=p.map(g=>l(g,p,f,d,e.userData.style.fillRule)),m=[];return p.forEach(g=>{if(!y[g.identifier].isHole){const w=new ka;w.curves=g.curves,y.filter(x=>x.isHole&&x.for===g.identifier).forEach(x=>{const _=p[x.identifier],k=new Qs;k.curves=_.curves,w.holes.push(k)}),m.push(w)}}),m}static getStrokeStyle(e,n,r,i,s){return e=e!==void 0?e:1,n=n!==void 0?n:"#000",r=r!==void 0?r:"miter",i=i!==void 0?i:"butt",s=s!==void 0?s:4,{strokeColor:n,strokeWidth:e,strokeLineJoin:r,strokeLineCap:i,strokeMiterLimit:s}}static pointsToStroke(e,n,r,i){const s=[],o=[],a=[];if(ei.pointsToStrokeWithBuffers(e,n,r,i,s,o,a)===0)return null;const c=new Au;return c.setAttribute("position",new es(s,3)),c.setAttribute("normal",new es(o,3)),c.setAttribute("uv",new es(a,2)),c}static pointsToStrokeWithBuffers(e,n,r,i,s,o,a,c){const l=new ve,u=new ve,f=new ve,d=new ve,p=new ve,y=new ve,m=new ve,g=new ve,b=new ve,w=new ve,E=new ve,x=new ve,_=new ve,k=new ve,C=new ve,T=new ve,O=new ve;r=r!==void 0?r:12,i=i!==void 0?i:.001,c=c!==void 0?c:0,e=ce(e);const I=e.length;if(I<2)return 0;const U=e[0].equals(e[I-1]);let R,G=e[0],L;const N=n.strokeWidth/2,H=1/(I-1);let B=0,F,W,Q,oe,D=!1,z=0,S=c*3,j=c*2;Y(e[0],e[1],l).multiplyScalar(N),g.copy(e[0]).sub(l),b.copy(e[0]).add(l),w.copy(g),E.copy(b);for(let J=1;J<I;J++){R=e[J],J===I-1?U?L=e[1]:L=void 0:L=e[J+1];const ee=l;if(Y(G,R,ee),f.copy(ee).multiplyScalar(N),x.copy(R).sub(f),_.copy(R).add(f),F=B+H,W=!1,L!==void 0){Y(R,L,u),f.copy(u).multiplyScalar(N),k.copy(R).sub(f),C.copy(R).add(f),Q=!0,f.subVectors(L,G),ee.dot(f)<0&&(Q=!1),J===1&&(D=Q),f.subVectors(L,R),f.normalize();const A=Math.abs(ee.dot(f));if(A!==0){const $=N/A;f.multiplyScalar(-$),d.subVectors(R,G),p.copy(d).setLength($).add(f),T.copy(p).negate();const se=p.length(),me=d.length();d.divideScalar(me),y.subVectors(L,R);const Ee=y.length();switch(y.divideScalar(Ee),d.dot(T)<me&&y.dot(T)<Ee&&(W=!0),O.copy(p).add(R),T.add(R),oe=!1,W?Q?(C.copy(T),_.copy(T)):(k.copy(T),x.copy(T)):ae(),n.strokeLineJoin){case"bevel":re(Q,W,F);break;case"round":ie(Q,W),Q?Z(R,x,k,F,0):Z(R,C,_,F,1);break;case"miter":case"miter-clip":default:const $e=N*n.strokeMiterLimit/se;if($e<1)if(n.strokeLineJoin!=="miter-clip"){re(Q,W,F);break}else ie(Q,W),Q?(y.subVectors(O,x).multiplyScalar($e).add(x),m.subVectors(O,k).multiplyScalar($e).add(k),M(x,F,0),M(y,F,0),M(R,F,.5),M(R,F,.5),M(y,F,0),M(m,F,0),M(R,F,.5),M(m,F,0),M(k,F,0)):(y.subVectors(O,_).multiplyScalar($e).add(_),m.subVectors(O,C).multiplyScalar($e).add(C),M(_,F,1),M(y,F,1),M(R,F,.5),M(R,F,.5),M(y,F,1),M(m,F,1),M(R,F,.5),M(m,F,1),M(C,F,1));else W?(Q?(M(b,B,1),M(g,B,0),M(O,F,0),M(b,B,1),M(O,F,0),M(T,F,1)):(M(b,B,1),M(g,B,0),M(O,F,1),M(g,B,0),M(T,F,0),M(O,F,1)),Q?k.copy(O):C.copy(O)):Q?(M(x,F,0),M(O,F,0),M(R,F,.5),M(R,F,.5),M(O,F,0),M(k,F,0)):(M(_,F,1),M(O,F,1),M(R,F,.5),M(R,F,.5),M(O,F,1),M(C,F,1)),oe=!0;break}}else ae()}else ae();!U&&J===I-1&&q(e[0],w,E,Q,!0,B),B=F,G=R,g.copy(k),b.copy(C)}if(!U)q(R,x,_,Q,!1,F);else if(W&&s){let J=O,ee=T;D!==Q&&(J=T,ee=O),Q?(oe||D)&&(ee.toArray(s,0*3),ee.toArray(s,3*3),oe&&J.toArray(s,1*3)):(oe||!D)&&(ee.toArray(s,1*3),ee.toArray(s,3*3),oe&&J.toArray(s,0*3))}return z;function Y(J,ee,A){return A.subVectors(ee,J),A.set(-A.y,A.x).normalize()}function M(J,ee,A){s&&(s[S]=J.x,s[S+1]=J.y,s[S+2]=0,o&&(o[S]=0,o[S+1]=0,o[S+2]=1),S+=3,a&&(a[j]=ee,a[j+1]=A,j+=2)),z+=3}function Z(J,ee,A,$,se){l.copy(ee).sub(J).normalize(),u.copy(A).sub(J).normalize();let me=Math.PI;const Ee=l.dot(u);Math.abs(Ee)<1&&(me=Math.abs(Math.acos(Ee))),me/=r,f.copy(ee);for(let $e=0,tt=r-1;$e<tt;$e++)d.copy(f).rotateAround(J,me),M(f,$,se),M(d,$,se),M(J,$,.5),f.copy(d);M(d,$,se),M(A,$,se),M(J,$,.5)}function ae(){M(b,B,1),M(g,B,0),M(x,F,0),M(b,B,1),M(x,F,1),M(_,F,0)}function re(J,ee,A){ee?J?(M(b,B,1),M(g,B,0),M(x,F,0),M(b,B,1),M(x,F,0),M(T,F,1),M(x,A,0),M(k,A,0),M(T,A,.5)):(M(b,B,1),M(g,B,0),M(_,F,1),M(g,B,0),M(T,F,0),M(_,F,1),M(_,A,1),M(C,A,0),M(T,A,.5)):J?(M(x,A,0),M(k,A,0),M(R,A,.5)):(M(_,A,1),M(C,A,0),M(R,A,.5))}function ie(J,ee){ee&&(J?(M(b,B,1),M(g,B,0),M(x,F,0),M(b,B,1),M(x,F,0),M(T,F,1),M(x,B,0),M(R,F,.5),M(T,F,1),M(R,F,.5),M(k,B,0),M(T,F,1)):(M(b,B,1),M(g,B,0),M(_,F,1),M(g,B,0),M(T,F,0),M(_,F,1),M(_,B,1),M(T,F,0),M(R,F,.5),M(R,F,.5),M(T,F,0),M(C,B,1)))}function q(J,ee,A,$,se,me){switch(n.strokeLineCap){case"round":se?Z(J,A,ee,me,.5):Z(J,ee,A,me,.5);break;case"square":if(se)l.subVectors(ee,J),u.set(l.y,-l.x),f.addVectors(l,u).add(J),d.subVectors(u,l).add(J),$?(f.toArray(s,1*3),d.toArray(s,0*3),d.toArray(s,3*3)):(f.toArray(s,1*3),f.toArray(s,3*3),d.toArray(s,0*3));else{l.subVectors(A,J),u.set(l.y,-l.x),f.addVectors(l,u).add(J),d.subVectors(u,l).add(J);const Ee=s.length;$?(f.toArray(s,Ee-1*3),d.toArray(s,Ee-2*3),d.toArray(s,Ee-4*3)):(f.toArray(s,Ee-2*3),d.toArray(s,Ee-1*3),d.toArray(s,Ee-4*3))}break}}function ce(J){let ee=!1;for(let $=1,se=J.length-1;$<se;$++)if(J[$].distanceTo(J[$+1])<i){ee=!0;break}if(!ee)return J;const A=[];A.push(J[0]);for(let $=1,se=J.length-1;$<se;$++)J[$].distanceTo(J[$+1])>=i&&A.push(J[$]);return A.push(J[J.length-1]),A}}}function lm(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const um=h.createContext([]);function fm({box:t,multiple:e,children:n,onChange:r,border:i="1px solid #55aaff",backgroundColor:s="rgba(75, 160, 255, 0.1)",filter:o=c=>c,...a}){const{setEvents:c,camera:l,raycaster:u,gl:f,controls:d,size:p,get:y}=Ae(),[m,g]=h.useState(!1),[b,w]=h.useReducer((k,{object:C,shift:T})=>C===void 0?[]:Array.isArray(C)?C:T?k.includes(C)?k.filter(O=>O!==C):[C,...k]:k[0]===C?[]:[C],[]);h.useEffect(()=>void(r==null?void 0:r(b)),[b]);const E=h.useCallback(k=>{k.stopPropagation(),w({object:o([k.object])[0],shift:e&&k.shiftKey})},[]),x=h.useCallback(k=>!m&&w({}),[m]),_=h.useRef(null);return h.useEffect(()=>{if(!t||!e)return;const k=new cm(l,_.current),C=document.createElement("div");C.style.pointerEvents="none",C.style.border=i,C.style.backgroundColor=s,C.style.position="fixed";const T=new ve,O=new ve,I=new ve,U=y().events.enabled,R=d==null?void 0:d.enabled;let G=!1;function L(D,z){const{offsetX:S,offsetY:j}=D,{width:Y,height:M}=p;z.set(S/Y*2-1,-(j/M)*2+1)}function N(D){var z;d&&(d.enabled=!1),c({enabled:!1}),G=!0,(z=f.domElement.parentElement)==null||z.appendChild(C),C.style.left=`${D.clientX}px`,C.style.top=`${D.clientY}px`,C.style.width="0px",C.style.height="0px",T.x=D.clientX,T.y=D.clientY}function H(D){I.x=Math.max(T.x,D.clientX),I.y=Math.max(T.y,D.clientY),O.x=Math.min(T.x,D.clientX),O.y=Math.min(T.y,D.clientY),C.style.left=`${O.x}px`,C.style.top=`${O.y}px`,C.style.width=`${I.x-O.x}px`,C.style.height=`${I.y-O.y}px`}function B(){if(G){var D;d&&(d.enabled=R),c({enabled:U}),G=!1,(D=C.parentElement)==null||D.removeChild(C)}}function F(D){D.shiftKey&&(N(D),L(D,k.startPoint))}let W=[];function Q(D){if(G){H(D),L(D,k.endPoint);const z=k.select().sort(S=>S.uuid).filter(S=>S.isMesh);lm(z,W)||(W=z,w({object:o(z)}))}}function oe(D){G&&B()}return document.addEventListener("pointerdown",F,{passive:!0}),document.addEventListener("pointermove",Q,{passive:!0,capture:!0}),document.addEventListener("pointerup",oe,{passive:!0}),()=>{document.removeEventListener("pointerdown",F),document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",oe)}},[p.width,p.height,u,l,d,f]),h.createElement("group",be({ref:_,onClick:E,onPointerOver:()=>g(!0),onPointerOut:()=>g(!1),onPointerMissed:x},a),h.createElement(um.Provider,{value:b},n))}const Gn=h.forwardRef(function({follow:e=!0,lockX:n=!1,lockY:r=!1,lockZ:i=!1,...s},o){const a=h.useRef();return lt(({camera:c})=>{if(!e||!a.current)return;const l=a.current.rotation.clone();c.getWorldQuaternion(a.current.quaternion),n&&(a.current.rotation.x=l.x),r&&(a.current.rotation.y=l.y),i&&(a.current.rotation.z=l.z)}),h.createElement("group",be({ref:ki([a,o])},s))}),dm=h.forwardRef(({children:t,depth:e=-1,...n},r)=>{const i=h.useRef(null);return lt(({camera:s})=>{i.current.quaternion.copy(s.quaternion),i.current.position.copy(s.position)}),h.createElement("group",be({ref:ki([r,i])},n),h.createElement("group",{"position-z":-e},t))}),Oc=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function In(t,e){const n=Ae(i=>i.gl),r=As(zs,Oc(t)?Object.values(t):t);if(h.useLayoutEffect(()=>{e==null||e(r)},[e]),h.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),Oc(t)){const i=Object.keys(t),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}In.preload=t=>As.preload(zs,t);In.clear=t=>As.clear(zs,t);function hm({userData:t,children:e,geometry:n,threshold:r=15,color:i="black",...s}){const o=h.useRef(null);return h.useLayoutEffect(()=>{const a=o.current.parent;if(a){const c=n||a.geometry;(c!==o.current.userData.currentGeom||r!==o.current.userData.currentThreshold)&&(o.current.userData.currentGeom=c,o.current.userData.currentThreshold=r,o.current.geometry=new Yh(c,r))}}),h.createElement("lineSegments",be({ref:o,raycast:()=>null},s),e||h.createElement("lineBasicMaterial",{color:i}))}const pm=h.forwardRef(function({src:e,skipFill:n,skipStrokes:r,fillMaterial:i,strokeMaterial:s,fillMeshProps:o,strokeMeshProps:a,...c},l){const u=As(ei,e.startsWith("<svg")?`data:image/svg+xml;utf8,${e}`:e),f=h.useMemo(()=>r?[]:u.paths.map(d=>{var p;return((p=d.userData)==null?void 0:p.style.stroke)===void 0||d.userData.style.stroke==="none"?null:d.subPaths.map(y=>ei.pointsToStroke(y.getPoints(),d.userData.style))}),[u,r]);return h.useEffect(()=>()=>f.forEach(d=>d&&d.map(p=>p.dispose())),[f]),h.createElement("object3D",be({ref:l},c),h.createElement("object3D",{scale:[1,-1,1]},u.paths.map((d,p)=>{var y,m;return h.createElement(h.Fragment,{key:p},!n&&((y=d.userData)==null?void 0:y.style.fill)!==void 0&&d.userData.style.fill!=="none"&&ei.createShapes(d).map((g,b)=>h.createElement("mesh",be({key:b},o),h.createElement("shapeGeometry",{args:[g]}),h.createElement("meshBasicMaterial",be({color:d.userData.style.fill,opacity:d.userData.style.fillOpacity,transparent:!0,side:Po,depthWrite:!1},i)))),!r&&((m=d.userData)==null?void 0:m.style.stroke)!==void 0&&d.userData.style.stroke!=="none"&&d.subPaths.map((g,b)=>h.createElement("mesh",be({key:b,geometry:f[p][b]},a),h.createElement("meshBasicMaterial",be({color:d.userData.style.stroke,opacity:d.userData.style.strokeOpacity,transparent:!0,side:Po,depthWrite:!1},s)))))})))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const pe={LEFT:1,RIGHT:2,MIDDLE:4},V=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Jn={NONE:0,IN:1,OUT:-1};function $n(t){return t.isPerspectiveCamera}function dn(t){return t.isOrthographicCamera}const er=Math.PI*2,$c=Math.PI/2,Yu=1e-5,Fr=Math.PI/180;function Ot(t,e,n){return Math.max(e,Math.min(n,t))}function Oe(t,e=Yu){return Math.abs(t)<e}function ke(t,e,n=Yu){return Oe(t-e,n)}function Pc(t,e){return Math.round(t/e)*e}function Ur(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Br(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function Ii(t,e,n,r,i=1/0,s){r=Math.max(1e-4,r);const o=2/r,a=o*s,c=1/(1+a+.48*a*a+.235*a*a*a);let l=t-e;const u=e,f=i*r;l=Ot(l,-f,f),e=t-l;const d=(n.value+o*l)*s;n.value=(n.value-o*d)*c;let p=e+(l+d)*c;return u-t>0==p>u&&(p=u,n.value=(p-u)/s),p}function Rc(t,e,n,r,i=1/0,s,o){r=Math.max(1e-4,r);const a=2/r,c=a*s,l=1/(1+c+.48*c*c+.235*c*c*c);let u=e.x,f=e.y,d=e.z,p=t.x-u,y=t.y-f,m=t.z-d;const g=u,b=f,w=d,E=i*r,x=E*E,_=p*p+y*y+m*m;if(_>x){const N=Math.sqrt(_);p=p/N*E,y=y/N*E,m=m/N*E}u=t.x-p,f=t.y-y,d=t.z-m;const k=(n.x+a*p)*s,C=(n.y+a*y)*s,T=(n.z+a*m)*s;n.x=(n.x-a*k)*l,n.y=(n.y-a*C)*l,n.z=(n.z-a*T)*l,o.x=u+(p+k)*l,o.y=f+(y+C)*l,o.z=d+(m+T)*l;const O=g-t.x,I=b-t.y,U=w-t.z,R=o.x-g,G=o.y-b,L=o.z-w;return O*R+I*G+U*L>0&&(o.x=g,o.y=b,o.z=w,n.x=(o.x-g)/s,n.y=(o.y-b)/s,n.z=(o.z-w)/s),o}function to(t,e){e.set(0,0),t.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=t.length,e.y/=t.length}function no(t,e){return dn(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class mm{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e)}}}const gm="2.7.3",Li=1/8,Gu=typeof window<"u",ym=Gu&&/Mac/.test(navigator.platform),_m=!(Gu&&"PointerEvent"in window);let ue,Ac,Ni,ro,nt,ge,xe,tr,Hr,jt,zt,Pn,Dc,Mc,_t,Vr,nr,jc,io,zc,so,oo,Fi,ao=class Do extends mm{static install(e){ue=e.THREE,Ac=Object.freeze(new ue.Vector3(0,0,0)),Ni=Object.freeze(new ue.Vector3(0,1,0)),ro=Object.freeze(new ue.Vector3(0,0,1)),nt=new ue.Vector2,ge=new ue.Vector3,xe=new ue.Vector3,tr=new ue.Vector3,Hr=new ue.Vector3,jt=new ue.Vector3,zt=new ue.Vector3,Pn=new ue.Vector3,Dc=new ue.Vector3,Mc=new ue.Vector3,_t=new ue.Spherical,Vr=new ue.Spherical,nr=new ue.Box3,jc=new ue.Box3,io=new ue.Sphere,zc=new ue.Quaternion,so=new ue.Quaternion,oo=new ue.Matrix4,Fi=new ue.Raycaster}static get ACTION(){return V}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=V.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Jn.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new ue.Vector3,this._focalOffsetVelocity=new ue.Vector3,this._zoomVelocity={value:0},this._truckInternal=(x,_,k)=>{let C,T;if($n(this._camera)){const O=ge.copy(this._camera.position).sub(this._target),I=this._camera.getEffectiveFOV()*Fr,U=O.length()*Math.tan(I*.5);C=this.truckSpeed*x*U/this._elementRect.height,T=this.truckSpeed*_*U/this._elementRect.height}else if(dn(this._camera)){const O=this._camera;C=x*(O.right-O.left)/O.zoom/this._elementRect.width,T=_*(O.top-O.bottom)/O.zoom/this._elementRect.height}else return;this.verticalDragToForward?(k?this.setFocalOffset(this._focalOffsetEnd.x+C,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(C,0,!0),this.forward(-T,!0)):k?this.setFocalOffset(this._focalOffsetEnd.x+C,this._focalOffsetEnd.y+T,this._focalOffsetEnd.z,!0):this.truck(C,T,!0)},this._rotateInternal=(x,_)=>{const k=er*this.azimuthRotateSpeed*x/this._elementRect.height,C=er*this.polarRotateSpeed*_/this._elementRect.height;this.rotate(k,C,!0)},this._dollyInternal=(x,_,k)=>{const C=Math.pow(.95,-x*this.dollySpeed),T=this._sphericalEnd.radius,O=this._sphericalEnd.radius*C,I=Ot(O,this.minDistance,this.maxDistance),U=I-O;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(O,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(U,!0),this._dollyToNoClamp(I,!0)):this._dollyToNoClamp(I,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?O:I)-T,this._dollyControlCoord.set(_,k)),this._lastDollyDirection=Math.sign(-x)},this._zoomInternal=(x,_,k)=>{const C=Math.pow(.95,x*this.dollySpeed),T=this._zoom,O=this._zoom*C;this.zoomTo(O,!0),this.dollyToCursor&&(this._changedZoom+=O-T,this._dollyControlCoord.set(_,k))},typeof ue>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new ue.Quaternion().setFromUnitVectors(this._camera.up,Ni),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=V.NONE,this._target=new ue.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new ue.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new ue.Spherical().setFromVector3(ge.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new ue.Vector3,new ue.Vector3,new ue.Vector3,new ue.Vector3],this._updateNearPlaneCorners(),this._boundary=new ue.Box3(new ue.Vector3(-1/0,-1/0,-1/0),new ue.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new ue.Vector2,this.mouseButtons={left:V.ROTATE,middle:V.DOLLY,right:V.TRUCK,wheel:$n(this._camera)?V.DOLLY:dn(this._camera)?V.ZOOM:V.NONE},this.touches={one:V.TOUCH_ROTATE,two:$n(this._camera)?V.TOUCH_DOLLY_TRUCK:dn(this._camera)?V.TOUCH_ZOOM_TRUCK:V.NONE,three:V.TOUCH_TRUCK};const r=new ue.Vector2,i=new ue.Vector2,s=new ue.Vector2,o=x=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const C=this._domElement.getBoundingClientRect(),T=x.clientX/C.width,O=x.clientY/C.height;if(T<this._interactiveArea.left||T>this._interactiveArea.right||O<this._interactiveArea.top||O>this._interactiveArea.bottom)return}const _=x.pointerType!=="mouse"?null:(x.buttons&pe.LEFT)===pe.LEFT?pe.LEFT:(x.buttons&pe.MIDDLE)===pe.MIDDLE?pe.MIDDLE:(x.buttons&pe.RIGHT)===pe.RIGHT?pe.RIGHT:null;if(_!==null){const C=this._findPointerByMouseButton(_);C&&this._disposePointer(C)}if((x.buttons&pe.LEFT)===pe.LEFT&&this._lockedPointer)return;const k={pointerId:x.pointerId,clientX:x.clientX,clientY:x.clientY,deltaX:0,deltaY:0,mouseButton:_};this._activePointers.push(k),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,m(x)},a=x=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const C=this._domElement.getBoundingClientRect(),T=x.clientX/C.width,O=x.clientY/C.height;if(T<this._interactiveArea.left||T>this._interactiveArea.right||O<this._interactiveArea.top||O>this._interactiveArea.bottom)return}const _=(x.buttons&pe.LEFT)===pe.LEFT?pe.LEFT:(x.buttons&pe.MIDDLE)===pe.MIDDLE?pe.MIDDLE:(x.buttons&pe.RIGHT)===pe.RIGHT?pe.RIGHT:null;if(_!==null){const C=this._findPointerByMouseButton(_);C&&this._disposePointer(C)}const k={pointerId:1,clientX:x.clientX,clientY:x.clientY,deltaX:0,deltaY:0,mouseButton:(x.buttons&pe.LEFT)===pe.LEFT?pe.LEFT:(x.buttons&pe.MIDDLE)===pe.LEFT?pe.MIDDLE:(x.buttons&pe.RIGHT)===pe.LEFT?pe.RIGHT:null};this._activePointers.push(k),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.addEventListener("mousemove",l),this._domElement.ownerDocument.addEventListener("mouseup",f),this._isDragging=!0,m(x)},c=x=>{x.cancelable&&x.preventDefault();const _=x.pointerId,k=this._lockedPointer||this._findPointerById(_);if(k){if(k.clientX=x.clientX,k.clientY=x.clientY,k.deltaX=x.movementX,k.deltaY=x.movementY,this._state=0,x.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(x.buttons&pe.LEFT)===pe.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(x.buttons&pe.MIDDLE)===pe.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(x.buttons&pe.RIGHT)===pe.RIGHT&&(this._state=this._state|this.mouseButtons.right);g()}},l=x=>{const _=this._lockedPointer||this._findPointerById(1);_&&(_.clientX=x.clientX,_.clientY=x.clientY,_.deltaX=x.movementX,_.deltaY=x.movementY,this._state=0,(this._lockedPointer||(x.buttons&pe.LEFT)===pe.LEFT)&&(this._state=this._state|this.mouseButtons.left),(x.buttons&pe.MIDDLE)===pe.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(x.buttons&pe.RIGHT)===pe.RIGHT&&(this._state=this._state|this.mouseButtons.right),g())},u=x=>{const _=this._findPointerById(x.pointerId);if(!(_&&_===this._lockedPointer)){if(_&&this._disposePointer(_),x.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=V.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=V.NONE;b()}},f=()=>{const x=this._findPointerById(1);x&&x===this._lockedPointer||(x&&this._disposePointer(x),this._state=V.NONE,b())};let d=-1;const p=x=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===V.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const O=this._domElement.getBoundingClientRect(),I=x.clientX/O.width,U=x.clientY/O.height;if(I<this._interactiveArea.left||I>this._interactiveArea.right||U<this._interactiveArea.top||U>this._interactiveArea.bottom)return}if(x.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===V.ROTATE||this.mouseButtons.wheel===V.TRUCK){const O=performance.now();d-O<1e3&&this._getClientRect(this._elementRect),d=O}const _=ym?-1:-3,k=x.deltaMode===1?x.deltaY/_:x.deltaY/(_*10),C=this.dollyToCursor?(x.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(x.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case V.ROTATE:{this._rotateInternal(x.deltaX,x.deltaY),this._isUserControllingRotate=!0;break}case V.TRUCK:{this._truckInternal(x.deltaX,x.deltaY,!1),this._isUserControllingTruck=!0;break}case V.OFFSET:{this._truckInternal(x.deltaX,x.deltaY,!0),this._isUserControllingOffset=!0;break}case V.DOLLY:{this._dollyInternal(-k,C,T),this._isUserControllingDolly=!0;break}case V.ZOOM:{this._zoomInternal(-k,C,T),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},y=x=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===Do.ACTION.NONE){const _=x instanceof PointerEvent?x.pointerId:(x instanceof MouseEvent,0),k=this._findPointerById(_);k&&this._disposePointer(k),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",f);return}x.preventDefault()}},m=x=>{if(!this._enabled)return;if(to(this._activePointers,nt),this._getClientRect(this._elementRect),r.copy(nt),i.copy(nt),this._activePointers.length>=2){const k=nt.x-this._activePointers[1].clientX,C=nt.y-this._activePointers[1].clientY,T=Math.sqrt(k*k+C*C);s.set(0,T);const O=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,I=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(O,I)}if(this._state=0,!x)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in x&&x.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(x.buttons&pe.LEFT)===pe.LEFT&&(this._state=this._state|this.mouseButtons.left),(x.buttons&pe.MIDDLE)===pe.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(x.buttons&pe.RIGHT)===pe.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&V.ROTATE)===V.ROTATE||(this._state&V.TOUCH_ROTATE)===V.TOUCH_ROTATE||(this._state&V.TOUCH_DOLLY_ROTATE)===V.TOUCH_DOLLY_ROTATE||(this._state&V.TOUCH_ZOOM_ROTATE)===V.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&V.TRUCK)===V.TRUCK||(this._state&V.TOUCH_TRUCK)===V.TOUCH_TRUCK||(this._state&V.TOUCH_DOLLY_TRUCK)===V.TOUCH_DOLLY_TRUCK||(this._state&V.TOUCH_ZOOM_TRUCK)===V.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&V.DOLLY)===V.DOLLY||(this._state&V.TOUCH_DOLLY)===V.TOUCH_DOLLY||(this._state&V.TOUCH_DOLLY_TRUCK)===V.TOUCH_DOLLY_TRUCK||(this._state&V.TOUCH_DOLLY_OFFSET)===V.TOUCH_DOLLY_OFFSET||(this._state&V.TOUCH_DOLLY_ROTATE)===V.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&V.ZOOM)===V.ZOOM||(this._state&V.TOUCH_ZOOM)===V.TOUCH_ZOOM||(this._state&V.TOUCH_ZOOM_TRUCK)===V.TOUCH_ZOOM_TRUCK||(this._state&V.TOUCH_ZOOM_OFFSET)===V.TOUCH_ZOOM_OFFSET||(this._state&V.TOUCH_ZOOM_ROTATE)===V.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&V.OFFSET)===V.OFFSET||(this._state&V.TOUCH_OFFSET)===V.TOUCH_OFFSET||(this._state&V.TOUCH_DOLLY_OFFSET)===V.TOUCH_DOLLY_OFFSET||(this._state&V.TOUCH_ZOOM_OFFSET)===V.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},g=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,to(this._activePointers,nt);const _=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,k=_?-_.deltaX:i.x-nt.x,C=_?-_.deltaY:i.y-nt.y;if(i.copy(nt),((this._state&V.ROTATE)===V.ROTATE||(this._state&V.TOUCH_ROTATE)===V.TOUCH_ROTATE||(this._state&V.TOUCH_DOLLY_ROTATE)===V.TOUCH_DOLLY_ROTATE||(this._state&V.TOUCH_ZOOM_ROTATE)===V.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(k,C),this._isUserControllingRotate=!0),(this._state&V.DOLLY)===V.DOLLY||(this._state&V.ZOOM)===V.ZOOM){const T=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,I=this.dollyDragInverted?-1:1;(this._state&V.DOLLY)===V.DOLLY?(this._dollyInternal(I*C*Li,T,O),this._isUserControllingDolly=!0):(this._zoomInternal(I*C*Li,T,O),this._isUserControllingZoom=!0)}if((this._state&V.TOUCH_DOLLY)===V.TOUCH_DOLLY||(this._state&V.TOUCH_ZOOM)===V.TOUCH_ZOOM||(this._state&V.TOUCH_DOLLY_TRUCK)===V.TOUCH_DOLLY_TRUCK||(this._state&V.TOUCH_ZOOM_TRUCK)===V.TOUCH_ZOOM_TRUCK||(this._state&V.TOUCH_DOLLY_OFFSET)===V.TOUCH_DOLLY_OFFSET||(this._state&V.TOUCH_ZOOM_OFFSET)===V.TOUCH_ZOOM_OFFSET||(this._state&V.TOUCH_DOLLY_ROTATE)===V.TOUCH_DOLLY_ROTATE||(this._state&V.TOUCH_ZOOM_ROTATE)===V.TOUCH_ZOOM_ROTATE){const T=nt.x-this._activePointers[1].clientX,O=nt.y-this._activePointers[1].clientY,I=Math.sqrt(T*T+O*O),U=s.y-I;s.set(0,I);const R=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,G=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&V.TOUCH_DOLLY)===V.TOUCH_DOLLY||(this._state&V.TOUCH_DOLLY_ROTATE)===V.TOUCH_DOLLY_ROTATE||(this._state&V.TOUCH_DOLLY_TRUCK)===V.TOUCH_DOLLY_TRUCK||(this._state&V.TOUCH_DOLLY_OFFSET)===V.TOUCH_DOLLY_OFFSET?(this._dollyInternal(U*Li,R,G),this._isUserControllingDolly=!0):(this._zoomInternal(U*Li,R,G),this._isUserControllingZoom=!0)}((this._state&V.TRUCK)===V.TRUCK||(this._state&V.TOUCH_TRUCK)===V.TOUCH_TRUCK||(this._state&V.TOUCH_DOLLY_TRUCK)===V.TOUCH_DOLLY_TRUCK||(this._state&V.TOUCH_ZOOM_TRUCK)===V.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(k,C,!1),this._isUserControllingTruck=!0),((this._state&V.OFFSET)===V.OFFSET||(this._state&V.TOUCH_OFFSET)===V.TOUCH_OFFSET||(this._state&V.TOUCH_DOLLY_OFFSET)===V.TOUCH_DOLLY_OFFSET||(this._state&V.TOUCH_ZOOM_OFFSET)===V.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(k,C,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},b=()=>{to(this._activePointers,nt),i.copy(nt),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",w),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),m())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))};const w=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=x=>{this._domElement=x,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),_m&&this._domElement.addEventListener("mousedown",a),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",p,{passive:!1}),this._domElement.addEventListener("contextmenu",y)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",p,{passive:!1}),this._domElement.removeEventListener("contextmenu",y),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==V.NONE&&(this._state=V.NONE,this._activePointers.length=0,b())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Ot(e.width,0,1),this._interactiveArea.height=Ot(e.height,0,1),this._interactiveArea.x=Ot(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Ot(e.y,0,1-this._interactiveArea.height)}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,r=!1){this._isUserControllingRotate=!1;const i=Ot(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=Ot(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||ke(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ke(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Jn.NONE,this._changedDolly=0,this._dollyToNoClamp(Ot(e,this.minDistance,this.maxDistance),n)}_dollyToNoClamp(e,n=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=ke(o,this._spherical.radius);if(!(r>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const s=!n||ke(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,n=!1){this._targetEnd.add(this._getCameraDirection(Hr).multiplyScalar(e)),n||this._target.copy(this._targetEnd);const r=!n||ke(this._target.x,this._targetEnd.x,this.restThreshold)&&ke(this._target.y,this._targetEnd.y,this.restThreshold)&&ke(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=Ot(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||ke(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,r)}truck(e,n,r=!1){this._camera.updateMatrix(),jt.setFromMatrixColumn(this._camera.matrix,0),zt.setFromMatrixColumn(this._camera.matrix,1),jt.multiplyScalar(e),zt.multiplyScalar(-n);const i=ge.copy(jt).add(zt),s=xe.copy(this._targetEnd).add(i);return this.moveTo(s.x,s.y,s.z,r)}forward(e,n=!1){ge.setFromMatrixColumn(this._camera.matrix,0),ge.crossVectors(this._camera.up,ge),ge.multiplyScalar(e);const r=xe.copy(this._targetEnd).add(ge);return this.moveTo(r.x,r.y,r.z,n)}elevate(e,n=!1){return ge.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+ge.x,this._targetEnd.y+ge.y,this._targetEnd.z+ge.z,n)}moveTo(e,n,r,i=!1){this._isUserControllingTruck=!1;const s=ge.set(e,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const o=!i||ke(this._target.x,this._targetEnd.x,this.restThreshold)&&ke(this._target.y,this._targetEnd.y,this.restThreshold)&&ke(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,n,r,i=!1){const a=ge.set(e,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,n,{cover:r=!1,paddingLeft:i=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const c=[],l=e.isBox3?nr.copy(e):nr.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const u=Pc(this._sphericalEnd.theta,$c),f=Pc(this._sphericalEnd.phi,$c);c.push(this.rotateTo(u,f,n));const d=ge.setFromSpherical(this._sphericalEnd).normalize(),p=zc.setFromUnitVectors(d,ro),y=ke(Math.abs(d.y),1);y&&p.multiply(so.setFromAxisAngle(Ni,u)),p.multiply(this._yAxisUpSpaceInverse);const m=jc.makeEmpty();xe.copy(l.min).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.min).setX(l.max.x).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.min).setY(l.max.y).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.max).setZ(l.min.z).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.min).setZ(l.max.z).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.max).setY(l.min.y).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.max).setX(l.min.x).applyQuaternion(p),m.expandByPoint(xe),xe.copy(l.max).applyQuaternion(p),m.expandByPoint(xe),m.min.x-=i,m.min.y-=o,m.max.x+=s,m.max.y+=a,p.setFromUnitVectors(ro,d),y&&p.premultiply(so.invert()),p.premultiply(this._yAxisUpSpace);const g=m.getSize(ge),b=m.getCenter(xe).applyQuaternion(p);if($n(this._camera)){const w=this.getDistanceToFitBox(g.x,g.y,g.z,r);c.push(this.moveTo(b.x,b.y,b.z,n)),c.push(this.dollyTo(w,n)),c.push(this.setFocalOffset(0,0,0,n))}else if(dn(this._camera)){const w=this._camera,E=w.right-w.left,x=w.top-w.bottom,_=r?Math.max(E/g.x,x/g.y):Math.min(E/g.x,x/g.y);c.push(this.moveTo(b.x,b.y,b.z,n)),c.push(this.zoomTo(_,n)),c.push(this.setFocalOffset(0,0,0,n))}return Promise.all(c)}fitToSphere(e,n){const r=[],s=e instanceof ue.Sphere?io.copy(e):Do.createBoundingSphere(e,io);if(r.push(this.moveTo(s.center.x,s.center.y,s.center.z,n)),$n(this._camera)){const o=this.getDistanceToFitSphere(s.radius);r.push(this.dollyTo(o,n))}else if(dn(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,c=2*s.radius,l=Math.min(o/c,a/c);r.push(this.zoomTo(l,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(e,n,r,i,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Jn.NONE,this._changedDolly=0;const c=xe.set(i,s,o),l=ge.set(e,n,r);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(l.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!a||ke(this._target.x,this._targetEnd.x,this.restThreshold)&&ke(this._target.y,this._targetEnd.y,this.restThreshold)&&ke(this._target.z,this._targetEnd.z,this.restThreshold)&&ke(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ke(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ke(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,n,r,i,s,o,a,c,l,u,f,d,p,y=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Jn.NONE,this._changedDolly=0;const m=ge.set(i,s,o),g=xe.set(e,n,r);_t.setFromVector3(g.sub(m).applyQuaternion(this._yAxisUpSpace));const b=tr.set(u,f,d),w=xe.set(a,c,l);Vr.setFromVector3(w.sub(b).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(m.lerp(b,p));const E=Vr.theta-_t.theta,x=Vr.phi-_t.phi,_=Vr.radius-_t.radius;this._sphericalEnd.set(_t.radius+_*p,_t.phi+x*p,_t.theta+E*p),this.normalizeRotations(),this._needsUpdate=!0,y||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const k=!y||ke(this._target.x,this._targetEnd.x,this.restThreshold)&&ke(this._target.y,this._targetEnd.y,this.restThreshold)&&ke(this._target.z,this._targetEnd.z,this.restThreshold)&&ke(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ke(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ke(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(e,n,r,i=!1){return this.setLookAt(e,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,n,r,i=!1){const s=this.getPosition(ge),o=this.setLookAt(s.x,s.y,s.z,e,n,r,i);return this._sphericalEnd.phi=Ot(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,n,r,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,r),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const s=!i||ke(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&ke(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&ke(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,n,r){this._camera.updateMatrixWorld(),jt.setFromMatrixColumn(this._camera.matrixWorldInverse,0),zt.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Pn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=ge.set(e,n,r),s=i.distanceTo(this._camera.position),o=i.sub(this._camera.position);jt.multiplyScalar(o.x),zt.multiplyScalar(o.y),Pn.multiplyScalar(o.z),ge.copy(jt).add(zt).add(Pn),ge.z=ge.z+s,this.dollyTo(s,!1),this.setFocalOffset(-ge.x,ge.y,-ge.z,!1),this.moveTo(e,n,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,r,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new ue.Vector4,typeof e=="number"?this._viewport.set(e,n,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,n,r,i=!1){if(no(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/n,o=this._camera.getEffectiveFOV()*Fr,a=this._camera.aspect;return((i?s>a:s<a)?n:e/a)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(no(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*Fr,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?n:r;return e/Math.sin(i*.5)}getTarget(e,n=!0){return(e&&e.isVector3?e:new ue.Vector3).copy(n?this._targetEnd:this._target)}getPosition(e,n=!0){return(e&&e.isVector3?e:new ue.Vector3).setFromSpherical(n?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(n?this._targetEnd:this._target)}getSpherical(e,n=!0){return(e&&e instanceof ue.Spherical?e:new ue.Spherical).copy(n?this._sphericalEnd:this._spherical)}getFocalOffset(e,n=!0){return(e&&e.isVector3?e:new ue.Vector3).copy(n?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%er,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=er),this._spherical.theta+=er*Math.round((this._sphericalEnd.theta-this._spherical.theta)/er)}reset(e=!1){if(!ke(this._camera.up.x,this._cameraUp0.x)||!ke(this._camera.up.y,this._cameraUp0.y)||!ke(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(ge);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Ni),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=ge.subVectors(this._target,this._camera.position).normalize(),n=xe.crossVectors(e,this._camera.up);this._camera.up.crossVectors(n,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(ge);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,s=Dc.subVectors(this._targetEnd,this._target),o=Mc.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(Oe(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Ii(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,e),this._needsUpdate=!0}if(Oe(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Ii(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,e),this._needsUpdate=!0}if(Oe(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Ii(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,e),this._needsUpdate=!0}if(Oe(s.x)&&Oe(s.y)&&Oe(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;Rc(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Oe(o.x)&&Oe(o.y)&&Oe(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;Rc(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Oe(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Ii(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor){if($n(this._camera)&&this._changedDolly!==0){const f=this._spherical.radius-this._lastDistance,d=this._camera,p=this._getCameraDirection(Hr),y=ge.copy(p).cross(d.up).normalize();y.lengthSq()===0&&(y.x=1);const m=xe.crossVectors(y,p),g=this._sphericalEnd.radius*Math.tan(d.getEffectiveFOV()*Fr*.5),w=(this._sphericalEnd.radius-f-this._sphericalEnd.radius)/this._sphericalEnd.radius,E=tr.copy(this._targetEnd).add(y.multiplyScalar(this._dollyControlCoord.x*g*d.aspect)).add(m.multiplyScalar(this._dollyControlCoord.y*g)),x=ge.copy(this._targetEnd).lerp(E,w),_=this._lastDollyDirection===Jn.IN&&this._spherical.radius<=this.minDistance,k=this._lastDollyDirection===Jn.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(_||k)){this._sphericalEnd.radius-=f,this._spherical.radius-=f;const T=xe.copy(p).multiplyScalar(-f);x.add(T)}this._boundary.clampPoint(x,x);const C=xe.subVectors(x,this._targetEnd);this._targetEnd.copy(x),this._target.add(C),this._changedDolly-=f,Oe(this._changedDolly)&&(this._changedDolly=0)}else if(dn(this._camera)&&this._changedZoom!==0){const f=this._zoom-this._lastZoom,d=this._camera,p=ge.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(d.near+d.far)/(d.near-d.far)).unproject(d),y=xe.set(0,0,-1).applyQuaternion(d.quaternion),m=tr.copy(p).add(y.multiplyScalar(-p.dot(d.up))),b=-(this._zoom-f-this._zoom)/this._zoom,w=this._getCameraDirection(Hr),E=this._targetEnd.dot(w),x=ge.copy(this._targetEnd).lerp(m,b),_=x.dot(w),k=w.multiplyScalar(_-E);x.sub(k),this._boundary.clampPoint(x,x);const C=xe.subVectors(x,this._targetEnd);this._targetEnd.copy(x),this._target.add(C),this._changedZoom-=f,Oe(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Oe(this._focalOffset.x)||!Oe(this._focalOffset.y)||!Oe(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),jt.setFromMatrixColumn(this._camera.matrix,0),zt.setFromMatrixColumn(this._camera.matrix,1),Pn.setFromMatrixColumn(this._camera.matrix,2),jt.multiplyScalar(this._focalOffset.x),zt.multiplyScalar(-this._focalOffset.y),Pn.multiplyScalar(this._focalOffset.z),ge.copy(jt).add(zt).add(Pn),this._camera.position.add(ge)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),ge.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),Oe(n,this.restThreshold)&&Oe(r,this.restThreshold)&&Oe(i,this.restThreshold)&&Oe(s.x,this.restThreshold)&&Oe(s.y,this.restThreshold)&&Oe(s.z,this.restThreshold)&&Oe(o.x,this.restThreshold)&&Oe(o.y,this.restThreshold)&&Oe(o.z,this.restThreshold)&&Oe(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Ur(this.maxDistance),minZoom:this.minZoom,maxZoom:Ur(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Ur(this.maxPolarAngle),minAzimuthAngle:Ur(this.minAzimuthAngle),maxAzimuthAngle:Ur(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:ge.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=Br(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=Br(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=Br(r.maxPolarAngle),this.minAzimuthAngle=Br(r.minAzimuthAngle),this.maxAzimuthAngle=Br(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),_t.setFromVector3(ge.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(_t.theta,_t.phi,n),this.dollyTo(_t.radius,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",gm),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(n=>n.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,n,r){const i=n.lengthSq();if(i===0)return e;const s=xe.copy(n).add(e),a=this._boundary.clampPoint(s,tr).sub(s),c=a.lengthSq();if(c===0)return e.add(n);if(c===i)return e;if(r===0)return e.add(n).add(a);{const l=1+r*c/n.dot(a);return e.add(xe.copy(n).multiplyScalar(l)).add(a.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if($n(this._camera)){const e=this._camera,n=e.near,r=e.getEffectiveFOV()*Fr,i=Math.tan(r*.5)*n,s=i*e.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(dn(this._camera)){const e=this._camera,n=1/e.zoom,r=e.left*n,i=e.right*n,s=e.top*n,o=e.bottom*n;this._nearPlaneCorners[0].set(r,s,0),this._nearPlaneCorners[1].set(i,s,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||no(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(Hr);oo.lookAt(Ac,r,this._camera.up);for(let i=0;i<4;i++){const s=xe.copy(this._nearPlaneCorners[i]);s.applyMatrix4(oo);const o=tr.addVectors(this._target,s);Fi.set(o,r),Fi.far=this._spherical.radius+1;const a=Fi.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new ue.Sphere){const r=n,i=r.center;nr.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&nr.expandByObject(o)}),nr.getCenter(i);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,c=a.geometry.clone();c.applyMatrix4(a.matrixWorld);const u=c.attributes.position;for(let f=0,d=u.count;f<d;f++)ge.fromBufferAttribute(u,f),s=Math.max(s,i.distanceToSquared(ge))}),r.radius=Math.sqrt(s),r}};const Xu=h.forwardRef((t,e)=>{h.useMemo(()=>{ao.install({THREE:Gh}),ba({CameraControlsImpl:ao})},[]);const{camera:n,domElement:r,makeDefault:i,onStart:s,onEnd:o,onChange:a,regress:c,...l}=t,u=Ae(_=>_.camera),f=Ae(_=>_.gl),d=Ae(_=>_.invalidate),p=Ae(_=>_.events),y=Ae(_=>_.setEvents),m=Ae(_=>_.set),g=Ae(_=>_.get),b=Ae(_=>_.performance),w=n||u,E=r||p.connected||f.domElement,x=h.useMemo(()=>new ao(w),[w]);return lt((_,k)=>{x.enabled&&x.update(k)},-1),h.useEffect(()=>(x.connect(E),()=>void x.disconnect()),[E,x]),h.useEffect(()=>{const _=T=>{d(),c&&b.regress(),a&&a(T)},k=T=>{s&&s(T)},C=T=>{o&&o(T)};return x.addEventListener("update",_),x.addEventListener("controlstart",k),x.addEventListener("controlend",C),()=>{x.removeEventListener("update",_),x.removeEventListener("controlstart",k),x.removeEventListener("controlend",C)}},[x,s,o,d,y,c,a]),h.useEffect(()=>{if(i){const _=g().controls;return m({controls:x}),()=>m({controls:_})}},[i,x]),h.createElement("primitive",be({ref:e,object:x},l))});we.func.isRequired,we.arrayOf(we.oneOfType([we.element,we.func])).isRequired;const Ic=new Ei,Lc=new Ei,Ui=[],Wr=new Du;class xm extends Xh{constructor(){super(),this.color=new as("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,n){const r=this.instance.current;if(!r||!r.geometry||!r.material)return;Wr.geometry=r.geometry;const i=r.matrixWorld,s=r.userData.instances.indexOf(this.instanceKey);if(!(s===-1||s>r.count)){r.getMatrixAt(s,Ic),Lc.multiplyMatrices(i,Ic),Wr.matrixWorld=Lc,r.material instanceof Kh?Wr.material.side=r.material.side:Wr.material.side=r.material[0].side,Wr.raycast(e,Ui);for(let o=0,a=Ui.length;o<a;o++){const c=Ui[o];c.instanceId=s,c.object=this,n.push(c)}Ui.length=0}}}const Ku=h.createContext(null),Nc=new Ei,Fc=new Ei,vm=new Ei,Uc=new he,Bc=new Zh,Hc=new he,Zu=h.forwardRef(({context:t,children:e,...n},r)=>{h.useMemo(()=>ba({PositionMesh:xm}),[]);const i=h.useRef(),{subscribe:s,getParent:o}=h.useContext(t||Ku);return h.useLayoutEffect(()=>s(i),[]),h.createElement("positionMesh",be({instance:o(),instanceKey:i,ref:ki([r,i])},n),e)}),bm=h.forwardRef(({children:t,range:e,limit:n=1e3,frames:r=1/0,...i},s)=>{const[{context:o,instance:a}]=h.useState(()=>{const g=h.createContext(null);return{context:g,instance:h.forwardRef((b,w)=>h.createElement(Zu,be({context:g},b,{ref:w})))}}),c=h.useRef(null),[l,u]=h.useState([]),[[f,d]]=h.useState(()=>{const g=new Float32Array(n*16);for(let b=0;b<n;b++)vm.identity().toArray(g,b*16);return[g,new Float32Array([...new Array(n*3)].map(()=>1))]});h.useEffect(()=>{c.current.instanceMatrix.needsUpdate=!0});let p=0,y=0;lt(()=>{if(r===1/0||p<r){c.current.updateMatrix(),c.current.updateMatrixWorld(),Nc.copy(c.current.matrixWorld).invert(),y=Math.min(n,e!==void 0?e:n,l.length),c.current.count=y,c.current.instanceMatrix.updateRange.count=y*16,c.current.instanceColor.updateRange.count=y*3;for(let g=0;g<l.length;g++){const b=l[g].current;b.matrixWorld.decompose(Uc,Bc,Hc),Fc.compose(Uc,Bc,Hc).premultiply(Nc),Fc.toArray(f,g*16),c.current.instanceMatrix.needsUpdate=!0,b.color.toArray(d,g*3),c.current.instanceColor.needsUpdate=!0}p++}});const m=h.useMemo(()=>({getParent:()=>c,subscribe:g=>(u(b=>[...b,g]),()=>u(b=>b.filter(w=>w.current!==g.current)))}),[]);return h.createElement("instancedMesh",be({userData:{instances:l},matrixAutoUpdate:!1,ref:ki([s,c]),args:[null,null,0],raycast:()=>null},i),h.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:f.length/16,array:f,itemSize:16,usage:yc}),h.createElement("instancedBufferAttribute",{attach:"instanceColor",count:d.length/3,array:d,itemSize:3,usage:yc}),typeof t=="function"?h.createElement(o.Provider,{value:m},t(a)):h.createElement(Ku.Provider,{value:m},t))}),qu=h.createContext(null),wm=h.forwardRef((t,e)=>{h.useMemo(()=>ba({SegmentObject:km}),[]);const{limit:n=1e3,lineWidth:r=1,children:i,...s}=t,[o,a]=h.useState([]),[c]=h.useState(()=>new ss),[l]=h.useState(()=>new mh),[u]=h.useState(()=>new gh),[f]=h.useState(()=>new ve(512,512)),[d]=h.useState(()=>Array(n*6).fill(0)),[p]=h.useState(()=>Array(n*6).fill(0)),y=h.useMemo(()=>({subscribe:m=>(a(g=>[...g,m]),()=>a(g=>g.filter(b=>b.current!==m.current)))}),[]);return lt(()=>{for(let g=0;g<n;g++){var m;const b=(m=o[g])==null?void 0:m.current;b&&(d[g*6+0]=b.start.x,d[g*6+1]=b.start.y,d[g*6+2]=b.start.z,d[g*6+3]=b.end.x,d[g*6+4]=b.end.y,d[g*6+5]=b.end.z,p[g*6+0]=b.color.r,p[g*6+1]=b.color.g,p[g*6+2]=b.color.b,p[g*6+3]=b.color.r,p[g*6+4]=b.color.g,p[g*6+5]=b.color.b)}u.setColors(p),u.setPositions(d),c.computeLineDistances()}),h.createElement("primitive",{object:c,ref:e},h.createElement("primitive",{object:u,attach:"geometry"}),h.createElement("primitive",be({object:l,attach:"material",vertexColors:!0,resolution:f,linewidth:r},s)),h.createElement(qu.Provider,{value:y},i))});class km{constructor(){this.color=new as("white"),this.start=new he(0,0,0),this.end=new he(0,0,0)}}const Vc=t=>t instanceof he?t:new he(...typeof t=="number"?[t,t,t]:t),Em=h.forwardRef(({color:t,start:e,end:n},r)=>{const i=h.useContext(qu);if(!i)throw"Segment must used inside Segments component.";const s=h.useRef(null);return h.useLayoutEffect(()=>i.subscribe(s),[]),h.createElement("segmentObject",{ref:ki([s,r]),color:t,start:Vc(e),end:Vc(n)})});function Cm({all:t,scene:e,camera:n}){const r=Ae(({gl:o})=>o),i=Ae(({camera:o})=>o),s=Ae(({scene:o})=>o);return h.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(l=>{l.visible===!1&&(o.push(l),l.visible=!0)}),r.compile(e||s,n||i);const a=new qh(128);new Qh(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(l=>l.visible=!1)},[]),null}function Wc({pixelated:t}){const e=Ae(o=>o.gl),n=Ae(o=>o.internal.active),r=Ae(o=>o.performance.current),i=Ae(o=>o.viewport.initialDpr),s=Ae(o=>o.setDpr);return h.useEffect(()=>{const o=e.domElement;return()=>{n&&s(i),t&&o&&(o.style.imageRendering="auto")}},[]),h.useEffect(()=>{s(r*i),t&&e.domElement&&(e.domElement.style.imageRendering=r===1?"auto":"pixelated")},[r]),null}function Yc(){const t=Ae(r=>r.get),e=Ae(r=>r.setEvents),n=Ae(r=>r.performance.current);return h.useEffect(()=>{const r=t().events.enabled;return()=>e({enabled:r})},[]),h.useEffect(()=>e({enabled:n===1}),[n]),null}const Tm=h.createContext(null);function Sm({children:t,enabled:e=!0}){const[n,r]=h.useState([]),i=h.useMemo(()=>({selected:n,select:r,enabled:e}),[n,r,e]);return v.jsx(Tm.Provider,{value:i,children:t})}function Om(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Qu(...t){return e=>t.forEach(n=>Om(n,e))}function Sr(...t){return h.useCallback(Qu(...t),t)}const Ju=h.forwardRef((t,e)=>{const{children:n,...r}=t,i=h.Children.toArray(n),s=i.find($m);if(s){const o=s.props.children,a=i.map(c=>c===s?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:c);return h.createElement(Mo,be({},r,{ref:e}),h.isValidElement(o)?h.cloneElement(o,void 0,a):null)}return h.createElement(Mo,be({},r,{ref:e}),n)});Ju.displayName="Slot";const Mo=h.forwardRef((t,e)=>{const{children:n,...r}=t;return h.isValidElement(n)?h.cloneElement(n,{...Pm(r,n.props),ref:e?Qu(e,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});Mo.displayName="SlotClone";const e0=({children:t})=>h.createElement(h.Fragment,null,t);function $m(t){return h.isValidElement(t)&&t.type===e0}function Pm(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Rm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xn=Rm.reduce((t,e)=>{const n=h.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Ju:e;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(a,be({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Am(t,e){t&&ya.flushSync(()=>t.dispatchEvent(e))}const Dm=h.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?vu.createPortal(h.createElement(Xn.div,be({},i,{ref:e})),r):null}),Mm=Dm;var Gc=Object.prototype.hasOwnProperty;function di(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&di(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Gc.call(t,n)&&++r&&!Gc.call(e,n)||!(n in e)||!di(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Ti(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Ns=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};Ns.prototype._test=function(e){var n=this.fn;try{fr(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return fr(this.modifiers.slice(),n,this)(e)}catch{return!1}};Ns.prototype._check=function(e){try{fr(this.modifiers.slice(),this.fn,this)(e)}catch{if(fr(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!fr(this.modifiers.slice(),this.fn,this)(e))throw null};Ns.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){n0(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function t0(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function fr(t,e,n){if(t.length){var r=t.shift(),i=fr(t,e,n);return r.perform(i,n)}else return t0(e)}function n0(t,e,n){if(t.length){var r=t.shift(),i=n0(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(t0(e,"async")(s))}}var jm=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},Da=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ht=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};Ht.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Ns(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Ht.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new jm(n,e.simple,e.async)),this};Ht.prototype._clone=function(){return new Ht(this.chain.slice(),this.nextRuleModifiers.slice())};Ht.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};Ht.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new Da(r,e,i))}}),n};Ht.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new Da(n,e,r)}})};Ht.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){r0(e,n.chain.slice(),r,i)})};function r0(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){r0(t,e,n,r)},function(s){r(new Da(i,t,s))})}else n(t)}var Xc=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function zm(t,e){return e===void 0&&(e=!1),{simple:function(n){return Xc(n,e)||t.check(n)===void 0},async:function(n){return Xc(n,e)||t.testAsync(n)}}}function rt(){return typeof Proxy<"u"?i0(new Ht):jo(new Ht)}var hi={};rt.extend=function(t){Object.assign(hi,t)};rt.clearCustomRules=function(){hi={}};function i0(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=i0(t._clone());if(r in ds)return i._applyModifier(ds[r],r);if(r in hi)return i._applyRule(hi[r],r);if(r in zo)return i._applyRule(zo[r],r)}})}function jo(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var l=jo(s._clone()),u=l._applyRule(i[o],o).apply(void 0,a);return u}}),s},n=e(zo,t),r=e(hi,n);return Object.keys(ds).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=jo(r._clone());return s._applyModifier(ds[i],i)}})}),r}var ds={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Bi(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Bi(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Bi(e).every(t)}},async:function(t){return function(e){return Promise.all(Bi(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return Kc(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return Kc(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function Kc(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Bi(t){return typeof t=="string"?t.split(""):t}var zo={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||Im;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return rr("string")},boolean:function(){return rr("boolean")},undefined:function(){return rr("undefined")},null:function(){return rr("null")},array:function(){return rr("array")},object:function(){return rr("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return Lm(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:zm};function rr(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function Im(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Lm(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}function Zt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function s0(t,e=[]){let n=[];function r(s,o){const a=h.createContext(o),c=n.length;n=[...n,o];function l(f){const{scope:d,children:p,...y}=f,m=(d==null?void 0:d[t][c])||a,g=h.useMemo(()=>y,Object.values(y));return h.createElement(m.Provider,{value:g},p)}function u(f,d){const p=(d==null?void 0:d[t][c])||a,y=h.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,u]}const i=()=>{const s=n.map(o=>h.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,Nm(i,...e)]}function Nm(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(s)[`__scope${l}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Or(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Fm(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Io="dismissableLayer.update",Um="dismissableLayer.pointerDownOutside",Bm="dismissableLayer.focusOutside";let Zc;const Hm=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vm=h.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...l}=t,u=h.useContext(Hm),[f,d]=h.useState(null),p=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=h.useState({}),m=Sr(e,T=>d(T)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),E=f?g.indexOf(f):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=E>=w,k=Wm(T=>{const O=T.target,I=[...u.branches].some(U=>U.contains(O));!_||I||(s==null||s(T),a==null||a(T),T.defaultPrevented||c==null||c())},p),C=Ym(T=>{const O=T.target;[...u.branches].some(U=>U.contains(O))||(o==null||o(T),a==null||a(T),T.defaultPrevented||c==null||c())},p);return Fm(T=>{E===u.layers.size-1&&(i==null||i(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},p),h.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Zc=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),qc(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Zc)}},[f,p,r,u]),h.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),qc())},[f,u]),h.useEffect(()=>{const T=()=>y({});return document.addEventListener(Io,T),()=>document.removeEventListener(Io,T)},[]),h.createElement(Xn.div,be({},l,{ref:m,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:Zt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Zt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Zt(t.onPointerDownCapture,k.onPointerDownCapture)}))});function Wm(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){o0(Um,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ym(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&o0(Bm,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qc(){const t=new CustomEvent(Io);document.dispatchEvent(t)}function o0(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Am(i,s):i.dispatchEvent(s)}const yr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Gm=eh["useId".toString()]||(()=>{});let Xm=0;function Km(t){const[e,n]=h.useState(Gm());return yr(()=>{t||n(r=>r??String(Xm++))},[t]),t||(e?`radix-${e}`:"")}const Zm=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return h.createElement(Xn.svg,be({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:h.createElement("polygon",{points:"0,0 30,0 15,10"}))}),qm=Zm;function Qm(t){const[e,n]=h.useState(void 0);return yr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const a0="Popper",[c0,l0]=s0(a0),[Jm,u0]=c0(a0),eg=t=>{const{__scopePopper:e,children:n}=t,[r,i]=h.useState(null);return h.createElement(Jm,{scope:e,anchor:r,onAnchorChange:i},n)},tg="PopperAnchor",ng=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=u0(tg,n),o=h.useRef(null),a=Sr(e,o);return h.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.createElement(Xn.div,be({},i,{ref:a}))}),f0="PopperContent",[rg,ig]=c0(f0),sg=h.forwardRef((t,e)=>{var n,r,i,s,o,a,c,l;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:p="center",alignOffset:y=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:b=[],collisionPadding:w=0,sticky:E="partial",hideWhenDetached:x=!1,updatePositionStrategy:_="optimized",onPlaced:k,...C}=t,T=u0(f0,u),[O,I]=h.useState(null),U=Sr(e,ee=>I(ee)),[R,G]=h.useState(null),L=Qm(R),N=(n=L==null?void 0:L.width)!==null&&n!==void 0?n:0,H=(r=L==null?void 0:L.height)!==null&&r!==void 0?r:0,B=f+(p!=="center"?"-"+p:""),F=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},W=Array.isArray(b)?b:[b],Q=W.length>0,oe={padding:F,boundary:W.filter(lg),altBoundary:Q},{refs:D,floatingStyles:z,placement:S,isPositioned:j,middlewareData:Y}=Zp({strategy:"fixed",placement:B,whileElementsMounted:(...ee)=>Gp(...ee,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[Tp({mainAxis:d+H,alignmentAxis:y}),g&&Sp({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?Op():void 0,...oe}),g&&kp({...oe}),$p({...oe,apply:({elements:ee,rects:A,availableWidth:$,availableHeight:se})=>{const{width:me,height:Ee}=A.reference,$e=ee.floating.style;$e.setProperty("--radix-popper-available-width",`${$}px`),$e.setProperty("--radix-popper-available-height",`${se}px`),$e.setProperty("--radix-popper-anchor-width",`${me}px`),$e.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),R&&Kp({element:R,padding:m}),ug({arrowWidth:N,arrowHeight:H}),x&&Ep({strategy:"referenceHidden",...oe})]}),[M,Z]=d0(S),ae=Or(k);yr(()=>{j&&(ae==null||ae())},[j,ae]);const re=(i=Y.arrow)===null||i===void 0?void 0:i.x,ie=(s=Y.arrow)===null||s===void 0?void 0:s.y,q=((o=Y.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ce,J]=h.useState();return yr(()=>{O&&J(window.getComputedStyle(O).zIndex)},[O]),h.createElement("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:j?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(a=Y.transformOrigin)===null||a===void 0?void 0:a.x,(c=Y.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},h.createElement(rg,{scope:u,placedSide:M,onArrowChange:G,arrowX:re,arrowY:ie,shouldHideArrow:q},h.createElement(Xn.div,be({"data-side":M,"data-align":Z},C,{ref:U,style:{...C.style,animation:j?void 0:"none",opacity:(l=Y.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))}),og="PopperArrow",ag={top:"bottom",right:"left",bottom:"top",left:"right"},cg=h.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=ig(og,r),o=ag[s.placedSide];return h.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},h.createElement(qm,be({},i,{ref:n,style:{...i.style,display:"block"}})))});function lg(t){return t!==null}const ug=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:c,middlewareData:l}=e,f=((n=l.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=f?0:t.arrowWidth,p=f?0:t.arrowHeight,[y,m]=d0(a),g={start:"0%",center:"50%",end:"100%"}[m],b=((r=(i=l.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,w=((s=(o=l.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let E="",x="";return y==="bottom"?(E=f?g:`${b}px`,x=`${-p}px`):y==="top"?(E=f?g:`${b}px`,x=`${c.floating.height+p}px`):y==="right"?(E=`${-p}px`,x=f?g:`${w}px`):y==="left"&&(E=`${c.floating.width+p}px`,x=f?g:`${w}px`),{data:{x:E,y:x}}}});function d0(t){const[e,n="center"]=t.split("-");return[e,n]}const fg=eg,dg=ng,hg=sg,pg=cg;function mg(t,e){return h.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const h0=t=>{const{present:e,children:n}=t,r=gg(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=Sr(r.ref,i.ref);return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};h0.displayName="Presence";function gg(t){const[e,n]=h.useState(),r=h.useRef({}),i=h.useRef(t),s=h.useRef("none"),o=t?"mounted":"unmounted",[a,c]=mg(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const l=Hi(r.current);s.current=a==="mounted"?l:"none"},[a]),yr(()=>{const l=r.current,u=i.current;if(u!==t){const d=s.current,p=Hi(l);t?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),yr(()=>{if(e){const l=f=>{const p=Hi(r.current).includes(f.animationName);f.target===e&&p&&ya.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=Hi(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Hi(t){return(t==null?void 0:t.animationName)||"none"}function yg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=_g({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Or(n),c=h.useCallback(l=>{if(s){const f=typeof l=="function"?l(t):l;f!==t&&a(f)}else i(l)},[s,t,i,a]);return[o,c]}function _g({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,i=h.useRef(r),s=Or(e);return h.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const xg=h.forwardRef((t,e)=>h.createElement(Xn.span,be({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),vg=xg,[Fs,FE]=s0("Tooltip",[l0]),Us=l0(),bg="TooltipProvider",Lo="tooltip.open",[UE,Ma]=Fs(bg),ja="Tooltip",[wg,Bs]=Fs(ja),kg=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=Ma(ja,t.__scopeTooltip),l=Us(e),[u,f]=h.useState(null),d=Km(),p=h.useRef(0),y=o??c.disableHoverableContent,m=a??c.delayDuration,g=h.useRef(!1),[b=!1,w]=yg({prop:r,defaultProp:i,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Lo))):c.onClose(),s==null||s(C)}}),E=h.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),x=h.useCallback(()=>{window.clearTimeout(p.current),g.current=!1,w(!0)},[w]),_=h.useCallback(()=>{window.clearTimeout(p.current),w(!1)},[w]),k=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,w(!0)},m)},[m,w]);return h.useEffect(()=>()=>window.clearTimeout(p.current),[]),h.createElement(fg,l,h.createElement(wg,{scope:e,contentId:d,open:b,stateAttribute:E,trigger:u,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayed?k():x()},[c.isOpenDelayed,k,x]),onTriggerLeave:h.useCallback(()=>{y?_():window.clearTimeout(p.current)},[_,y]),onOpen:x,onClose:_,disableHoverableContent:y},n))},Qc="TooltipTrigger",Eg=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Bs(Qc,n),s=Ma(Qc,n),o=Us(n),a=h.useRef(null),c=Sr(e,a,i.onTriggerChange),l=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>l.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.createElement(dg,be({asChild:!0},o),h.createElement(Xn.button,be({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:Zt(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Zt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Zt(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Zt(t.onFocus,()=>{l.current||i.onOpen()}),onBlur:Zt(t.onBlur,i.onClose),onClick:Zt(t.onClick,i.onClose)})))}),Cg="TooltipPortal",[BE,Tg]=Fs(Cg,{forceMount:void 0}),pi="TooltipContent",Sg=h.forwardRef((t,e)=>{const n=Tg(pi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Bs(pi,t.__scopeTooltip);return h.createElement(h0,{present:r||o.open},o.disableHoverableContent?h.createElement(p0,be({side:i},s,{ref:e})):h.createElement(Og,be({side:i},s,{ref:e})))}),Og=h.forwardRef((t,e)=>{const n=Bs(pi,t.__scopeTooltip),r=Ma(pi,t.__scopeTooltip),i=h.useRef(null),s=Sr(e,i),[o,a]=h.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:f}=r,d=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((y,m)=>{const g=y.currentTarget,b={x:y.clientX,y:y.clientY},w=Dg(b,g.getBoundingClientRect()),E=Mg(b,w),x=jg(m.getBoundingClientRect()),_=Ig([...E,...x]);a(_),f(!0)},[f]);return h.useEffect(()=>()=>d(),[d]),h.useEffect(()=>{if(c&&u){const y=g=>p(g,u),m=g=>p(g,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[c,u,p,d]),h.useEffect(()=>{if(o){const y=m=>{const g=m.target,b={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),E=!zg(b,o);w?d():E&&(d(),l())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,l,d]),h.createElement(p0,be({},t,{ref:s}))}),[$g,Pg]=Fs(ja,{isInside:!1}),p0=h.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Bs(pi,n),l=Us(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Lo,u),()=>document.removeEventListener(Lo,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),h.createElement(Vm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},h.createElement(hg,be({"data-state":c.stateAttribute},l,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),h.createElement(e0,null,r),h.createElement($g,{scope:n,isInside:!0},h.createElement(vg,{id:c.contentId,role:"tooltip"},i||r))))}),Rg="TooltipArrow",Ag=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Us(n);return Pg(Rg,n).isInside?null:h.createElement(pg,be({},i,r,{ref:e}))});function Dg(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mg(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function jg(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function zg(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,l=e[o].x,u=e[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function Ig(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lg(e)}function Lg(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const Ng=kg,Fg=Eg,Ug=Sg,Bg=Ag;function Hg(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ce(t,e){if(t==null)return{};var n=Hg(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let Re;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(Re||(Re={}));const Vg={[Re.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[Re.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Re.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[Re.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[Re.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Re.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Re.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[Re.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Re.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Re.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[Re.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function m0(t,e,...n){const[r,...i]=Vg[e](...n);console[t]("LEVA: "+r,...i)}const Qt=m0.bind(null,"warn"),Wg=m0.bind(null,"log"),Yg=["value"],Gg=["schema"],Xg=["value"],g0=[],Vn={};function Jc(t){let{value:e}=t,n=Ce(t,Yg);for(let r of g0){const i=r(e,n);if(i)return i}}function fn(t,e){let{schema:n}=e,r=Ce(e,Gg);if(t in Vn){Qt(Re.ALREADY_REGISTERED_TYPE,t);return}g0.push((i,s)=>n(i,s)&&t),Vn[t]=r}function co(t,e,n,r){const{normalize:i}=Vn[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Ce(e,Xg);return{value:s,settings:o}}function Kg(t,e,n,r,i,s){const{sanitize:o}=Vn[t];return o?o(e,n,r,i,s):e}function el(t,e,n){const{format:r}=Vn[t];return r?r(e,n):e}function Zg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tl(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const wn=(t,e,n)=>t>n?n:t<e?e:t,qg=t=>{if(t===""||typeof t=="number")return t;try{const e=hn(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},Qg=Math.log(10);function nl(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/Qg)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const hs=(t,e,n)=>n===e?0:(wn(t,e,n)-e)/(n-e),ps=(t,e,n)=>t*(n-e)+e,Jg=()=>"_"+Math.random().toString(36).substr(2,9),rl=/\(([0-9+\-*/^ .]+)\)/,il=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,sl=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,ol=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,al=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,cl=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function hn(t){if(isNaN(Number(t)))if(rl.test(t)){const e=t.replace(rl,(n,r)=>String(hn(r)));return hn(e)}else if(il.test(t)){const e=t.replace(il,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return hn(e)}else if(sl.test(t)){const e=t.replace(sl,(n,r,i)=>String(Number(r)*Number(i)));return hn(e)}else if(ol.test(t)){const e=t.replace(ol,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return hn(e)}else if(al.test(t)){const e=t.replace(al,(n,r,i)=>String(Number(r)+Number(i)));return hn(e)}else if(cl.test(t)){const e=t.replace(cl,(n,r,i)=>String(Number(r)-Number(i)));return hn(e)}else return Number(t);return Number(t)}function e1(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function t1(t,e){const n=fe({},t);return e.forEach(r=>r in t&&delete n[r]),n}function n1(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function y0(t){return Object.prototype.toString.call(t)==="[object Object]"}const r1=t=>y0(t)&&Object.keys(t).length===0;let $t;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})($t||($t={}));let Pt;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(Pt||(Pt={}));const i1=["type","__customInput"],s1=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],o1=["type"];function _0(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:fe({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:_,__customInput:k}=t,C=Ce(t,i1);return _0(k,e,C,_)}const{render:o,label:a,optional:c,order:l=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:y,transient:m}=t,g=Ce(t,s1),b=fe({render:o,key:e,label:a??e,hint:f,transient:m??!!d,onEditStart:p,onEditEnd:y,disabled:u,optional:c,order:l},n);let{type:w}=g,E=Ce(g,o1);if(w=r??w,w in $t)return{type:w,input:E,options:b};let x;return r&&y0(E)&&"value"in E?x=E.value:x=r1(E)?void 0:E,{type:w,input:x,options:fe(fe({},b),{},{onChange:d,optional:(i=b.optional)!==null&&i!==void 0?i:!1,disabled:(s=b.disabled)!==null&&s!==void 0?s:!1})}}function a1(t,e,n,r){const i=_0(t,e),{type:s,input:o,options:a}=i;if(s)return s in $t?i:{type:s,input:co(s,o,n,r),options:a};let c=Jc(o);return c?{type:c,input:co(c,o,n,r),options:a}:(c=Jc({value:o}),c?{type:c,input:co(c,{value:o},n,r),options:a}:!1)}function ll(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=x0({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const c1=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function x0({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Kg(t,o,n,e,i,s)}catch(c){throw new c1(`The value \`${r}\` did not result in a correct value.`,e,c)}return di(a,e)?e:a}const v0=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},b0=t=>t.shiftKey?5:t.altKey?1/5:1;function l1(t,e){const n=console.error;console.error=()=>{},vu.render(t,e),console.error=n}const u1=["value"],f1=["min","max"],d1=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},w0=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=wn(i,e,n);return r?s+r:s},h1=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},k0=t=>{let{value:e}=t,n=Ce(t,u1);const{min:r=-1/0,max:i=1/0}=n,s=Ce(n,f1);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=wn(o,r,i);let c=n.step;c||(Number.isFinite(r)?Number.isFinite(i)?c=+(Math.abs(i-r)/100).toPrecision(1):c=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(c=+(Math.abs(i-o)/100).toPrecision(1)));const l=c?nl(c)*10:nl(o);c=c||l/10;const u=Math.round(wn(Math.log10(1/l),0,2));return{value:a?o+a:o,settings:fe({initialValue:o,step:c,pad:u,min:r,max:i,suffix:a},s)}},E0=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var C0=Object.freeze({__proto__:null,schema:d1,sanitize:w0,format:h1,normalize:k0,sanitizeStep:E0});function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Le.apply(this,arguments)}const T0=h.createContext({});function Ze(){return h.useContext(T0)}const za=h.createContext(null),S0=h.createContext(null),O0=h.createContext(null);function Si(){return h.useContext(S0)}function p1(){return h.useContext(O0)}const $0=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Vi(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const Yr={$inputStyle:()=>t=>Vi(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>Vi(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>Vi(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>Vi(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:le,css:HE,createTheme:m1,globalCss:g1,keyframes:VE}=yh({prefix:"leva",theme:$0(),utils:fe(fe({},Yr),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":Yr.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":Yr.$focusStyle()(t)}),$hover:t=>({"&:hover":Yr.$hoverStyle()(t)}),$active:t=>({"&:active":Yr.$activeStyle()(t)})})}),y1=g1({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function _1(t){const e=$0();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=m1(e);return{theme:e,className:n.className}}function en(t,e){const{theme:n}=h.useContext(za);if(!(t in n)||!(e in n[t]))return Qt(Re.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const P0=le("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),R0=le("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${P0}`]:{paddingLeft:0}}),x1=le(R0,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),v1=le("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),b1=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],w1=["onUpdate"];function Ia(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:c="text",rows:l=0}=t,u=Ce(t,b1);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:y}=Ze(),m=a||f,g=h.useRef(null),b=l>0,w=b?"textarea":"input",E=h.useCallback(k=>C=>{const T=C.currentTarget.value;k(T)},[]);P.useEffect(()=>{const k=g.current,C=E(T=>{r(T),p()});return k==null||k.addEventListener("blur",C),()=>k==null?void 0:k.removeEventListener("blur",C)},[E,r,p]);const x=h.useCallback(k=>{k.key==="Enter"&&E(r)(k)},[E,r]),_=Object.assign({as:w},b?{rows:l}:{},u);return P.createElement(v1,{textArea:b},e&&typeof e=="string"?P.createElement(R0,null,e):e,P.createElement(P0,Le({levaType:o,ref:g,id:m,type:c,autoComplete:"off",spellCheck:"false",value:n,onChange:E(i),onFocus:()=>d(),onKeyPress:x,onKeyDown:s,disabled:y},_)))}function k1(t){let{onUpdate:e}=t,n=Ce(t,w1);const r=h.useCallback(s=>e(qg(s)),[e]),i=h.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(c=>parseFloat(c)+o*a)}},[e]);return P.createElement(Ia,Le({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const ms=le("div",{}),No=le("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),E1=le("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${No}::after`]:{opacity:.6},[`${ms}:hover > & + ${No}::after`]:{opacity:.6},[`${ms}:hover > & > svg`]:{opacity:1}}),A0=le("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${ms}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),D0=le("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${A0} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),M0=le(D0,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),C1=le("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),T1=le("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Fo=le("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),S1=le("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Fo}`]:{pointerEvents:"auto"}}}}}),j0=le("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),O1=le("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),$1=le(Bg,{fill:"$toolTipBackground"});function La({children:t}){const{className:e}=h.useContext(za);return P.createElement(Mm,{className:e},t)}const P1=["align"];function R1(){const{id:t,disable:e,disabled:n}=Ze();return P.createElement(P.Fragment,null,P.createElement(T1,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),P.createElement("label",{htmlFor:t+"__disable"}))}function A1(t){const{id:e,optional:n,hint:r}=Ze(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return P.createElement(P.Fragment,null,n&&P.createElement(R1,null),r!==void 0?P.createElement(Ng,null,P.createElement(Fg,{asChild:!0},P.createElement(Fo,Le({},i,t))),P.createElement(Ug,{side:"top",sideOffset:2},P.createElement(O1,null,r,P.createElement($1,null)))):P.createElement(Fo,Le({},i,s,t)))}function At(t){let{align:e}=t,n=Ce(t,P1);const{value:r,label:i,key:s,disabled:o}=Ze(),{hideCopyButton:a}=p1(),c=!a&&s!==void 0,[l,u]=h.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Qt(Re.CLIPBOARD_ERROR,{[s]:r})}};return P.createElement(C1,{align:e,onPointerLeave:()=>u(!1)},P.createElement(A1,n),c&&!o&&P.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},l?P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},P.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),P.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):P.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},P.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),P.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const D1=["toggled"],M1=le("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Na(t){let{toggled:e}=t,n=Ce(t,D1);return P.createElement(M1,Le({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),P.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const j1=["input"];function Tt(t){let{input:e}=t,n=Ce(t,j1);return e?P.createElement(M0,n):P.createElement(D0,n)}function z0({value:t,type:e,settings:n,setValue:r}){const[i,s]=h.useState(el(e,t,n)),o=h.useRef(t),a=h.useRef(n);a.current=n;const c=h.useCallback(u=>s(el(e,u,a.current)),[e]),l=h.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;c(p)}},[c,r]);return h.useEffect(()=>{di(t,o.current)||c(t),o.current=t},[t,c]),{displayValue:i,onChange:s,onUpdate:l}}function Oi(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Ze();return _h(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function z1(t){const e=h.useRef(null),n=h.useRef(null),r=h.useRef(!1);return h.useEffect(()=>{const i=v0(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),h.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function I0(){const t=h.useRef(null),e=h.useRef({x:0,y:0}),n=h.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const I1=["__refCount"],lo=(t,e)=>{if(!t[e])return null;const n=t[e];return Ce(n,I1)};function L1(t){const e=Si(),[n,r]=h.useState(lo(e.getData(),t)),i=h.useCallback(l=>e.setValueAtPath(t,l,!0),[t,e]),s=h.useCallback(l=>e.setSettingsAtPath(t,l),[t,e]),o=h.useCallback(l=>e.disableInputAtPath(t,l),[t,e]),a=h.useCallback(()=>e.emitOnEditStart(t),[t,e]),c=h.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return h.useEffect(()=>{r(lo(e.getData(),t));const l=e.useStore.subscribe(u=>lo(u.data,t),r,{equalityFn:Ti});return()=>l()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:c}]}const N1=le("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),L0=le("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Uo=le("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),N0=le("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),F0=le("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function F1({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=h.useRef(null),a=h.useRef(null),c=h.useRef(0),l=en("sizes","scrubberWidth"),u=Oi(({event:d,first:p,xy:[y],movement:[m],memo:g})=>{if(p){const{width:w,left:E}=o.current.getBoundingClientRect();c.current=w-parseFloat(l),g=(d==null?void 0:d.target)===a.current?t:ps((y-E)/w,e,n)}const b=g+ps(m/c.current,0,n-e);return r(E0(b,{step:i,initialValue:s})),g}),f=hs(t,e,n);return P.createElement(N0,Le({ref:o},u()),P.createElement(L0,null,P.createElement(F0,{style:{left:0,right:`${(1-f)*100}%`}})),P.createElement(Uo,{ref:a,style:{left:`calc(${f} * (100% - ${l}))`}}))}const U1=P.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=h.useState(!1),o=Oi(({active:a,delta:[c],event:l,memo:u=0})=>(s(a),u+=c/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*n*b0(l)),u=0),u));return P.createElement(x1,Le({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function U0({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&P.createElement(U1,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return P.createElement(k1,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function B1(){const t=Ze(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,c=a!==1/0&&o!==-1/0;return P.createElement(Tt,{input:!0},P.createElement(At,null,e),P.createElement(N1,{hasRange:c},c&&P.createElement(F1,Le({value:parseFloat(n),onDrag:r},i)),P.createElement(U0,Le({},t,{id:s,label:"value",innerLabelTrim:c?0:1}))))}const{sanitizeStep:H1}=C0,V1=Ce(C0,["sanitizeStep"]);var W1=fe({component:B1},V1);const Y1=(t,e)=>rt().schema({options:rt().passesAnyOf(rt().object(),rt().array())}).test(e),G1=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},X1=(t,{values:e})=>e.indexOf(t),K1=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Z1=Object.freeze({__proto__:null,schema:Y1,sanitize:G1,format:X1,normalize:K1});const q1=le("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Bo=le("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Q1=le("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Bo}:focus + &`]:{$focusStyle:""},[`${Bo}:hover + &`]:{$hoverStyle:""}});function J1({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,c=h.useRef();return e===a[t]&&(c.current=o[t]),P.createElement(q1,null,P.createElement(Bo,{id:r,value:t,onChange:l=>n(a[Number(l.currentTarget.value)]),disabled:s},o.map((l,u)=>P.createElement("option",{key:l,value:u},l))),P.createElement(Q1,null,c.current),P.createElement(Na,{toggled:!0}))}function ey(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Ze();return P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(J1,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var ty=fe({component:ey},Z1);const ny=t=>rt().string().test(t),ry=t=>{if(typeof t!="string")throw Error("Invalid string");return t},iy=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var sy=Object.freeze({__proto__:null,schema:ny,sanitize:ry,normalize:iy});const oy=["displayValue","onUpdate","onChange","editable"],ay=le("div",{whiteSpace:"pre-wrap"});function cy(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=Ce(t,oy);return i?P.createElement(Ia,Le({value:e,onUpdate:n,onChange:r},s)):P.createElement(ay,null,e)}function ly(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Ze();return P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(cy,Le({displayValue:n,onUpdate:r,onChange:i},e)))}var uy=fe({component:ly},sy);const fy=t=>rt().boolean().test(t),dy=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var hy=Object.freeze({__proto__:null,schema:fy,sanitize:dy});const py=le("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function my({value:t,onUpdate:e,id:n,disabled:r}){return P.createElement(py,null,P.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),P.createElement("label",{htmlFor:n},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function gy(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Ze();return P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(my,{value:e,onUpdate:n,id:i,disabled:r}))}var yy=fe({component:gy},hy);const _y=["locked"];function xy({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=h.useRef(t[n]);o.current=t[n];const a=h.useCallback(l=>i({[n]:x0({type:"NUMBER",value:o.current,settings:r},l)}),[i,r,n]),c=z0({type:"NUMBER",value:t[n],settings:r,setValue:a});return P.createElement(U0,{id:e,label:n,value:t[n],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:r,innerLabelTrim:s})}const vy=le("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function by(t){let{locked:e}=t,n=Ce(t,_y);return P.createElement("svg",Le({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?P.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):P.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Fa({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Ze(),{lock:o,locked:a}=n;return P.createElement(vy,{withLock:o},o&&P.createElement(by,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((c,l)=>P.createElement(xy,{id:l===0?i:`${i}.${c}`,key:c,valueKey:c,value:t,settings:n[c],onUpdate:e,innerLabelTrim:r})))}const B0=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=k0(fe({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:c}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(c))&&(n[s].step=r,n[s].pad=i)}return n},wy=["lock"],ky=["value"];function Ey(t){const e=rt().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function Cy(t){return Array.isArray(t)?"array":"object"}function ti(t,e,n){return Cy(t)===e?t:e==="array"?Object.values(t):n1(t,n)}const Ty=(t,e,n)=>{const r=ti(t,"object",e.keys);for(let o in r)r[o]=w0(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=ti(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],c=r[a],l=o[a],u=l!==0?c/l:1;for(let f in o)f===a?s[a]=c:s[f]=o[f]*u}else s=fe(fe({},o),r)}return ti(s,e.format,e.keys)},Sy=(t,e)=>ti(t,"object",e.keys),Oy=t=>!!t&&("step"in t||"min"in t||"max"in t);function $y(t,e,n=[]){const{lock:r=!1}=e,i=Ce(e,wy),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=ti(t,"object",o),c=Oy(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,l=B0(a,c);return{value:s==="array"?t:a,settings:fe(fe({},l),{},{format:s,keys:o,lock:r,locked:!1})}}function H0(t){return{schema:Ey(t.length),normalize:e=>{let{value:n}=e,r=Ce(e,ky);return $y(n,r,t)},format:(e,n)=>Sy(e,n),sanitize:(e,n,r)=>Ty(e,n,r)}}var Py={grad:.9,turn:360,rad:360/(2*Math.PI)},Xt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ve=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},bt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},V0=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ul=function(t){return{r:bt(t.r,0,255),g:bt(t.g,0,255),b:bt(t.b,0,255),a:bt(t.a)}},uo=function(t){return{r:Ve(t.r),g:Ve(t.g),b:Ve(t.b),a:Ve(t.a,3)}},Ry=/^#([0-9a-f]{3,8})$/i,Wi=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},W0=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Y0=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),l=s%6;return{r:255*[r,a,o,o,c,r][l],g:255*[c,r,r,a,o,o][l],b:255*[o,o,c,r,r,a][l],a:i}},fl=function(t){return{h:V0(t.h),s:bt(t.s,0,100),l:bt(t.l,0,100),a:bt(t.a)}},dl=function(t){return{h:Ve(t.h),s:Ve(t.s),l:Ve(t.l),a:Ve(t.a,3)}},hl=function(t){return Y0((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},ni=function(t){return{h:(e=W0(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Ay=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dy=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,My=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ho={string:[[function(t){var e=Ry.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ve(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ve(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=My.exec(t)||jy.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ul({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Ay.exec(t)||Dy.exec(t);if(!e)return null;var n,r,i=fl({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Py[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return hl(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return Xt(e)&&Xt(n)&&Xt(r)?ul({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!Xt(e)||!Xt(n)||!Xt(r))return null;var o=fl({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return hl(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!Xt(e)||!Xt(n)||!Xt(r))return null;var o=function(a){return{h:V0(a.h),s:bt(a.s,0,100),v:bt(a.v,0,100),a:bt(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return Y0(o)},"hsv"]]},pl=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},G0=function(t){return typeof t=="string"?pl(t.trim(),Ho.string):typeof t=="object"&&t!==null?pl(t,Ho.object):[null,void 0]},zy=function(t){return G0(t)[1]},fo=function(t,e){var n=ni(t);return{h:n.h,s:bt(n.s+100*e,0,100),l:n.l,a:n.a}},ho=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},ml=function(t,e){var n=ni(t);return{h:n.h,s:n.s,l:bt(n.l+100*e,0,100),a:n.a}},Vo=function(){function t(e){this.parsed=G0(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ve(ho(this.rgba),2)},t.prototype.isDark=function(){return ho(this.rgba)<.5},t.prototype.isLight=function(){return ho(this.rgba)>=.5},t.prototype.toHex=function(){return e=uo(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Wi(Ve(255*s)):"","#"+Wi(n)+Wi(r)+Wi(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return uo(this.rgba)},t.prototype.toRgbString=function(){return e=uo(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return dl(ni(this.rgba))},t.prototype.toHslString=function(){return e=dl(ni(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=W0(this.rgba),{h:Ve(e.h),s:Ve(e.s),v:Ve(e.v),a:Ve(e.a,3)};var e},t.prototype.invert=function(){return Qe({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Qe(fo(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Qe(fo(this.rgba,-e))},t.prototype.grayscale=function(){return Qe(fo(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Qe(ml(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Qe(ml(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Qe({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Ve(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=ni(this.rgba);return typeof e=="number"?Qe({h:e,s:n.s,l:n.l,a:n.a}):Ve(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Qe(e).toHex()},t}(),Qe=function(t){return t instanceof Vo?t:new Vo(t)},gl=[],Iy=function(t){t.forEach(function(e){gl.indexOf(e)<0&&(e(Vo,Ho),gl.push(e))})};function Ly(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,l=r[this.toHex()];if(l)return l;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in n)s[p]=new t(n[p]).toRgb();for(var y in n){var m=(a=u,c=s[y],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));m<f&&(f=m,d=y)}return d}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":n[a];return c?new t(c).toRgb():null},"name"])}function $r(){return($r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ua(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function Wo(t){var e=h.useRef(t),n=h.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var _r=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},ri=function(t){return"touches"in t},Yo=function(t){return t&&t.ownerDocument.defaultView||self},yl=function(t,e,n){var r=t.getBoundingClientRect(),i=ri(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:_r((i.pageX-(r.left+Yo(t).pageXOffset))/r.width),top:_r((i.pageY-(r.top+Yo(t).pageYOffset))/r.height)}},_l=function(t){!ri(t)&&t.preventDefault()},Ba=P.memo(function(t){var e=t.onMove,n=t.onKey,r=Ua(t,["onMove","onKey"]),i=h.useRef(null),s=Wo(e),o=Wo(n),a=h.useRef(null),c=h.useRef(!1),l=h.useMemo(function(){var p=function(g){_l(g),(ri(g)?g.touches.length>0:g.buttons>0)&&i.current?s(yl(i.current,g,a.current)):m(!1)},y=function(){return m(!1)};function m(g){var b=c.current,w=Yo(i.current),E=g?w.addEventListener:w.removeEventListener;E(b?"touchmove":"mousemove",p),E(b?"touchend":"mouseup",y)}return[function(g){var b=g.nativeEvent,w=i.current;if(w&&(_l(b),!function(x,_){return _&&!ri(x)}(b,c.current)&&w)){if(ri(b)){c.current=!0;var E=b.changedTouches||[];E.length&&(a.current=E[0].identifier)}w.focus(),s(yl(w,b,a.current)),m(!0)}},function(g){var b=g.which||g.keyCode;b<37||b>40||(g.preventDefault(),o({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},m]},[o,s]),u=l[0],f=l[1],d=l[2];return h.useEffect(function(){return d},[d]),P.createElement("div",$r({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),$i=function(t){return t.filter(Boolean).join(" ")},Ha=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=$i(["react-colorful__pointer",t.className]);return P.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},P.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},et=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},X0=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:et(t.h),s:et(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:et(i/2),a:et(r,2)}},Go=function(t){var e=X0(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},po=function(t){var e=X0(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},K0=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),l=s%6;return{r:et(255*[r,a,o,o,c,r][l]),g:et(255*[c,r,r,a,o,o][l]),b:et(255*[o,o,c,r,r,a][l]),a:et(i,2)}},Z0=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:et(60*(a<0?a+6:a)),s:et(s?o/s*100:0),v:et(s/255*100),a:i}},q0=P.memo(function(t){var e=t.hue,n=t.onChange,r=$i(["react-colorful__hue",t.className]);return P.createElement("div",{className:r},P.createElement(Ba,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:_r(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":et(e),"aria-valuemax":"360","aria-valuemin":"0"},P.createElement(Ha,{className:"react-colorful__hue-pointer",left:e/360,color:Go({h:e,s:100,v:100,a:1})})))}),Q0=P.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Go({h:e.h,s:100,v:100,a:1})};return P.createElement("div",{className:"react-colorful__saturation",style:r},P.createElement(Ba,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:_r(e.s+100*i.left,0,100),v:_r(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+et(e.s)+"%, Brightness "+et(e.v)+"%"},P.createElement(Ha,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Go(e)})))}),Va=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function J0(t,e,n){var r=Wo(n),i=h.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=h.useRef({color:e,hsva:s});h.useEffect(function(){if(!t.equal(e,a.current.color)){var l=t.toHsva(e);a.current={hsva:l,color:e},o(l)}},[e,t]),h.useEffect(function(){var l;Va(s,a.current.hsva)||t.equal(l=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:l},r(l))},[s,t,r]);var c=h.useCallback(function(l){o(function(u){return Object.assign({},u,l)})},[]);return[s,c]}var Ny=typeof window<"u"?h.useLayoutEffect:h.useEffect,Fy=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},xl=new Map,ef=function(t){Ny(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!xl.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,xl.set(e,n);var r=Fy();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},Uy=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=Ua(t,["className","colorModel","color","onChange"]),a=h.useRef(null);ef(a);var c=J0(n,i,s),l=c[0],u=c[1],f=$i(["react-colorful",e]);return P.createElement("div",$r({},o,{ref:a,className:f}),P.createElement(Q0,{hsva:l,onChange:u}),P.createElement(q0,{hue:l.h,onChange:u,className:"react-colorful__last-control"}))},By=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+po(Object.assign({},n,{a:0}))+", "+po(Object.assign({},n,{a:1}))+")"},s=$i(["react-colorful__alpha",e]),o=et(100*n.a);return P.createElement("div",{className:s},P.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),P.createElement(Ba,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:_r(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},P.createElement(Ha,{className:"react-colorful__alpha-pointer",left:n.a,color:po(n)})))},Hy=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=Ua(t,["className","colorModel","color","onChange"]),a=h.useRef(null);ef(a);var c=J0(n,i,s),l=c[0],u=c[1],f=$i(["react-colorful",e]);return P.createElement("div",$r({},o,{ref:a,className:f}),P.createElement(Q0,{hsva:l,onChange:u}),P.createElement(q0,{hue:l.h,onChange:u}),P.createElement(By,{hsva:l,onChange:u,className:"react-colorful__last-control"}))},Vy={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Z0,fromHsva:K0,equal:Va},Wy=function(t){return P.createElement(Hy,$r({},t,{colorModel:Vy}))},Yy={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return Z0({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=K0(t)).r,g:e.g,b:e.b};var e},equal:Va},Gy=function(t){return P.createElement(Uy,$r({},t,{colorModel:Yy}))};function Pr(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Rr(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xy(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Ky(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xy(arguments[e]));return t}var Zy=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Pi(t,e){var n=qy(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function qy(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Zy.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var Qy=[".DS_Store","Thumbs.db"];function Jy(t){return Pr(this,void 0,void 0,function(){return Rr(this,function(e){return gs(t)&&e_(t)?[2,i_(t.dataTransfer,t.type)]:t_(t)?[2,n_(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,r_(t)]:[2,[]]})})}function e_(t){return gs(t.dataTransfer)}function t_(t){return gs(t)&&gs(t.target)}function gs(t){return typeof t=="object"&&t!==null}function n_(t){return Xo(t.target.files).map(function(e){return Pi(e)})}function r_(t){return Pr(this,void 0,void 0,function(){var e;return Rr(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Pi(r)})]}})})}function i_(t,e){return Pr(this,void 0,void 0,function(){var n,r;return Rr(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=Xo(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(s_))]):[3,2];case 1:return r=i.sent(),[2,vl(tf(r))];case 2:return[2,vl(Xo(t.files).map(function(s){return Pi(s)}))]}})})}function vl(t){return t.filter(function(e){return Qy.indexOf(e.name)===-1})}function Xo(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function s_(t){if(typeof t.webkitGetAsEntry!="function")return bl(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?nf(e):bl(t)}function tf(t){return t.reduce(function(e,n){return Ky(e,Array.isArray(n)?tf(n):[n])},[])}function bl(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Pi(e);return Promise.resolve(n)}function o_(t){return Pr(this,void 0,void 0,function(){return Rr(this,function(e){return[2,t.isDirectory?nf(t):a_(t)]})})}function nf(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Pr(o,void 0,void 0,function(){var c,l,u;return Rr(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=f.sent(),n(c),[3,4];case 3:return l=f.sent(),r(l),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(o_)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function a_(t){return Pr(this,void 0,void 0,function(){return Rr(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=Pi(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var c_=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wl(Object(n),!0).forEach(function(r){rf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function El(t,e){return d_(t)||f_(t,e)||u_(t,e)||l_()}function l_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u_(t,e){if(t){if(typeof t=="string")return Cl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cl(t,e)}}function Cl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function d_(t){if(Array.isArray(t))return t}var h_="file-invalid-type",p_="file-too-large",m_="file-too-small",g_="too-many-files",y_=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:h_,message:"File type must be ".concat(n)}},Tl=function(e){return{code:p_,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Sl=function(e){return{code:m_,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},__={code:g_,message:"Too many files"};function sf(t,e){var n=t.type==="application/x-moz-file"||c_(t,e);return[n,n?null:y_(e)]}function of(t,e,n){if(Gr(t.size))if(Gr(e)&&Gr(n)){if(t.size>n)return[!1,Tl(n)];if(t.size<e)return[!1,Sl(e)]}else{if(Gr(e)&&t.size<e)return[!1,Sl(e)];if(Gr(n)&&t.size>n)return[!1,Tl(n)]}return[!0,null]}function Gr(t){return t!=null}function x_(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var c=sf(a,n),l=El(c,1),u=l[0],f=of(a,r,i),d=El(f,1),p=d[0];return u&&p})}function ys(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Yi(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Ol(t){t.preventDefault()}function v_(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function b_(t){return t.indexOf("Edge/")!==-1}function w_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return v_(t)||b_(t)}function It(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!ys(r)&&a&&a.apply(void 0,[r].concat(s)),ys(r)})}}function k_(){return"showOpenFilePicker"in window}function E_(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return kl(kl({},e),{},rf({},n,[]))},{}):{}}]}function C_(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function T_(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var S_=["children"],O_=["open"],$_=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],P_=["refKey","onChange","onClick"];function R_(t){return M_(t)||D_(t)||af(t)||A_()}function A_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M_(t){if(Array.isArray(t))return Ko(t)}function mo(t,e){return I_(t)||z_(t,e)||af(t,e)||j_()}function j_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function af(t,e){if(t){if(typeof t=="string")return Ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(t,e)}}function Ko(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function I_(t){if(Array.isArray(t))return t}function $l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$l(Object(n),!0).forEach(function(r){Zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _s(t,e){if(t==null)return{};var n=L_(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L_(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Wa=h.forwardRef(function(t,e){var n=t.children,r=_s(t,S_),i=lf(r),s=i.open,o=_s(i,O_);return h.useImperativeHandle(e,function(){return{open:s}},[s]),P.createElement(h.Fragment,null,n(Pe(Pe({},o),{},{open:s})))});Wa.displayName="Dropzone";var cf={disabled:!1,getFilesFromEvent:Jy,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Wa.defaultProps=cf;Wa.propTypes={children:we.func,accept:we.oneOfType([we.string,we.arrayOf(we.string)]),multiple:we.bool,preventDropOnDocument:we.bool,noClick:we.bool,noKeyboard:we.bool,noDrag:we.bool,noDragEventsBubbling:we.bool,minSize:we.number,maxSize:we.number,maxFiles:we.number,disabled:we.bool,getFilesFromEvent:we.func,onFileDialogCancel:we.func,onFileDialogOpen:we.func,useFsAccessApi:we.bool,onDragEnter:we.func,onDragLeave:we.func,onDragOver:we.func,onDrop:we.func,onDropAccepted:we.func,onDropRejected:we.func,validator:we.func};var qo={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function lf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pe(Pe({},cf),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,c=e.maxFiles,l=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,y=e.onDropRejected,m=e.onFileDialogCancel,g=e.onFileDialogOpen,b=e.useFsAccessApi,w=e.preventDropOnDocument,E=e.noClick,x=e.noKeyboard,_=e.noDrag,k=e.noDragEventsBubbling,C=e.validator,T=h.useMemo(function(){return typeof g=="function"?g:Pl},[g]),O=h.useMemo(function(){return typeof m=="function"?m:Pl},[m]),I=h.useRef(null),U=h.useRef(null),R=h.useReducer(N_,qo),G=mo(R,2),L=G[0],N=G[1],H=L.isFocused,B=L.isFileDialogActive,F=L.draggedFiles,W=h.useRef(typeof window<"u"&&window.isSecureContext&&b&&k_()),Q=function(){!W.current&&B&&setTimeout(function(){if(U.current){var de=U.current.files;de.length||(N({type:"closeDialog"}),O())}},300)};h.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[U,B,O,W]);var oe=h.useRef([]),D=function(de){I.current&&I.current.contains(de.target)||(de.preventDefault(),oe.current=[])};h.useEffect(function(){return w&&(document.addEventListener("dragover",Ol,!1),document.addEventListener("drop",D,!1)),function(){w&&(document.removeEventListener("dragover",Ol),document.removeEventListener("drop",D))}},[I,w]);var z=h.useCallback(function(te){te.preventDefault(),te.persist(),A(te),oe.current=[].concat(R_(oe.current),[te.target]),Yi(te)&&Promise.resolve(i(te)).then(function(de){ys(te)&&!k||(N({draggedFiles:de,isDragActive:!0,type:"setDraggedFiles"}),l&&l(te))})},[i,l,k]),S=h.useCallback(function(te){te.preventDefault(),te.persist(),A(te);var de=Yi(te);if(de&&te.dataTransfer)try{te.dataTransfer.dropEffect="copy"}catch{}return de&&f&&f(te),!1},[f,k]),j=h.useCallback(function(te){te.preventDefault(),te.persist(),A(te);var de=oe.current.filter(function(He){return I.current&&I.current.contains(He)}),Ne=de.indexOf(te.target);Ne!==-1&&de.splice(Ne,1),oe.current=de,!(de.length>0)&&(N({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Yi(te)&&u&&u(te))},[I,u,k]),Y=h.useCallback(function(te,de){var Ne=[],He=[];te.forEach(function(qe){var Dt=sf(qe,n),Sn=mo(Dt,2),Zn=Sn[0],Ys=Sn[1],Gs=of(qe,o,s),Ai=mo(Gs,2),Xs=Ai[0],Ks=Ai[1],Zs=C?C(qe):null;if(Zn&&Xs&&!Zs)Ne.push(qe);else{var qs=[Ys,Ks];Zs&&(qs=qs.concat(Zs)),He.push({file:qe,errors:qs.filter(function(Wd){return Wd})})}}),(!a&&Ne.length>1||a&&c>=1&&Ne.length>c)&&(Ne.forEach(function(qe){He.push({file:qe,errors:[__]})}),Ne.splice(0)),N({acceptedFiles:Ne,fileRejections:He,type:"setFiles"}),d&&d(Ne,He,de),He.length>0&&y&&y(He,de),Ne.length>0&&p&&p(Ne,de)},[N,a,n,o,s,c,d,p,y,C]),M=h.useCallback(function(te){te.preventDefault(),te.persist(),A(te),oe.current=[],Yi(te)&&Promise.resolve(i(te)).then(function(de){ys(te)&&!k||Y(de,te)}),N({type:"reset"})},[i,Y,k]),Z=h.useCallback(function(){if(W.current){N({type:"openDialog"}),T();var te={multiple:a,types:E_(n)};window.showOpenFilePicker(te).then(function(de){return i(de)}).then(function(de){Y(de,null),N({type:"closeDialog"})}).catch(function(de){C_(de)?(O(de),N({type:"closeDialog"})):T_(de)&&(W.current=!1,U.current&&(U.current.value=null,U.current.click()))});return}U.current&&(N({type:"openDialog"}),T(),U.current.value=null,U.current.click())},[N,T,O,b,Y,n,a]),ae=h.useCallback(function(te){!I.current||!I.current.isEqualNode(te.target)||(te.key===" "||te.key==="Enter"||te.keyCode===32||te.keyCode===13)&&(te.preventDefault(),Z())},[I,Z]),re=h.useCallback(function(){N({type:"focus"})},[]),ie=h.useCallback(function(){N({type:"blur"})},[]),q=h.useCallback(function(){E||(w_()?setTimeout(Z,0):Z())},[E,Z]),ce=function(de){return r?null:de},J=function(de){return x?null:ce(de)},ee=function(de){return _?null:ce(de)},A=function(de){k&&de.stopPropagation()},$=h.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=te.refKey,Ne=de===void 0?"ref":de,He=te.role,qe=te.onKeyDown,Dt=te.onFocus,Sn=te.onBlur,Zn=te.onClick,Ys=te.onDragEnter,Gs=te.onDragOver,Ai=te.onDragLeave,Xs=te.onDrop,Ks=_s(te,$_);return Pe(Pe(Zo({onKeyDown:J(It(qe,ae)),onFocus:J(It(Dt,re)),onBlur:J(It(Sn,ie)),onClick:ce(It(Zn,q)),onDragEnter:ee(It(Ys,z)),onDragOver:ee(It(Gs,S)),onDragLeave:ee(It(Ai,j)),onDrop:ee(It(Xs,M)),role:typeof He=="string"&&He!==""?He:"button"},Ne,I),!r&&!x?{tabIndex:0}:{}),Ks)}},[I,ae,re,ie,q,z,S,j,M,x,_,r]),se=h.useCallback(function(te){te.stopPropagation()},[]),me=h.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=te.refKey,Ne=de===void 0?"ref":de,He=te.onChange,qe=te.onClick,Dt=_s(te,P_),Sn=Zo({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:ce(It(He,M)),onClick:ce(It(qe,se)),tabIndex:-1},Ne,U);return Pe(Pe({},Sn),Dt)}},[U,n,a,M,r]),Ee=F.length,$e=Ee>0&&x_({files:F,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:c}),tt=Ee>0&&!$e;return Pe(Pe({},L),{},{isDragAccept:$e,isDragReject:tt,isFocused:H&&!r,getRootProps:$,getInputProps:me,rootRef:I,inputRef:U,open:ce(Z)})}function N_(t,e){switch(e.type){case"focus":return Pe(Pe({},t),{},{isFocused:!0});case"blur":return Pe(Pe({},t),{},{isFocused:!1});case"openDialog":return Pe(Pe({},qo),{},{isFileDialogActive:!0});case"closeDialog":return Pe(Pe({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return Pe(Pe({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Pe(Pe({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Pe({},qo);default:return t}}function Pl(){}function F_(t){let e;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(p=>p(e,d))}},i=()=>e,s=(l,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const y=u(e);if(!f(d,y)){const m=d;l(d=y,m)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(l,u,f)=>u||f?s(l,u,f):(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,c),c}const U_=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Rl=U_?h.useEffect:h.useLayoutEffect;function B_(t){const e=typeof t=="function"?F_(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=h.useReducer(g=>g+1,0),o=e.getState(),a=h.useRef(o),c=h.useRef(r),l=h.useRef(i),u=h.useRef(!1),f=h.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||c.current!==r||l.current!==i||u.current)&&(d=r(o),p=!i(f.current,d)),Rl(()=>{p&&(f.current=d),a.current=o,c.current=r,l.current=i,u.current=!1});const y=h.useRef(o);Rl(()=>{const g=()=>{try{const w=e.getState(),E=c.current(w);l.current(f.current,E)||(a.current=w,f.current=E,s())}catch{u.current=!0,s()}},b=e.subscribe(g);return e.getState()!==y.current&&g(),b},[]);const m=p?d:f.current;return h.useDebugValue(m),m};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const H_=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let f=o(r.getState());l=d=>{const p=o(d);if(!u(f,p)){const y=f;a(f=p,y)}},c!=null&&c.fireImmediately&&a(f,f)}return i(l)},t(e,n,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var V_=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var W_=V_;function Al(t){return W_(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var uf=function(e){var n,r;return!(Al(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,Al(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Y_=uf,Ya=function(e){return Y_(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var G_=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},X_=Ya,K_=G_;function ff(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];Qo(i)&&K_(i,Z_,t)}return t}function Z_(t,e){if(q_(e)){var n=this[e];Qo(t)&&Qo(n)?ff(n,t):this[e]=t}}function Qo(t){return X_(t)&&!Array.isArray(t)}function q_(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var Q_=ff;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var J_=function(t,e,n,r,i){if(!ex(t)||!e)return t;if(e=Gi(e),n&&(e+="."+Gi(n)),r&&(e+="."+Gi(r)),i&&(e+="."+Gi(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var c=s[a];c[c.length-1]==="\\";)c=c.slice(0,-1)+"."+s[++a];t=t[c]}return t};function ex(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function Gi(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var tx=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),c=0;c<a.length;c++){var l=a[c];n.call(o,l)&&(r[l]=o[l])}return r},nx=Ya,rx=tx,ix=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");Dl(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];ox(n)&&(n=ax(n)),Dl(n)&&(sx(t,n),rx(t,n))}return t};function sx(t,e){for(var n in e)cx(e,n)&&(t[n]=e[n])}function ox(t){return t&&typeof t=="string"}function ax(t){var e={};for(var n in t)e[n]=t[n];return e}function Dl(t){return t&&typeof t=="object"||nx(t)}function cx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var lx=ix,ux=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=lx({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],c=[""],l=r.sep,u=t.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var y=t[f],m=t[f+1],g={val:y,idx:f,arr:c,str:t};if(o.push(g),y==="\\"){g.val=dx(r,t,f)===!0?y+m:m,g.escaped=!0,typeof n=="function"&&n(g),c[c.length-1]+=g.val,f++;continue}if(s&&s[y]){a.push(y);var b=p(),w=f+1;if(t.indexOf(b,w+1)!==-1)for(;a.length&&w<u;){var E=t[++w];if(E==="\\"){E++;continue}if(i.indexOf(E)!==-1){w=Jo(t,E,w+1);continue}if(b=p(),a.length&&t.indexOf(b,w+1)===-1)break;if(s[E]){a.push(E);continue}b===E&&a.pop()}if(d=w,d===-1){c[c.length-1]+=y;continue}y=t.slice(f,d+1),g.val=y,g.idx=f=d}if(i.indexOf(y)!==-1){if(d=Jo(t,y,f+1),d===-1){c[c.length-1]+=y;continue}fx(y,r)===!0?y=t.slice(f,d+1):y=t.slice(f+1,d),g.val=y,g.idx=f=d}if(typeof n=="function"&&(n(g,o),y=g.val,f=g.idx),g.val===l&&g.split!==!1){c.push("");continue}c[c.length-1]+=g.val}return c};function Jo(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?Jo(t,e,i+1):i}function fx(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function dx(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var hx=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},Ml=hx,px=function(e){Ml(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];Ml(i)&&mx(e,i)}return e};function mx(t,e){for(var n in e)gx(e,n)&&(t[n]=e[n])}function gx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var yx=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _x=ux,xx=px,jl=uf,zl=yx,vx=function(t,e,n){if(!zl(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=_x(e,{sep:".",brackets:!0}).filter(bx),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){zl(o[a])||(o[a]={}),o=o[a];continue}jl(o[a])&&jl(n)?o[a]=xx({},o[a],n):o[a]=n}return t};function bx(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var go=Ya,Il=Q_,wx=J_,Ll=vx,kx=function(e,n,r){if(!go(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return Il.apply(null,arguments);if(typeof r=="string")return Ll(e,n,r),e;var i=wx(e,n);return go(r)&&go(i)&&(r=Il({},i,r)),Ll(e,n,r),e};const Ex=th(kx),Ga=(...t)=>t.filter(Boolean).join(".");function Cx(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function Tx(t,e){return Object.entries(e1(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function Sx(t,e){const n=h.useRef();return(e?di:Ti)(t,n.current)||(n.current=t),n.current}function df(t,e){return h.useMemo(t,Sx(e,!0))}function Ox(t){const e=h.useRef(null),n=h.useRef(null),r=h.useRef(!0);return h.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),h.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const $x=t=>{const[e,n]=h.useState(t.getVisiblePaths());return h.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:Ti});return()=>r()},[t]),e};function Px(t,e,n){return t.useStore(i=>{const s=fe(fe({},n),i.data);return Tx(s,e)},Ti)}function hf(t=3){const e=h.useRef(null),n=h.useRef(null),[r,i]=h.useState(!1),s=h.useCallback(()=>i(!0),[]),o=h.useCallback(()=>i(!1),[]);return h.useLayoutEffect(()=>{if(r){const{bottom:a,top:c,left:l}=e.current.getBoundingClientRect(),{height:u}=n.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=l+"px",f==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-c+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}Iy([Ly]);const Rx={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};rt.extend({color:()=>t=>Qe(t).isValid()});const Ax=t=>rt().color().test(t);function pf(t,{format:e,hasAlpha:n,isString:r}){const i=Rx[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?t1(s,["a"]):s}const mf=(t,e)=>{const n=Qe(t);if(!n.isValid())throw Error("Invalid color");return pf(n,e)},Dx=(t,e)=>pf(Qe(t),fe(fe({},e),{},{isString:!0,format:"hex"})),Mx=({value:t})=>{const e=zy(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:mf(t,i),settings:i}};var jx=Object.freeze({__proto__:null,schema:Ax,sanitize:mf,format:Dx,normalize:Mx});const zx=le("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Ix=le("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Lx=le("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function Nl(t,e){return e!=="rgb"?Qe(t).toRgb():t}function Nx({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Ze(),{format:o,hasAlpha:a}=n,{popinRef:c,wrapperRef:l,shown:u,show:f,hide:d}=hf(),p=h.useRef(0),[y,m]=h.useState(()=>Nl(t,o)),g=a?Wy:Gy,b=()=>{m(Nl(t,o)),f(),i()},w=()=>{d(),s(),window.clearTimeout(p.current)},E=()=>{p.current=window.setTimeout(w,500)};return h.useEffect(()=>()=>window.clearTimeout(p.current),[]),P.createElement(P.Fragment,null,P.createElement(zx,{ref:c,active:u,onClick:()=>b(),style:{color:e}}),u&&P.createElement(La,null,P.createElement(j0,{onPointerUp:w}),P.createElement(Lx,{ref:l,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:x=>x.buttons===0&&E()},P.createElement(g,{color:y,onChange:r}))))}function Fx(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Ze();return P.createElement(Tt,{input:!0},P.createElement(At,null,n),P.createElement(Ix,null,P.createElement(Nx,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),P.createElement(Ia,{value:e,onChange:r,onUpdate:i})))}var Ux=fe({component:Fx},jx);function Bx(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ze();return P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(Fa,{value:e,settings:r,onUpdate:n}))}var Hx=fe({component:Bx},H0(["x","y","z"]));const Vx=le("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Wx=le("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Yx({value:t,settings:e,onUpdate:n}){const r=h.useRef(),i=h.useRef(0),s=h.useRef(0),o=h.useRef(1),[a,c]=h.useState(!1),[l,u]=h.useState(!1),[f,d]=I0(),p=h.useRef(null),y=h.useRef(null);h.useLayoutEffect(()=>{if(a){const{top:R,left:G,width:L,height:N}=p.current.getBoundingClientRect();y.current.style.left=G+L/2+"px",y.current.style.top=R+N/2+"px"}},[a]);const{keys:[m,g],joystick:b}=e,w=b==="invertY"?1:-1,{[m]:{step:E},[g]:{step:x}}=e,_=en("sizes","joystickWidth"),k=en("sizes","joystickHeight"),C=parseFloat(_)*.8/2,T=parseFloat(k)*.8/2,O=h.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*C}),s.current&&d({y:s.current*-T}),r.current=window.setInterval(()=>{n(R=>{const G=E*i.current*o.current,L=w*x*s.current*o.current;return Array.isArray(R)?{[m]:R[0]+G,[g]:R[1]+L}:{[m]:R[m]+G,[g]:R[g]+L}})},16))},[C,T,n,d,E,x,m,g,w]),I=h.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);h.useEffect(()=>{function R(G){o.current=b0(G)}return window.addEventListener("keydown",R),window.addEventListener("keyup",R),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",R),window.removeEventListener("keyup",R)}},[]);const U=Oi(({first:R,active:G,delta:[L,N],movement:[H,B]})=>{R&&c(!0);const F=wn(H,-C,C),W=wn(B,-T,T);i.current=Math.abs(H)>Math.abs(F)?Math.sign(H-F):0,s.current=Math.abs(B)>Math.abs(W)?Math.sign(W-B):0;let Q=t[m],oe=t[g];G?(i.current||(Q+=L*E*o.current,d({x:F})),s.current||(oe-=w*N*x*o.current,d({y:W})),i.current||s.current?O():I(),n({[m]:Q,[g]:oe})):(c(!1),i.current=0,s.current=0,d({x:0,y:0}),I())});return P.createElement(Vx,Le({ref:p},U()),a&&P.createElement(La,null,P.createElement(Wx,{ref:y,isOutOfBounds:l},P.createElement("div",null),P.createElement("span",{ref:f}))))}const Gx=le("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Xx(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ze();return P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(Gx,{withJoystick:!!r.joystick},r.joystick&&P.createElement(Yx,{value:e,settings:r,onUpdate:n}),P.createElement(Fa,{value:e,settings:r,onUpdate:n})))}const Kx=["joystick"],gf=H0(["x","y"]),Zx=t=>{let{joystick:e=!0}=t,n=Ce(t,Kx);const{value:r,settings:i}=gf.normalize(n);return{value:r,settings:fe(fe({},i),{},{joystick:e})}};var qx=fe(fe({component:Xx},gf),{},{normalize:Zx});const Qx=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},Jx=(t,e)=>typeof e=="object"&&"image"in e,ev=({image:t})=>({value:t});var tv=Object.freeze({__proto__:null,sanitize:Qx,schema:Jx,normalize:ev});const nv=le("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),rv=le("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),iv=le("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),sv=le("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),ov=le("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),av=le("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function cv(){const{label:t,value:e,onUpdate:n,disabled:r}=Ze(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:c}=hf(),l=h.useCallback(y=>{y.length&&n(y[0])},[n]),u=h.useCallback(y=>{y.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:d,isDragAccept:p}=lf({maxFiles:1,accept:"image/*",onDrop:l,disabled:r});return P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(nv,null,P.createElement(iv,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:c,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&P.createElement(La,null,P.createElement(j0,{onPointerUp:c,style:{cursor:"pointer"}}),P.createElement(sv,{ref:s,style:{backgroundImage:`url(${e})`}})),P.createElement(rv,f({isDragAccept:p}),P.createElement("input",d()),P.createElement(ov,null,p?"drop image":"click or drop")),P.createElement(av,{onClick:u,disabled:!e})))}var lv=fe({component:cv},tv);const Fl=rt().number(),uv=(t,e)=>rt().array().length(2).every.number().test(t)&&rt().schema({min:Fl,max:Fl}).test(e),xs=t=>({min:t[0],max:t[1]}),yf=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?xs(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=fe(fe({},s),i);return[wn(Number(o),e,Math.max(e,a)),wn(Number(a),Math.min(n,o),n)]},fv=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=B0(xs(t),{min:r,max:r}),s=[e,n],o=fe(fe({},i),{},{bounds:s});return{value:yf(xs(t),o,t),settings:o}};var dv=Object.freeze({__proto__:null,schema:uv,format:xs,sanitize:yf,normalize:fv});const hv=["value","bounds","onDrag"],pv=["bounds"],mv=le("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function gv(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=Ce(t,hv);const o=h.useRef(null),a=h.useRef(null),c=h.useRef(null),l=h.useRef(0),u=en("sizes","scrubberWidth"),f=Oi(({event:y,first:m,xy:[g],movement:[b],memo:w={}})=>{if(m){const{width:x,left:_}=o.current.getBoundingClientRect();l.current=x-parseFloat(u);const k=(y==null?void 0:y.target)===a.current||(y==null?void 0:y.target)===c.current;w.pos=ps((g-_)/x,n,r);const C=Math.abs(w.pos-e.min)-Math.abs(w.pos-e.max);w.key=C<0||C===0&&w.pos<=e.min?"min":"max",k&&(w.pos=e[w.key])}const E=w.pos+ps(b/l.current,0,r-n);return i({[w.key]:H1(E,s[w.key])}),w}),d=`calc(${hs(e.min,n,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-hs(e.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return P.createElement(N0,Le({ref:o},f()),P.createElement(L0,null,P.createElement(F0,{style:{left:d,right:p}})),P.createElement(Uo,{position:"left",ref:a,style:{left:d}}),P.createElement(Uo,{position:"right",ref:c,style:{right:p}}))}function yv(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ze(),i=Ce(r,pv);return P.createElement(P.Fragment,null,P.createElement(Tt,{input:!0},P.createElement(At,null,t),P.createElement(mv,null,P.createElement(gv,Le({value:e},r,{onDrag:n})),P.createElement(Fa,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var _v=fe({component:yv},dv);const xv=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},vv=["type","value"],bv=["onChange","transient","onEditStart","onEditEnd"],wv=function(){const e=B_(H_(()=>({data:{}}))),n=xv();this.storeId=Jg(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),c=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&c.push(u+".")});const l=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&c.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&l.push(u)}),l},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const c=a.data;return o.forEach(l=>{if(l in c){const u=c[l];u.__refCount--,u.__refCount===0&&u.type in $t&&delete c[l]}}),{data:c}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(c=>{const l=c.data;return Object.entries(o).forEach(([u,f])=>{let d=l[u];if(d){const{type:p,value:y}=f,m=Ce(f,vv);p!==d.type?Qt(Re.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||a)&&Object.assign(d,m),d.__refCount++)}else l[u]=fe(fe({},f),{},{__refCount:1})}),{data:l}})},this.setValueAtPath=(o,a,c)=>{e.setState(l=>{const u=l.data;return ll(u[o],a,o,this,c),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(c=>{const l=c.data;return l[o].settings=fe(fe({},l[o].settings),a),{data:l}})},this.disableInputAtPath=(o,a)=>{e.setState(c=>{const l=c.data;return l[o].disabled=a,{data:l}})},this.set=(o,a)=>{e.setState(c=>{const l=c.data;return Object.entries(o).forEach(([u,f])=>{try{ll(l[u],f,void 0,void 0,a)}catch{}}),{data:l}})},this.getInput=o=>{try{return this.getData()[o]}catch{Qt(Re.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,fe(fe({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,fe(fe({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const c=`onEditStart:${o}`;return n.on(c,a),()=>n.off(c,a)},this.subscribeToEditEnd=(o,a)=>{const c=`onEditEnd:${o}`;return n.on(c,a),()=>n.off(c,a)};const s=(o,a,c)=>{const l={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Qt(Re.EMPTY_KEY);let d=Ga(a,u);if(f.type===$t.FOLDER){const p=s(f.schema,d,c);Object.assign(l,p),d in r||(r[d]=f.settings)}else if(u in c)Qt(Re.DUPLICATE_KEYS,u,d,c[u].path);else{const p=a1(f,u,d,l);if(p){const{type:y,options:m,input:g}=p,{onChange:b,transient:w,onEditStart:E,onEditEnd:x}=m,_=Ce(m,bv);l[d]=fe(fe(fe({type:y},_),g),{},{fromPanel:!0}),c[u]={path:d,onChange:b,transient:w,onEditStart:E,onEditEnd:x}}else Qt(Re.UNKNOWN_INPUT,d,f)}}),l};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},_f=new wv,kv={collapsed:!1};function Ev(t,e){return{type:$t.FOLDER,schema:t,settings:fe(fe({},kv),e)}}const Ul=t=>"__levaInput"in t,Cv=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=Cx(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Ex(n,o,{[s]:{__levaInput:!0,path:i}})}),n},Tv=["type","label","path","valueKey","value","settings","setValue","disabled"];function Sv(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:c}=t,l=Ce(t,Tv);const{displayValue:u,onChange:f,onUpdate:d}=z0({type:e,value:s,settings:o,setValue:a}),p=Vn[e].component;return p?P.createElement(T0.Provider,{value:fe({key:i,path:r,id:""+r,label:n,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:c},l)},P.createElement(S1,{disabled:c},P.createElement(p,null))):(Qt(Re.NO_COMPONENT_FOR_TYPE,e,r),null)}const Ov=le("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function $v({onClick:t,settings:e,label:n}){const r=Si();return P.createElement(Tt,null,P.createElement(Ov,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const Pv=le("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Rv=le("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Av=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function Dv(t){const{label:e,opts:n}=Av(t),r=Si();return P.createElement(Tt,{input:!!e},e&&P.createElement(At,null,e),P.createElement(Pv,null,Object.entries(n).map(([i,s])=>P.createElement(Rv,{key:i,onClick:()=>s(r.get)},i))))}const Mv=le("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),xf=100;function jv(t,e){t.push(e),t.length>xf&&t.shift()}const zv=h.forwardRef(function({initialValue:t},e){const n=en("colors","highlight3"),r=en("colors","elevation2"),i=en("colors","highlight1"),[s,o]=h.useMemo(()=>[Qe(i).alpha(.4).toRgbString(),Qe(i).alpha(.1).toRgbString()],[i]),a=h.useRef([t]),c=h.useRef(t),l=h.useRef(t),u=h.useRef(),f=h.useCallback((y,m)=>{if(!y)return;const{width:g,height:b}=y,w=new Path2D,E=g/xf,x=b*.05;for(let C=0;C<a.current.length;C++){const T=hs(a.current[C],c.current,l.current),O=E*C,I=b-T*(b-x*2)-x;w.lineTo(O,I)}m.clearRect(0,0,g,b);const _=new Path2D(w);_.lineTo(E*(a.current.length+1),b),_.lineTo(0,b),_.lineTo(0,0);const k=m.createLinearGradient(0,0,0,b);k.addColorStop(0,s),k.addColorStop(1,o),m.fillStyle=k,m.fill(_),m.strokeStyle=r,m.lineJoin="round",m.lineWidth=14,m.stroke(w),m.strokeStyle=n,m.lineWidth=2,m.stroke(w)},[n,r,s,o]),[d,p]=z1(f);return h.useImperativeHandle(e,()=>({frame:y=>{(c.current===void 0||y<c.current)&&(c.current=y),(l.current===void 0||y>l.current)&&(l.current=y),jv(a.current,y),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),h.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),P.createElement(Mv,{ref:d})}),Bl=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),Iv=h.forwardRef(function({initialValue:t},e){const[n,r]=h.useState(Bl(t));return h.useImperativeHandle(e,()=>({frame:i=>r(Bl(i))}),[]),P.createElement("div",null,n)});function Hl(t){return typeof t=="function"?t():t.current}function Lv({label:t,objectOrFn:e,settings:n}){const r=h.useRef(),i=h.useRef(Hl(e));return h.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(Hl(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),P.createElement(Tt,{input:!0},P.createElement(At,{align:"top"},t),n.graph?P.createElement(zv,{ref:r,initialValue:i.current}):P.createElement(Iv,{ref:r,initialValue:i.current}))}const Nv=["type","label","key"],Fv={[$t.BUTTON]:$v,[$t.BUTTON_GROUP]:Dv,[$t.MONITOR]:Lv},Uv=P.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=L1(t);if(!e)return null;const{type:c,label:l,key:u}=e,f=Ce(e,Nv);if(c in $t){const d=Fv[c];return P.createElement(d,Le({label:l,path:t},f))}return c in Vn?P.createElement(Sv,Le({key:s+t,type:c,label:l,storeId:s,path:t,valueKey:u,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Wg(Re.UNSUPPORTED_INPUT,c,t),null)});function Bv({toggle:t,toggled:e,name:n}){return P.createElement(E1,{onClick:()=>t()},P.createElement(Na,{toggled:e}),P.createElement("div",null,n))}const Hv=({name:t,path:e,tree:n})=>{const r=Si(),i=Ga(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,c]=h.useState(!s),l=h.useRef(null),u=en("colors","folderWidgetColor"),f=en("colors","folderTextColor");return h.useLayoutEffect(()=>{l.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),l.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),P.createElement(ms,{ref:l},P.createElement(Bv,{name:t,toggled:a,toggle:()=>c(d=>!d)}),P.createElement(vf,{parent:i,tree:n,toggled:a}))},vf=P.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Ox(s),c=Si(),l=([f,d])=>{var p;return(Ul(d)?(p=c.getInput(d.path))===null||p===void 0?void 0:p.order:c.getFolderSettings(Ga(r,f)).order)||0},u=Object.entries(i).sort((f,d)=>l(f)-l(d));return P.createElement(No,{ref:o,isRoot:t,fill:e,flat:n},P.createElement(A0,{ref:a,isRoot:t,toggled:s},u.map(([f,d])=>Ul(d)?P.createElement(Uv,{key:d.path,valueKey:d.valueKey,path:d.path}):P.createElement(Hv,{key:f,name:f,path:r,tree:d}))))}),Vv=le("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${M0}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),bf=40,vs=le("i",{$flexCenter:"",width:bf,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Wv=le("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Yv=le("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${vs}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Gv=le("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Xv=le("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:bf}}}}),Kv=P.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=h.useState(""),s=h.useMemo(()=>v0(t,250),[t]),o=()=>{t(""),i("")},a=c=>{const l=c.currentTarget.value;e(!0),i(l)};return h.useEffect(()=>{s(r)},[r,s]),P.createElement(P.Fragment,null,P.createElement(Gv,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:c=>c.stopPropagation(),onChange:a}),P.createElement(vs,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Zv({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:c,from:l}){const[u,f]=h.useState(!1),d=h.useRef(null);h.useEffect(()=>{var y,m;u?(y=d.current)===null||y===void 0||y.focus():(m=d.current)===null||m===void 0||m.blur()},[u]);const p=Oi(({offset:[y,m],first:g,last:b})=>{e({x:y,y:m}),g&&n({x:y,y:m}),b&&r({x:y,y:m})},{filterTaps:!0,from:({offset:[y,m]})=>[(l==null?void 0:l.x)||y,(l==null?void 0:l.y)||m]});return h.useEffect(()=>{const y=m=>{m.key==="L"&&m.shiftKey&&m.metaKey&&f(g=>!g)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[]),P.createElement(P.Fragment,null,P.createElement(Wv,{mode:a?"drag":void 0},P.createElement(vs,{active:!s,onClick:()=>i()},P.createElement(Na,{toggled:s,width:12,height:8})),P.createElement(Xv,Le({},a?p():{},{drag:a,filterEnabled:c}),o===void 0&&a?P.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},P.createElement("circle",{cx:"2",cy:"2",r:"2"}),P.createElement("circle",{cx:"14",cy:"2",r:"2"}),P.createElement("circle",{cx:"26",cy:"2",r:"2"}),P.createElement("circle",{cx:"2",cy:"12",r:"2"}),P.createElement("circle",{cx:"14",cy:"12",r:"2"}),P.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),c&&P.createElement(vs,{active:u,onClick:()=>f(y=>!y)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},P.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),P.createElement(Yv,{toggled:u},P.createElement(Kv,{ref:d,setFilter:t,toggle:i})))}const qv=["store","hidden","theme","collapsed"];function Qv(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=Ce(t,qv);const o=df(()=>_1(r),[r]),[a,c]=h.useState(!i),l=typeof i=="object"?!i.collapsed:a,u=h.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:c,[i]);return!e||n?null:P.createElement(za.Provider,{value:o},P.createElement(Jv,Le({store:e},s,{toggled:l,setToggle:u,rootClass:o.className})))}const Jv=P.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:c,setToggle:l})=>{var u,f;const d=$x(t),[p,y]=h.useState(""),m=h.useMemo(()=>Cv(d,p),[d,p]),[g,b]=I0(),w=i||d.length>0,E=typeof o=="object"&&o.title||void 0,x=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,_=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,k=typeof o=="object"&&o.position||void 0,C=typeof o=="object"&&o.onDrag||void 0,T=typeof o=="object"&&o.onDragStart||void 0,O=typeof o=="object"&&o.onDragEnd||void 0;return P.useEffect(()=>{b({x:k==null?void 0:k.x,y:k==null?void 0:k.y})},[k,b]),y1(),P.createElement(O0.Provider,{value:{hideCopyButton:a}},P.createElement(Vv,{ref:g,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:w?"block":"none"}},o&&P.createElement(Zv,{onDrag:I=>{b(I),C==null||C(I)},onDragStart:I=>T==null?void 0:T(I),onDragEnd:I=>O==null?void 0:O(I),setFilter:y,toggle:I=>l(U=>I??!U),toggled:c,title:E,drag:x,filterEnabled:_,from:k}),w&&P.createElement(S0.Provider,{value:t},P.createElement(vf,{isRoot:!0,fill:n,flat:r,tree:m,toggled:c}))))}),eb=["isRoot"];let bs=!1,Mn=null;function wf(t){let{isRoot:e=!1}=t,n=Ce(t,eb);return h.useEffect(()=>(bs=!0,!e&&Mn&&(Mn.remove(),Mn=null),()=>{e||(bs=!1)}),[e]),P.createElement(Qv,Le({store:_f},n))}function tb(t){h.useEffect(()=>{t&&!bs&&(Mn||(Mn=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Mn),l1(P.createElement(wf,{isRoot:!0}),Mn))),bs=!0)},[t])}function nb(t,e,n,r,i){let s,o,a,c,l;return typeof t=="string"?(o=t,s=e,Array.isArray(n)?l=n:n&&("store"in n?(c=n,l=r):(a=n,Array.isArray(r)?l=r:(c=r,l=i)))):(s=t,Array.isArray(e)?l=e:(c=e,l=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:c,deps:l||[]}}function kf(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:c,deps:l}=nb(t,e,n,r,i),u=typeof o=="function",f=h.useRef(!1),d=h.useRef(!0),p=df(()=>{f.current=!0;const U=typeof o=="function"?o():o;return s?{[s]:Ev(U,a)}:U},l),y=!(c!=null&&c.store);tb(y);const[m]=h.useState(()=>(c==null?void 0:c.store)||_f),[g,b]=h.useMemo(()=>m.getDataFromSchema(p),[m,p]),[w,E,x,_,k]=h.useMemo(()=>{const U=[],R=[],G={},L={},N={};return Object.values(b).forEach(({path:H,onChange:B,onEditStart:F,onEditEnd:W,transient:Q})=>{U.push(H),B?(G[H]=B,Q||R.push(H)):R.push(H),F&&(L[H]=F),W&&(N[H]=W)}),[U,R,G,L,N]},[b]),C=h.useMemo(()=>m.orderPaths(w),[w,m]),T=Px(m,E,g),O=h.useCallback(U=>{const R=Object.entries(U).reduce((G,[L,N])=>Object.assign(G,{[b[L].path]:N}),{});m.set(R,!1)},[m,b]),I=h.useCallback(U=>m.get(b[U].path),[m,b]);return h.useEffect(()=>{const U=!d.current&&f.current;return m.addData(g,U),d.current=!1,f.current=!1,()=>m.disposePaths(C)},[m,C,g]),h.useEffect(()=>{const U=[];return Object.entries(x).forEach(([R,G])=>{G(m.get(R),R,fe({initial:!0,get:m.get},m.getInput(R)));const L=m.useStore.subscribe(N=>{const H=N.data[R];return[H.disabled?void 0:H.value,H]},([N,H])=>G(N,R,fe({initial:!1,get:m.get},H)),{equalityFn:Ti});U.push(L)}),()=>U.forEach(R=>R())},[m,x]),h.useEffect(()=>{const U=[];return Object.entries(_).forEach(([R,G])=>U.push(m.subscribeToEditStart(R,G))),Object.entries(k).forEach(([R,G])=>U.push(m.subscribeToEditEnd(R,G))),()=>U.forEach(R=>R())},[_,k,m]),u?[T,O,I]:T}fn(Pt.SELECT,ty);fn(Pt.IMAGE,lv);fn(Pt.NUMBER,W1);fn(Pt.COLOR,Ux);fn(Pt.STRING,uy);fn(Pt.BOOLEAN,yy);fn(Pt.INTERVAL,_v);fn(Pt.VECTOR3D,Hx);fn(Pt.VECTOR2D,qx);const rb={isUserDragging:!1,isUserScrolling:!1,userMovedCamera:!1,isUserScrollingOnHtmlPanel:!1,cameraControlsRef:null},Ln=bu(t=>({...rb,setIsUserDragging:e=>t({isUserDragging:e}),setIsUserScrolling:e=>t({isUserScrolling:e}),setUserMovedCamera:e=>t({userMovedCamera:e}),setIsUserScrollingOnHtmlPanel:e=>t({isUserScrollingOnHtmlPanel:e}),setCameraControlsRef:e=>t({cameraControlsRef:e})})),ib=()=>{const[t,e]=h.useState(""),n=h.useRef(null),{setAbortRequests:r,seedQuestions:i,resetData:s}=Ue(_=>_),[o]=Rs(_=>[_.setBudget]),{setUniverseQuestionIsOpen:a,setSidebarOpen:c,setShowCollapseButton:l}=Ut(_=>({setUniverseQuestionIsOpen:_.setUniverseQuestionIsOpen,setSidebarOpen:_.setSidebarOpen,setShowCollapseButton:_.setShowCollapseButton})),u=$o(_=>_.resetAiSummaryAnswer),f=$o(_=>_.fetchAIData),[d,p]=h.useState([]);h.useEffect(()=>{i&&p(E(i).slice(0,4))},[i]),h.useEffect(()=>{n.current&&n.current.focus()},[]);const y=async _=>{_&&(u(),a(),s(),c(!0),l(!0),await f(o,r,_))},m=!!t.trim().length,g=async _=>{_.keyCode===13&&_.shiftKey===!1&&m&&(_.preventDefault(),y(t))},b=async _=>{e(_),await y(_)},w=()=>{a(),c(!0),l(!0)},E=_=>{const k=[..._];let C=k.length-1;for(;C>0;){const T=Math.floor(Math.random()*(C+1));[k[C],k[T]]=[k[T],k[C]],C-=1}return k},x=!!t&&t.trim().length>0;return v.jsxs(ab,{children:["Ideas have shapes",v.jsxs(ob,{onKeyDown:g,py:12,tabIndex:-1,children:[v.jsx(sb,{ref:n,onChange:_=>e(_.target.value),placeholder:"What do you want to know?",value:t}),v.jsx(cb,{color:"secondary",disabled:!x,onClick:()=>y(t),variant:"contained",children:x?v.jsxs(v.Fragment,{children:["Search ",v.jsx(mc,{})]}):v.jsx(mc,{})})]}),d.length>0&&v.jsx(ub,{children:d.map(_=>v.jsxs(fb,{onClick:()=>b(_),children:[v.jsx(Ph,{}),_]},_))}),v.jsx(lb,{"data-testid":"explore-graph-btn",onClick:w,startIcon:v.jsx(Rh,{}),children:"Explore Graph"})]})},sb=X(Fh).attrs({maxRows:3})`
  background: ${K.BG1};
  max-width: 700px;
  width: 700px;
  color: ${K.white};
  padding: 0 16px 0 16px;
  overflow-y: auto !important;
  border: none;
  resize: none;
  outline: none;
  border-radius: 12px;
  font-family: 'Barlow';
  display: flex;
  align-items: center;
  text-align: justify;
  font-size: 16px;
  font-weight: 400;

  &:-moz-placeholder, /* Firefox 18- */
  &::-moz-placeholder, /* Firefox 19+ */
  &:-ms-input-placeholder, /* IE 10+ */
  &::-webkit-input-placeholder, /* Webkit based */
  &::placeholder {
    color: #0bf;
  }

  &::-webkit-scrollbar {
    width: 3px;
  }

  &::-webkit-scrollbar-track {
    border-radius: 12px;
    margin: 13px;
    overflow-y: hidden;
  }
`,ob=X(ne)`
  position: relative;
  margin-top: 30px;
  background: ${K.BG1};
  max-width: 702px;
  width: 702px;
  color: ${K.white};
  min-height: 150px;
  border: 1px solid ${K.modalShield};
  resize: none;
  outline: none;
  border-radius: 12px;
  box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.5);
`,ab=X(ne)`
  background: #16161de3;
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  color: #fff;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  font-style: normal;
  font-weight: 700;
  line-height: 16px;
  font-family: 'Barlow';
`,cb=X(wi)`
  && {
    position: absolute;
    bottom: 16px;
    right: 16px;
    height: 32px;
    border-radius: 16px;
    min-width: 32px;
  }

  &&.MuiButton-root {
    padding: 0 10px 0 12px;
  }

  svg {
    margin-top: 1px;
    width: 11px;
    height: 11px;
  }
`,lb=X(wi)`
  && {
    position: absolute;
    bottom: 20px;
    right: 20px;
    border-radius: 16px;
  }
`,ub=X.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 20px;
  max-width: 702px;
  width: 100%;
`,fb=X.div`
  background: ${K.BG1};
  color: ${K.white};
  padding: 15px 12px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  gap: 10px;
  &:hover {
    background: ${K.SEEDQUESTION_HOVER};
  }

  &:active {
    background: ${K.SEEDQUESTION};
  }
  svg {
    width: 20px;
    height: 20px;
  }

  path {
    fill: ${K.modalWhiteOverlayBg};
  }
`;new he(0,0,0);const Vl=1,db=16777215,ii=new he(0,0,0),si={x:0,y:0,z:200},hb=()=>{const t=Cn(),e=Ln(n=>n.cameraControlsRef);return h.useEffect(()=>{if(t&&e){const n=new he(t.x,t.y,t.z),r=150,i=new Ea(n,r);e.fitToSphere(i,!0)}},[t,e]),null};let Xi=null;const pb=({enabled:t})=>{const e=Cn(),n=Ln(s=>s.cameraControlsRef),r=ye(s=>s.cameraFocusTrigger);hb();const i=ye(s=>s.graphRadius);return h.useEffect(()=>{t||(Xi==null||Xi.kill(),Xi=null)},[t]),h.useEffect(()=>{console.log("updateGraphRadius",i),!e&&n&&n.setLookAt(ii.x,ii.y,i+200,0,0,0,!0)},[e,i,r]),null},mb=({disableAnimations:t})=>{const{setDisableCameraRotation:e}=ye(l=>l),n=h.useRef(!1),[r]=h.useState(.8),[i,s,o,a,c]=Ln(l=>[l.isUserDragging,l.setIsUserDragging,l.isUserScrolling,l.isUserScrollingOnHtmlPanel,l.setCameraControlsRef]);return pb({enabled:!t&&!o&&!i}),h.useEffect(()=>{i&&e(!0)},[i,e]),v.jsx(Xu,{ref:l=>{l&&!n.current&&(n.current=!0,c(l))},boundaryEnclosesCamera:!0,dollyToCursor:!0,enabled:!a,makeDefault:!0,maxDistance:12e3,minDistance:100,onEnd:()=>s(!1),onStart:()=>s(!0),smoothTime:r})},Ef=({node:t})=>{var s,o,a,c;const{getNodeKeysByType:e}=yt(l=>l),n=e(t.node_type)||"";let r="",i=((s=t==null?void 0:t.properties)==null?void 0:s.description)||((o=t.properties)==null?void 0:o.text)||"";return t.node_type==="Question"?r=t.name||"":t.node_type==="Claim"?(r="",i=((a=t==null?void 0:t.properties)==null?void 0:a.name)||""):t!=null&&t.properties&&(r=t.properties[n]||""),v.jsx(gb,{children:v.jsxs(yb,{children:[v.jsxs(xb,{children:[((c=t==null?void 0:t.properties)==null?void 0:c.image_url)&&v.jsx(_b,{src:t.properties.image_url}),v.jsxs(vb,{children:[v.jsx(Ah,{type:t.node_type}),r&&v.jsx(bb,{children:mr(r,70)})]})]}),i&&v.jsx(wb,{children:i})]})})},gb=X(ne)`
  width: fit-content;
  background: ${K.HOVER_CARD_BG};
  flex-direction: column;
  pointer-events: auto;
  align-items: flex-start;
  border-radius: 8px;
  overflow: hidden;
  max-width: 390px;
  border-bottom: 5px solid rgba(0, 0, 0, 0.3);
  padding: 16px 14px;
`,yb=X(ne)`
  margin-top: 0;
  flex-direction: column;
  gap: 4px;
  align-items: flex-start;
`,_b=X.img`
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 8px;
`,xb=X(ne)`
  flex-direction: row;
`,vb=X(ne)`
  flex-direction: column;
  align-items: flex-start;
  min-width: 0; /*  Allows children (Title) to shrink */
  max-width: 100%;
`,bb=X(_a)`
  font-family: Barlow;
  font-size: 20px;
  font-weight: 600;
  line-height: 24px;
  color: ${K.white};
  margin-top: 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  min-width: 0; /*  Allows shrinking inside flex parent */
  max-width: 100%;
  line-clamp: 3;
  -webkit-line-clamp: 3;
`,wb=X(_a)`
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  margin-top: 16px;
  color: ${K.white};
  opacity: 0.8;
  white-space: normal;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  line-clamp: 3;
  -webkit-line-clamp: 3;
`;function kb(t){return ln({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}}]})(t)}function Eb(t){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(t)}function Cb(t){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(t)}function Tb(t){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(t)}function WE(t){return ln({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm-80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm176 192H152c-21.2 0-21.2-32 0-32h192c21.2 0 21.2 32 0 32zm-16-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(t)}function Sb(t){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"}}]})(t)}function Ob(t){return ln({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M629.657 343.598L528.971 444.284c-9.373 9.372-24.568 9.372-33.941 0L394.343 343.598c-9.373-9.373-9.373-24.569 0-33.941l10.823-10.823c9.562-9.562 25.133-9.34 34.419.492L480 342.118V160H292.451a24.005 24.005 0 0 1-16.971-7.029l-16-16C244.361 121.851 255.069 96 276.451 96H520c13.255 0 24 10.745 24 24v222.118l40.416-42.792c9.285-9.831 24.856-10.054 34.419-.492l10.823 10.823c9.372 9.372 9.372 24.569-.001 33.941zm-265.138 15.431A23.999 23.999 0 0 0 347.548 352H160V169.881l40.416 42.792c9.286 9.831 24.856 10.054 34.419.491l10.822-10.822c9.373-9.373 9.373-24.569 0-33.941L144.971 67.716c-9.373-9.373-24.569-9.373-33.941 0L10.343 168.402c-9.373 9.373-9.373 24.569 0 33.941l10.822 10.822c9.562 9.562 25.133 9.34 34.419-.491L96 169.881V392c0 13.255 10.745 24 24 24h243.549c21.382 0 32.09-25.851 16.971-40.971l-16.001-16z"}}]})(t)}function YE(t){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"}}]})(t)}function GE(t){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}}]})(t)}const $b=({metrics:t})=>{const e=n=>n?n.toLocaleString():"0";return v.jsxs(Hb,{children:[t.replies!==void 0&&v.jsxs(ir,{children:[v.jsx("span",{children:e(t.replies)}),v.jsx(Cb,{})]}),t.retweets!==void 0&&v.jsxs(ir,{children:[v.jsx("span",{children:e(t.retweets)}),v.jsx(Ob,{})]}),t.quotes!==void 0&&v.jsxs(ir,{children:[v.jsx("span",{children:e(t.quotes)}),v.jsx(Sb,{})]}),t.likes!==void 0&&v.jsxs(ir,{children:[v.jsx("span",{children:e(t.likes)}),v.jsx(Tb,{})]}),t.bookmarks!==void 0&&v.jsxs(ir,{children:[v.jsx("span",{children:e(t.bookmarks)}),v.jsx(kb,{})]}),t.impressions!==void 0&&v.jsxs(ir,{children:[v.jsx("span",{children:e(t.impressions)}),v.jsx(Eb,{})]})]})},Pb=({node:t})=>{const e=t.properties||{},n=t.node_type,{text:r,tweet_id:i,impression_count:s,like_count:o,reply_count:a,retweet_count:c,quote_count:l,bookmark_count:u,image_url:f,twitter_handle:d,alias:p,verified:y}=e;let m="";n==="Tweet"&&i&&d&&(m=`https://x.com/${d}/status/${i}`);const g=p||d||"",b=d||p||"";return v.jsx(Rb,{children:v.jsxs(Ab,{children:[v.jsxs(Db,{children:[v.jsx(Mb,{children:f?v.jsx(Ib,{alt:g,src:f}):v.jsx(zb,{children:v.jsx($u,{})})}),v.jsxs(jb,{children:[v.jsxs(Nb,{children:[v.jsx(Fb,{href:m,target:"_blank",children:g}),y&&v.jsx(Bb,{children:v.jsx(ju,{})}),v.jsxs(Ub,{href:m,target:"_blank",children:["@",b]})]}),r&&v.jsx(Lb,{children:r})]})]}),v.jsx($b,{metrics:{impressions:s,likes:o,replies:a,retweets:c,quotes:l,bookmarks:u}})]})})},Rb=X(ne)`
  width: fit-content;
  background: ${K.HOVER_CARD_BG};
  flex-direction: column;
  pointer-events: auto;
  align-items: flex-start;
  border-radius: 8px;
  overflow: hidden;
  max-width: 390px;
  border-bottom: 5px solid rgba(0, 0, 0, 0.3);
  padding: 16px 14px;
`,Ab=X(ne)`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 8px;
`,Db=X(ne)`
  display: flex;
  flex-direction: row;
  width: 100%;
  gap: 12px;
`,Mb=X(ne)`
  flex-shrink: 0;
  width: 40px;
`,jb=X(ne)`
  flex-direction: column;
  flex-grow: 1;
  min-width: 0;
  max-width: calc(100% - 52px);
`,zb=X(ne)`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: ${K.GRAY3};
  align-items: center;
  justify-content: center;
  color: ${K.white};
  font-size: 24px;
`,Ib=X.img`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
`,Lb=X.div`
  font-family: 'Barlow';
  font-size: 15px;
  line-height: 1.4;
  color: ${K.white};
  margin: 0;
  word-break: break-word;
  white-space: pre-wrap;
  overflow-wrap: break-word;
  width: 100%;
  max-height: 200px;
  overflow-y: auto;
`,Nb=X(ne)`
  align-items: center;
  flex-direction: row;
  gap: 8px;
  flex-wrap: wrap;
  width: 100%;
  margin-bottom: 6px;
`,Fb=X.a`
  font-family: 'Barlow';
  font-size: 15px;
  font-weight: 600;
  color: ${K.white};
  text-decoration: none;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  &:hover {
    text-decoration: underline;
  }
`,Ub=X.a`
  font-family: 'Barlow';
  font-size: 15px;
  color: rgba(255, 255, 255, 0.6);
  text-decoration: none;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  &:hover {
    text-decoration: underline;
  }
`,Bb=X(ne)`
  background: #1d9bf0;
  border-radius: 50%;
  width: 16px;
  height: 16px;
  font-size: 15px;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin: 0 2px;
  svg {
    width: 10px;
    height: 10px;
    color: ${K.BG1_HOVER};
  }
`,Hb=X(ne)`
  flex-direction: row;
  gap: 12px;
  margin-top: 4px;
  width: 100%;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  padding: 0 10px;
`,ir=X(ne)`
  flex-direction: row;
  align-items: center;
  gap: 4px;
  color: ${K.white} !important;
  font-size: 13px;
  margin-bottom: 4px;
  min-width: 0;

  svg {
    width: 16px;
    height: 16px;
    color: rgba(255, 255, 255, 0.6) !important;
    flex-shrink: 0;
  }

  span {
    color: ${K.white} !important;
    min-width: 8px;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Vb=({node:t})=>{const e=t.properties||{},{username:n,twitter_handle:r,image_url:i,followers:s,verified:o,alias:a}=e,c=a||r||n||"",l=r||a||n||"";let u="";return n?u=`https://x.com/${a}`:r&&(u=`https://x.com/${r}`),v.jsx(Wb,{children:v.jsxs(Yb,{children:[v.jsx(Gb,{children:i?v.jsx(r2,{alt:c,src:i}):v.jsx(Xb,{children:v.jsx($u,{})})}),v.jsxs(Kb,{children:[v.jsxs(Zb,{children:[v.jsx(qb,{href:u,target:"_blank",children:c}),!o&&v.jsx(Jb,{children:v.jsx(ju,{})})]}),v.jsxs(Qb,{href:u,target:"_blank",children:["@",l]}),s&&v.jsxs(e2,{children:[s.toLocaleString()," Followers"]})]})]})})},Wb=X(ne)`
  width: fit-content;
  background: ${K.HOVER_CARD_BG};
  flex-direction: column;
  pointer-events: auto;
  align-items: flex-start;
  border-radius: 8px;
  overflow: hidden;
  max-width: 390px;
  border-bottom: 5px solid rgba(0, 0, 0, 0.3);
  padding: 16px 14px;
`,Yb=X(ne)`
  display: grid;
  width: fit-content;
  grid-template-columns: auto minmax(0, 1fr);
  align-items: start;
  padding-bottom: 15px;
`,Gb=X(ne)`
  margin-right: 10px;
`,Xb=X(ne)`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: ${K.GRAY3};
  align-items: center;
  justify-content: center;
  color: ${K.white};
  font-size: 24px;
`,Kb=X(ne)`
  flex-direction: column;
  gap: 2px;
`,Zb=X(ne)`
  align-items: center;
  flex-direction: row;
  gap: 8px;
  flex-wrap: nowrap;
  width: 100%;
`,qb=X.a`
  font-family: 'Barlow';
  font-size: 15px;
  font-weight: 700;
  color: ${K.white};
  text-decoration: none;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;

  &:hover {
    text-decoration: underline;
  }
`,Qb=X.a`
  font-family: 'Barlow';
  font-size: 14px;
  font-weight: 400;
  color: ${K.white};
  opacity: 0.6;
  text-decoration: none;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;

  &:hover {
    text-decoration: underline;
  }
`,Jb=X(ne)`
  background: #1d9bf0;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  font-size: 15px;

  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: 12px;
    height: 12px;
    color: ${K.BG1_HOVER};
  }
`,e2=X(_a)`
  font-family: 'Barlow';
  font-size: 13px;
  color: ${K.white};
  opacity: 0.6;
  line-height: 1.2;
  margin-top: 4px;
`,t2={Tweet:Pb,User:Vb,General:Ef},n2=({node:t})=>{const e=t2[t.node_type]||Ef;return v.jsx(e,{node:t})};X(ne)`
  width: fit-content;
  background: ${K.HOVER_CARD_BG};
  flex-direction: column;
  pointer-events: auto;
  align-items: flex-start;
  border-radius: 8px;
  overflow: hidden;
  max-width: 390px;
  border-bottom: 5px solid rgba(0, 0, 0, 0.3);
  padding: 16px 14px;
`;const r2=X.img`
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 8px;
`,ws=70,i2=()=>{const t=h.useRef(null),e=h.useRef(null),n=Cu();return h.useEffect(()=>{t.current&&(t.current.style.display=n?"block":"none")},[n]),h.useEffect(()=>{const r=document.getElementById("universe-canvas");let i;const s=t.current,o=e.current,a=c=>{if(!s||!o)return;if(c.target.tagName!=="CANVAS"){s.style.display="none",o.style.display="none";return}r&&(r.style.cursor="none"),o.style.display="flex",s.style.display="block";const u=s.offsetWidth,f=s.offsetHeight,d=window.innerWidth-u-10,p=window.innerHeight-f-10,y=Math.min(c.clientX+10,d),m=Math.min(c.clientY+10,p);i=requestAnimationFrame(()=>{s.style.transform=`translate(${y}px, ${m}px)`,o.style.transform=`translate(${c.clientX-ws/2}px, ${c.clientY-ws/2}px)`})};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a),cancelAnimationFrame(i)}},[]),v.jsxs(v.Fragment,{children:[v.jsx(o2,{ref:e,children:v.jsx(ne,{className:"inner-circle",children:v.jsx("span",{className:"inner-circle__center",children:"+"})})}),v.jsx(s2,{ref:t,children:n&&v.jsx(n2,{node:n})})]})},s2=X(ne)`
  position: fixed; /* Fixed position for the tooltip */
  left: 0;
  top: 0;
  transform: translate(0, 0); /* Initial transform */
  will-change: transform; /* Optimize for transform changes */
  color: white;
  padding: 0;
  pointer-events: none; /* Tooltip won't block mouse events */
  z-index: 1000;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: none; /* Initially hidden */
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Optional shadow for better visibility */
`,o2=X(ne)`
  pointer-events: none;
  left: 0;
  top: 0;
  border: 1px solid ${K.white};
  border-radius: 50%;
  border-color: rgba(255, 255, 255, 0.2);
  position: fixed;
  background: rgba(0, 0, 0, 0.2);
  width: ${ws}px;
  height: ${ws}px;
  align-items: center;
  justify-content: center;

  .inner-circle {
    border-radius: 50%;
    border: 1px solid ${K.white};
    border-color: rgba(255, 255, 255, 0.2);
    justify-content: center;
    align-items: center;
    color: rgba(255, 255, 255, 1);
    font-size: 6px;
    text-transform: uppercase;
    font-weight: 300;
    background: radial-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1));

    &__text {
      animation: fadeOpacity 8s infinite;
      padding: 12px;

      /* Define keyframes */
      @keyframes fadeOpacity {
        0%,
        100% {
          opacity: 0.2;
        }
        50% {
          opacity: 0.8;
        }
      }
    }

    &__center {
      font-size: 20px;
      font-weight: 200;
      opacity: 0.5;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translateX(-50%) translateY(-50%);
      margin-top: -2px;
    }
  }
`,a2=()=>{const[t]=wu(),e=t.get("node"),n=Ue(r=>r.addNewNode);h.useEffect(()=>{e&&(async()=>{const i=await xa(e||"",0,5,{nodeType:["Claim"],useSubGraph:!1});i&&n(i)})()},[n,e])},c2=()=>{const[t]=wu(),e=t.get("node"),n=Ue(s=>s.nodesNormalized),r=ye(s=>s.setSelectedNode),i=nn(s=>s.simulationVersion);h.useEffect(()=>{if(e){const s=n.get(e);s&&r(s)}else r(null)},[e,n,r]),h.useEffect(()=>{if(e&&i){const s=n.get(e);s&&s&&r(s)}},[e,n,r,i])};function Kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var mt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},xr={duration:.5,overwrite:!1,delay:0},Xa,Xe,ze,wt=1e8,Se=1/wt,ea=Math.PI*2,l2=ea/4,u2=0,Tf=Math.sqrt,f2=Math.cos,d2=Math.sin,Ye=function(e){return typeof e=="string"},Ie=function(e){return typeof e=="function"},an=function(e){return typeof e=="number"},Ka=function(e){return typeof e>"u"},Vt=function(e){return typeof e=="object"},it=function(e){return e!==!1},Za=function(){return typeof window<"u"},Ki=function(e){return Ie(e)||Ye(e)},Sf=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ke=Array.isArray,ta=/(?:-?\.?\d|\.)+/gi,Of=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,or=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,yo=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,$f=/[+-]=-?[.\d]+/,Pf=/[^,'"\[\]\s]+/gi,h2=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,De,vt,na,qa,gt={},ks={},Rf,Af=function(e){return(ks=Wn(e,gt))&&ct},Qa=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},mi=function(e,n){return!n&&console.warn(e)},Df=function(e,n){return e&&(gt[e]=n)&&ks&&(ks[e]=n)||gt},gi=function(){return 0},p2={suppressEvents:!0,isStart:!0,kill:!1},ns={suppressEvents:!0,kill:!1},m2={suppressEvents:!0},Ja={},yn=[],ra={},Mf,ut={},_o={},Wl=30,rs=[],ec="",tc=function(e){var n=e[0],r,i;if(Vt(n)||Ie(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=rs.length;i--&&!rs[i].targetTest(n););r=rs[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new id(e[i],r)))||e.splice(i,1);return e},Nn=function(e){return e._gsap||tc(kt(e))[0]._gsap},jf=function(e,n,r){return(r=e[n])&&Ie(r)?e[n]():Ka(r)&&e.getAttribute&&e.getAttribute(n)||r},st=function(e,n){return(e=e.split(",")).forEach(n)||e},Fe=function(e){return Math.round(e*1e5)/1e5||0},We=function(e){return Math.round(e*1e7)/1e7||0},dr=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},g2=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Es=function(){var e=yn.length,n=yn.slice(0),r,i;for(ra={},yn.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},zf=function(e,n,r,i){yn.length&&!Xe&&Es(),e.render(n,r,i||Xe&&n<0&&(e._initted||e._startAt)),yn.length&&!Xe&&Es()},If=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Pf).length<2?n:Ye(e)?e.trim():e},Lf=function(e){return e},Ct=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},y2=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Wn=function(e,n){for(var r in n)e[r]=n[r];return e},Yl=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Vt(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Cs=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},oi=function(e){var n=e.parent||De,r=e.keyframes?y2(Ke(e.keyframes)):Ct;if(it(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},_2=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},Nf=function(e,n,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Hs=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},kn=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Fn=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},x2=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},ia=function(e,n,r,i){return e._startAt&&(Xe?e._startAt.revert(ns):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},v2=function t(e){return!e||e._ts&&t(e.parent)},Gl=function(e){return e._repeat?vr(e._tTime,e=e.duration()+e._rDelay)*e:0},vr=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},Ts=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Vs=function(e){return e._end=We(e._start+(e._tDur/Math.abs(e._ts||e._rts||Se)||0))},Ws=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=We(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Vs(e),r._dirty||Fn(r,e)),e},Ff=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Ts(e.rawTime(),n),(!n._dur||Ri(0,n.totalDuration(),r)-n._tTime>Se)&&n.render(r,!0)),Fn(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Se}},Lt=function(e,n,r,i){return n.parent&&kn(n),n._start=We((an(r)?r:r||e!==De?xt(e,r,n):e._time)+n._delay),n._end=We(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Nf(e,n,"_first","_last",e._sort?"_start":0),sa(n)||(e._recent=n),i||Ff(e,n),e._ts<0&&Ws(e,e._tTime),e},Uf=function(e,n){return(gt.ScrollTrigger||Qa("scrollTrigger",n))&&gt.ScrollTrigger.create(n,e)},Bf=function(e,n,r,i,s){if(rc(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!Xe&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Mf!==dt.frame)return yn.push(e),e._lazy=[s,i],1},b2=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},sa=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},w2=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&b2(e)&&!(!e._initted&&sa(e))||(e._ts<0||e._dp._ts<0)&&!sa(e))?0:1,a=e._rDelay,c=0,l,u,f;if(a&&e._repeat&&(c=Ri(0,e._tDur,n),u=vr(c,a),e._yoyo&&u&1&&(o=1-o),u!==vr(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Xe||i||e._zTime===Se||!n&&e._zTime){if(!e._initted&&Bf(e,n,i,r,c))return;for(f=e._zTime,e._zTime=n||(r?Se:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,l=e._pt;l;)l.r(o,l.d),l=l._next;n<0&&ia(e,n,r,!0),e._onUpdate&&!r&&ht(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&ht(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&kn(e,1),!r&&!Xe&&(ht(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},k2=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},br=function(e,n,r,i){var s=e._repeat,o=We(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:We(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Ws(e,e._tTime=e._tDur*a),e.parent&&Vs(e),r||Fn(e.parent,e),e},Xl=function(e){return e instanceof Je?Fn(e):br(e,e._dur)},E2={_start:0,endTime:gi,totalDuration:gi},xt=function t(e,n,r){var i=e.labels,s=e._recent||E2,o=e.duration()>=wt?s.endTime(!1):e._dur,a,c,l;return Ye(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),l=n.substr(-1)==="%",a=n.indexOf("="),c==="<"||c===">"?(a>=0&&(n=n.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(l?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(a-1)+n.substr(a+1)),l&&r&&(c=c/100*(Ke(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+c:o+c)):n==null?o:+n},ai=function(e,n,r){var i=an(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,c;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=it(c.vars.inherit)&&c.parent;o.immediateRender=it(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Be(n[0],o,n[s+1])},Tn=function(e,n){return e||e===0?n(e):n},Ri=function(e,n,r){return r<e?e:r>n?n:r},Ge=function(e,n){return!Ye(e)||!(n=h2.exec(e))?"":n[1]},C2=function(e,n,r){return Tn(r,function(i){return Ri(e,n,i)})},oa=[].slice,Hf=function(e,n){return e&&Vt(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Vt(e[0]))&&!e.nodeType&&e!==vt},T2=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Ye(i)&&!n||Hf(i,1)?(s=r).push.apply(s,kt(i)):r.push(i)})||r},kt=function(e,n,r){return ze&&!n&&ze.selector?ze.selector(e):Ye(e)&&!r&&(na||!wr())?oa.call((n||qa).querySelectorAll(e),0):Ke(e)?T2(e,r):Hf(e)?oa.call(e,0):e?[e]:[]},aa=function(e){return e=kt(e)[0]||mi("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return kt(n,r.querySelectorAll?r:r===e?mi("Invalid scope")||qa.createElement("div"):e)}},Vf=function(e){return e.sort(function(){return .5-Math.random()})},Wf=function(e){if(Ie(e))return e;var n=Vt(e)?e:{each:e},r=Un(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,l=n.axis,u=i,f=i;return Ye(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(u=i[0],f=i[1]),function(d,p,y){var m=(y||n).length,g=o[m],b,w,E,x,_,k,C,T,O;if(!g){if(O=n.grid==="auto"?0:(n.grid||[1,wt])[1],!O){for(C=-wt;C<(C=y[O++].getBoundingClientRect().left)&&O<m;);O<m&&O--}for(g=o[m]=[],b=c?Math.min(O,m)*u-.5:i%O,w=O===wt?0:c?m*f/O-.5:i/O|0,C=0,T=wt,k=0;k<m;k++)E=k%O-b,x=w-(k/O|0),g[k]=_=l?Math.abs(l==="y"?x:E):Tf(E*E+x*x),_>C&&(C=_),_<T&&(T=_);i==="random"&&Vf(g),g.max=C-T,g.min=T,g.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(O>m?m-1:l?l==="y"?m/O:O:Math.max(O,m/O))||0)*(i==="edges"?-1:1),g.b=m<0?s-m:s,g.u=Ge(n.amount||n.each)||0,r=r&&m<0?td(r):r}return m=(g[d]-g.min)/g.max||0,We(g.b+(r?r(m):m)*g.v)+g.u}},ca=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=We(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(an(r)?0:Ge(r))}},Yf=function(e,n){var r=Ke(e),i,s;return!r&&Vt(e)&&(i=r=e.radius||wt,e.values?(e=kt(e.values),(s=!an(e[0]))&&(i*=i)):e=ca(e.increment)),Tn(n,r?Ie(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),l=wt,u=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-c,d=d*d+p*p):d=Math.abs(e[f]-a),d<l&&(l=d,u=f);return u=!i||l<=i?e[u]:o,s||u===o||an(o)?u:u+Ge(o)}:ca(e))},Gf=function(e,n,r,i){return Tn(Ke(e)?!n:r===!0?!!(r=0):!i,function(){return Ke(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},S2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},O2=function(e,n){return function(r){return e(parseFloat(r))+(n||Ge(r))}},$2=function(e,n,r){return Kf(e,n,0,1,r)},Xf=function(e,n,r){return Tn(r,function(i){return e[~~n(i)]})},P2=function t(e,n,r){var i=n-e;return Ke(e)?Xf(e,t(0,e.length),n):Tn(r,function(s){return(i+(s-e)%i)%i+e})},R2=function t(e,n,r){var i=n-e,s=i*2;return Ke(e)?Xf(e,t(0,e.length-1),n):Tn(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},yi=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?Pf:ta),r+=e.substr(n,i-n)+Gf(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},Kf=function(e,n,r,i,s){var o=n-e,a=i-r;return Tn(s,function(c){return r+((c-e)/o*a||0)})},A2=function t(e,n,r,i){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=Ye(e),a={},c,l,u,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Ke(e)&&!Ke(n)){for(u=[],f=e.length,d=f-2,l=1;l<f;l++)u.push(t(e[l-1],e[l]));f--,s=function(y){y*=f;var m=Math.min(d,~~y);return u[m](y-m)},r=n}else i||(e=Wn(Ke(e)?[]:{},e));if(!u){for(c in n)nc.call(a,e,c,"get",n[c]);s=function(y){return oc(y,a)||(o?e.p:e)}}}return Tn(r,s)},Kl=function(e,n,r){var i=e.labels,s=wt,o,a,c;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},ht=function(e,n,r){var i=e.vars,s=i[n],o=ze,a=e._ctx,c,l,u;if(s)return c=i[n+"Params"],l=i.callbackScope||e,r&&yn.length&&Es(),a&&(ze=a),u=c?s.apply(l,c):s.call(l),ze=o,u},qr=function(e){return kn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Xe),e.progress()<1&&ht(e,"onInterrupt"),e},ar,Zf=[],qf=function(e){if(Za()&&e){e=!e.name&&e.default||e;var n=e.name,r=Ie(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:gi,render:oc,add:nc,kill:X2,modifier:G2,rawVars:0},o={targetTest:0,get:0,getSetter:sc,aliases:{},register:0};if(wr(),e!==i){if(ut[n])return;Ct(i,Ct(Cs(e,s),o)),Wn(i.prototype,Wn(s,Cs(e,o))),ut[i.prop=n]=i,e.targetTest&&(rs.push(i),Ja[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Df(n,i),e.register&&e.register(ct,i,ot)}else e&&Zf.push(e)},Te=255,Qr={aqua:[0,Te,Te],lime:[0,Te,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Te],navy:[0,0,128],white:[Te,Te,Te],olive:[128,128,0],yellow:[Te,Te,0],orange:[Te,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Te,0,0],pink:[Te,192,203],cyan:[0,Te,Te],transparent:[Te,Te,Te,0]},xo=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Te+.5|0},Qf=function(e,n,r){var i=e?an(e)?[e>>16,e>>8&Te,e&Te]:0:Qr.black,s,o,a,c,l,u,f,d,p,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Qr[e])i=Qr[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Te,i&Te,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Te,e&Te]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(ta),!n)c=+i[0]%360/360,l=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(l+1):u+l-u*l,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=xo(c+1/3,s,o),i[1]=xo(c,s,o),i[2]=xo(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Of),r&&i.length<4&&(i[3]=1),i}else i=e.match(ta)||Qr.transparent;i=i.map(Number)}return n&&!y&&(s=i[0]/Te,o=i[1]/Te,a=i[2]/Te,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?c=l=0:(p=f-d,l=u>.5?p/(2-f-d):p/(f+d),c=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,c*=60),i[0]=~~(c+.5),i[1]=~~(l*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},Jf=function(e){var n=[],r=[],i=-1;return e.split(_n).forEach(function(s){var o=s.match(or)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},Zl=function(e,n,r){var i="",s=(e+i).match(_n),o=n?"hsla(":"rgba(",a=0,c,l,u,f;if(!s)return e;if(s=s.map(function(d){return(d=Qf(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(u=Jf(e),c=r.c,c.join(i)!==u.c.join(i)))for(l=e.replace(_n,"1").split(or),f=l.length-1;a<f;a++)i+=l[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!l)for(l=e.split(_n),f=l.length-1;a<f;a++)i+=l[a]+s[a];return i+l[f]},_n=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Qr)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),D2=/hsl[a]?\(/,ed=function(e){var n=e.join(" "),r;if(_n.lastIndex=0,_n.test(n))return r=D2.test(n),e[1]=Zl(e[1],r),e[0]=Zl(e[0],r,Jf(e[1])),!0},_i,dt=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],c,l,u,f,d,p,y=function m(g){var b=t()-i,w=g===!0,E,x,_,k;if(b>e&&(r+=b-n),i+=b,_=i-r,E=_-o,(E>0||w)&&(k=++f.frame,d=_-f.time*1e3,f.time=_=_/1e3,o+=E+(E>=s?4:s-E),x=1),w||(c=l(m)),x)for(p=0;p<a.length;p++)a[p](_,d,k,g)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){Rf&&(!na&&Za()&&(vt=na=window,qa=vt.document||{},gt.gsap=ct,(vt.gsapVersions||(vt.gsapVersions=[])).push(ct.version),Af(ks||vt.GreenSockGlobals||!vt.gsap&&vt||{}),u=vt.requestAnimationFrame,Zf.forEach(qf)),c&&f.sleep(),l=u||function(g){return setTimeout(g,o-f.time*1e3+1|0)},_i=1,y(2))},sleep:function(){(u?vt.cancelAnimationFrame:clearTimeout)(c),_i=0,l=gi},lagSmoothing:function(g,b){e=g||1/0,n=Math.min(b||33,e)},fps:function(g){s=1e3/(g||240),o=f.time*1e3+s},add:function(g,b,w){var E=b?function(x,_,k,C){g(x,_,k,C),f.remove(E)}:g;return f.remove(g),a[w?"unshift":"push"](E),wr(),E},remove:function(g,b){~(b=a.indexOf(g))&&a.splice(b,1)&&p>=b&&p--},_listeners:a},f}(),wr=function(){return!_i&&dt.wake()},_e={},M2=/^[\d.\-M][\d.\-,\s]/,j2=/["']/g,z2=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,c,l;s<o;s++)c=r[s],a=s!==o-1?c.lastIndexOf(","):c.length,l=c.substr(0,a),n[i]=isNaN(l)?l.replace(j2,"").trim():+l,i=c.substr(a+1).trim();return n},I2=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},L2=function(e){var n=(e+"").split("("),r=_e[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[z2(n[1])]:I2(e).split(",").map(If)):_e._CE&&M2.test(e)?_e._CE("",e):r},td=function(e){return function(n){return 1-e(1-n)}},nd=function t(e,n){for(var r=e._first,i;r;)r instanceof Je?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Un=function(e,n){return e&&(Ie(e)?e:_e[e]||L2(e))||n},Kn=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return st(e,function(a){_e[a]=gt[a]=s,_e[o=a.toLowerCase()]=r;for(var c in s)_e[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=_e[a+"."+c]=s[c]}),s},rd=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},vo=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/ea*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*d2((u-o)*s)+1},c=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:rd(a);return s=ea/s,c.config=function(l,u){return t(e,l,u)},c},bo=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:rd(r);return i.config=function(s){return t(e,s)},i};st("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Kn(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});_e.Linear.easeNone=_e.none=_e.Linear.easeIn;Kn("Elastic",vo("in"),vo("out"),vo());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Kn("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Kn("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Kn("Circ",function(t){return-(Tf(1-t*t)-1)});Kn("Sine",function(t){return t===1?1:-f2(t*l2)+1});Kn("Back",bo("in"),bo("out"),bo());_e.SteppedEase=_e.steps=gt.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Se;return function(a){return((i*Ri(0,o,a)|0)+s)*r}}};xr.ease=_e["quad.out"];st("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ec+=t+","+t+"Params,"});var id=function(e,n){this.id=u2++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:jf,this.set=n?n.getSetter:sc},xi=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,br(this,+n.duration,1,1),this.data=n.data,ze&&(this._ctx=ze,ze.data.push(this)),_i||dt.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,br(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(wr(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Ws(this,r),!s._dp||s.parent||Ff(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Lt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Se||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),zf(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Gl(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Gl(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?vr(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Se?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Ts(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Se?0:this._rts,this.totalTime(Ri(-Math.abs(this._delay),this._tDur,s),i!==!1),Vs(this),x2(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(wr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Se&&(this._tTime-=Se)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Lt(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(it(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ts(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=m2);var i=Xe;return Xe=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Xe=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Xl(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Xl(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(xt(this,r),it(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,it(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Se:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Se,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Se)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Ie(r)?r:Lf,a=function(){var l=i.then;i.then=null,Ie(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=l),s(o),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){qr(this)},t}();Ct(xi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Se,_prom:0,_ps:!1,_rts:1});var Je=function(t){Cf(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=it(r.sortChildren),De&&Lt(r.parent||De,Kt(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&Uf(Kt(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return ai(0,arguments,this),this},n.from=function(i,s,o){return ai(1,arguments,this),this},n.fromTo=function(i,s,o,a){return ai(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,oi(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Be(i,s,xt(this,o),1),this},n.call=function(i,s,o){return Lt(this,Be.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,c,l,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=u,o.parent=this,new Be(i,o,xt(this,c)),this},n.staggerFrom=function(i,s,o,a,c,l,u){return o.runBackwards=1,oi(o).immediateRender=it(o.immediateRender),this.staggerTo(i,s,o,a,c,l,u)},n.staggerFromTo=function(i,s,o,a,c,l,u,f){return a.startAt=o,oi(a).immediateRender=it(a.immediateRender),this.staggerTo(i,s,a,c,l,u,f)},n.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=i<=0?0:We(i),f=this._zTime<0!=i<0&&(this._initted||!l),d,p,y,m,g,b,w,E,x,_,k,C;if(this!==De&&u>c&&i>=0&&(u=c),u!==this._tTime||o||f){if(a!==this._time&&l&&(u+=this._time-a,i+=this._time-a),d=u,x=this._start,E=this._ts,b=!E,f&&(l||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(k=this._yoyo,g=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,o);if(d=We(u%g),u===c?(m=this._repeat,d=l):(m=~~(u/g),m&&m===u/g&&(d=l,m--),d>l&&(d=l)),_=vr(this._tTime,g),!a&&this._tTime&&_!==m&&this._tTime-_*g-this._dur<=0&&(_=m),k&&m&1&&(d=l-d,C=1),m!==_&&!this._lock){var T=k&&_&1,O=T===(k&&m&1);if(m<_&&(T=!T),a=T?0:u%l?l:u,this._lock=1,this.render(a||(C?0:We(m*g)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&ht(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,O&&(this._lock=2,a=T?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;nd(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=k2(this,We(a),We(d)),w&&(u-=d-(d=w._start))),this._tTime=u,this._time=d,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!m&&(ht(this,"onStart"),this._tTime!==u))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(y=p._next,(p._act||d>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!b){w=0,y&&(u+=this._zTime=-Se);break}}p=y}else{p=this._last;for(var I=i<0?i:d;p;){if(y=p._prev,(p._act||I<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(I-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(I-p._start)*p._ts,s,o||Xe&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!b){w=0,y&&(u+=this._zTime=I?-Se:Se);break}}p=y}}if(w&&!s&&(this.pause(),w.render(d>=a?0:-Se)._zTime=d>=a?1:-1,this._ts))return this._start=x,Vs(this),this.render(i,s,o);this._onUpdate&&!s&&ht(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&a)&&(x===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(u===c&&this._ts>0||!u&&this._ts<0)&&kn(this,1),!s&&!(i<0&&!a)&&(u||a||!c)&&(ht(this,u===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(an(s)||(s=xt(this,s,i)),!(i instanceof xi)){if(Ke(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Ye(i))return this.addLabel(i,s);if(Ie(i))i=Be.delayedCall(0,i);else return this}return this!==i?Lt(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-wt);for(var c=[],l=this._first;l;)l._start>=a&&(l instanceof Be?s&&c.push(l):(o&&c.push(l),i&&c.push.apply(c,l.getChildren(!0,s,o)))),l=l._next;return c},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Ye(i)?this.removeLabel(i):Ie(i)?this.killTweensOf(i):(Hs(this,i),i===this._recent&&(this._recent=this._last),Fn(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=We(dt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=xt(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Be.delayedCall(0,s||gi,o);return a.data="isPause",this._hasPause=1,Lt(this,a,xt(this,i))},n.removePause=function(i){var s=this._first;for(i=xt(this,i);s;)s._start===i&&s.data==="isPause"&&kn(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)pn!==a[c]&&a[c].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=kt(i),c=this._first,l=an(s),u;c;)c instanceof Be?g2(c._targets,a)&&(l?(!pn||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(u=c.getTweensOf(a,s)).length&&o.push.apply(o,u),c=c._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=xt(o,i),c=s,l=c.startAt,u=c.onStart,f=c.onStartParams,d=c.immediateRender,p,y=Be.to(o,Ct({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||Se,onStart:function(){if(o.pause(),!p){var g=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());y._dur!==g&&br(y,g,0,1).render(y._time,!0,!0),p=1}u&&u.apply(y,f||[])}},s));return d?y.render(0):y},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Ct({startAt:{time:xt(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Kl(this,xt(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Kl(this,xt(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Se)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,l;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(l in c)c[l]>=o&&(c[l]+=i);return Fn(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Fn(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,c=wt,l,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Lt(o,a,u-a._delay,1)._lock=0):c=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=l;br(o,o===De&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(De._ts&&(zf(De,Ts(i,De)),Mf=dt.frame),dt.frame>=Wl){Wl+=mt.autoSleep||120;var s=De._first;if((!s||!s._ts)&&mt.autoSleep&&dt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||dt.sleep()}}},e}(xi);Ct(Je.prototype,{_lock:0,_hasPause:0,_forcing:0});var N2=function(e,n,r,i,s,o,a){var c=new ot(this._pt,e,n,0,1,ud,null,s),l=0,u=0,f,d,p,y,m,g,b,w;for(c.b=r,c.e=i,r+="",i+="",(b=~i.indexOf("random("))&&(i=yi(i)),o&&(w=[r,i],o(w,e,n),r=w[0],i=w[1]),d=r.match(yo)||[];f=yo.exec(i);)y=f[0],m=i.substring(l,f.index),p?p=(p+1)%5:m.substr(-5)==="rgba("&&(p=1),y!==d[u++]&&(g=parseFloat(d[u-1])||0,c._pt={_next:c._pt,p:m||u===1?m:",",s:g,c:y.charAt(1)==="="?dr(g,y)-g:parseFloat(y)-g,m:p&&p<4?Math.round:0},l=yo.lastIndex);return c.c=l<i.length?i.substring(l,i.length):"",c.fp=a,($f.test(i)||b)&&(c.e=0),this._pt=c,c},nc=function(e,n,r,i,s,o,a,c,l,u){Ie(i)&&(i=i(s||0,e,o));var f=e[n],d=r!=="get"?r:Ie(f)?l?e[n.indexOf("set")||!Ie(e["get"+n.substr(3)])?n:"get"+n.substr(3)](l):e[n]():f,p=Ie(f)?l?V2:cd:ic,y;if(Ye(i)&&(~i.indexOf("random(")&&(i=yi(i)),i.charAt(1)==="="&&(y=dr(d,i)+(Ge(d)||0),(y||y===0)&&(i=y))),!u||d!==i||la)return!isNaN(d*i)&&i!==""?(y=new ot(this._pt,e,n,+d||0,i-(d||0),typeof f=="boolean"?Y2:ld,0,p),l&&(y.fp=l),a&&y.modifier(a,this,e),this._pt=y):(!f&&!(n in e)&&Qa(n,i),N2.call(this,e,n,d,i,p,c||mt.stringFilter,l))},F2=function(e,n,r,i,s){if(Ie(e)&&(e=ci(e,s,n,r,i)),!Vt(e)||e.style&&e.nodeType||Ke(e)||Sf(e))return Ye(e)?ci(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=ci(e[a],s,n,r,i);return o},sd=function(e,n,r,i,s,o){var a,c,l,u;if(ut[e]&&(a=new ut[e]).init(s,a.rawVars?n[e]:F2(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new ot(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==ar))for(l=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)l[a._props[u]]=c;return a},pn,la,rc=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,l=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,d=i.keyframes,p=i.autoRevert,y=e._dur,m=e._startAt,g=e._targets,b=e.parent,w=b&&b.data==="nested"?b.vars.targets:g,E=e._overwrite==="auto"&&!Xa,x=e.timeline,_,k,C,T,O,I,U,R,G,L,N,H,B;if(x&&(!d||!s)&&(s="none"),e._ease=Un(s,xr.ease),e._yEase=f?td(Un(f===!0?s:f,xr.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!x&&!!i.runBackwards,!x||d&&!i.stagger){if(R=g[0]?Nn(g[0]).harness:0,H=R&&i[R.prop],_=Cs(i,Ja),m&&(m._zTime<0&&m.progress(1),n<0&&u&&a&&!p?m.render(-1,!0):m.revert(u&&y?ns:p2),m._lazy=0),o){if(kn(e._startAt=Be.set(g,Ct({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!m&&it(c),startAt:null,delay:0,onUpdate:l&&function(){return ht(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Xe||!a&&!p)&&e._startAt.revert(ns),a&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(u&&y&&!m){if(n&&(a=!1),C=Ct({overwrite:!1,data:"isFromStart",lazy:a&&!m&&it(c),immediateRender:a,stagger:0,parent:b},_),H&&(C[R.prop]=H),kn(e._startAt=Be.set(g,C)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Xe?e._startAt.revert(ns):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Se,Se);else if(!n)return}for(e._pt=e._ptCache=0,c=y&&it(c)||c&&!y,k=0;k<g.length;k++){if(O=g[k],U=O._gsap||tc(g)[k]._gsap,e._ptLookup[k]=L={},ra[U.id]&&yn.length&&Es(),N=w===g?k:w.indexOf(O),R&&(G=new R).init(O,H||_,e,N,w)!==!1&&(e._pt=T=new ot(e._pt,O,G.name,0,1,G.render,G,0,G.priority),G._props.forEach(function(F){L[F]=T}),G.priority&&(I=1)),!R||H)for(C in _)ut[C]&&(G=sd(C,_,e,N,O,w))?G.priority&&(I=1):L[C]=T=nc.call(e,O,C,"get",_[C],N,w,0,i.stringFilter);e._op&&e._op[k]&&e.kill(O,e._op[k]),E&&e._pt&&(pn=e,De.killTweensOf(O,L,e.globalTime(n)),B=!e.parent,pn=0),e._pt&&c&&(ra[U.id]=1)}I&&fd(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!B,d&&n<=0&&x.render(wt,!0,!0)},U2=function(e,n,r,i,s,o,a,c){var l=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,f,d,p;if(!l)for(l=e._ptCache[n]=[],d=e._ptLookup,p=e._targets.length;p--;){if(u=d[p][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return la=1,e.vars[n]="+=0",rc(e,a),la=0,c?mi(n+" not eligible for reset"):1;l.push(u)}for(p=l.length;p--;)f=l[p],u=f._pt||f,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,f.e&&(f.e=Fe(r)+Ge(f.e)),f.b&&(f.b=u.s+Ge(f.b))},B2=function(e,n){var r=e[0]?Nn(e[0]).harness:0,i=r&&r.aliases,s,o,a,c;if(!i)return n;s=Wn({},n);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},H2=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(Ke(n))a=r[e]||(r[e]=[]),n.forEach(function(c,l){return a.push({t:l/(n.length-1)*100,v:c,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},ci=function(e,n,r,i,s){return Ie(e)?e.call(n,r,i,s):Ye(e)&&~e.indexOf("random(")?yi(e):e},od=ec+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ad={};st(od+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return ad[t]=1});var Be=function(t){Cf(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:oi(i))||this;var c=a.vars,l=c.duration,u=c.delay,f=c.immediateRender,d=c.stagger,p=c.overwrite,y=c.keyframes,m=c.defaults,g=c.scrollTrigger,b=c.yoyoEase,w=i.parent||De,E=(Ke(r)||Sf(r)?an(r[0]):"length"in i)?[r]:kt(r),x,_,k,C,T,O,I,U;if(a._targets=E.length?tc(E):mi("GSAP target "+r+" not found. https://gsap.com",!mt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,y||d||Ki(l)||Ki(u)){if(i=a.vars,x=a.timeline=new Je({data:"nested",defaults:m||{},targets:w&&w.data==="nested"?w.vars.targets:E}),x.kill(),x.parent=x._dp=Kt(a),x._start=0,d||Ki(l)||Ki(u)){if(C=E.length,I=d&&Wf(d),Vt(d))for(T in d)~od.indexOf(T)&&(U||(U={}),U[T]=d[T]);for(_=0;_<C;_++)k=Cs(i,ad),k.stagger=0,b&&(k.yoyoEase=b),U&&Wn(k,U),O=E[_],k.duration=+ci(l,Kt(a),_,O,E),k.delay=(+ci(u,Kt(a),_,O,E)||0)-a._delay,!d&&C===1&&k.delay&&(a._delay=u=k.delay,a._start+=u,k.delay=0),x.to(O,k,I?I(_,O,E):0),x._ease=_e.none;x.duration()?l=u=0:a.timeline=0}else if(y){oi(Ct(x.vars.defaults,{ease:"none"})),x._ease=Un(y.ease||i.ease||"none");var R=0,G,L,N;if(Ke(y))y.forEach(function(H){return x.to(E,H,">")}),x.duration();else{k={};for(T in y)T==="ease"||T==="easeEach"||H2(T,y[T],k,y.easeEach);for(T in k)for(G=k[T].sort(function(H,B){return H.t-B.t}),R=0,_=0;_<G.length;_++)L=G[_],N={ease:L.e,duration:(L.t-(_?G[_-1].t:0))/100*l},N[T]=L.v,x.to(E,N,R),R+=N.duration;x.duration()<l&&x.to({},{duration:l-x.duration()})}}l||a.duration(l=x.duration())}else a.timeline=0;return p===!0&&!Xa&&(pn=Kt(a),De.killTweensOf(E),pn=0),Lt(w,Kt(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!l&&!y&&a._start===We(w._time)&&it(f)&&v2(Kt(a))&&w.data!=="nested")&&(a._tTime=-Se,a.render(Math.max(0,-u)||0)),g&&Uf(Kt(a),g),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,c=this._tDur,l=this._dur,u=i<0,f=i>c-Se&&!u?c:i<Se?0:i,d,p,y,m,g,b,w,E,x;if(!l)w2(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,E=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+i,s,o);if(d=We(f%m),f===c?(y=this._repeat,d=l):(y=~~(f/m),y&&y===We(f/m)&&(d=l,y--),d>l&&(d=l)),b=this._yoyo&&y&1,b&&(x=this._yEase,d=l-d),g=vr(this._tTime,m),d===a&&!o&&this._initted&&y===g)return this._tTime=f,this;y!==g&&(E&&this._yEase&&nd(E,b),this.vars.repeatRefresh&&!b&&!this._lock&&this._time!==l&&this._initted&&(this._lock=o=1,this.render(We(m*y),!0).invalidate()._lock=0))}if(!this._initted){if(Bf(this,u?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&y!==g))return this;if(l!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(x||this._ease)(d/l),this._from&&(this.ratio=w=1-w),d&&!a&&!s&&!y&&(ht(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;E&&E.render(i<0?i:!d&&b?-Se:E._dur*E._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&ia(this,i,s,o),ht(this,"onUpdate")),this._repeat&&y!==g&&this.vars.onRepeat&&!s&&this.parent&&ht(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&ia(this,i,!0,!0),(i||!l)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&kn(this,1),!s&&!(u&&!a)&&(f||a||b)&&(ht(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,c){_i||dt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||rc(this,l),u=this._ease(l/this._dur),U2(this,i,s,o,a,u,l,c)?this.resetTo(i,s,o,a,1):(Ws(this,0),this.parent||Nf(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?qr(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,pn&&pn.vars.overwrite!==!0)._first||qr(this),this.parent&&o!==this.timeline.totalDuration()&&br(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?kt(i):a,l=this._ptLookup,u=this._pt,f,d,p,y,m,g,b;if((!s||s==="all")&&_2(a,c))return s==="all"&&(this._pt=0),qr(this);for(f=this._op=this._op||[],s!=="all"&&(Ye(s)&&(m={},st(s,function(w){return m[w]=1}),s=m),s=B2(a,s)),b=a.length;b--;)if(~c.indexOf(a[b])){d=l[b],s==="all"?(f[b]=s,y=d,p={}):(p=f[b]=f[b]||{},y=s);for(m in y)g=d&&d[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&Hs(this,g,"_pt"),delete d[m]),p!=="all"&&(p[m]=1)}return this._initted&&!this._pt&&u&&qr(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return ai(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return ai(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return De.killTweensOf(i,s,o)},e}(xi);Ct(Be.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});st("staggerTo,staggerFrom,staggerFromTo",function(t){Be[t]=function(){var e=new Je,n=oa.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var ic=function(e,n,r){return e[n]=r},cd=function(e,n,r){return e[n](r)},V2=function(e,n,r,i){return e[n](i.fp,r)},W2=function(e,n,r){return e.setAttribute(n,r)},sc=function(e,n){return Ie(e[n])?cd:Ka(e[n])&&e.setAttribute?W2:ic},ld=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Y2=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},ud=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},oc=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},G2=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},X2=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Hs(this,n,"_pt"):n.dep||(r=1),n=i;return!r},K2=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},fd=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},ot=function(){function t(n,r,i,s,o,a,c,l,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||ld,this.d=c||this,this.set=l||ic,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=K2,this.m=r,this.mt=s,this.tween=i},t}();st(ec+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ja[t]=1});gt.TweenMax=gt.TweenLite=Be;gt.TimelineLite=gt.TimelineMax=Je;De=new Je({sortChildren:!1,defaults:xr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});mt.stringFilter=ed;var Bn=[],is={},Z2=[],ql=0,q2=0,wo=function(e){return(is[e]||Z2).map(function(n){return n()})},ua=function(){var e=Date.now(),n=[];e-ql>2&&(wo("matchMediaInit"),Bn.forEach(function(r){var i=r.queries,s=r.conditions,o,a,c,l;for(a in i)o=vt.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,l=1);l&&(r.revert(),c&&n.push(r))}),wo("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ql=e,wo("matchMedia"))},dd=function(){function t(n,r){this.selector=r&&aa(r),this.data=[],this._r=[],this.isReverted=!1,this.id=q2++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Ie(r)&&(s=i,i=r,r=Ie);var o=this,a=function(){var l=ze,u=o.selector,f;return l&&l!==o&&l.data.push(o),s&&(o.selector=aa(s)),ze=o,f=i.apply(o,arguments),Ie(f)&&o._r.push(f),ze=l,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Ie?a(o,function(c){return o.add(null,c)}):r?o[r]=a:a},e.ignore=function(r){var i=ze;ze=null,r(this),ze=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Be&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),c=s.data.length,l;c--;)l=s.data[c],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),c=s.data.length;c--;)l=s.data[c],l instanceof Je?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Be)&&l.revert&&l.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Bn.length;o--;)Bn[o].id===this.id&&Bn.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),Q2=function(){function t(n){this.contexts=[],this.scope=n}var e=t.prototype;return e.add=function(r,i,s){Vt(r)||(r={matches:r});var o=new dd(0,s||this.scope),a=o.conditions={},c,l,u;ze&&!o.selector&&(o.selector=ze.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(l in r)l==="all"?u=1:(c=vt.matchMedia(r[l]),c&&(Bn.indexOf(o)<0&&Bn.push(o),(a[l]=c.matches)&&(u=1),c.addListener?c.addListener(ua):c.addEventListener("change",ua)));return u&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Ss={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return qf(i)})},timeline:function(e){return new Je(e)},getTweensOf:function(e,n){return De.getTweensOf(e,n)},getProperty:function(e,n,r,i){Ye(e)&&(e=kt(e)[0]);var s=Nn(e||{}).get,o=r?Lf:If;return r==="native"&&(r=""),e&&(n?o((ut[n]&&ut[n].get||s)(e,n,r,i)):function(a,c,l){return o((ut[a]&&ut[a].get||s)(e,a,c,l))})},quickSetter:function(e,n,r){if(e=kt(e),e.length>1){var i=e.map(function(u){return ct.quickSetter(u,n,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=ut[n],a=Nn(e),c=a.harness&&(a.harness.aliases||{})[n]||n,l=o?function(u){var f=new o;ar._pt=0,f.init(e,r?u+r:u,ar,0,[e]),f.render(1,f),ar._pt&&oc(1,ar)}:a.set(e,c);return o?l:function(u){return l(e,c,r?u+r:u,a,1)}},quickTo:function(e,n,r){var i,s=ct.to(e,Wn((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(c,l,u){return s.resetTo(n,c,l,u)};return o.tween=s,o},isTweening:function(e){return De.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Un(e.ease,xr.ease)),Yl(xr,e||{})},config:function(e){return Yl(mt,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ut[a]&&!gt[a]&&mi(n+" effect requires "+a+" plugin.")}),_o[n]=function(a,c,l){return r(kt(a),Ct(c||{},s),l)},o&&(Je.prototype[n]=function(a,c,l){return this.add(_o[n](a,Vt(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,n){_e[e]=Un(n)},parseEase:function(e,n){return arguments.length?Un(e,n):_e},getById:function(e){return De.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Je(e),i,s;for(r.smoothChildTiming=it(e.smoothChildTiming),De.remove(r),r._dp=0,r._time=r._tTime=De._time,i=De._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Be&&i.vars.onComplete===i._targets[0]))&&Lt(r,i,i._start-i._delay),i=s;return Lt(De,r,0),r},context:function(e,n){return e?new dd(e,n):ze},matchMedia:function(e){return new Q2(e)},matchMediaRefresh:function(){return Bn.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||ua()},addEventListener:function(e,n){var r=is[e]||(is[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=is[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:P2,wrapYoyo:R2,distribute:Wf,random:Gf,snap:Yf,normalize:$2,getUnit:Ge,clamp:C2,splitColor:Qf,toArray:kt,selector:aa,mapRange:Kf,pipe:S2,unitize:O2,interpolate:A2,shuffle:Vf},install:Af,effects:_o,ticker:dt,updateRoot:Je.updateRoot,plugins:ut,globalTimeline:De,core:{PropTween:ot,globals:Df,Tween:Be,Timeline:Je,Animation:xi,getCache:Nn,_removeLinkedListItem:Hs,reverting:function(){return Xe},context:function(e){return e&&ze&&(ze.data.push(e),e._ctx=ze),ze},suppressOverwrites:function(e){return Xa=e}}};st("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ss[t]=Be[t]});dt.add(Je.updateRoot);ar=Ss.to({},{duration:0});var J2=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},ew=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=J2(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},ko=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,l;if(Ye(s)&&(c={},st(s,function(u){return c[u]=1}),s=c),n){c={};for(l in s)c[l]=n(s[l]);s=c}ew(a,s)}}}},ct=Ss.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,c;this.tween=r;for(o in n)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Xe?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},ko("roundProps",ca),ko("modifiers"),ko("snap",Yf))||Ss;Be.version=Je.version=ct.version="3.12.4";Rf=1;Za()&&wr();_e.Power0;_e.Power1;_e.Power2;_e.Power3;_e.Power4;_e.Linear;_e.Quad;_e.Cubic;_e.Quart;_e.Quint;_e.Strong;_e.Elastic;_e.Back;_e.SteppedEase;_e.Bounce;_e.Sine;_e.Expo;_e.Circ;/*!
 * CSSPlugin 3.12.4
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ql,mn,hr,ac,jn,Jl,cc,tw=function(){return typeof window<"u"},cn={},Dn=180/Math.PI,pr=Math.PI/180,sr=Math.atan2,eu=1e8,lc=/([A-Z])/g,nw=/(left|right|width|margin|padding|x)/i,rw=/[\s,\(]\S/,Nt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},fa=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},iw=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},sw=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},ow=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},hd=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},pd=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},aw=function(e,n,r){return e.style[n]=r},cw=function(e,n,r){return e.style.setProperty(n,r)},lw=function(e,n,r){return e._gsap[n]=r},uw=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},fw=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},dw=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},Me="transform",at=Me+"Origin",hw=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in cn&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Nt[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=qt(i,a)}):this.tfm[e]=o.x?o[e]:qt(i,e),e===at&&(this.tfm.zOrigin=o.zOrigin);else return Nt.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Me)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(at,n,"")),e=Me}(s||n)&&this.props.push(e,n,s[e])},md=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},pw=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(lc,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=cc(),(!s||!s.isStart)&&!r[Me]&&(md(r),i.zOrigin&&r[at]&&(r[at]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},gd=function(e,n){var r={target:e,props:[],revert:pw,save:hw};return e._gsap||ct.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},yd,da=function(e,n){var r=mn.createElementNS?mn.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):mn.createElement(e);return r&&r.style?r:mn.createElement(e)},Ft=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(lc,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,kr(n)||n,1)||""},tu="O,Moz,ms,Ms,Webkit".split(","),kr=function(e,n,r){var i=n||jn,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(tu[o]+e in s););return o<0?null:(o===3?"ms":o>=0?tu[o]:"")+e},ha=function(){tw()&&window.document&&(Ql=window,mn=Ql.document,hr=mn.documentElement,jn=da("div")||{style:{}},da("div"),Me=kr(Me),at=Me+"Origin",jn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yd=!!kr("perspective"),cc=ct.core.reverting,ac=1)},Eo=function t(e){var n=da("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(hr.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),hr.removeChild(n),this.style.cssText=s,o},nu=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},_d=function(e){var n;try{n=e.getBBox()}catch{n=Eo.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===Eo||(n=Eo.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+nu(e,["x","cx","x1"])||0,y:+nu(e,["y","cy","y1"])||0,width:0,height:0}:n},xd=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_d(e))},Yn=function(e,n){if(n){var r=e.style,i;n in cn&&n!==at&&(n=Me),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(lc,"-$1").toLowerCase())):r.removeAttribute(n)}},gn=function(e,n,r,i,s,o){var a=new ot(e._pt,n,r,0,1,o?pd:hd);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},ru={deg:1,rad:1,turn:1},mw={grid:1,flex:1},En=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=jn.style,c=nw.test(n),l=e.tagName.toLowerCase()==="svg",u=(l?"client":"offset")+(c?"Width":"Height"),f=100,d=i==="px",p=i==="%",y,m,g,b;if(i===o||!s||ru[i]||ru[o])return s;if(o!=="px"&&!d&&(s=t(e,n,r,"px")),b=e.getCTM&&xd(e),(p||o==="%")&&(cn[n]||~n.indexOf("adius")))return y=b?e.getBBox()[c?"width":"height"]:e[u],Fe(p?s/y*f:s/100*y);if(a[c?"width":"height"]=f+(d?o:i),m=~n.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,b&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===mn||!m.appendChild)&&(m=mn.body),g=m._gsap,g&&p&&g.width&&c&&g.time===dt.time&&!g.uncache)return Fe(s/g.width*f);if(p&&(n==="height"||n==="width")){var w=e.style[n];e.style[n]=f+i,y=e[u],w?e.style[n]=w:Yn(e,n)}else(p||o==="%")&&!mw[Ft(m,"display")]&&(a.position=Ft(e,"position")),m===e&&(a.position="static"),m.appendChild(jn),y=jn[u],m.removeChild(jn),a.position="absolute";return c&&p&&(g=Nn(m),g.time=dt.time,g.width=m[u]),Fe(d?y*s/f:y&&s?f/y*s:0)},qt=function(e,n,r,i){var s;return ac||ha(),n in Nt&&n!=="transform"&&(n=Nt[n],~n.indexOf(",")&&(n=n.split(",")[0])),cn[n]&&n!=="transform"?(s=bi(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:$s(Ft(e,at))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Os[n]&&Os[n](e,n,r)||Ft(e,n)||jf(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?En(e,n,s,r)+r:s},gw=function(e,n,r,i){if(!r||r==="none"){var s=kr(n,e,1),o=s&&Ft(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=Ft(e,"borderTopColor"))}var a=new ot(this._pt,e.style,n,0,1,ud),c=0,l=0,u,f,d,p,y,m,g,b,w,E,x,_;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(m=e.style[n],e.style[n]=i,i=Ft(e,n)||i,m?e.style[n]=m:Yn(e,n)),u=[r,i],ed(u),r=u[0],i=u[1],d=r.match(or)||[],_=i.match(or)||[],_.length){for(;f=or.exec(i);)g=f[0],w=i.substring(c,f.index),y?y=(y+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(y=1),g!==(m=d[l++]||"")&&(p=parseFloat(m)||0,x=m.substr((p+"").length),g.charAt(1)==="="&&(g=dr(p,g)+x),b=parseFloat(g),E=g.substr((b+"").length),c=or.lastIndex-E.length,E||(E=E||mt.units[n]||x,c===i.length&&(i+=E,a.e+=E)),x!==E&&(p=En(e,n,m,E)||0),a._pt={_next:a._pt,p:w||l===1?w:",",s:p,c:b-p,m:y&&y<4||n==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=n==="display"&&i==="none"?pd:hd;return $f.test(i)&&(a.e=0),this._pt=a,a},iu={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},yw=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=iu[r]||r,n[1]=iu[i]||i,n.join(" ")},_w=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,c,l;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],cn[a]&&(c=1,a=a==="transformOrigin"?at:Me),Yn(r,a);c&&(Yn(r,Me),o&&(o.svg&&r.removeAttribute("transform"),bi(r,1),o.uncache=1,md(i)))}},Os={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new ot(e._pt,n,r,0,0,_w);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},vi=[1,0,0,1,0,0],vd={},bd=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},su=function(e){var n=Ft(e,Me);return bd(n)?vi:n.substr(7).match(Of).map(Fe)},uc=function(e,n){var r=e._gsap||Nn(e),i=e.style,s=su(e),o,a,c,l;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?vi:s):(s===vi&&!e.offsetParent&&e!==hr&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,hr.appendChild(e)),s=su(e),c?i.display=c:Yn(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):hr.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},pa=function(e,n,r,i,s,o){var a=e._gsap,c=s||uc(e,!0),l=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=c[0],y=c[1],m=c[2],g=c[3],b=c[4],w=c[5],E=n.split(" "),x=parseFloat(E[0])||0,_=parseFloat(E[1])||0,k,C,T,O;r?c!==vi&&(C=p*g-y*m)&&(T=x*(g/C)+_*(-m/C)+(m*w-g*b)/C,O=x*(-y/C)+_*(p/C)-(p*w-y*b)/C,x=T,_=O):(k=_d(e),x=k.x+(~E[0].indexOf("%")?x/100*k.width:x),_=k.y+(~(E[1]||E[0]).indexOf("%")?_/100*k.height:_)),i||i!==!1&&a.smooth?(b=x-l,w=_-u,a.xOffset=f+(b*p+w*m)-b,a.yOffset=d+(b*y+w*g)-w):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=_,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[at]="0px 0px",o&&(gn(o,a,"xOrigin",l,x),gn(o,a,"yOrigin",u,_),gn(o,a,"xOffset",f,a.xOffset),gn(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+_)},bi=function(e,n){var r=e._gsap||new id(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",c=getComputedStyle(e),l=Ft(e,at)||"0",u,f,d,p,y,m,g,b,w,E,x,_,k,C,T,O,I,U,R,G,L,N,H,B,F,W,Q,oe,D,z,S,j;return u=f=d=m=g=b=w=E=x=0,p=y=1,r.svg=!!(e.getCTM&&xd(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Me]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Me]!=="none"?c[Me]:"")),i.scale=i.rotate=i.translate="none"),C=uc(e,r.svg),r.svg&&(r.uncache?(F=e.getBBox(),l=r.xOrigin-F.x+"px "+(r.yOrigin-F.y)+"px",B=""):B=!n&&e.getAttribute("data-svg-origin"),pa(e,B||l,!!B||r.originIsAbsolute,r.smooth!==!1,C)),_=r.xOrigin||0,k=r.yOrigin||0,C!==vi&&(U=C[0],R=C[1],G=C[2],L=C[3],u=N=C[4],f=H=C[5],C.length===6?(p=Math.sqrt(U*U+R*R),y=Math.sqrt(L*L+G*G),m=U||R?sr(R,U)*Dn:0,w=G||L?sr(G,L)*Dn+m:0,w&&(y*=Math.abs(Math.cos(w*pr))),r.svg&&(u-=_-(_*U+k*G),f-=k-(_*R+k*L))):(j=C[6],z=C[7],Q=C[8],oe=C[9],D=C[10],S=C[11],u=C[12],f=C[13],d=C[14],T=sr(j,D),g=T*Dn,T&&(O=Math.cos(-T),I=Math.sin(-T),B=N*O+Q*I,F=H*O+oe*I,W=j*O+D*I,Q=N*-I+Q*O,oe=H*-I+oe*O,D=j*-I+D*O,S=z*-I+S*O,N=B,H=F,j=W),T=sr(-G,D),b=T*Dn,T&&(O=Math.cos(-T),I=Math.sin(-T),B=U*O-Q*I,F=R*O-oe*I,W=G*O-D*I,S=L*I+S*O,U=B,R=F,G=W),T=sr(R,U),m=T*Dn,T&&(O=Math.cos(T),I=Math.sin(T),B=U*O+R*I,F=N*O+H*I,R=R*O-U*I,H=H*O-N*I,U=B,N=F),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,b=180-b),p=Fe(Math.sqrt(U*U+R*R+G*G)),y=Fe(Math.sqrt(H*H+j*j)),T=sr(N,H),w=Math.abs(T)>2e-4?T*Dn:0,x=S?1/(S<0?-S:S):0),r.svg&&(B=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!bd(Ft(e,Me)),B&&e.setAttribute("transform",B))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(p*=-1,w+=m<=0?180:-180,m+=m<=0?180:-180):(y*=-1,w+=w<=0?180:-180)),n=n||r.uncache,r.x=u-((r.xPercent=u&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=Fe(p),r.scaleY=Fe(y),r.rotation=Fe(m)+a,r.rotationX=Fe(g)+a,r.rotationY=Fe(b)+a,r.skewX=w+a,r.skewY=E+a,r.transformPerspective=x+o,(r.zOrigin=parseFloat(l.split(" ")[2])||!n&&r.zOrigin||0)&&(i[at]=$s(l)),r.xOffset=r.yOffset=0,r.force3D=mt.force3D,r.renderTransform=r.svg?vw:yd?wd:xw,r.uncache=0,r},$s=function(e){return(e=e.split(" "))[0]+" "+e[1]},Co=function(e,n,r){var i=Ge(n);return Fe(parseFloat(n)+parseFloat(En(e,"x",r+"px",i)))+i},xw=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,wd(e,n)},Rn="0deg",Xr="0px",An=") ",wd=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.z,l=r.rotation,u=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,y=r.scaleX,m=r.scaleY,g=r.transformPerspective,b=r.force3D,w=r.target,E=r.zOrigin,x="",_=b==="auto"&&e&&e!==1||b===!0;if(E&&(f!==Rn||u!==Rn)){var k=parseFloat(u)*pr,C=Math.sin(k),T=Math.cos(k),O;k=parseFloat(f)*pr,O=Math.cos(k),o=Co(w,o,C*O*-E),a=Co(w,a,-Math.sin(k)*-E),c=Co(w,c,T*O*-E+E)}g!==Xr&&(x+="perspective("+g+An),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(_||o!==Xr||a!==Xr||c!==Xr)&&(x+=c!==Xr||_?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+An),l!==Rn&&(x+="rotate("+l+An),u!==Rn&&(x+="rotateY("+u+An),f!==Rn&&(x+="rotateX("+f+An),(d!==Rn||p!==Rn)&&(x+="skew("+d+", "+p+An),(y!==1||m!==1)&&(x+="scale("+y+", "+m+An),w.style[Me]=x||"translate(0, 0)"},vw=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.rotation,l=r.skewX,u=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,y=r.xOrigin,m=r.yOrigin,g=r.xOffset,b=r.yOffset,w=r.forceCSS,E=parseFloat(o),x=parseFloat(a),_,k,C,T,O;c=parseFloat(c),l=parseFloat(l),u=parseFloat(u),u&&(u=parseFloat(u),l+=u,c+=u),c||l?(c*=pr,l*=pr,_=Math.cos(c)*f,k=Math.sin(c)*f,C=Math.sin(c-l)*-d,T=Math.cos(c-l)*d,l&&(u*=pr,O=Math.tan(l-u),O=Math.sqrt(1+O*O),C*=O,T*=O,u&&(O=Math.tan(u),O=Math.sqrt(1+O*O),_*=O,k*=O)),_=Fe(_),k=Fe(k),C=Fe(C),T=Fe(T)):(_=f,T=d,k=C=0),(E&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(E=En(p,"x",o,"px"),x=En(p,"y",a,"px")),(y||m||g||b)&&(E=Fe(E+y-(y*_+m*C)+g),x=Fe(x+m-(y*k+m*T)+b)),(i||s)&&(O=p.getBBox(),E=Fe(E+i/100*O.width),x=Fe(x+s/100*O.height)),O="matrix("+_+","+k+","+C+","+T+","+E+","+x+")",p.setAttribute("transform",O),w&&(p.style[Me]=O)},bw=function(e,n,r,i,s){var o=360,a=Ye(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?Dn:1),l=c-i,u=i+l+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),f==="cw"&&l<0?l=(l+o*eu)%o-~~(l/o)*o:f==="ccw"&&l>0&&(l=(l-o*eu)%o-~~(l/o)*o)),e._pt=d=new ot(e._pt,n,r,i,l,iw),d.e=u,d.u="deg",e._props.push(r),d},ou=function(e,n){for(var r in n)e[r]=n[r];return e},ww=function(e,n,r){var i=ou({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,c,l,u,f,d,p,y;i.svg?(l=r.getAttribute("transform"),r.setAttribute("transform",""),o[Me]=n,a=bi(r,1),Yn(r,Me),r.setAttribute("transform",l)):(l=getComputedStyle(r)[Me],o[Me]=n,a=bi(r,1),o[Me]=l);for(c in cn)l=i[c],u=a[c],l!==u&&s.indexOf(c)<0&&(p=Ge(l),y=Ge(u),f=p!==y?En(r,c,l,y):parseFloat(l),d=parseFloat(u),e._pt=new ot(e._pt,a,c,f,d-f,fa),e._pt.u=y||0,e._props.push(c));ou(a,i)};st("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Os[e>1?"border"+t:t]=function(a,c,l,u,f){var d,p;if(arguments.length<4)return d=o.map(function(y){return qt(a,y,l)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(u+"").split(" "),p={},o.forEach(function(y,m){return p[y]=d[m]=d[m]||d[(m-1)/2|0]}),a.init(c,p,f)}});var kd={name:"css",register:ha,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,c=r.vars.startAt,l,u,f,d,p,y,m,g,b,w,E,x,_,k,C,T;ac||ha(),this.styles=this.styles||gd(e),T=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(u=n[m],!(ut[m]&&sd(m,n,r,i,e,s)))){if(p=typeof u,y=Os[m],p==="function"&&(u=u.call(r,i,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=yi(u)),y)y(this,e,m,u,r)&&(C=1);else if(m.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",_n.lastIndex=0,_n.test(l)||(g=Ge(l),b=Ge(u)),b?g!==b&&(l=En(e,m,l,b)+b):g&&(u+=g),this.add(a,"setProperty",l,u,i,s,0,0,m),o.push(m),T.push(m,0,a[m]);else if(p!=="undefined"){if(c&&m in c?(l=typeof c[m]=="function"?c[m].call(r,i,e,s):c[m],Ye(l)&&~l.indexOf("random(")&&(l=yi(l)),Ge(l+"")||l==="auto"||(l+=mt.units[m]||Ge(qt(e,m))||""),(l+"").charAt(1)==="="&&(l=qt(e,m))):l=qt(e,m),d=parseFloat(l),w=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),w&&(u=u.substr(2)),f=parseFloat(u),m in Nt&&(m==="autoAlpha"&&(d===1&&qt(e,"visibility")==="hidden"&&f&&(d=0),T.push("visibility",0,a.visibility),gn(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=Nt[m],~m.indexOf(",")&&(m=m.split(",")[0]))),E=m in cn,E){if(this.styles.save(m),x||(_=e._gsap,_.renderTransform&&!n.parseTransform||bi(e,n.parseTransform),k=n.smoothOrigin!==!1&&_.smooth,x=this._pt=new ot(this._pt,a,Me,0,1,_.renderTransform,_,0,-1),x.dep=1),m==="scale")this._pt=new ot(this._pt,_,"scaleY",_.scaleY,(w?dr(_.scaleY,w+f):f)-_.scaleY||0,fa),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){T.push(at,0,a[at]),u=yw(u),_.svg?pa(e,u,0,k,0,this):(b=parseFloat(u.split(" ")[2])||0,b!==_.zOrigin&&gn(this,_,"zOrigin",_.zOrigin,b),gn(this,a,m,$s(l),$s(u)));continue}else if(m==="svgOrigin"){pa(e,u,1,k,0,this);continue}else if(m in vd){bw(this,_,m,d,w?dr(d,w+u):u);continue}else if(m==="smoothOrigin"){gn(this,_,"smooth",_.smooth,u);continue}else if(m==="force3D"){_[m]=u;continue}else if(m==="transform"){ww(this,u,e);continue}}else m in a||(m=kr(m)||m);if(E||(f||f===0)&&(d||d===0)&&!rw.test(u)&&m in a)g=(l+"").substr((d+"").length),f||(f=0),b=Ge(u)||(m in mt.units?mt.units[m]:g),g!==b&&(d=En(e,m,l,b)),this._pt=new ot(this._pt,E?_:a,m,d,(w?dr(d,w+f):f)-d,!E&&(b==="px"||m==="zIndex")&&n.autoRound!==!1?ow:fa),this._pt.u=b||0,g!==b&&b!=="%"&&(this._pt.b=l,this._pt.r=sw);else if(m in a)gw.call(this,e,m,l,w?w+u:u);else if(m in e)this.add(e,m,l||e[m],w?w+u:u,i,s);else if(m!=="parseTransform"){Qa(m,u);continue}E||(m in a?T.push(m,0,a[m]):T.push(m,1,l||e[m])),o.push(m)}}C&&fd(this)},render:function(e,n){if(n.tween._time||!cc())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:qt,aliases:Nt,getSetter:function(e,n,r){var i=Nt[n];return i&&i.indexOf(",")<0&&(n=i),n in cn&&n!==at&&(e._gsap.x||qt(e,"x"))?r&&Jl===r?n==="scale"?uw:lw:(Jl=r||{})&&(n==="scale"?fw:dw):e.style&&!Ka(e.style[n])?aw:~n.indexOf("-")?cw:sc(e,n)},core:{_removeProperty:Yn,_getMatrix:uc}};ct.utils.checkPrefix=kr;ct.core.getStyleSaver=gd;(function(t,e,n,r){var i=st(t+","+e+","+n,function(s){cn[s]=1});st(e,function(s){mt.units[s]="deg",vd[s]=1}),Nt[i[13]]=t+","+e,st(r,function(s){var o=s.split(":");Nt[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");st("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){mt.units[t]="px"});ct.registerPlugin(kd);var tn=ct.registerPlugin(kd)||ct;tn.core.Tween;const Ed=t=>{const e=h.useRef(null),n=h.useRef(null),r=Ue(p=>p.nodesNormalized),{label:i,source:s,target:o,sourceX:a,sourceY:c,sourceZ:l,targetX:u,targetY:f,targetZ:d}=t;return h.useEffect(()=>{if(e.current){const p=e.current;tn.fromTo(p.material,{linewidth:Vl*15},{linewidth:Vl,duration:1})}},[e,a]),lt(()=>{const p=r.get(s),y=r.get(o);if(!e.current||!n.current||!p||!y)return;const{hoveredNode:m,searchQuery:g,selectedNodeTypes:b,selectedLinkTypes:w,selectedNode:E}=ye.getState(),x=e.current,_=m||E,k=w.includes(i)||b.includes(p==null?void 0:p.node_type)&&b.includes(y.node_type);if(!k&&!_&&!g){n.current.visible=!1;return}x.visible=!1,n.current.visible=!1,k&&(x.visible=!0,n.current.visible=!0),(_==null?void 0:_.ref_id)===s||(_==null?void 0:_.ref_id)===o?(x.visible=!0,n.current.visible=!0,tn.to(x.material,{linewidth:1,duration:.5,ease:"power1.out"})):tn.to(x.material,{linewidth:1,duration:.5,ease:"power1.out"}),x.material&&(x.material.dashOffset+=.55)}),v.jsxs("group",{ref:n,children:[v.jsx(li,{ref:e,color:"white",dashed:!0,dashOffset:1,dashScale:1,dashSize:10,gapSize:40,isLine2:!0,lineWidth:.5,name:"line",points:[a,c,l,u,f,d]}),v.jsx(Gn,{children:v.jsx(Ds,{anchorX:"center",anchorY:"middle",color:"white",...Ms,fontSize:4,children:i})})]})};Ed.displayName="LineComponent";const kw=h.memo(Ed),au=new he(0,0,0),Cd=h.memo(t=>{const{sourceX:e,sourceY:n,sourceZ:r,targetX:i,targetY:s,targetZ:o,color:a}=t,c=h.useRef(null);return lt(()=>{c.current&&(c.current.start.set(e||0,n||0,r||0),c.current.end.set(i,s,o))}),v.jsx(v.Fragment,{children:v.jsx(Em,{ref:c,color:a,end:au,start:au})})});Cd.displayName="LineInstance";const Td=h.memo(({linksPosition:t})=>{var f;const[e,n]=Ue(d=>[d.dataInitial,d.nodesNormalized]),[r,i,s,o,a,c]=ye(d=>[d.showSelectionGraph,d.searchQuery,d.selectedNodeTypes,d.highlightNodes,d.hoveredNode,d.selectedNode]),l=nn(d=>d.simulationInProgress),u=yt(d=>d.normalizedSchemasByType);return v.jsxs(v.Fragment,{children:[v.jsx("group",{name:"simulation-3d-group__connections",visible:!r||!0,children:(f=e==null?void 0:e.links)!=null&&f.length?v.jsx(v.Fragment,{children:e==null?void 0:e.links.map(d=>{const p=t.get(d.ref_id)||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0};return v.jsx(kw,{label:d.edge_type,source:d.source,sourceX:p.sx,sourceY:p.sy,sourceZ:p.sz,target:d.target,targetX:p.tx,targetY:p.ty,targetZ:p.tz},d.ref_id)})}):null}),v.jsx("group",{visible:!l&&!i&&!s.length&&!o.length&&!a&&!c,children:v.jsx(wm,{limit:1e3,lineWidth:.05,children:e==null?void 0:e.links.map(d=>{var g;const p=t.get(d.ref_id)||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0},y=n.get(d.source)||"";y&&((g=u[y.node_type])==null||g.primary_color);const m="rgba(97, 138, 255, 1)";return v.jsx(Cd,{color:m,sourceX:p.sx,sourceY:p.sy,sourceZ:p.sz,targetX:p.tx,targetY:p.ty,targetZ:p.tz},d.ref_id)})})},e==null?void 0:e.links.length)]})});Td.displayName="Connections";const Ew=({node:t,isFixed:e,isLast:n})=>{var f,d,p;const{normalizedSchemasByType:r,getNodeKeysByType:i}=yt(y=>y),s=h.useRef(null),o=(f=r[t.node_type])==null?void 0:f.icon,a=o?js[o]:null,c=i(t.node_type)||"",l=t!=null&&t.properties?t==null?void 0:t.properties[c]:"",u=l?mr(l,30):"";return h.useEffect(()=>{s.current&&e&&tn.to(s.current,{scale:.1,duration:1,ease:"power3.out"})},[e]),v.jsx(Rt,{ref:s,as:"div",center:!0,className:"sprite",sprite:!0,children:n||e?v.jsx(Cw,{align:"center",justify:"center",children:v.jsxs(v.Fragment,{children:[v.jsx(Sw,{children:v.jsx(Ow,{align:"center",height:32,justify:"center",radius:"50%",src:((d=t==null?void 0:t.properties)==null?void 0:d.image_url)||"",width:32,children:(p=t==null?void 0:t.properties)!=null&&p.image_url?null:v.jsx("span",{children:a?v.jsx(a,{}):v.jsx(os,{})})})}),v.jsx(Tw,{children:u})]})}):null})},Cw=X(ne)`
  background: ${K.gray100};
  padding: 8px;
  border-radius: 8px;
`,Tw=X(ne)`
  color: ${K.white};
  width: 100px;
  text-align: center;
  margin-top: 8px;
`,Sw=X(ne)`
  text-align: center;
  width: 48px;
  height: 48px;
  outline: 1px solid ${K.white};
  outline-offset: 0px;
  background: ${K.BG1};
  color: ${K.white};
  border-radius: 50%;
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }
`,Ow=X(ne)`
  background-image: ${({src:t})=>`url(${t})`};
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: ${({width:t})=>`${t}px`};
  height: ${({height:t})=>`${t}px`};
  border-radius: ${({radius:t})=>`${t}`};
  font-size: 20px;
`,Sd=h.memo(t=>{const{node:e,x:n,y:r,z:i,iX:s,iY:o,iZ:a,onRemove:c,isFixed:l,isLast:u}=t,f=h.useRef(null);return h.useEffect(()=>{f.current&&!l&&tn.fromTo(f.current.position,{x:s,y:o,z:a},{x:n,y:r,z:i,duration:1,ease:"power3.out"})},[n,r,i,s,o,a,l]),h.useEffect(()=>{f.current&&l&&tn.to(f.current.position,{x:n,y:r,z:i,duration:2,ease:"power3.out",onComplete:()=>{c&&c(e.ref_id)}})},[e.fx,e.fy,e.fz,e.ref_id,c,l,n,r,i]),v.jsx("mesh",{ref:f,position:[s,o,a],scale:e.scale||1,userData:e,children:v.jsx(Ew,{isFixed:l,isLast:u,node:e})})});Sd.displayName="CandidateWrapper";const $w=h.memo(()=>{const{activeNode:t}=ye(c=>c),e=nn(c=>c.simulation),n=h.useRef([""]),[r,i]=h.useState(0),s={x:(t==null?void 0:t.fx)||0,y:(t==null?void 0:t.fy)||0,z:(t==null?void 0:t.fz)||0},o=200,a=c=>{n.current=n.current.filter(l=>l!==c),i(r+1)};return v.jsx(v.Fragment,{children:e.nodes().slice(-5).filter(c=>c.fx===void 0||n.current.some(l=>l===c.ref_id)).map((c,l,u)=>{const d=c.fx||s.x+Math.cos(0)*o,p=c.fy||s.y+Math.sin(0)*o,y=c.fz||s.z;return n.current.includes(c.ref_id)||n.current.push(c.ref_id),v.jsx(Sd,{isFixed:typeof c.fx=="number",isLast:l===u.length-1,iX:s.x,iY:s.y,iZ:s.z,node:c,onRemove:a,x:d,y:p,z:y},c.ref_id)})})});$w.displayName="Candidates";const Pw=(t,e,n,r,i)=>{const s=new ka,o=1e-5;s.absarc(o,o,o,-Math.PI/2,-Math.PI,!0),s.absarc(o,e-r*2,o,Math.PI,Math.PI/2,!0),s.absarc(t-r*2,e-r*2,o,Math.PI/2,0,!0),s.absarc(t-r*2,o,o,0,-Math.PI/2,!0);const a=new ep(s,{depth:n-r*2,bevelEnabled:!0,bevelSegments:i,steps:2,bevelSize:r,bevelThickness:r,curveSegments:i});a.center();const c=[],l=a.getAttribute("normal"),u=a.getAttribute("position");for(let f=0;f<u.count;f+=1){const d=new he(l.getX(f),l.getY(f),l.getZ(f)),p=new he(u.getX(f),u.getY(f),u.getZ(f));let y=0,m=0;Math.abs(d.y)>.9?(y=p.x/t+.5,m=1-(p.z/n+.5)):Math.abs(d.x)>.9?(y=-p.z/n+.5,m=1-(-p.y/e+.5)):Math.abs(d.z)>.9&&(y=p.x/t+.5,m=1-(-p.y/e+.5)),c.push(y,m)}return a.setAttribute("uv",new es(c,2)),a};Pw(10,10,10,2,10);new Jh(10,10,10);const je=20,cu="#23252F",Rw=(t,e)=>{const n=e/2,r=new ka;return r.moveTo(-t/2+n,-n),r.lineTo(t/2-n,-n),r.absarc(t/2-n,0,n,-Math.PI/2,Math.PI/2,!1),r.lineTo(-t/2+n,n),r.absarc(-t/2+n,0,n,Math.PI/2,-Math.PI/2,!1),new tp(r,64)},Aw=Rw(je*3,je+1),Dw=new Mu(je/2+1,64);function lu(t,e){let n=t[0]==="#"?t.slice(1):t;n.length===3&&(n=n.split("").map(c=>c+c).join(""));const r=parseInt(n,16),i=Math.round(2.55*e);let s=(r>>16)+i,o=(r>>8&255)+i,a=(r&255)+i;return s=Math.min(255,Math.max(0,s)),o=Math.min(255,Math.max(0,o)),a=Math.min(255,Math.max(0,a)),`#${((1<<24)+(s<<16)+(o<<8)+a).toString(16).slice(1).toUpperCase()}`}function Mw(t,e,n=10){const r=[];for(let i=e;i>=1;i-=1)r.push(lu(t,i*n));r.push(t.toUpperCase());for(let i=1;i<=e;i+=1)r.push(lu(t,-i*n));return r}const Od=h.memo(({color:t,node:e,scale:n})=>{const r=h.useRef(null),i=h.useRef(null),s=Mw(t,3,10);return v.jsxs(Gn,{ref:r,follow:!0,lockX:!1,lockY:!1,lockZ:!1,name:"group-name",visible:!1,children:[v.jsxs("mesh",{ref:i,name:"instance-helper",userData:e,children:[v.jsx("sphereGeometry",{args:[je/2,16,16]}),v.jsx("meshBasicMaterial",{color:"white",opacity:1,transparent:!1})]}),v.jsx(Zu,{color:s.at(3),name:"instance",scale:n})]})});Od.displayName="Point";const jw=["#fff","#9747FF","#00887A","#0098A6","#0288D1","#33691E","#465A65","#512DA7","#5C6BC0","#5D4038","#662C00","#689F39","#6B1B00","#750000","#78909C","#7E57C2","#8C6E63","#AA47BC","#BF360C","#C2175B","#EC407A","#EF6C00","#F5511E","#FF9696","#FFC064","#FFCD29","#FFEA60"],zw=()=>{const t=Cn(),e=Ue(a=>a.dataInitial),{normalizedSchemasByType:n}=yt(a=>a),r=ku(),i=Ue(a=>a.nodesNormalized),s=Eu(a=>a.scaleFeature),o=h.useMemo(()=>new Mu(je/2,64),[]);return v.jsxs(bm,{geometry:o,limit:1e3,range:1e3,visible:!t||!0,children:[v.jsx("meshBasicMaterial",{}),e==null?void 0:e.nodes.map((a,c)=>{var m,g;const l=i.get(a.ref_id),u=c||(l==null?void 0:l.weight)||((m=l==null?void 0:l.properties)==null?void 0:m.weight)||1,f=Math.cbrt(u),d=Number(f.toFixed(0)),y=((g=n[a.node_type])==null?void 0:g.secondary_color)??(jw[r.indexOf(a.node_type)]||K.white);return v.jsx(Od,{color:y,node:a,scale:s?d:1},a.ref_id)})]})},Iw=h.memo(zw),$d=t=>{const e=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return t.replace(e,n=>/^[\d*#]$/.test(n)?n:"")};function Ps(t){return t.replace(/^(?:@\w+\s+)+/,"").trim()}const Lw=je/10,Pd=h.forwardRef(({color:t},e)=>v.jsx("mesh",{ref:e,geometry:Aw,name:"background",children:v.jsx("meshBasicMaterial",{color:t,opacity:.95,transparent:!0})}));Pd.displayName="RoundedRect";const Nw=({text:t,id:e},n)=>{const r=h.useRef(null),i=h.useRef(null),s=je*2,o=je,a=je/4,c=je/2;return v.jsxs("group",{ref:n,name:"background-wrapper",children:[v.jsxs("mesh",{name:"evt-handle",position:[s/2-1.5,0,-2],children:[v.jsxs("mesh",{name:"background",position:[0,0,2],userData:{ref_id:e},children:[v.jsx("boxGeometry",{args:[s,o,1]}),v.jsx("meshBasicMaterial",{color:"yellow",depthWrite:!1,opacity:0,transparent:!0})]}),v.jsx(Pd,{ref:i,color:"#23252F"})]}),v.jsx(Ds,{ref:r,color:"white",position:[c+a,0,1],...Ms,anchorX:"left",fontSize:Lw,maxWidth:je,name:"text",children:t})]})},Rd=h.memo(h.forwardRef(Nw));Rd.displayName="TextWithBackground";const Ad=h.memo(t=>{var g,b,w;const{node:e,hide:n,scale:r}=t,i=h.useRef(null),s=h.useRef(null),[o,a]=h.useState(null),c=h.useRef(null),{normalizedSchemasByType:l,getNodeKeysByType:u}=yt(E=>E),f=u(e.node_type)||"",d=f&&(e!=null&&e.properties)?Ps($d(String((e==null?void 0:e.properties[f])||""))):Ps(e.name||"");h.useEffect(()=>{var x;if(!((x=e==null?void 0:e.properties)!=null&&x.image_url))return;new zs().load(e.properties.image_url,a,void 0,()=>{var _;return console.error(`Failed to load texture: ${(_=e==null?void 0:e.properties)==null?void 0:_.image_url}`)})},[(g=e==null?void 0:e.properties)==null?void 0:g.image_url]);const p=(b=l[e.node_type])==null?void 0:b.icon,m=(p?js[p]:null)?p:"NodesIcon";return v.jsx(Gn,{follow:!0,lockX:!1,lockY:!1,lockZ:!1,name:"billboard",userData:e,children:v.jsxs("mesh",{ref:s,name:e.ref_id,position:[0,0,1],scale:r,userData:e,visible:!n,children:[(w=e==null?void 0:e.properties)!=null&&w.image_url&&o?v.jsx("mesh",{geometry:Dw,children:v.jsx("meshBasicMaterial",{map:o})}):v.jsx(pm,{ref:i,name:"svg",onUpdate:E=>{E.traverse(x=>{x instanceof Du&&(x.material=new np({color:"rgba(255, 255, 255, 0.5)"}))})},position:[-je/4,je/4,1],scale:je/30,src:`/svg-icons/${m}.svg`,userData:e}),d&&v.jsx(Rd,{ref:c,id:e.ref_id,text:mr(d,150)})]})})},(t,e)=>t.hide===e.hide&&t.scale===e.scale&&t.node.ref_id===e.node.ref_id&&t.scale===e.scale);Ad.displayName="TextNode";const Dd=h.memo(t=>{const{node:e,isFixed:n,scale:r}=t;return v.jsx("mesh",{name:"wr2",userData:e,children:v.jsx("mesh",{name:"text-node-wrapper",visible:n,children:v.jsx(Ad,{node:e,scale:r},e.ref_id)})},e.ref_id)},(t,e)=>t.isFixed===e.isFixed&&t.scale===e.scale);Dd.displayName="NodeWrapper";const Fw=(t,e=20,n=[[-Math.PI/3,Math.PI/3],[2*Math.PI-Math.PI/3,2*Math.PI]])=>{const r=[],i=2*Math.PI/(t.length*2);for(let s=0;r.length<t.length&&s<2*Math.PI;s+=i)n.some(([a,c])=>a<c?s>=a&&s<=c:s>=a||s<=c)||r.push(s);return t.reduce((s,o,a)=>{const c=r[a%r.length];return s[o.ref_id]={x:e*Math.cos(c),y:e*Math.sin(c),z:0},s},{})};X(ne)`
  text-align: center;
  width: ${t=>t.type==="topic"?"auto":`${t.size}px`};
  height: ${t=>t.type==="topic"?"auto":`${t.size}px`};
  outline: 1px solid ${t=>K.white};
  outline-offset: 0px;
  background: rgba(0, 0, 0, 0.75);
  color: ${t=>t.fontColor};
  border-radius: ${t=>`${t.type==="guest"?"100%":"6px"}`};
  font-size: ${t=>`${t.fontSize}px`};
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  transform: scale(${t=>t.scale});
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 26px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }

  &.selected {
    .badge-wrapper {
      top: 0;
    }

    font-size: 36px;

    &:hover {
      outline-offset: 0px;
    }
  }

  &.topic {
    outline: none;
    background: none;
    &:hover {
      font-size: 36px;
    }
    white-space: nowrap;
    .badge-wrapper {
      display: none;
    }
  }

  .badge-wrapper {
    position: absolute;
    top: -7px;
    left: -14px;
  }
`;const Uw=X(ne)`
  text-align: center;
  /* outline: 1px solid ${K.white}; */
  /* outline-offset: 0px; */
  white-space: nowrap;
  padding: 4px 10px 6px;
  background: #23252f;
  color: ${K.white};
  border-radius: 6px;
  font-size: 20px;
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: flex-start;
  font-family: Barlow;
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  /* text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); */
  max-width: auto;
  max-height: 100px;
  white-space: normal;
  font-size: 16px;
  position: relative;

  &.is-active {
    background: #fff;
    color: #16171d;
  }
`;X.img`
  background-image: ${({src:t})=>`url(${t})`};
  background-size: contain;
  background-repeat: no-repeat;
  width: ${t=>t.size}px;
  height: ${t=>t.size}px;
  border-radius: ${t=>t.borderRadius};
`;X.div`
  display: flex;
  position: absolute;
  bottom: -14px;
  left: -5px;
  width: auto;
  justify-content: center;
  align-items: center;
`;const Bw=X.div`
  display: flex;
  justify-content: center;
  align-items: center;
  background: #2c3f72;
  color: #fff;
  font-size: 8px;
  font-weight: 500;
  position: absolute;
  top: 0;
  right: 0;
  transform: translate(50%, -50%);
  padding: 2px;
  min-width: 16px;
  height: 16px;
  border-radius: 50%;
`,Hw=({position:t,name:e,count:n,onClick:r,isActive:i})=>v.jsx("group",{position:t,children:v.jsx(Rt,{center:!0,distanceFactor:250,sprite:!0,transform:!0,zIndexRange:[0,0],children:v.jsxs(Uw,{className:va({"is-active":i}),direction:"column",onClick:s=>{s.stopPropagation(),r()},onPointerOut:s=>{s.stopPropagation()},onPointerOver:s=>{s.stopPropagation()},children:[e?v.jsx("span",{children:mr(e,20)}):null,v.jsx(Bw,{children:n})]})})}),Md=h.memo(()=>{const{selectedNode:t,setSelectedNodeType:e,selectedNodeType:n}=ye(Tu(l=>l)),r=Ue(l=>l.nodesNormalized),i=h.useCallback(l=>{if(l===n){e("");return}e(l)},[n,e]),s=Su(),[o,a]=h.useMemo(()=>{if(!t)return[[],[]];const l=s.map(w=>r.get(w)).filter(w=>!!w),u=s.map(w=>nh(w,t==null?void 0:t.ref_id));console.log(u);const f=l.reduce((w,E)=>(w[E.node_type]=(w[E.node_type]||0)+1,w),{}),d=Object.keys(f).map(w=>({name:w,ref_id:w})),p=Fw(d,je*5),y=new he(0,0,-1),m=[],g=new he(je*5,0,0),b=[v.jsx("group",{children:v.jsx(li,{color:"white",lineWidth:2,opacity:.5,points:[y,g],transparent:!0})},"line-menu")];return Object.keys(f).forEach(w=>{const E=new he(p[w].x,p[w].y,p[w].z);m.push(v.jsx(Hw,{count:f[w],isActive:n===w,name:w,onClick:()=>i(w),position:E},w)),b.push(v.jsx("group",{children:v.jsx(li,{color:"white",lineWidth:2,opacity:.5,points:[y,E],transparent:!0})},`line-${w}`))}),[m,b]},[t,s,r,n,i]),c=h.useMemo(()=>[(t==null?void 0:t.x)||0,(t==null?void 0:t.y)||0,(t==null?void 0:t.z)||0],[t==null?void 0:t.x,t==null?void 0:t.y,t==null?void 0:t.z]);return v.jsx("group",{children:v.jsxs(Gn,{position:c,children:[o.length?o:null,a,v.jsxs("mesh",{children:[v.jsx("ringGeometry",{args:[je/2+1,je/2+3,64]}),v.jsx("meshBasicMaterial",{color:"white",opacity:.5,side:2,transparent:!0})]})]},"node-badges")})});Md.displayName="RelevanceGroups";const Vw=()=>{const t=ye(d=>d.selectedNode),e=ye(d=>d.selectedNodeType),n=Ue(d=>d.setSelectedTimestamp),r=nn(d=>d.simulation),i=Ut(d=>d.setRelevanceSelected),s=Su(),{navigateToNode:o}=Er(),a=h.useMemo(()=>[(t==null?void 0:t.x)||0,(t==null?void 0:t.y)||0,(t==null?void 0:t.z)||0],[t==null?void 0:t.x,t==null?void 0:t.y,t==null?void 0:t.z]),u=((r==null?void 0:r.nodes())||[]).filter(d=>s.includes((d==null?void 0:d.ref_id)||"")).filter(d=>d.node_type===e),f=h.useCallback(d=>{sp(d),n(d),i(!0),o(d.ref_id)},[n,i,o]);return v.jsx(Gn,{position:a,children:v.jsx("group",{position:[je*5,0,0],children:v.jsx(Rt,{distanceFactor:100,sprite:!0,transform:!0,children:e?v.jsx(Ww,{onScroll:d=>{console.log(d),d.stopPropagation()},onWheel:d=>d.stopPropagation(),children:(u??[]).map(d=>{const p=rh(d),{image_url:y,date:m,boost:g,show_title:b,node_type:w,text:E,source_link:x,name:_,verified:k=!1,twitter_handle:C}=p||{};return w?v.jsx(op,{boostCount:g||0,date:m||0,imageUrl:y||"",name:_||"",node:d,onClick:()=>{f(d)},showTitle:ap(b),sourceLink:x,text:E||"",twitterHandle:C,type:w,verified:k},p.ref_id):null})}):v.jsx(Yw,{onScroll:d=>{console.log(d),d.stopPropagation()},onWheel:d=>d.stopPropagation(),children:v.jsx(cp,{})})})})})},Ww=X.ul`
  color: #fff;
  background: rgba(0, 0, 0, 1);
  width: 390px;
  padding: 12px;
  border-radius: 8px;
  border: 12px solid #15161c;
  list-style: none;
  /* perspective: 800px; */
  backface-visibility: hidden;
  max-height: 400px;
  overflow: auto;
  padding: 0;
`,Yw=X.div`
  color: #fff;
  background: rgba(0, 0, 0, 1);
  width: 390px;
  padding: 12px;
  border-radius: 8px;
  border: 12px solid #15161c;
  list-style: none;
  height: 400px;
  overflow: auto;
  cursor: initial;
`,Gw=(t,e)=>{if(!e||t.date_added_to_graph===void 0)return!1;const n=Ar.unix(t.date_added_to_graph);switch(e){case"last_day":return n.isAfter(Ar().subtract(1,"day"));case"last_week":return n.isAfter(Ar().subtract(1,"week"));case"last_month":return n.isAfter(Ar().subtract(1,"month"));case"last_year":return n.isAfter(Ar().subtract(1,"year"));default:return!0}},Xw=(t,e)=>{var r;if(!e||t.node_type!=="User")return!1;const n=(r=t.properties)==null?void 0:r.followers;if(n===void 0)return!1;switch(e){case"lt_1000":return n<1e3;case"1000_10000":return n>=1e3&&n<=1e4;case"gt_10000":return n>1e4;default:return!0}},uu=100,jd=h.memo(()=>{const t=Cn(),e=Cu(),n=h.useRef(null),r=h.useRef(null),i=h.useRef(null),s=h.useRef(0),o=50,a=h.useRef(null),c=h.useRef(null),{selectionGraphData:l,showSelectionGraph:u,setHoveredNode:f,setIsHovering:d}=ye(N=>N),p=nn(N=>N.simulation),y=Ue(N=>N.dataInitial),m=Ue(N=>N.nodesNormalized),g=Ut(N=>N.setTranscriptOpen),b=Eu(N=>N.scaleFeature),{navigateToNode:w}=Er(),E=n.current,x=r.current,_=1.1,k=1,C=.1;lt(({camera:N})=>{var re,ie;const H=y==null?void 0:y.nodes;if(!x||!E||!H||H.length===0)return;const{searchQuery:B,selectedLinkTypes:F,selectedNodeTypes:W,hoveredNodeSiblings:Q,followersFilter:oe,dateRangeFilter:D}=ye.getState(),z=B||F.length>0||W.length>0||t||oe||D,S=t?m.get(t.ref_id):null,j=S?[...(S==null?void 0:S.targets)||[],...S.sources||[]]:[],Y=s.current*o,M=Math.min(Y+o,H.length),Z=x.children[0].children,ae=E.children;for(let q=Y;q<M;q+=1){const ce=ae[q],J=ce.getObjectByName("background"),ee=ce.getObjectByName("background-wrapper");ee&&!ee.visible&&(ee.visible=!0);const A=ce.userData,$=Z[q];if(z){const se=(e==null?void 0:e.ref_id)===A.ref_id,me=(t==null?void 0:t.ref_id)===A.ref_id,Ee=Q.includes(A.ref_id),$e=j.includes(A.ref_id),tt=Xw(A,oe),te=Gw(A,D),de=se||me||Ee||$e||tt||te,Ne=((re=A.name)==null?void 0:re.toLowerCase())||"",He=B&&Ne.includes(B.toLowerCase()),qe=W.includes(A.node_type),Dt=(ie=A.edgeTypes)==null?void 0:ie.some(Zn=>F.includes(Zn));de||He||qe||Dt?(ce.visible=!0,ce.scale.setScalar(de?1.1:1),J&&(J.visible=!0,J.material.color.set(de&&A.primary_color||cu)),$&&$.scale.set(_,_,_)):(ce.visible=!1,J&&(J.visible=!1),$&&$.scale.set(C,C,C)),me&&ee&&(ee.visible=!1)}else{const me=ce.position.distanceTo(N.position)<1500;ce.visible=me,J&&(J.visible=me),$&&$.scale.set(k,k,k),ce&&ce.scale.setScalar(k)}}s.current=(s.current+1)%Math.ceil(H.length/o)});const T=h.useCallback(N=>(u&&!l.nodes.find(H=>H.ref_id===N.ref_id),!1),[u,l]),O=h.useCallback(N=>{a.current={x:N.clientX,y:N.clientY}},[]),I=h.useCallback(N=>{c.current={x:N.clientX,y:N.clientY}},[]),U=h.useCallback(N=>{if(!N.length)return;if(a.current&&c.current){const B=c.current.x-a.current.x,F=c.current.y-a.current.y;if(Math.hypot(B,F)>5)return}const H=N[0];H!=null&&H.userData&&!T(H.userData)&&(g(!1),w(H.userData.ref_id))},[g,T,w]),R=h.useCallback(N=>{N.stopPropagation(),i.current&&clearTimeout(i.current),e&&(i.current=setTimeout(()=>{d(!1),f(null)},uu))},[d,f,e]),G=h.useCallback(N=>{var F,W;const H=(F=N.intersections[0])==null?void 0:F.object;if(!(H!=null&&H.visible)||!((W=H.userData)!=null&&W.ref_id))return;i.current&&clearTimeout(i.current);const B=m.get(H.userData.ref_id);!B||T(B)||(N.stopPropagation(),i.current=setTimeout(()=>{d(!0),f(B)},uu))},[f,T,d,m]),L=u&&!!t&&!1;return v.jsxs(v.Fragment,{children:[v.jsxs(fm,{filter:N=>N.filter(H=>{var B;return!!((B=H.userData)!=null&&B.ref_id)}),onChange:U,onPointerDown:O,onPointerOut:R,onPointerOver:G,onPointerUp:I,children:[v.jsx("group",{ref:n,name:"simulation-3d-group__nodes",visible:!L,children:y==null?void 0:y.nodes.map((N,H)=>{var D;p.nodes()[H];const B=!0,F=m.get(N.ref_id),W=H||(F==null?void 0:F.weight)||((D=F==null?void 0:F.properties)==null?void 0:D.weight)||1,Q=Math.cbrt(W),oe=Number(Q.toFixed(1));return F?v.jsx(Dd,{isFixed:B,node:F,scale:b?oe:1},N.ref_id):null})}),v.jsx("group",{ref:r,name:"simulation-3d-group__node-points",children:v.jsx(Iw,{})})]}),!1,t&&v.jsx(Md,{}),t&&v.jsx(Vw,{})]})});jd.displayName="Cubes";const Kw={earthRef:null},Zw=bu(t=>({...Kw,setEarthRef:e=>t({earthRef:e})})),Zi=1800,qw=new he(0,0,0),Qw=()=>{const t=h.useRef(null),e=h.useRef(null),{graphStyle:n,showSelectionGraph:r}=ye(a=>a),i=Zw(a=>a.setEarthRef),s=In("textures/earth/galaxy.png"),o=In("textures/earth/clouds.png");return lt(({camera:a})=>{e.current&&e.current.position.copy(a.getWorldPosition(qw))}),h.useLayoutEffect(()=>{t.current&&i(t)},[i]),n!=="earth"||r?null:v.jsxs(v.Fragment,{children:[v.jsxs("mesh",{ref:t,userData:{type:"earth"},children:[v.jsx("sphereGeometry",{args:[Zi,200,200]}),v.jsx(Jw,{})]}),v.jsxs("mesh",{children:[v.jsx("sphereGeometry",{args:[Zi+2,200,200]}),v.jsx("meshStandardMaterial",{alphaMap:o,map:o,transparent:!0})]}),v.jsxs("mesh",{children:[v.jsx("sphereGeometry",{args:[Zi*4,200,200]}),v.jsx("meshStandardMaterial",{map:s,opacity:.4,side:Po,transparent:!0})]}),v.jsx("directionalLight",{ref:e,intensity:.9,position:[0,0,Zi*3]})]})},Jw=()=>{const t=In("textures/earth/earth.jpeg"),e=In("textures/earth/bump.jpeg"),n=In("textures/earth/water.png"),r=h.useMemo(()=>new rp({map:t,bumpMap:e,aoMap:e,roughnessMap:e,metalnessMap:n,toneMapped:!0,roughness:35,metalness:0}),[t,e,n]);return v.jsx("meshStandardMaterial",{...r})},cr=je*3,ek=({node:t})=>{var d,p;const e=h.useRef(null),[n,r]=h.useState(1e3),{normalizedSchemasByType:i,getNodeKeysByType:s}=yt(y=>y),o=s(t.node_type)||"";h.useLayoutEffect(()=>{if(e.current){tn.to(e.current.position,{x:t.x,y:t.y,z:t.z,duration:1,ease:"power3.out"});const y={value:n};tn.to(y,{value:100,duration:1.5,ease:"power2.inOut",onUpdate:()=>{r(y.value)}})}},[t.x,t.y,t.z]);const a=o&&(t!=null&&t.properties)?Ps($d(String((t==null?void 0:t.properties[o])||""))):Ps(t.name||""),c=(d=i[t.node_type])==null?void 0:d.icon,l=c?js[c]:null,f=((p=i[t.node_type])==null?void 0:p.secondary_color)||K.white;return n>300?v.jsx("mesh",{ref:e,visible:!1,children:v.jsx(Gn,{children:v.jsx(Rt,{distanceFactor:n,transform:!0,visible:!1,children:v.jsxs(tk,{children:[v.jsx(nk,{className:"icon",color:f,children:l&&v.jsx(l,{})}),v.jsx("div",{className:"content",children:v.jsx("span",{children:a})})]})})})},t.ref_id):null},tk=X(ne)`
  width: ${cr*3}px;
  height: ${cr}px;
  background: #23252f;
  border-radius: ${cr}px;
  color: white;
  flex-direction: row;

  .content {
    height: ${cr}px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0 10px;
    font-size: 12px;
    white-space: nowrap;
    text-align: left;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-grow: 1;
    min-width: 0;

    span {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      display: block;
      width: 100%;
    }
  }
`,nk=X(ne)`
  width: ${cr}px;
  height: ${cr}px;
  border-radius: 50%;
  background-color: ${({color:t})=>t};
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
`,rk=()=>{const t=nn(n=>n.simulation),e=h.useRef(null);return v.jsx("group",{ref:e,children:t.nodes().slice(-5).map(n=>v.jsx(ek,{node:n},n.ref_id))})},ik=({layer:t,index:e})=>{var d;const n=h.useRef(null),r=h.useRef(null),{camera:i}=Ae(),s=ye(p=>p.setIsolatedView),o=ye(p=>p.isolatedView),{normalizedSchemasByType:a}=yt(p=>p),c=(d=a[t])==null?void 0:d.secondary_color,{open:l}=Jt("claim"),u=Math.floor(e/2)*500,f=e%2===0?u:-u;return lt(()=>{const y=new he(5,f/500,-10).clone().applyMatrix4(i.matrixWorld);n.current.position.copy(y),n.current.quaternion.copy(i.quaternion);const m=n.current.worldToLocal(new he(0,f,0)),g=new he(-.5,-.5,.5),b=[g,new he(.5,-.5,.5),m,g];if(r.current){const w=new Au().setFromPoints(b);r.current.geometry.dispose(),r.current.geometry=w}}),v.jsxs("mesh",{ref:n,children:[v.jsx("lineSegments",{ref:r,children:v.jsx("lineBasicMaterial",{color:c||"white",opacity:.5,transparent:!0})}),v.jsx(Ds,{...Ms,fontSize:.2,onClick:p=>{p.stopPropagation(),o!==t?(l(),s(t)):s("")},children:t})]})},sk=()=>{const t=Ue(e=>e.nodeTypes);return v.jsx("group",{children:t.map((e,n)=>v.jsx(ik,{index:n+1,layer:e},e))})},ok="C",ak=256,ck=256,lk={g:"LottieFiles AE 0.1.20"},uk=[{ty:0,nm:"I",sr:1,st:0,op:26,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_0",ind:1},{ty:0,nm:"I",sr:1,st:26,op:52,ip:26,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_1",ind:2},{ty:0,nm:"I",sr:1,st:52,op:78,ip:52,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_2",ind:3},{ty:0,nm:"I",sr:1,st:78,op:108,ip:78,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_3",ind:4}],fk="5.5.7",dk=60,hk=104,pk=0,mk=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"I",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.656,.016],[0,20],[-34.641,0],[.016,-19.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,10],[17.321,30],[17.321,-10],[51.962,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,-9.984],[17.32,10],[17.32,-30],[-17.32,-50.016]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,30],[17.32,50],[17.305,10],[-17.32,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,10],[-51.962,30],[-51.962,-10],[-17.321,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,20],[-34.641,0],[0,-20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:1}]},{nm:"",id:"comp_1",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:33,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:35,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:31,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:34,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:11,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:12,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:13,parent:1}]},{nm:"",id:"comp_2",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,.031],[.047,-19.969],[34.652,.031],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,30],[-51.962,10],[-51.962,-30],[-17.321,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,50],[17.32,30],[17.336,-10],[-17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,0],[.015,-20],[34.656,0],[.012,20.062]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1}]},{nm:"",id:"comp_3",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.015,60.016],[-34.642,40],[-34.641,0],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-29.984],[17.348,10],[-17.305,30],[-17.305,-9.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,-20],[0,-60.016],[34.641,-40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1}]}],gk={nm:ok,h:ak,w:ck,meta:lk,layers:uk,v:fk,fr:dk,op:hk,ip:pk,assets:mk},yk=({meshId:t})=>{const e=h.useRef(null);return h.useEffect(()=>{const n=document.getElementById(`lottie-animation-${t}`);return n&&(e.current=ih.loadAnimation({container:n,animationData:gk,loop:!0,autoplay:!0})),()=>{e.current&&e.current.destroy()}},[t]),v.jsx("div",{id:`lottie-animation-${t}`,style:{width:"2em",height:"2em"}})},To=()=>Math.floor(Math.random()*2001)-1e3,_k=()=>v.jsx(v.Fragment,{children:["a","b","c"].map(t=>{const e=To(),n=To(),r=To();return v.jsx("mesh",{position:[e,n,r],children:v.jsx(Rt,{center:!0,sprite:!0,children:v.jsx(xk,{children:v.jsx(yk,{meshId:t})})})},t)})}),xk=X.div`
  border: 2px solid white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
`,vk=()=>{const[t,e]=h.useState(null);console.log(t);const n=ye(l=>l.neighbourhoods),r=h.useMemo(()=>wh(n,3e3),[n]),i=nn(l=>l.simulation),s=nn(l=>l.simulationInProgress),o=Ln(l=>l.cameraControlsRef),a=h.useMemo(()=>s?{}:(i==null?void 0:i.nodes().reduce((l,u)=>(u.neighbourHood&&(l[u.neighbourHood]=[...l[u.neighbourHood]||[],{x:u.x,y:u.y,z:u.z}]),l),{}))||{},[i,s]),c=(l,u,f)=>{const d=f.length()*1.5,p=new he(1,1,1).normalize(),y=new he().copy(u).addScaledVector(p,d);o==null||o.setLookAt(y.x,y.y,y.z,u.x,u.y,u.z,!0),e(l)};return v.jsx("group",{children:Object.entries(a).map(([l,u])=>{var x;const f=r[l],d=((x=n.find(_=>_.ref_id===l))==null?void 0:x.name)||l;if(!f||u.length===0)return null;const p=u.map(_=>new he(_.x,_.y,_.z)),y=new Ca().setFromPoints(p),m=new he,g=new he;y.getSize(m),y.getCenter(g);const b=m.x+je,w=m.y+je,E=m.z+je;return v.jsx(Gn,{position:g.toArray(),children:v.jsxs("mesh",{children:[v.jsx("boxGeometry",{args:[b,w,E]}),v.jsx("meshBasicMaterial",{color:"orange",opacity:.1,transparent:!0}),v.jsx(hm,{color:"#8c6a97"}),v.jsx(Rt,{center:!0,children:v.jsx("div",{onClick:()=>c(l,g,m),onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&c(l,g,m)},role:"button",style:{color:"white",background:"rgba(0, 0, 0, 0.7)",borderRadius:"6px",boxShadow:"0 0 8px rgba(0,0,0,0.5)",fontWeight:"600",fontSize:"10px",border:"1px solid white",width:"100px",wordBreak:"break-word",padding:"5px",textAlign:"center",cursor:"pointer"},tabIndex:0,children:d})})]})},l)})})},zd=({name:t,isRoot:e,radius:n})=>v.jsx(bk,{className:e?"root":"",radius:n,children:v.jsx("span",{children:t})}),bk=X(ne)`
  pointer-events: none;
  font-size: ${t=>t.className==="root"?"12px":"8px"};
  font-weight: ${t=>t.className==="root"?600:400};
  border-radius: ${t=>t.className==="root"?"5px":"10px"};
  border: ${t=>t.className==="root"?"2px solid #3da9ff":"1px solid #fff"};
  width: ${t=>`${t.radius}px`};
  height: ${t=>`${t.radius}px`};
  text-align: center;
  color: #eaeaea;
  background-color: ${t=>t.className==="root"?"transparent":"rgba(53, 58, 70, 0.6)"};
  display: flex;
  align-items: center;
  justify-content: center;
`,zn=120,Id=({name:t,imageUrl:e})=>v.jsxs(wk,{children:[v.jsx(kk,{className:"icon",children:v.jsx(sh,{rounded:!0,size:zn/3,src:e,type:"user"})}),v.jsx("div",{className:"content",children:v.jsx("span",{children:t})})]}),wk=X(ne)`
  width: ${zn}px;
  height: ${zn/3}px;
  border-radius: ${zn/3}px;
  color: white;
  flex-direction: row;
  .content {
    height: ${zn/3}px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0 4px;
    font-size: 14px;
    white-space: nowrap;
    text-align: left;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-grow: 1;
    min-width: 0;
    span {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      display: block;
      width: 100%;
    }
  }
`,kk=X(ne)`
  width: ${zn/3}px;
  height: ${zn/3}px;
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  overflow: hidden;
  border: 1px solid white;
`,Ld=h.memo(({radius:t,imageUrl:e,name:n,nodeType:r,isRoot:i=!1,onPointerOver:s=()=>{},onPointerOut:o=()=>{},onClick:a=()=>{}})=>{const c=h.useRef(null),[l,u]=h.useState(!1),f=h.useMemo(()=>new ip(t,24,24),[t]);return lt(()=>{if(!c.current)return;const d=l?1.3:1;c.current.scale.lerp(new he(d,d,d),.1)}),v.jsx("mesh",{ref:c,geometry:f,onPointerOut:()=>{u(!1),o()},onPointerOver:d=>{d.stopPropagation(),u(!0),s()},visible:!1,children:v.jsx(Rt,{center:!0,children:v.jsx(ne,{onClick:a,style:{cursor:"pointer"},children:["User","Person"].includes(r)?v.jsx(Id,{imageUrl:e,name:n}):v.jsx(zd,{isRoot:i,name:n,radius:i?t/3:t})})})})});Ld.displayName="NodeSphere";const Ek=({onClose:t,selectedGroup:e,handleNodeClick:n})=>{var l;const{getNodeKeysByType:r}=yt(u=>u),i=ye(u=>u.setHoveredNode),s=Jr(u=>u.setActiveView),o=Jr(u=>u.rootStoreData),a=h.useMemo(()=>{var d,p;const{nodes:u,links:f}=o||{nodes:[],links:[]};if(!e)return u.filter(y=>y.node_type.endsWith("-root"));if(e.node_type==="Chapter"){const{dataInitial:y}=Ue.getState();if((d=e.properties)!=null&&d.timestamp){const m=Ou((p=e.properties)==null?void 0:p.timestamp);return(y==null?void 0:y.nodes.filter(g=>g.start&&g.start<=m))||[]}return[]}return u.filter(y=>f.some(m=>m.source===e.ref_id&&m.target===y.ref_id))},[o,e]),c=(u,f)=>{u.stopPropagation(),n(f)};return v.jsx("mesh",{children:v.jsxs(Rt,{style:{perspective:"500px"},children:[e?null:v.jsx(Sk,{color:"primary",onClick:()=>s("graph"),children:v.jsx(Dh,{})}),v.jsxs(Ck,{onWheel:u=>{u.stopPropagation()},children:[e?v.jsx(v.Fragment,{children:v.jsxs(Ok,{align:"flex-start",direction:"row",justify:"flex-start",children:[v.jsx(Tk,{color:"primary",onClick:t,children:v.jsx(Mh,{})}),v.jsx("span",{children:(l=e.properties)==null?void 0:l.name})]})}):null,a.map(u=>{var b;const f=r(u.node_type)||"",d=u.node_type,p=((b=u==null?void 0:u.properties)==null?void 0:b.image_url)||"",y=f&&(u!=null&&u.properties)?String((u==null?void 0:u.properties[f])||""):u.name||"",m=y.length>100?`${y.slice(0,100)}...`:y,g=u.node_type.endsWith("-root");return v.jsx(ne,{onClick:w=>c(w,u),onMouseEnter:()=>i(u),onMouseLeave:()=>i(null),style:{cursor:"pointer"},children:["User","Person"].includes(d)?v.jsx(Id,{imageUrl:p,name:m}):v.jsx(zd,{isRoot:!!g,name:m,radius:g?60:90})},u.ref_id)})]})]})})},Ck=X(ne)`
  width: 100%;
  height: 100%;
  /* background-color: rgba(163, 40, 40, 0.368); */
  color: white;
  gap: 16px;
  padding: 10px;
  max-height: 400px;
  overflow: auto;
  transform-style: preserve-3d;
  transform: rotateY(25deg);
`,Tk=X(ne)`
  color: white;
  font-size: 20px;
  width: 20px;
  height: 20px;
  cursor: pointer;
  z-index: 1;
  background-color: ${K.DROPDOWN_BG};
  border-radius: 4px;
  margin-right: 4px;
`,Sk=X(ne)`
  color: white;
  font-size: 30px;
  width: 20px;
  height: 20px;
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  z-index: 1;
`,Ok=X(ne)`
  position: sticky;
  left: 20px;
  right: 4px;
`,lr=90,fu=10,qi=t=>t.ref_id.endsWith("-root")?lr*2:lr,$k=()=>{const t=Jr(_=>_.rootStoreData),e=Jr(_=>_.activeView),n=Jr(_=>_.setActiveView),{nodes:r,links:i}=t||{nodes:[],links:[]},s=ye(_=>_.setHoveredNode),{navigateToNode:o}=Er(),[a,c]=h.useState(null),[l,u]=h.useState(new Set),{playerRef:f}=kh(_=>_),{size:d}=Ae(),p=h.useRef(new Map),y=h.useRef(null),m=h.useRef(null),{getNodeKeysByType:g}=yt(_=>_),b=(_,k,C)=>Math.max(k,Math.min(C,_));h.useEffect(()=>{const _=r.map(T=>({...T})),k=i.map(T=>({...T,source:typeof T.source=="string"?T.source:T.source.ref_id,target:typeof T.target=="string"?T.target:T.target.ref_id})),C=Eh(_).stop().alphaTarget(.05).force("center",Ch(0,0).strength(1)).force("charge",Th().strength(-10)).force("collision",Sh().radius(T=>qi(T)+fu).strength(1)).force("link",Oh().links(k).id(T=>T.ref_id).distance(T=>qi(T.source)+qi(T.target)+fu).strength(1)).alpha(1).restart();y.current=C},[r,i]),lt(({size:_})=>{const k=y.current;!k||e==="list"||k.nodes().forEach((C,T)=>{C.x=b(C.x,-_.width+lr,_.width-lr),C.y=b(C.y,-_.height+lr,_.height-lr);const O=new he(C.x,C.y,C.z);p.current.set(C.ref_id,O),m.current.children[T]&&m.current.children[T].position.set(O.x,O.y,O.z)})});const w=h.useCallback(_=>{const k=Array.isArray(_)?_[0]:_;f&&f.seekTo(k,"seconds")},[f]),E=_=>{var k,C;if(y.current){if(n("list"),_!=null&&_.node_type.endsWith("-root")){c(_);return}if(_.node_type==="Chapter"){if(c(_),(k=_.properties)!=null&&k.timestamp&&f){const T=Ou((C=_.properties)==null?void 0:C.timestamp);w(T)}return}o(_.ref_id)}},x=()=>{if(!y.current||!a)return;const _=y.current;c(null),u(new Set),_.alpha(1).restart()};return v.jsxs(dm,{depth:1e3,children:[e==="list"&&v.jsx("group",{position:[-d.width-100,d.height-100,0],children:v.jsx(Ek,{handleNodeClick:E,onClose:x,selectedGroup:a})}),e==="graph"&&v.jsxs("group",{children:[v.jsxs("mesh",{onWheel:_=>{_.stopPropagation()},children:[v.jsx("planeGeometry",{args:[d.width*2,d.height*2,100]}),v.jsx("meshBasicMaterial",{color:"black",opacity:.1,transparent:!0})]}),v.jsx("group",{children:i.map(_=>{const k=_.source,C=_.target;if(!(!a||a.ref_id===k||a.ref_id===C))return null;const O=p.current.get(k),I=p.current.get(C);return!O||!I?null:v.jsx(li,{color:_.edge_type==="chapter"?"#888":"#fff",lineWidth:1,opacity:.5,points:[O,I],transparent:!0,visible:!1},`${k}-${C}`)})}),v.jsx("group",{ref:m,children:r.map(_=>{var R;if(!(!a||_.ref_id===a.ref_id||l.has(_.ref_id)))return null;const C=g(_.node_type)||"",T=((R=_==null?void 0:_.properties)==null?void 0:R.image_url)||"",O=C&&(_!=null&&_.properties)?String((_==null?void 0:_.properties[C])||""):_.name||"",I=O.length>100?`${O.slice(0,100)}...`:O,U=p.current.get(_.ref_id);return U?v.jsx("mesh",{position:U,children:v.jsx(Ld,{imageUrl:T,isRoot:_.ref_id.endsWith("-root"),name:I,nodeType:_.node_type,onClick:()=>E(_),onPointerOut:()=>s(null),onPointerOver:()=>!_.ref_id.endsWith("-root")&&s(_),radius:qi(_)})},_.ref_id):null})})]})]})},Pk=async t=>{const e=`/git/analyze?git_repository=${t}&analysis=["coverage"]`;return await oh.get(e)},Kr=t=>({close:{backgroundColor:"rgba(48, 51, 66, 1)",borderColor:"#fff",fontColor:"rgba(255, 255, 255, 1)"},focus:{backgroundColor:t?"rgba(255, 255, 255, 0.90);":"rgba(255, 255, 255, 0.90)",borderColor:t?"#FFDB58bb":"#fff",fontColor:"rgba(48, 51, 66, 1)"},menu:{backgroundColor:"#00000066",borderColor:t?"#ffffff66":"#5078f2",fontColor:t?"#ffffff66":"#fff"}}),Rk=new he,Nd=h.memo(()=>{var F;const t=h.useRef(null),e=Ut(W=>W.setSidebarOpen),{normalizedSchemasByType:n,setSelectedActionDetail:r}=yt(W=>W),[i,s]=P.useState(null),[o,a]=h.useState([]),[c,l]=h.useState(!1),{open:u}=Jt("editNodeName"),{open:f}=Jt("nodeAction"),{open:d}=Jt("addEdgeToNode"),{open:p}=Jt("mergeToNode"),[y]=Rs(W=>[W.isAdmin]),{addNewNode:m}=Ue(W=>W),g=Cn(),{showSelectionGraph:b,selectionGraphData:w,setShowSelectionGraph:E}=ye(W=>W),{navigateToNode:x}=Er(),_=lp(),k=g==null?void 0:g.node_type;let C;n&&n[k]&&n[k].action&&(C=n[k].action);const T=h.useCallback(async()=>{try{if(g!=null&&g.ref_id){const W=await xa(g==null?void 0:g.ref_id,w.nodes.length||0);W&&m(W)}}catch(W){console.error(W)}},[m,g==null?void 0:g.ref_id,w.nodes.length]);lt(()=>{O()});const O=h.useCallback(()=>{const W=b?w:_;if(t.current){const Q=W==null?void 0:W.nodes.find(oe=>oe.ref_id===(g==null?void 0:g.ref_id));if(Q){const oe=Rk.set(Q==null?void 0:Q.x,Q==null?void 0:Q.y,Q==null?void 0:Q.z);t.current.position.copy(oe)}}},[g,b,w,_]),I=h.useMemo(()=>{const W=y?[{key:"control-key-1",colors:Kr(b).focus,icon:v.jsx(Pu,{}),left:-80,className:"add",onClick:oe=>{s(oe.currentTarget),C&&C.length>0&&U(C)}},{key:"control-key-2",colors:Kr(b).focus,icon:v.jsx(Ru,{}),left:-40,className:"edit",onClick:()=>{u()}}]:[],Q=[{key:"control-key-4",colors:Kr(b).focus,icon:v.jsx(ah,{}),left:0,className:"expand",onClick:()=>{const oe=!b;E(oe),oe&&e(!0)}},{key:"control-key-5",colors:Kr(!0).close,icon:v.jsx(os,{}),left:40,className:"exit",onClick:()=>{T()}},{key:"control-key-6",colors:Kr(!0).close,icon:v.jsx(ch,{}),left:40,className:"exit",onClick:()=>{E(!1),x(null)}}];return[...W,...Q].map((oe,D)=>({...oe,left:-80+D*40}))},[y,b,u,E,e,T,x,C]);async function U(W){l(!0),a([]);try{const Q=await zu(W);a(Q.actions)}catch(Q){console.error(Q)}finally{l(!1)}}if(!g)return null;const R=()=>{s(null)},G=async W=>{try{await Pk(W)}catch(Q){console.error("error during test coverage analysis:",Q)}},L=W=>{r(W),f(),R()},N=!!i,H=N?"simple-popover":void 0,B=((F=g==null?void 0:g.node_type)==null?void 0:F.toLowerCase())==="repository";return v.jsx("group",{ref:t,position:[g.x,g.y,g.z],children:v.jsxs(Rt,{center:!0,className:"control-panel",onClick:W=>W.stopPropagation(),onKeyDown:W=>W.stopPropagation(),onPointerDown:W=>W.stopPropagation(),onPointerOut:W=>W.stopPropagation(),onPointerOver:W=>W.stopPropagation(),onPointerUp:W=>W.stopPropagation(),sprite:!0,zIndexRange:[16777271,16777272],children:[I.map(W=>v.jsx(Ak,{backgroundColor:W.colors.backgroundColor,borderColor:W.colors.borderColor,className:W.className,fontColor:W.colors.fontColor,left:W.left,onClick:Q=>{Q.stopPropagation(),W.onClick(Q)},children:W.icon},W.key)),v.jsx(Dk,{anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:H,onClose:R,open:N,transformOrigin:{vertical:"top",horizontal:"right"},children:B?v.jsx(v.Fragment,{children:v.jsxs(Zr,{"data-testid":"generate_tests",onClick:()=>{var W,Q;(W=g==null?void 0:g.properties)!=null&&W.name&&G((Q=g==null?void 0:g.properties)==null?void 0:Q.name),R()},children:[v.jsx(Mk,{children:v.jsx(gc,{"data-testid":"AddCircleIcon"})}),"Analyze Test Coverage"]})}):v.jsx(v.Fragment,{children:C&&C.length>0?v.jsxs(v.Fragment,{children:[c&&v.jsx(Zr,{children:v.jsx(jk,{mb:10,mt:10,children:v.jsx(Ta,{color:K.lightGray,size:25})})}),o.map(W=>v.jsx(Zr,{"data-testid":W.name,onClick:()=>{L(W)},children:W.display_name},W.name))]}):v.jsxs(v.Fragment,{children:[v.jsxs(Zr,{"data-testid":"merge",onClick:()=>{p(),R()},children:[v.jsx(jh,{"data-testid":"MergeIcon"})," Merge"]}),v.jsxs(Zr,{"data-testid":"add_edge",onClick:()=>{d(),R()},children:[v.jsx(gc,{"data-testid":"AddCircleIcon"}),"Add edge"]})]})})})]})})});Nd.displayName="NodeControls";const Ak=X.div`
  position: fixed;
  top: -60px;
  left: ${t=>-7+t.left}px;
  width: 24px;
  height: 24px;

  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${t=>t.backgroundColor?t.backgroundColor:"#000000bb"};
  color: ${t=>t.fontColor?t.fontColor:"#ffffff"};
  border-radius: 100%;
  font-size: 16px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
`,Zr=X(ne).attrs({direction:"row",px:12,py:8})`
  display: flex;
  align-items: center;
  justify-content: start;
  gap: 12px;
  cursor: pointer;
  background: ${K.BUTTON1};
  color: ${K.white};

  &:hover {
    background: ${K.BUTTON1_HOVER};
    color: ${K.GRAY3};
  }
`,Dk=X(wa)`
  && {
    z-index: 9999;
  }
  .MuiPaper-root {
    min-width: 149px;
    color: ${K.GRAY3};
    box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    z-index: 1;
    font-family: Barlow;
    font-size: 14px;
    font-weight: 500;
    background-color: transparent !important;
    margin: 2px;
  }
`,Mk=X.div`
  display: flex;
  align-items: center;
  justify-content: start;

  svg {
    margin-top: 1px;
    width: 12px;
    height: 12px;
  }
`,jk=X(ne)`
  justify-content: center;
  align-items: center;
  width: 100%;
`,Fd=h.memo(()=>v.jsx(v.Fragment,{children:v.jsx(Nd,{})}));Fd.displayName="NodeDetailsPanel";const du=t=>{const e=new Ca().setFromObject(t),n=new Ea;return e.getBoundingSphere(n),n.radius},zk=()=>{const{dataInitial:t,isLoadingNew:e,isFetching:n,dataNew:r,resetDataNew:i}=Ue(T=>T),s=h.useRef(null),{normalizedSchemasByType:o}=yt(T=>T),a=h.useRef(0);a2(),kf({useClustering:!1});const c=h.useRef(new Map),l=h.useRef(new Map),{graphStyle:u,setGraphRadius:f,neighbourhoods:d}=ye(T=>T),{simulation:p,simulationCreate:y,addClusterForce:m,addNodesAndLinks:g,simulationRestart:b,updateSimulationVersion:w,removeSimulation:E,setForces:x,setSimulationInProgress:_}=nn(T=>T),k=ye(T=>T.highlightNodes),C=ye(T=>T.isolatedView);return c2(),h.useEffect(()=>{k.length&&(m(),b())},[k,m,b]),h.useEffect(()=>{if(!r)return;const T=r.nodes||[],O=r.links||[],I=structuredClone(T),U=structuredClone(O);if(p){const R=lh.isEqual(r,t);g(I,U,R)}p||y(I)},[r,p,y,t,g]),h.useEffect(()=>{},[E]),h.useEffect(()=>{p&&x()},[u,x,p]),h.useEffect(()=>{if(!p||!(s!=null&&s.current))return;const{selectedNode:T}=ye.getState(),O=s.current.getObjectByName("simulation-3d-group__nodes"),I=s.current.getObjectByName("simulation-3d-group__node-points"),U=s.current.getObjectByName("simulation-3d-group__connections");p.on("tick",()=>{if(s!=null&&s.current){if(O&&I){const R=p.nodes(),G=Math.max(O.children.length);for(let L=0;L<G;L+=1){const N=R[L];N&&(O.children[L]&&O.children[L].position.set(N.x,N.y,N.z),I.children[0].children[L]&&I.children[0].children[L].position.set(N.x,N.y,N.z))}}if(c.current.clear(),t==null||t.links.forEach(R=>{const G=l.current.get(R.source)||{x:0,y:0,z:0},L=l.current.get(R.target)||{x:0,y:0,z:0},{x:N,y:H,z:B}=G,{x:F,y:W,z:Q}=L;c.current.set(R.ref_id,{sx:N||0,sy:H||0,sz:B||0,tx:F||0,ty:W||0,tz:Q||0})}),U&&U.children.forEach((R,G)=>{const L=R.children[0],N=R.children[1];if(L instanceof ss){const H=L,B=t==null?void 0:t.links[G];if(B){const F=l.current.get(B.source)||{x:0,y:0,z:0},W=l.current.get(B.target)||{x:0,y:0,z:0};if(!F||!W){console.warn(`Missing source or target node for link: ${B==null?void 0:B.ref_id}`);return}const{x:Q,y:oe,z:D}=F,{x:z,y:S,z:j}=W;c.current.set(B.ref_id,{sx:Q||0,sy:oe||0,sz:D||0,tx:z||0,ty:S||0,tz:j||0}),N.position.set((Q+z)/2,(oe+S)/2,(D+j)/2),H.geometry.setPositions([Q,oe,D,z,S,j]);const{material:Y}=H;Y.transparent=!0,Y.opacity=.3}}}),O){if(T)return;const R=du(O);(a.current===0||Math.abs(a.current-R)>200)&&(f(R),a.current=R)}}}),p.on("end",()=>{if(i(),p.nodes().forEach(R=>{R.fx=R.x,R.fy=R.y,R.fz=R.z||0,l.current.set(R.ref_id,{x:R.x,y:R.y,z:R.z||0})}),s!=null&&s.current){if(O&&I){const R=p.nodes(),G=Math.max(O.children.length,I.children[0].children.length);for(let L=0;L<G;L+=1){const N=R[L];N&&(O.children[L]&&O.children[L].position.set(N.x,N.y,N.z),I.children[0].children[L]&&I.children[0].children[L].position.set(N.x,N.y,N.z))}}if(c.current.clear(),t==null||t.links.forEach(R=>{const G=l.current.get(R.source)||{x:0,y:0,z:0},L=l.current.get(R.target)||{x:0,y:0,z:0},{x:N,y:H,z:B}=G,{x:F,y:W,z:Q}=L;c.current.set(R.ref_id,{sx:N||0,sy:H||0,sz:B||0,tx:F||0,ty:W||0,tz:Q||0})}),U&&U.children.forEach((R,G)=>{const L=R.children[0],N=R.children[1];if(L instanceof ss){const H=L,B=t==null?void 0:t.links[G];if(B){const F=l.current.get(B.source)||{x:0,y:0,z:0},W=l.current.get(B.target)||{x:0,y:0,z:0};if(!F||!W){console.warn(`Missing source or target node for link: ${B==null?void 0:B.ref_id}`);return}const{x:Q,y:oe,z:D}=F,{x:z,y:S,z:j}=W;c.current.set(B.ref_id,{sx:Q||0,sy:oe||0,sz:D||0,tx:z||0,ty:S||0,tz:j||0}),N.position.set((Q+z)/2,(oe+S)/2,(D+j)/2),H.geometry.setPositions([Q,oe,D,z,S,j]);const{material:Y}=H;Y.transparent=!0,Y.opacity=.3}}}),O){if(T)return;const R=du(O);(a.current===0||Math.abs(a.current-R)>200)&&(f(R),a.current=R)}_(!1),w()}})},[t,p,f,o,i,w,_]),p?v.jsxs("group",{ref:s,children:[v.jsxs("group",{visible:!C,children:[v.jsx(jd,{}),u!=="earth"&&v.jsx(Td,{linksPosition:c.current})]}),d!=null&&d.length&&u==="force"?v.jsx(vk,{}):null,!1,v.jsx(Fd,{}),v.jsx($k,{}),u==="split"&&v.jsx(sk,{}),u==="earth"&&v.jsx(Qw,{}),(e||n)&&v.jsx(_k,{}),!1,v.jsx(rk,{}),!1]}):null},Ik=t=>{if(t.length<=8)return[t];if(t.length<=8*2){const i=Math.ceil(t.length/2);return[t.slice(0,i),t.slice(i)]}const r=Math.ceil(t.length/3);return[t.slice(0,r),t.slice(r,r*2),t.slice(r*2)]},Qi=({title:t,types:e,selectedTypes:n,onTypeClick:r,onResetClick:i,getColor:s=()=>K.white})=>{const o=Ik(e),a=o.length>1,c=n.length===0||n.length===e.length;return v.jsx(Fk,{children:v.jsxs(Uk,{needMultipleColumns:a,children:[v.jsxs(hu,{className:c?"is-active":"",onClick:i,children:[v.jsx(mu,{className:c?"is-active":""}),v.jsxs(pu,{className:c?"is-active":"",children:["All ",t]})]}),v.jsx(Lk,{multipleColumns:a,children:o.map((l,u)=>v.jsx(Nk,{children:l.map(f=>{const d=n.includes(f)||c;return v.jsxs(hu,{className:d?"is-active":"",onClick:()=>r(f),children:[v.jsx(mu,{className:d?"is-active":"",style:{background:d?s(f):""}}),v.jsx(pu,{className:d?"is-active":"",children:f})]},f)})},l[u]))})]})})},Lk=X(ne)`
  display: flex;
  flex-direction: ${({multipleColumns:t})=>t?"row":"column"};
  gap: ${({multipleColumns:t})=>t?"40px":"0"};
`,Nk=X.div`
  max-width: 420px;
  min-width: 120px;
`,Fk=X(ne)`
  flex-direction: column;
  gap: 12px;
  border-right: 1px solid black;
  padding: 0px 16px 0px 16px;

  &:last-child {
    border: none;
  }
`,Uk=X(ne)`
  flex-direction: column;
  gap: 8px;
  padding: 16px 0;
  max-height: 300px;
  overflow-y: auto;
`,hu=X(ne)`
  flex-direction: row;
  align-items: center;
  align-self: start;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: all 0.2s ease;
  font-size: 20px;

  &:hover {
    background-color: ${K.INPUT_BG};
  }

  &:active {
    background-color: ${K.SCROLL_BAR};
  }
`,pu=X.span`
  color: ${K.GRAY7};
  font-weight: 500;
  font-family: Barlow;
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 150px;

  &.is-active {
    color: ${K.GRAY3};
    font-weight: 600;
  }
`,mu=X.div`
  width: 12px;
  height: 12px;
  background: ${K.BUTTON1};
  border-radius: 50%;
  margin-right: 8px;
  transition: all 0.3s ease;

  &.is-active {
    background: ${K.white};
  }
`,ma=[{label:"< 1000",value:"lt_1000"},{label:"1000 - 10,000",value:"1000_10000"},{label:"> 10,000",value:"gt_10000"}],Bk=ma.map(t=>t.label),ga=[{label:"Last Day",value:"last_day"},{label:"Last Week",value:"last_week"},{label:"Last Month",value:"last_month"},{label:"Last Year",value:"last_year"}],Hk=ga.map(t=>t.label),Vk=()=>{var R,G;const[t,e]=h.useState(null),n=ku(),r=Ue(L=>L.linkTypes),i=ye(L=>L.selectedNodeTypes),s=ye(L=>L.selectedLinkTypes),o=ye(L=>L.setSelectedNodeTypes),a=ye(L=>L.setSelectedLinkTypes),c=ye(L=>L.resetSelectedNodeTypes),l=ye(L=>L.resetSelectedLinkTypes),[u,f]=ye(L=>[L.followersFilter,L.setFollowersFilter]),[d,p]=ye(L=>[L.dateRangeFilter,L.setDateRangeFilter]),{normalizedSchemasByType:y}=yt(L=>L),g=uh().pathname.includes("/tweet/"),b=u?[((R=ma.find(L=>L.value===u))==null?void 0:R.label)||""]:[],w=d?[((G=ga.find(L=>L.value===d))==null?void 0:G.label)||""]:[],E=L=>{const N=y[L];return(N==null?void 0:N.secondary_color)||K.white},x=L=>{e(L.currentTarget)},_=()=>{e(null)},k=L=>{const N=ma.find(H=>H.label===L);f(N?N.value:"")},C=L=>{const N=ga.find(H=>H.label===L);p(N?N.value:"")},T=()=>{p("")},O=()=>{f("")},I=!!t,U=I?"filter-popover":void 0;return v.jsxs("div",{children:[v.jsx(Wk,{"aria-describedby":U,isActive:!!t,onClick:x,startIcon:v.jsx(zh,{}),children:"Filter"}),v.jsx(wa,{anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:U,onClose:_,open:I,slotProps:{paper:{style:{backgroundColor:"transparent",boxShadow:"none",borderRadius:"12px",marginTop:"8px",overflow:"visible"},className:"filter-popover-paper"}},transformOrigin:{vertical:"top",horizontal:"right"},children:v.jsx(Yk,{children:v.jsxs(Gk,{children:[v.jsx(Qi,{onResetClick:T,onTypeClick:C,selectedTypes:w,title:"Range",types:Hk}),v.jsx(Qi,{getColor:E,onResetClick:c,onTypeClick:o,selectedTypes:i,title:"Nodes",types:n}),v.jsx(Qi,{onResetClick:l,onTypeClick:a,selectedTypes:s,title:"Edges",types:r}),g&&v.jsx(Qi,{onResetClick:O,onTypeClick:k,selectedTypes:b,title:"Followers",types:Bk})]})})})]})},Wk=X(wi)`
  && {
    transition: all 0.2s ease;
    background-color: ${({isActive:t})=>t?K.white:K.BUTTON1};
    color: ${({isActive:t})=>t?K.GRAY9:K.white};
    border-radius: 200px;
    text-transform: none;
    padding: 6px 16px;
    font-family: Barlow;
    font-weight: 400;
    font-size: 14px;
    line-height: 16px;
    height: 32px;

    svg {
      width: 14px;
      height: 14px;
    }

    &:hover {
      background-color: ${K.white};
      color: ${K.GRAY9};
    }

    &:active {
      background-color: ${K.white};
      opacity: 0.8;
    }
  }
`,Yk=X(tm)`
  max-height: 420px;
  border-radius: 12px;
  background: ${K.BG2};
`,Gk=X(ne)`
  display: flex;
  flex-direction: row;
  justify-content: center;
  gap: 12px;
  position: relative;
  height: 100%;
`,Xk=()=>{const[t,e]=ye(s=>[s.setSearchQuery,s.searchQuery]),n=Ut(s=>s.universeQuestionIsOpen),{open:r}=Jt("claim"),{episodeId:i}=dh();return n?null:v.jsx(Kk,{children:v.jsxs(Zk,{children:[v.jsxs(qk,{children:[v.jsx(Jk,{id:"graph-search",onChange:s=>t(s.target.value),placeholder:"Search graph",type:"text",value:e}),e!=null&&e.trim()?v.jsx(eE,{"data-testid":"search_action_icon",onClick:()=>{t("")},children:v.jsx(hh,{})}):v.jsx(Qk,{children:v.jsx(Ih,{})})]}),v.jsx(Vk,{}),i&&v.jsx(wi,{onClick:()=>r(),children:"Claims"})]})})},Kk=X(ne)`
  padding: 16px 16px 0;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  flex-direction: column;
  align-items: center;
  z-index: 100;
`,Zk=X(ne)`
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  width: 100%;
  margin: 0 auto;
  gap: 12px;
`,qk=X(ne)`
  flex-direction: row;
  position: relative;
  width: 250px;
`,Qk=X(ne)`
  position: absolute;
  right: 2px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 3;
  pointer-events: none;

  width: 28px;
  height: 28px;

  svg {
    width: 28px;
    height: 28px;

    path {
      fill: ${K.GRAY8};
    }
  }
`,Jk=X.input.attrs(()=>({autoCorrect:"off",autoComplete:"off"}))`
  box-sizing: border-box;
  pointer-events: auto;
  height: 32px;
  padding: 11px 16px;
  z-index: 2;
  width: 100%;
  border: none;
  border-radius: 200px;
  background: ${K.BG2};

  font-size: 15px;
  font-weight: 500;
  color: ${K.white};

  -webkit-autofill,
  -webkit-autocomplete,
  -webkit-contacts-auto-fill,
  -webkit-credentials-auto-fill {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
    position: absolute !important;
    right: 0 !important;
  }

  &:focus {
    outline: 1px solid ${K.primaryBlue};
  }

  &::placeholder {
    color: ${K.GRAY7};
  }

  ${({loading:t})=>t&&fh`
      background-image: url('https://i.gifer.com/ZZ5H.gif');
      background-size: 25px 25px;
      background-position: right center;
      background-position-x: 95%;
      background-repeat: no-repeat;
    `}
`,eE=X(ne).attrs({align:"center",justify:"center"})`
  font-size: 20px;
  color: ${K.GRAY7};
  cursor: pointer;
  transition-duration: 0.2s;
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: 20px;
  height: 20px;

  &:hover {
    color: ${K.white};
  }
`,tE=({content:t})=>{const{setAbortRequests:e}=Ue(l=>l),{setBudget:n}=Rs(l=>l),{fetchAIData:r}=$o(l=>l),{htmlHistory:i,addToHtmlHistory:s,goBackHtmlHistory:o}=Ut(l=>l);h.useEffect(()=>{s(t)},[t,s]);const a=h.useCallback(l=>{l.preventDefault();const u=l.target;u.tagName==="A"&&u.href&&r(n,e,u.href)},[r,n,e]),c=h.useCallback(()=>{const l=o();l&&Ut.getState().setHtmlContent(l)},[o]);return h.useEffect(()=>{const l=document.querySelector(".html-content-container");return l&&l.addEventListener("click",a),()=>{l&&l.removeEventListener("click",a)}},[a]),v.jsxs(nE,{children:[v.jsx(rE,{children:i.length>1&&v.jsx(iE,{onClick:c,startIcon:v.jsx(Lh,{}),children:"Back"})}),v.jsx(sE,{className:"html-content-container",dangerouslySetInnerHTML:{__html:t}})]})},nE=X(ne)`
  flex: 1;
  background: ${K.black};
  overflow-y: auto;
  padding: 40px;
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
`,rE=X.div`
  width: 100%;
  max-width: 1200px;
  margin-top: 60px;
  padding: 0 0 20px 0;
`,iE=X(wi)`
  && {
    color: ${K.white};
    font-size: 14px;
    text-transform: none;

    &:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    svg {
      font-size: 20px;
    }
  }
`,sE=X.div`
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
  color: ${K.white};
  font-family: inherit;
  height: 100%;
  display: flex;
  flex-direction: column;

  header {
    margin-bottom: 2rem;
  }

  nav {
    margin-bottom: 1.5rem;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 1.5rem;

    th,
    td {
      border: 1px solid ${K.white};
      padding: 1rem;
      text-align: left;
    }

    th {
      background-color: ${K.white};
      color: ${K.black};
    }
  }

  a {
    color: ${K.BLUE_PRESS_STATE};
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }

  .back-button {
    margin-bottom: 1.5rem;
  }

  h1,
  h2 {
    color: ${K.white};
    margin-bottom: 1rem;
  }

  pre {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    code {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
`,oE=({fullSize:t=!0})=>{const e=Ut(n=>n.sidebarIsOpen);return v.jsx(aE,{align:"center",className:va({"sidebar-is-open":e&&!t}),justify:"center",children:v.jsx(Ta,{color:K.SECONDARY_BLUE,size:64})})},aE=X(ne)`
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  background-color: ${K.black};
  z-index: 1;
`,Ud=t=>{const e=h.useRef(null),{label:n,sourceX:r,sourceY:i,sourceZ:s,targetX:o,targetY:a,targetZ:c}=t;return v.jsxs("group",{children:[v.jsx(li,{ref:e,color:"white",isLine2:!0,lineWidth:2,name:"line",points:[r,i,s,o,a,c]}),v.jsxs("mesh",{children:[v.jsx("planeGeometry",{args:[n.length*1,2]}),v.jsx("meshBasicMaterial",{color:"black"}),v.jsx(Ds,{anchorX:"center",anchorY:"middle",color:"white",...Ms,scale:1.5,children:n})]})]})};Ud.displayName="Connection";const cE=h.memo(Ud),lE="#68BE3E",Bd=h.memo(({links:t,nodes:e})=>{const n=h.useRef(null),r=h.useRef(new Map),{setSelectionGraphRadius:i}=ye(Tu(s=>s));return h.useEffect(()=>{if(!n.current)return;n.current.children.forEach((l,u)=>{const f=l.children[0],d=l.children[1];if(f instanceof ss){const p=f,y=t[u];if(y){const m=e.find(T=>T.ref_id===y.source),g=e.find(T=>T.ref_id===y.target);if(!m||!g)return;const{x:b,y:w}=m,{x:E,y:x}=g;r.current.set(y.ref_id,{sx:b,sy:w,tx:E,ty:x,sz:0,tz:0});const _=new he((b+E)/2,(w+x)/2,0);d.position.set(_.x,_.y,1);let k=Math.atan2(x-w,E-b);(E<b||Math.abs(E-b)<.01&&x<w)&&(k+=Math.PI),d.rotation.set(0,0,k),p.geometry.setPositions([b,w,0,E,x,0]);const{material:C}=p;C.color=new as(K.white),d.visible=!0,C.opacity=1,C.linewidth=2,g.isPathNode&&m.isPathNode&&(C.color=new as(lE),d.visible=!1,C.linewidth=4,C.transparent=!0,C.opacity=.3)}}});const o=e.map(l=>new he(l.x,l.y,l.z)),a=new Ca().setFromPoints(o),c=new Ea;a.getBoundingSphere(c),i(c.radius)},[t,i,e]),v.jsx("group",{ref:n,name:"simulation-3d-group__connections",children:t==null?void 0:t.map(s=>{var a;const o=((a=r.current)==null?void 0:a.get(s.ref_id))||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0};return v.jsx(cE,{label:s.edge_type,sourceX:o.sx,sourceY:o.sy,sourceZ:o.sz,targetX:o.tx,targetY:o.ty,targetZ:o.tz},s.ref_id)})})});Bd.displayName="Connections";const uE=({onClick:t,node:e,selected:n,rounded:r=!0,x:i,y:s,z:o,id:a})=>{var S,j,Y,M,Z,ae,re,ie;const c=h.useRef(null),[l]=Rs(q=>[q.isAdmin]),{open:u}=Jt("editNodeName"),{open:f}=Jt("createBounty"),{open:d}=Jt("nodeAction"),p=Cn(),[y,m]=h.useState(null),[g,b]=h.useState(),[w,E]=h.useState(!1),{navigateToNode:x}=Er(),{normalizedSchemasByType:_,getNodeKeysByType:k,setSelectedActionDetail:C}=yt(q=>q),T=new he(i,s,o);lt(()=>{c.current&&c.current.position.lerp(T,.05)});const O=()=>{m(null)},I=(S=_[e.node_type])==null?void 0:S.action;async function U(q){b(void 0),E(!0);try{const ce=await zu(q);b(ce.actions),E(!1)}catch(ce){console.error(ce)}}const R=q=>{m(q.currentTarget),I&&U(I)},G=!!y,L=G?"simple-popover":void 0,N=(j=_[e.node_type])==null?void 0:j.icon,H=q=>{C(q),d(),O()},B=N?js[N]:null,F=k(e.node_type)||"",W=e!=null&&e.properties&&F?(e==null?void 0:e.properties[F])||"":e.name||"",Q=W?mr(W,30):"",oe=F!=="description"?(Y=e.properties)==null?void 0:Y.description:"",D=oe?mr(oe,60):"",z=!!(p&&((M=p==null?void 0:p.node_type)==null?void 0:M.toLowerCase())==="function");return v.jsx("mesh",{ref:c,children:v.jsx(Rt,{center:!0,sprite:!0,zIndexRange:[0,0],children:v.jsx(fE,{align:"center",direction:"row",justify:"flex-start",children:v.jsx(v.Fragment,{children:n?v.jsxs(hE,{className:va({"has-padding":D}),rounded:!1,children:[v.jsxs(_E,{anchorEl:y,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:L,onClose:O,open:G,transformOrigin:{vertical:"top",horizontal:"right"},children:[w&&v.jsx(yu,{children:v.jsx(dE,{mb:10,mt:10,children:v.jsx(Ta,{color:K.lightGray,size:25})})}),g==null?void 0:g.map(q=>v.jsx(yu,{"data-testid":q.name,onClick:()=>{H(q)},children:q.display_name},q.name))]}),l&&I&&v.jsx(gE,{onClick:q=>R(q),children:v.jsx(Pu,{})}),l&&v.jsx(pE,{onClick:()=>u(),children:v.jsx(Ru,{})}),v.jsx(mE,{onClick:()=>x(null),children:v.jsx(Nh,{})}),v.jsx("div",{children:v.jsx(gu,{align:"center",height:D?48:100,justify:"center",radius:"6px",src:((Z=e==null?void 0:e.properties)==null?void 0:Z.image_url)||"",width:D?72:200,children:(ae=e==null?void 0:e.properties)!=null&&ae.image_url?null:v.jsx("span",{children:B?v.jsx(B,{}):v.jsx(os,{})})})}),v.jsxs(ne,{align:"flex-start",children:[v.jsx(So,{className:"selected__title",children:Q}),D?v.jsx(So,{children:D}):null]}),z&&v.jsx(yE,{left:2,onClick:()=>{f()},children:"Generate Unit Test"})]}):v.jsxs(v.Fragment,{children:[v.jsx(Hd,{onClick:()=>t(a),rounded:r,children:v.jsx(gu,{align:"center",height:32,justify:"center",radius:"50%",src:((re=e==null?void 0:e.properties)==null?void 0:re.image_url)||"",width:32,children:(ie=e==null?void 0:e.properties)!=null&&ie.image_url?null:v.jsx("span",{children:B?v.jsx(B,{}):v.jsx(os,{})})})}),v.jsx(So,{children:Q})]})})})})})},fE=X(ne)`
  background: black;
`,dE=X(ne)`
  justify-content: center;
  align-items: center;
  width: 100%;
`,So=X(ne)`
  color: ${K.white};
  margin-left: 16px;
  width: 100px;
`,Hd=X(ne)`
  text-align: center;
  width: 48px;
  height: 48px;
  outline: 1px solid ${K.white};
  outline-offset: 0px;
  background: ${K.BG1};
  color: ${K.white};
  border-radius: ${t=>`${t.rounded?"50%":"6px"}`};
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }
`,hE=X(Hd)`
  width: 200px;
  height: 100px;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  position: relative;
  font-family: Barlow;
  font-weight: 700;
  text-align: left;
  &.has-padding {
    padding: 12px;
  }

  .selected__title {
    position: absolute;
    bottom: -24px;
    font-size: 20px;
    left: 50%;
    top: 100%;
    transform: translateX(-50%) translateY(8px);
    margin-left: 0;
    text-align: center;
    width: 250px;
  }
`,fc=X(ne)`
  width: 30px;
  height: 30px;
  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: black;
  color: #ffffff;
  font-size: 30px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
  position: absolute; /* Position relative to the parent */
`,pE=X(fc)`
  left: 130px;
  top: -10px;
  background: ${K.white};
  color: ${K.BG1};
  border: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease-in-out;

  &:hover {
    transform: scale(1.1);
  }
`,mE=X(fc)`
  right: -10px;
  top: -10px;
`,gE=X(fc)`
  left: -10px;
  top: -10px;
  background: ${K.white};
  color: ${K.BG1};
  width: 1.5rem;
  height: 1.5rem;
`,gu=X(ne)`
  background-image: ${({src:t})=>`url(${t})`};
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: ${({width:t})=>`${t}px`};
  height: ${({height:t})=>`${t}px`};
  border-radius: ${({radius:t})=>`${t}`};
  font-size: 20px;
`,yE=X.div`
  position: absolute;
  top: 170px;
  left: ${t=>30+t.left}px;
  width: 140px;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${K.createTestButton};
  color: ${K.black};
  font-size: 14px;
  font-family: Barlow;
  font-weight: 600;
  z-index: 1002;
  cursor: pointer;
  &:hover {
    transform: scale(1.05);
  }
`,yu=X(ne).attrs({direction:"row",px:12,py:8})`
  display: flex;
  align-items: center;
  justify-content: start;
  gap: 12px;
  cursor: pointer;
  background: ${K.BUTTON1};
  color: ${K.white};
  width: 100%;

  &:hover {
    background: ${K.BUTTON1_HOVER};
    color: ${K.GRAY3};
  }
`,_E=X(wa)`
  && {
    z-index: 9999;
  }
  .MuiPaper-root {
    min-width: 149px;
    color: ${K.GRAY3};
    box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    z-index: 1;
    font-family: Barlow;
    font-size: 14px;
    font-weight: 500;
    background-color: transparent !important;
    margin: 2px;
  }
`,Ji=50,xE=7,Vd=h.memo(()=>{var m;const[t,e]=h.useState(),{addNewNode:n,nodesNormalized:r}=Ue(g=>g),i=Ue(g=>g.dataInitial),s=Cn(),o=h.useRef(null),[a,c]=h.useState(null),l=h.useRef(new Map),u=xh(s==null?void 0:s.ref_id),{navigateToNode:f}=Er(),d=h.useMemo(()=>{if(!(t!=null&&t.nodes.length))return{nodes:[],links:[]};const g=(a==null?void 0:a.nodes)||[],b=(a==null?void 0:a.links.filter(O=>!t.links.some(I=>I.ref_id===O.ref_id)))||[],w=t.nodes.filter(O=>!g.some(I=>I.ref_id===O.ref_id)),E=g.at(-1),x=E?{x:E.x,y:E.y}:{x:0,y:0},_=Math.atan2(x.y,x.x),k=g.length+w.length-1,C=Math.PI*2/k;return{nodes:[...g,...w.map((O,I)=>{const U=_+C*(I+1),R=O.ref_id===(s==null?void 0:s.ref_id)?0:Math.cos(U)*Ji,G=O.ref_id===(s==null?void 0:s.ref_id)?0:Math.sin(U)*Ji,L=(O.ref_id===(s==null?void 0:s.ref_id),0);return{...O,x:R,y:G,z:L}})],links:[...t.links,...b]}},[t==null?void 0:t.nodes,t==null?void 0:t.links,a==null?void 0:a.nodes,a==null?void 0:a.links,s==null?void 0:s.ref_id]),p=h.useMemo(()=>{var b;if((b=d==null?void 0:d.nodes)!=null&&b.length)return d;if(a)return{nodes:a.nodes,links:a.links};const g=s!=null&&s.ref_id?r.get((s==null?void 0:s.ref_id)||""):null;return{nodes:g?[{...g,x:0,y:0,z:0}]:[],links:[]}},[d,a,s==null?void 0:s.ref_id,r]);h.useEffect(()=>{const g=async()=>{if(s!=null&&s.ref_id&&s.ref_id!==u)try{const b=await xa(s.ref_id,0,5,{useSubGraph:!1});if(b){const w=b.nodes.filter((k,C)=>k.ref_id!==s.ref_id&&C<xE),x=[...w.map(k=>({...k,x:0,y:0,z:0})),{...s,x:0,y:0,z:0,fx:0,fy:0,fz:0}],_=b.edges.filter(k=>x.some(C=>C.ref_id===k.target)&&x.some(C=>C.ref_id===k.source));e({nodes:x,links:_}),l.current=new Map,n({nodes:w,edges:_})}}catch(b){console.error(b)}};if(s)if(s.node_type==="Question"){const b=r.get(s.ref_id);if(!b)return;const w=(b.sources||[]).map(k=>r.get(k)).filter(k=>!!k),E=(b.targets||[]).map(k=>r.get(k)).filter(k=>!!k),x=[...w,...E,{...s,x:0,y:0,z:0,fx:0,fy:0,fz:0}],_=((i==null?void 0:i.links)||[]).filter(k=>x.some(C=>C.ref_id===k.source&&k.target===s.ref_id||C.ref_id===k.target&&k.source===s.ref_id));e({nodes:x,links:_})}else g()},[n,u,s,e,r,i==null?void 0:i.links]);const y=h.useCallback(g=>{if(s){const b=p.nodes.find(O=>O.ref_id===g);if(!b)return;const w=(a==null?void 0:a.nodes.filter(O=>O.ref_id!==b.ref_id))||[],E=[{...b,isPathNode:!1},...w.length?w:[{...s,isPathNode:!0}]].slice(0,3),x=Math.atan2(-b.y,-b.x),_=Ji*Math.cos(x),k=Ji*Math.sin(x),C=E.map((O,I)=>I===0?{...O,x:0,y:0,z:0,fx:0,fy:0,fz:0,isPathNode:!0}:I===1?E.length===3?{...O,x:_/2,y:k/2,z:0,fx:_/2,fy:k/2,fz:0,isPathNode:!0}:{...O,x:_,y:k,z:0,fx:_,fy:k,fz:0,isPathNode:!0}:{...O,x:_,y:k,z:0,fx:_,fy:k,fz:0,isPathNode:!0}),T=p.links.filter(O=>C.some(I=>I.ref_id===O.target)&&C.some(I=>I.ref_id===O.source));e(null),c({nodes:C,links:T}),f(b.ref_id)}},[p.links,p.nodes,a,s,f]);return v.jsx(v.Fragment,{children:v.jsxs("group",{ref:o,name:"simulation-2d-group",children:[(m=p.nodes)==null?void 0:m.map(g=>v.jsx(uE,{id:g.ref_id,node:g,onClick:y,selected:g.ref_id===(s==null?void 0:s.ref_id),x:g.x,y:g.y,z:g.z},g.ref_id)),v.jsx(Bd,{links:p.links,nodes:p.nodes})]})})});Vd.displayName="SelectionDataNodes";const vE=()=>{const t=h.useRef(null),e=ye(r=>r.selectionGraphRadius),[n]=h.useState(.8);return h.useEffect(()=>{if(t.current){const r=t.current.getDistanceToFitSphere(55);t.current.setLookAt(si.x,si.y,r,0,0,0,!0)}},[e]),v.jsx(Xu,{ref:t,azimuthRotateSpeed:0,boundaryEnclosesCamera:!0,makeDefault:!0,maxDistance:12e3,minDistance:1,polarRotateSpeed:0,smoothTime:n})},bE=()=>v.jsxs(v.Fragment,{children:[v.jsx(vh,{}),v.jsx(vE,{}),v.jsx(Vd,{})]}),_u=()=>v.jsx(Rt,{children:v.jsx(am,{})}),wE=()=>{var n;kf("universe",{universeColor:K.black});const t=Ue(r=>r.dataInitial),e=Cn();return h.useMemo(()=>e!=null&&e.node_type?bh(e.node_type):db,[e]),v.jsxs(v.Fragment,{children:[v.jsx("color",{args:[K.BLUE_PRESS_STATE],attach:"transparent"}),v.jsx(mb,{}),v.jsxs(Sm,{children:[!1,(n=t==null?void 0:t.nodes)!=null&&n.length?v.jsx(zk,{}):null]})]})};let Oo=null;const xu={aspect:window.innerWidth/window.innerHeight,far:3e4,near:1,position:[ii.x,ii.y,ii.z]},kE=()=>{const[t,e,n]=[Ln(u=>u.setIsUserScrollingOnHtmlPanel),Ln(u=>u.setIsUserScrolling),Ln(u=>u.setUserMovedCamera)],r=ye(u=>u.showSelectionGraph),i=Ue(u=>u.isFetching),s=Ut(u=>u.universeQuestionIsOpen),{isHtmlContent:o,htmlContent:a}=Ut(u=>u),c=h.useCallback(u=>{var p;const{target:f}=u,{offsetParent:d}=f;Oo&&clearTimeout(Oo),(p=d==null?void 0:d.classList)!=null&&p.contains("html-panel")&&d.clientHeight<d.scrollHeight&&t(!0),e(!0),n(!0),Oo=setTimeout(()=>{e(!1),t(!1)},200)},[e,t,n]),l=h.useCallback(u=>ph(u,"threeState"),[]);return v.jsxs(EE,{children:[v.jsxs(h.Suspense,{fallback:null,children:[v.jsx(wf,{hidden:!0,isRoot:!0}),v.jsxs(hc,{camera:xu,frameloop:r?"demand":"always",id:"universe-canvas",onCreated:l,onWheel:c,style:{visibility:o?"hidden":"visible"},children:[dc&&v.jsx(pc,{position:"top-right",style:{top:"80px"}}),v.jsxs(h.Suspense,{fallback:v.jsx(_u,{}),children:[v.jsx(Cm,{}),v.jsx(Wc,{}),v.jsx(Yc,{}),v.jsx(wE,{})]})]}),v.jsx(Xk,{}),v.jsx(i2,{}),r?v.jsx(CE,{children:v.jsxs(hc,{camera:{...xu,position:[si.x,si.y,si.z]},id:"selection-canvas",onCreated:({gl:u})=>{u.setClearColor("#000000"),u.setClearAlpha(.8)},children:[dc&&v.jsx(pc,{position:"top-right",style:{top:"80px"}}),v.jsxs(h.Suspense,{fallback:v.jsx(_u,{}),children:[v.jsx(Wc,{}),v.jsx(Yc,{}),v.jsx(bE,{})]})]})}):null]}),o&&v.jsx(tE,{content:a}),s&&v.jsx(ib,{}),i&&v.jsx(oE,{fullSize:!1}),v.jsx($h,{})]})},EE=X(ne)`
  flex: 1 1 100%;
  position: relative;
`,CE=X(ne)`
  position: absolute;
  inset: 0;
`,TE=h.memo(kE),XE=Object.freeze(Object.defineProperty({__proto__:null,Universe:TE},Symbol.toStringTag,{value:"Module"}));export{WE as F,TE as U,YE as a,GE as b,XE as i};
