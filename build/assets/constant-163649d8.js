import{r as ae,ad as Nu,c6 as Xl,bx as Gu,c7 as fc,bM as cc,c4 as ju,am as dc,al as bi,c8 as hc,bh as pc,bg as vc,bv as nu,c9 as Yl,ca as mc,cb as gc,cc as yc,c3 as Sc,cd as wc,ce as _c,cf as xc,V as Tt,bj as Fr,cg as Ec,_ as Wi,bF as kc,ch as Jo,ci as Wu,at as ua,cj as fa,ck as ri,cl as Tc,bB as _a,bT as Uc,cm as ca,cn as ru,bZ as Cc,c2 as li,an as bu,co as Pc,ap as Ko,aw as Mc,b$ as Fc,bY as Dc,cp as Lc,cq as Rc,bU as Ac,b_ as iu,bS as Oc,aH as Hu,cr as zc,cs as Ic,ct as Bc,cu as xa}from"./index-b17e6e7f.js";var Vu={exports:{}},Dr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Dr.ConcurrentRoot=1;Dr.ContinuousEventPriority=4;Dr.DefaultEventPriority=16;Dr.DiscreteEventPriority=1;Dr.IdleEventPriority=536870912;Dr.LegacyRoot=0;Vu.exports=Dr;var ii=Vu.exports;function Nc(h){let i;const p=new Set,g=(d,c)=>{const m=typeof d=="function"?d(i):d;if(m!==i){const y=i;i=c?m:Object.assign({},i,m),p.forEach(S=>S(i,y))}},o=()=>i,n=(d,c=o,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=c(i);function S(){const E=c(i);if(!m(y,E)){const T=y;d(y=E,T)}}return p.add(S),()=>p.delete(S)},a={setState:g,getState:o,subscribe:(d,c,m)=>c||m?n(d,c,m):(p.add(d),()=>p.delete(d)),destroy:()=>p.clear()};return i=h(g,o,a),a}const Gc=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ou=Gc?ae.useEffect:ae.useLayoutEffect;function jc(h){const i=typeof h=="function"?Nc(h):h,p=(g=i.getState,o=Object.is)=>{const[,n]=ae.useReducer(x=>x+1,0),s=i.getState(),u=ae.useRef(s),a=ae.useRef(g),d=ae.useRef(o),c=ae.useRef(!1),m=ae.useRef();m.current===void 0&&(m.current=g(s));let y,S=!1;(u.current!==s||a.current!==g||d.current!==o||c.current)&&(y=g(s),S=!o(m.current,y)),ou(()=>{S&&(m.current=y),u.current=s,a.current=g,d.current=o,c.current=!1});const E=ae.useRef(s);ou(()=>{const x=()=>{try{const w=i.getState(),U=a.current(w);d.current(m.current,U)||(u.current=w,m.current=U,n())}catch{c.current=!0,n()}},k=i.subscribe(x);return i.getState()!==E.current&&x(),k},[]);const T=S?y:m.current;return ae.useDebugValue(T),T};return Object.assign(p,i),p[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const g=[p,i];return{next(){const o=g.length<=0;return{value:g.shift(),done:o}}}},p}var Qu={exports:{}},Xu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(h){function i(W,z){var b=W.length;W.push(z);e:for(;0<b;){var C=b-1>>>1,O=W[C];if(0<o(O,z))W[C]=z,W[b]=O,b=C;else break e}}function p(W){return W.length===0?null:W[0]}function g(W){if(W.length===0)return null;var z=W[0],b=W.pop();if(b!==z){W[0]=b;e:for(var C=0,O=W.length,V=O>>>1;C<V;){var Y=2*(C+1)-1,j=W[Y],q=Y+1,Q=W[q];if(0>o(j,b))q<O&&0>o(Q,j)?(W[C]=Q,W[q]=b,C=q):(W[C]=j,W[Y]=b,C=Y);else if(q<O&&0>o(Q,b))W[C]=Q,W[q]=b,C=q;else break e}}return z}function o(W,z){var b=W.sortIndex-z.sortIndex;return b!==0?b:W.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;h.unstable_now=function(){return n.now()}}else{var s=Date,u=s.now();h.unstable_now=function(){return s.now()-u}}var a=[],d=[],c=1,m=null,y=3,S=!1,E=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(W){for(var z=p(d);z!==null;){if(z.callback===null)g(d);else if(z.startTime<=W)g(d),z.sortIndex=z.expirationTime,i(a,z);else break;z=p(d)}}function A(W){if(T=!1,U(W),!E)if(p(a)!==null)E=!0,re(F);else{var z=p(d);z!==null&&ke(A,z.startTime-W)}}function F(W,z){E=!1,T&&(T=!1,k(N),N=-1),S=!0;var b=y;try{for(U(z),m=p(a);m!==null&&(!(m.expirationTime>z)||W&&!H());){var C=m.callback;if(typeof C=="function"){m.callback=null,y=m.priorityLevel;var O=C(m.expirationTime<=z);z=h.unstable_now(),typeof O=="function"?m.callback=O:m===p(a)&&g(a),U(z)}else g(a);m=p(a)}if(m!==null)var V=!0;else{var Y=p(d);Y!==null&&ke(A,Y.startTime-z),V=!1}return V}finally{m=null,y=b,S=!1}}var L=!1,I=null,N=-1,Z=5,te=-1;function H(){return!(h.unstable_now()-te<Z)}function D(){if(I!==null){var W=h.unstable_now();te=W;var z=!0;try{z=I(!0,W)}finally{z?J():(L=!1,I=null)}}else L=!1}var J;if(typeof w=="function")J=function(){w(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=D,J=function(){le.postMessage(null)}}else J=function(){x(D,0)};function re(W){I=W,L||(L=!0,J())}function ke(W,z){N=x(function(){W(h.unstable_now())},z)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(W){W.callback=null},h.unstable_continueExecution=function(){E||S||(E=!0,re(F))},h.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<W?Math.floor(1e3/W):5},h.unstable_getCurrentPriorityLevel=function(){return y},h.unstable_getFirstCallbackNode=function(){return p(a)},h.unstable_next=function(W){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var b=y;y=z;try{return W()}finally{y=b}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(W,z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var b=y;y=W;try{return z()}finally{y=b}},h.unstable_scheduleCallback=function(W,z,b){var C=h.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?C+b:C):b=C,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=b+O,W={id:c++,callback:z,priorityLevel:W,startTime:b,expirationTime:O,sortIndex:-1},b>C?(W.sortIndex=b,i(d,W),p(a)===null&&W===p(d)&&(T?(k(N),N=-1):T=!0,ke(A,b-C))):(W.sortIndex=O,i(a,W),E||S||(E=!0,re(F))),W},h.unstable_shouldYield=H,h.unstable_wrapCallback=function(W){var z=y;return function(){var b=y;y=z;try{return W.apply(this,arguments)}finally{y=b}}}})(Yu);Xu.exports=Yu;var da=Xu.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=function(i){var p={},g=ae,o=da,n=Object.assign;function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),d=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),F=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}function I(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case c:return"Fragment";case d:return"Portal";case y:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}function N(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Z(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function te(e){if(Z(e)!==e)throw Error(s(188))}function H(e){var t=e.alternate;if(!t){if(t=Z(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var f=r.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===r)return te(f),e;if(v===l)return te(f),t;v=v.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=v;else{for(var _=!1,P=f.child;P;){if(P===r){_=!0,r=f,l=v;break}if(P===l){_=!0,l=f,r=v;break}P=P.sibling}if(!_){for(P=v.child;P;){if(P===r){_=!0,r=v,l=f;break}if(P===l){_=!0,l=v,r=f;break}P=P.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function D(e){return e=H(e),e!==null?J(e):null}function J(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J(e);if(t!==null)return t;e=e.sibling}return null}function X(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=X(e);if(t!==null)return t}e=e.sibling}return null}var le=Array.isArray,re=i.getPublicInstance,ke=i.getRootHostContext,W=i.getChildHostContext,z=i.prepareForCommit,b=i.resetAfterCommit,C=i.createInstance,O=i.appendInitialChild,V=i.finalizeInitialChildren,Y=i.prepareUpdate,j=i.shouldSetTextContent,q=i.createTextInstance,Q=i.scheduleTimeout,$=i.cancelTimeout,se=i.noTimeout,ve=i.isPrimaryRenderer,oe=i.supportsMutation,K=i.supportsPersistence,Ue=i.supportsHydration,Ae=i.getInstanceFromNode,ce=i.preparePortalMount,we=i.getCurrentEventPriority,Me=i.detachDeletedInstance,ie=i.supportsMicrotasks,Ee=i.scheduleMicrotask,de=i.supportsTestSelectors,ee=i.findFiberRoot,Ce=i.getBoundingRect,me=i.getTextContent,ge=i.isHiddenSubtree,pe=i.matchAccessibilityRole,He=i.setFocusIfFocusable,Ge=i.setupIntersectionObserver,xe=i.appendChild,Re=i.appendChildToContainer,je=i.commitTextUpdate,lt=i.commitMount,Le=i.commitUpdate,Ke=i.insertBefore,Ie=i.insertInContainerBefore,Pe=i.removeChild,Ve=i.removeChildFromContainer,Ye=i.resetTextContent,at=i.hideInstance,Oe=i.hideTextInstance,qe=i.unhideInstance,Ut=i.unhideTextInstance,wn=i.clearContainer,Nn=i.cloneInstance,_n=i.createContainerChildSet,It=i.appendChildToContainerChildSet,Bt=i.finalizeContainerChildren,$e=i.replaceContainerChildren,Zn=i.cloneHiddenInstance,tt=i.cloneHiddenTextInstance,nt=i.canHydrateInstance,Zt=i.canHydrateTextInstance,Nt=i.canHydrateSuspenseInstance,Qe=i.isSuspenseInstancePending,ft=i.isSuspenseInstanceFallback,Qt=i.registerSuspenseInstanceRetry,st=i.getNextHydratableSibling,pt=i.getFirstHydratableChild,Ct=i.getFirstHydratableChildWithinContainer,Un=i.getFirstHydratableChildWithinSuspenseInstance,qt=i.hydrateInstance,Gn=i.hydrateTextInstance,qo=i.hydrateSuspenseInstance,Vi=i.getNextHydratableInstanceAfterSuspenseInstance,ur=i.commitHydratedContainer,ui=i.commitHydratedSuspenseInstance,$o=i.clearSuspenseBoundary,Qi=i.clearSuspenseBoundaryFromContainer,Lr=i.shouldDeleteUnhydratedTailInstances,fi=i.didNotMatchHydratedContainerTextInstance,ci=i.didNotMatchHydratedTextInstance,ye;function xn(e){if(ye===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||""}return`
`+ye+e}var di=!1;function Cn(e,t){if(!e||di)return"";di=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ne){var l=ne}Reflect.construct(e,[],t)}else{try{t.call()}catch(ne){l=ne}e.call(t.prototype)}else{try{throw Error()}catch(ne){l=ne}e()}}catch(ne){if(ne&&l&&typeof ne.stack=="string"){for(var f=ne.stack.split(`
`),v=l.stack.split(`
`),_=f.length-1,P=v.length-1;1<=_&&0<=P&&f[_]!==v[P];)P--;for(;1<=_&&0<=P;_--,P--)if(f[_]!==v[P]){if(_!==1||P!==1)do if(_--,P--,0>P||f[_]!==v[P]){var G=`
`+f[_].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=_&&0<=P);break}}}finally{di=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xn(e):""}var Rr=Object.prototype.hasOwnProperty,Ar=[],Pn=-1;function $t(e){return{current:e}}function Xe(e){0>Pn||(e.current=Ar[Pn],Ar[Pn]=null,Pn--)}function Je(e,t){Pn++,Ar[Pn]=e.current,e.current=t}var en={},gt=$t(en),St=$t(!1),Mn=en;function cn(e,t){var r=e.type.contextTypes;if(!r)return en;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in r)f[v]=t[v];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function wt(e){return e=e.childContextTypes,e!=null}function En(){Xe(St),Xe(gt)}function Or(e,t,r){if(gt.current!==en)throw Error(s(168));Je(gt,t),Je(St,r)}function zr(e,t,r){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var f in l)if(!(f in t))throw Error(s(108,N(e)||"Unknown",f));return n({},r,l)}function qn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,Mn=gt.current,Je(gt,e),Je(St,St.current),!0}function tn(e,t,r){var l=e.stateNode;if(!l)throw Error(s(169));r?(e=zr(e,t,Mn),l.__reactInternalMemoizedMergedChildContext=e,Xe(St),Xe(gt),Je(gt,e)):Xe(St),Je(St,r)}var nn=Math.clz32?Math.clz32:Xi,Ir=Math.log,fr=Math.LN2;function Xi(e){return e>>>=0,e===0?32:31-(Ir(e)/fr|0)|0}var jn=64,Wn=4194304;function bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cr(e,t){var r=e.pendingLanes;if(r===0)return 0;var l=0,f=e.suspendedLanes,v=e.pingedLanes,_=r&268435455;if(_!==0){var P=_&~f;P!==0?l=bn(P):(v&=_,v!==0&&(l=bn(v)))}else _=r&~f,_!==0?l=bn(_):v!==0&&(l=bn(v));if(l===0)return 0;if(t!==0&&t!==l&&!(t&f)&&(f=l&-l,v=t&-t,f>=v||f===16&&(v&4194240)!==0))return t;if(l&4&&(l|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)r=31-nn(t),f=1<<r,l|=e[r],t&=~f;return l}function Yi(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,v=e.pendingLanes;0<v;){var _=31-nn(v),P=1<<_,G=f[_];G===-1?(!(P&r)||P&l)&&(f[_]=Yi(P,t)):G<=t&&(e.expiredLanes|=P),v&=~P}}function Hn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Br(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=r}function $n(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var f=31-nn(r),v=1<<f;t[f]=0,l[f]=-1,e[f]=-1,r&=~v}}function Dn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-nn(r),f=1<<l;f&t|e[l]&t&&(e[l]|=t),r&=~f}}var Ne=0;function pi(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vn=o.unstable_scheduleCallback,Nr=o.unstable_cancelCallback,vi=o.unstable_shouldYield,Ji=o.unstable_requestPaint,it=o.unstable_now,dr=o.unstable_ImmediatePriority,Ki=o.unstable_UserBlockingPriority,Gt=o.unstable_NormalPriority,mi=o.unstable_IdlePriority,hr=null,rn=null;function gi(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(hr,e,void 0,(e.current.flags&128)===128)}catch{}}function Zi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:Zi,jt=null,Ln=!1,dn=!1;function yi(e){jt===null?jt=[e]:jt.push(e)}function Si(e){Ln=!0,yi(e)}function Xt(){if(!dn&&jt!==null){dn=!0;var e=0,t=Ne;try{var r=jt;for(Ne=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}jt=null,Ln=!1}catch(f){throw jt!==null&&(jt=jt.slice(e+1)),Vn(dr,Xt),f}finally{Ne=t,dn=!1}}return null}var pr=u.ReactCurrentBatchConfig;function vr(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!Rr.call(t,f)||!on(e[f],t[f]))return!1}return!0}function mr(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=Cn(e.type,!1),e;case 11:return e=Cn(e.type.render,!1),e;case 1:return e=Cn(e.type,!0),e;default:return""}}function Wt(e,t){if(e&&e.defaultProps){t=n({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var _t=$t(null),Gr=null,kn=null,er=null;function jr(){er=kn=Gr=null}function qi(e,t,r){ve?(Je(_t,t._currentValue),t._currentValue=r):(Je(_t,t._currentValue2),t._currentValue2=r)}function xt(e){var t=_t.current;Xe(_t),ve?e._currentValue=t:e._currentValue2=t}function bt(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function ct(e,t){Gr=e,er=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(un=!0),e.firstContext=null)}function dt(e){var t=ve?e._currentValue:e._currentValue2;if(er!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Gr===null)throw Error(s(308));kn=e,Gr.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var ln=null,tr=!1;function el(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t){var r=e.updateQueue;r!==null&&(r=r.shared,vt!==null&&e.mode&1&&!(Be&2)?(e=r.interleaved,e===null?(t.next=t,ln===null?ln=[r]:ln.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(e=r.pending,e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function $i(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Dn(e,r)}}function Fa(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var _={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};v===null?f=v=_:v=v.next=_,r=r.next}while(r!==null);v===null?f=v=t:v=v.next=t}else f=v=t;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,l){var f=e.updateQueue;tr=!1;var v=f.firstBaseUpdate,_=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var G=P,ne=G.next;G.next=null,_===null?v=ne:_.next=ne,_=G;var he=e.alternate;he!==null&&(he=he.updateQueue,P=he.lastBaseUpdate,P!==_&&(P===null?he.firstBaseUpdate=ne:P.next=ne,he.lastBaseUpdate=G))}if(v!==null){var Fe=f.baseState;_=0,he=ne=G=null,P=v;do{var Te=P.lane,Ze=P.eventTime;if((l&Te)===Te){he!==null&&(he=he.next={eventTime:Ze,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var _e=e,Ot=P;switch(Te=t,Ze=r,Ot.tag){case 1:if(_e=Ot.payload,typeof _e=="function"){Fe=_e.call(Ze,Fe,Te);break e}Fe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ot.payload,Te=typeof _e=="function"?_e.call(Ze,Fe,Te):_e,Te==null)break e;Fe=n({},Fe,Te);break e;case 2:tr=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,Te=f.effects,Te===null?f.effects=[P]:Te.push(P))}else Ze={eventTime:Ze,lane:Te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},he===null?(ne=he=Ze,G=Fe):he=he.next=Ze,_|=Te;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;Te=P,P=Te.next,Te.next=null,f.lastBaseUpdate=Te,f.shared.pending=null}}while(1);if(he===null&&(G=Fe),f.baseState=G,f.firstBaseUpdate=ne,f.lastBaseUpdate=he,t=f.shared.interleaved,t!==null){f=t;do _|=f.lane,f=f.next;while(f!==t)}else v===null&&(f.shared.lanes=0);Kr|=_,e.lanes=_,e.memoizedState=Fe}}function Da(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],f=l.callback;if(f!==null){if(l.callback=null,l=r,typeof f!="function")throw Error(s(191,f));f.call(l)}}}var La=new g.Component().refs;function tl(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:n({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var to={isMounted:function(e){return(e=e._reactInternals)?Z(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Vt(),f=or(e),v=Qn(l,f);v.payload=t,r!=null&&(v.callback=r),nr(e,v),t=gn(e,f,l),t!==null&&$i(t,e,f)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Vt(),f=or(e),v=Qn(l,f);v.tag=1,v.payload=t,r!=null&&(v.callback=r),nr(e,v),t=gn(e,f,l),t!==null&&$i(t,e,f)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vt(),l=or(e),f=Qn(r,l);f.tag=2,t!=null&&(f.callback=t),nr(e,f),t=gn(e,l,r),t!==null&&$i(t,e,l)}};function Ra(e,t,r,l,f,v,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,v,_):t.prototype&&t.prototype.isPureReactComponent?!vr(r,l)||!vr(f,v):!0}function Aa(e,t,r){var l=!1,f=en,v=t.contextType;return typeof v=="object"&&v!==null?v=dt(v):(f=wt(t)?Mn:gt.current,l=t.contextTypes,v=(l=l!=null)?cn(e,f):en),t=new t(r,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=to,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=v),t}function Oa(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&to.enqueueReplaceState(t,t.state,null)}function nl(e,t,r,l){var f=e.stateNode;f.props=r,f.state=e.memoizedState,f.refs=La,el(e);var v=t.contextType;typeof v=="object"&&v!==null?f.context=dt(v):(v=wt(t)?Mn:gt.current,f.context=cn(e,v)),f.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(tl(e,t,v,r),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&to.enqueueReplaceState(f,f.state,null),eo(e,r,f,l),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}var Wr=[],br=0,no=null,ro=0,hn=[],pn=0,gr=null,Xn=1,Yn="";function yr(e,t){Wr[br++]=ro,Wr[br++]=no,no=e,ro=t}function za(e,t,r){hn[pn++]=Xn,hn[pn++]=Yn,hn[pn++]=gr,gr=e;var l=Xn;e=Yn;var f=32-nn(l)-1;l&=~(1<<f),r+=1;var v=32-nn(t)+f;if(30<v){var _=f-f%5;v=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Xn=1<<32-nn(t)+f|r<<f|l,Yn=v+e}else Xn=1<<v|r<<f|l,Yn=e}function rl(e){e.return!==null&&(yr(e,1),za(e,1,0))}function il(e){for(;e===no;)no=Wr[--br],Wr[br]=null,ro=Wr[--br],Wr[br]=null;for(;e===gr;)gr=hn[--pn],hn[pn]=null,Yn=hn[--pn],hn[pn]=null,Xn=hn[--pn],hn[pn]=null}var an=null,sn=null,rt=!1,wi=!1,Tn=null;function Ia(e,t){var r=yn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ba(e,t){switch(e.tag){case 5:return t=nt(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,an=e,sn=pt(t),!0):!1;case 6:return t=Zt(t,e.pendingProps),t!==null?(e.stateNode=t,an=e,sn=null,!0):!1;case 13:if(t=Nt(t),t!==null){var r=gr!==null?{id:Xn,overflow:Yn}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,an=e,sn=null,!0}return!1;default:return!1}}function ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ll(e){if(rt){var t=sn;if(t){var r=t;if(!Ba(e,t)){if(ol(e))throw Error(s(418));t=st(r);var l=an;t&&Ba(e,t)?Ia(l,r):(e.flags=e.flags&-4097|2,rt=!1,an=e)}}else{if(ol(e))throw Error(s(418));e.flags=e.flags&-4097|2,rt=!1,an=e}}}function Na(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function _i(e){if(!Ue||e!==an)return!1;if(!rt)return Na(e),rt=!0,!1;if(e.tag!==3&&(e.tag!==5||Lr(e.type)&&!j(e.type,e.memoizedProps))){var t=sn;if(t){if(ol(e)){for(e=sn;e;)e=st(e);throw Error(s(418))}for(;t;)Ia(e,t),t=st(t)}}if(Na(e),e.tag===13){if(!Ue)throw Error(s(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));sn=Vi(e)}else sn=an?st(e.stateNode):null;return!0}function Hr(){Ue&&(sn=an=null,wi=rt=!1)}function al(e){Tn===null?Tn=[e]:Tn.push(e)}function xi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var l=r.stateNode}if(!l)throw Error(s(147,e));var f=l,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(_){var P=f.refs;P===La&&(P=f.refs={}),_===null?delete P[v]:P[v]=_},t._stringRef=v,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){var t=e._init;return t(e._payload)}function ja(e){function t(R,M){if(e){var B=R.deletions;B===null?(R.deletions=[M],R.flags|=16):B.push(M)}}function r(R,M){if(!e)return null;for(;M!==null;)t(R,M),M=M.sibling;return null}function l(R,M){for(R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function f(R,M){return R=ar(R,M),R.index=0,R.sibling=null,R}function v(R,M,B){return R.index=B,e?(B=R.alternate,B!==null?(B=B.index,B<M?(R.flags|=2,M):B):(R.flags|=2,M)):(R.flags|=1048576,M)}function _(R){return e&&R.alternate===null&&(R.flags|=2),R}function P(R,M,B,fe){return M===null||M.tag!==6?(M=Hl(B,R.mode,fe),M.return=R,M):(M=f(M,B),M.return=R,M)}function G(R,M,B,fe){var Se=B.type;return Se===c?he(R,M,B.props.children,fe,B.key):M!==null&&(M.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===U&&Ga(Se)===M.type)?(fe=f(M,B.props),fe.ref=xi(R,M,B),fe.return=R,fe):(fe=zo(B.type,B.key,B.props,null,R.mode,fe),fe.ref=xi(R,M,B),fe.return=R,fe)}function ne(R,M,B,fe){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Vl(B,R.mode,fe),M.return=R,M):(M=f(M,B.children||[]),M.return=R,M)}function he(R,M,B,fe,Se){return M===null||M.tag!==7?(M=Tr(B,R.mode,fe,Se),M.return=R,M):(M=f(M,B),M.return=R,M)}function Fe(R,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Hl(""+M,R.mode,B),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case a:return B=zo(M.type,M.key,M.props,null,R.mode,B),B.ref=xi(R,null,M),B.return=R,B;case d:return M=Vl(M,R.mode,B),M.return=R,M;case U:var fe=M._init;return Fe(R,fe(M._payload),B)}if(le(M)||L(M))return M=Tr(M,R.mode,B,null),M.return=R,M;io(R,M)}return null}function Te(R,M,B,fe){var Se=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Se!==null?null:P(R,M,""+B,fe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case a:return B.key===Se?G(R,M,B,fe):null;case d:return B.key===Se?ne(R,M,B,fe):null;case U:return Se=B._init,Te(R,M,Se(B._payload),fe)}if(le(B)||L(B))return Se!==null?null:he(R,M,B,fe,null);io(R,B)}return null}function Ze(R,M,B,fe,Se){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return R=R.get(B)||null,P(M,R,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case a:return R=R.get(fe.key===null?B:fe.key)||null,G(M,R,fe,Se);case d:return R=R.get(fe.key===null?B:fe.key)||null,ne(M,R,fe,Se);case U:var ze=fe._init;return Ze(R,M,B,ze(fe._payload),Se)}if(le(fe)||L(fe))return R=R.get(B)||null,he(M,R,fe,Se,null);io(M,fe)}return null}function _e(R,M,B,fe){for(var Se=null,ze=null,De=M,We=M=0,kt=null;De!==null&&We<B.length;We++){De.index>We?(kt=De,De=null):kt=De.sibling;var be=Te(R,De,B[We],fe);if(be===null){De===null&&(De=kt);break}e&&De&&be.alternate===null&&t(R,De),M=v(be,M,We),ze===null?Se=be:ze.sibling=be,ze=be,De=kt}if(We===B.length)return r(R,De),rt&&yr(R,We),Se;if(De===null){for(;We<B.length;We++)De=Fe(R,B[We],fe),De!==null&&(M=v(De,M,We),ze===null?Se=De:ze.sibling=De,ze=De);return rt&&yr(R,We),Se}for(De=l(R,De);We<B.length;We++)kt=Ze(De,R,We,B[We],fe),kt!==null&&(e&&kt.alternate!==null&&De.delete(kt.key===null?We:kt.key),M=v(kt,M,We),ze===null?Se=kt:ze.sibling=kt,ze=kt);return e&&De.forEach(function(sr){return t(R,sr)}),rt&&yr(R,We),Se}function Ot(R,M,B,fe){var Se=L(B);if(typeof Se!="function")throw Error(s(150));if(B=Se.call(B),B==null)throw Error(s(151));for(var ze=Se=null,De=M,We=M=0,kt=null,be=B.next();De!==null&&!be.done;We++,be=B.next()){De.index>We?(kt=De,De=null):kt=De.sibling;var sr=Te(R,De,be.value,fe);if(sr===null){De===null&&(De=kt);break}e&&De&&sr.alternate===null&&t(R,De),M=v(sr,M,We),ze===null?Se=sr:ze.sibling=sr,ze=sr,De=kt}if(be.done)return r(R,De),rt&&yr(R,We),Se;if(De===null){for(;!be.done;We++,be=B.next())be=Fe(R,be.value,fe),be!==null&&(M=v(be,M,We),ze===null?Se=be:ze.sibling=be,ze=be);return rt&&yr(R,We),Se}for(De=l(R,De);!be.done;We++,be=B.next())be=Ze(De,R,We,be.value,fe),be!==null&&(e&&be.alternate!==null&&De.delete(be.key===null?We:be.key),M=v(be,M,We),ze===null?Se=be:ze.sibling=be,ze=be);return e&&De.forEach(function(uc){return t(R,uc)}),rt&&yr(R,We),Se}function Sn(R,M,B,fe){if(typeof B=="object"&&B!==null&&B.type===c&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case a:e:{for(var Se=B.key,ze=M;ze!==null;){if(ze.key===Se){if(Se=B.type,Se===c){if(ze.tag===7){r(R,ze.sibling),M=f(ze,B.props.children),M.return=R,R=M;break e}}else if(ze.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===U&&Ga(Se)===ze.type){r(R,ze.sibling),M=f(ze,B.props),M.ref=xi(R,ze,B),M.return=R,R=M;break e}r(R,ze);break}else t(R,ze);ze=ze.sibling}B.type===c?(M=Tr(B.props.children,R.mode,fe,B.key),M.return=R,R=M):(fe=zo(B.type,B.key,B.props,null,R.mode,fe),fe.ref=xi(R,M,B),fe.return=R,R=fe)}return _(R);case d:e:{for(ze=B.key;M!==null;){if(M.key===ze)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(R,M.sibling),M=f(M,B.children||[]),M.return=R,R=M;break e}else{r(R,M);break}else t(R,M);M=M.sibling}M=Vl(B,R.mode,fe),M.return=R,R=M}return _(R);case U:return ze=B._init,Sn(R,M,ze(B._payload),fe)}if(le(B))return _e(R,M,B,fe);if(L(B))return Ot(R,M,B,fe);io(R,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,M!==null&&M.tag===6?(r(R,M.sibling),M=f(M,B),M.return=R,R=M):(r(R,M),M=Hl(B,R.mode,fe),M.return=R,R=M),_(R)):r(R,M)}return Sn}var Vr=ja(!0),Wa=ja(!1),Ei={},vn=$t(Ei),ki=$t(Ei),Qr=$t(Ei);function Rn(e){if(e===Ei)throw Error(s(174));return e}function sl(e,t){Je(Qr,t),Je(ki,e),Je(vn,Ei),e=ke(t),Xe(vn),Je(vn,e)}function Xr(){Xe(vn),Xe(ki),Xe(Qr)}function ba(e){var t=Rn(Qr.current),r=Rn(vn.current);t=W(r,e.type,t),r!==t&&(Je(ki,e),Je(vn,t))}function ul(e){ki.current===e&&(Xe(vn),Xe(ki))}var ot=$t(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qe(r)||ft(r)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=[];function cl(){for(var e=0;e<fl.length;e++){var t=fl[e];ve?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}fl.length=0}var lo=u.ReactCurrentDispatcher,mn=u.ReactCurrentBatchConfig,Yr=0,ut=null,Lt=null,Et=null,ao=!1,Ti=!1,Ui=0,Af=0;function Rt(){throw Error(s(321))}function dl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function hl(e,t,r,l,f,v){if(Yr=v,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=e===null||e.memoizedState===null?Bf:Nf,e=r(l,f),Ti){v=0;do{if(Ti=!1,Ui=0,25<=v)throw Error(s(301));v+=1,Et=Lt=null,t.updateQueue=null,lo.current=Gf,e=r(l,f)}while(Ti)}if(lo.current=ho,t=Lt!==null&&Lt.next!==null,Yr=0,Et=Lt=ut=null,ao=!1,t)throw Error(s(300));return e}function pl(){var e=Ui!==0;return Ui=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ut.memoizedState=Et=e:Et=Et.next=e,Et}function An(){if(Lt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Et===null?ut.memoizedState:Et.next;if(t!==null)Et=t,Lt=e;else{if(e===null)throw Error(s(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Et===null?ut.memoizedState=Et=e:Et=Et.next=e}return Et}function Sr(e,t){return typeof t=="function"?t(e):t}function so(e){var t=An(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=Lt,f=l.baseQueue,v=r.pending;if(v!==null){if(f!==null){var _=f.next;f.next=v.next,v.next=_}l.baseQueue=f=v,r.pending=null}if(f!==null){v=f.next,l=l.baseState;var P=_=null,G=null,ne=v;do{var he=ne.lane;if((Yr&he)===he)G!==null&&(G=G.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),l=ne.hasEagerState?ne.eagerState:e(l,ne.action);else{var Fe={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};G===null?(P=G=Fe,_=l):G=G.next=Fe,ut.lanes|=he,Kr|=he}ne=ne.next}while(ne!==null&&ne!==v);G===null?_=l:G.next=P,on(l,t.memoizedState)||(un=!0),t.memoizedState=l,t.baseState=_,t.baseQueue=G,r.lastRenderedState=l}if(e=r.interleaved,e!==null){f=e;do v=f.lane,ut.lanes|=v,Kr|=v,f=f.next;while(f!==e)}else f===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function uo(e){var t=An(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,v=t.memoizedState;if(f!==null){r.pending=null;var _=f=f.next;do v=e(v,_.action),_=_.next;while(_!==f);on(v,t.memoizedState)||(un=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),r.lastRenderedState=v}return[v,l]}function Ha(){}function Va(e,t){var r=ut,l=An(),f=t(),v=!on(l.memoizedState,f);if(v&&(l.memoizedState=f,un=!0),l=l.queue,Pi(Ya.bind(null,r,l,e),[e]),l.getSnapshot!==t||v||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Ci(9,Xa.bind(null,r,l,f,t),void 0,null),vt===null)throw Error(s(349));Yr&30||Qa(r,t,f)}return f}function Qa(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xa(e,t,r,l){t.value=r,t.getSnapshot=l,Ja(t)&&gn(e,1,-1)}function Ya(e,t,r){return r(function(){Ja(t)&&gn(e,1,-1)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch{return!0}}function vl(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:e},t.queue=e,e=e.dispatch=If.bind(null,ut,e),[t.memoizedState,e]}function Ci(e,t,r,l){return e={tag:e,create:t,destroy:r,deps:l,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e)),e}function Ka(){return An().memoizedState}function fo(e,t,r,l){var f=Jn();ut.flags|=e,f.memoizedState=Ci(1|t,r,void 0,l===void 0?null:l)}function co(e,t,r,l){var f=An();l=l===void 0?null:l;var v=void 0;if(Lt!==null){var _=Lt.memoizedState;if(v=_.destroy,l!==null&&dl(l,_.deps)){f.memoizedState=Ci(t,r,v,l);return}}ut.flags|=e,f.memoizedState=Ci(1|t,r,v,l)}function ml(e,t){return fo(8390656,8,e,t)}function Pi(e,t){return co(2048,8,e,t)}function Za(e,t){return co(4,2,e,t)}function qa(e,t){return co(4,4,e,t)}function $a(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function es(e,t,r){return r=r!=null?r.concat([e]):null,co(4,4,$a.bind(null,t,e),r)}function gl(){}function ts(e,t){var r=An();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&dl(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function ns(e,t){var r=An();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&dl(t,l[1])?l[0]:(e=e(),r.memoizedState=[e,t],e)}function Of(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var l=mn.transition;mn.transition={};try{e(!1),t()}finally{Ne=r,mn.transition=l}}function rs(){return An().memoizedState}function zf(e,t,r){var l=or(e);r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},is(e)?os(t,r):(ls(e,t,r),r=Vt(),e=gn(e,l,r),e!==null&&as(e,t,l))}function If(e,t,r){var l=or(e),f={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(is(e))os(t,f);else{ls(e,t,f);var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var _=t.lastRenderedState,P=v(_,r);if(f.hasEagerState=!0,f.eagerState=P,on(P,_))return}catch{}finally{}r=Vt(),e=gn(e,l,r),e!==null&&as(e,t,l)}}function is(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function os(e,t){Ti=ao=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ls(e,t,r){vt!==null&&e.mode&1&&!(Be&2)?(e=t.interleaved,e===null?(r.next=r,ln===null?ln=[t]:ln.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(e=t.pending,e===null?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function as(e,t,r){if(r&4194240){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Dn(e,r)}}var ho={readContext:dt,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Bf={readContext:dt,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:ml,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fo(4194308,4,$a.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var r=Jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var l=Jn();return t=r!==void 0?r(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=zf.bind(null,ut,e),[l.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:vl,useDebugValue:gl,useDeferredValue:function(e){var t=vl(e),r=t[0],l=t[1];return ml(function(){var f=mn.transition;mn.transition={};try{l(e)}finally{mn.transition=f}},[e]),r},useTransition:function(){var e=vl(!1),t=e[0];return e=Of.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var l=ut,f=Jn();if(rt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),vt===null)throw Error(s(349));Yr&30||Qa(l,t,r)}f.memoizedState=r;var v={value:r,getSnapshot:t};return f.queue=v,ml(Ya.bind(null,l,v,e),[e]),l.flags|=2048,Ci(9,Xa.bind(null,l,v,r,t),void 0,null),r},useId:function(){var e=Jn(),t=vt.identifierPrefix;if(rt){var r=Yn,l=Xn;r=(l&~(1<<32-nn(l)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ui++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Af++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nf={readContext:dt,useCallback:ts,useContext:dt,useEffect:Pi,useImperativeHandle:es,useInsertionEffect:Za,useLayoutEffect:qa,useMemo:ns,useReducer:so,useRef:Ka,useState:function(){return so(Sr)},useDebugValue:gl,useDeferredValue:function(e){var t=so(Sr),r=t[0],l=t[1];return Pi(function(){var f=mn.transition;mn.transition={};try{l(e)}finally{mn.transition=f}},[e]),r},useTransition:function(){var e=so(Sr)[0],t=An().memoizedState;return[e,t]},useMutableSource:Ha,useSyncExternalStore:Va,useId:rs,unstable_isNewReconciler:!1},Gf={readContext:dt,useCallback:ts,useContext:dt,useEffect:Pi,useImperativeHandle:es,useInsertionEffect:Za,useLayoutEffect:qa,useMemo:ns,useReducer:uo,useRef:Ka,useState:function(){return uo(Sr)},useDebugValue:gl,useDeferredValue:function(e){var t=uo(Sr),r=t[0],l=t[1];return Pi(function(){var f=mn.transition;mn.transition={};try{l(e)}finally{mn.transition=f}},[e]),r},useTransition:function(){var e=uo(Sr)[0],t=An().memoizedState;return[e,t]},useMutableSource:Ha,useSyncExternalStore:Va,useId:rs,unstable_isNewReconciler:!1};function yl(e,t){try{var r="",l=t;do r+=mr(l),l=l.return;while(l);var f=r}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:f}}function Sl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jf=typeof WeakMap=="function"?WeakMap:Map;function ss(e,t,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var l=t.value;return r.callback=function(){Mo||(Mo=!0,Il=l),Sl(e,t)},r}function us(e,t,r){r=Qn(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var f=t.value;r.payload=function(){return l(f)},r.callback=function(){Sl(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){Sl(e,t),typeof l!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var _=t.stack;this.componentDidCatch(t.value,{componentStack:_!==null?_:""})}),r}function fs(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new jf;var f=new Set;l.set(t,f)}else f=l.get(t),f===void 0&&(f=new Set,l.set(t,f));f.has(r)||(f.add(r),e=tc.bind(null,e,t,r),t.then(e,e))}function cs(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ds(e,t,r,l,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qn(-1,1),t.tag=2,nr(r,t))),r.lanes|=1),e)}function On(e){e.flags|=4}function hs(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var Mi,Fi,po,vo;if(oe)Mi=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)O(e,r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Fi=function(){},po=function(e,t,r,l,f){if(e=e.memoizedProps,e!==l){var v=t.stateNode,_=Rn(vn.current);r=Y(v,r,e,l,f,_),(t.updateQueue=r)&&On(t)}},vo=function(e,t,r,l){r!==l&&On(t)};else if(K){Mi=function(e,t,r,l){for(var f=t.child;f!==null;){if(f.tag===5){var v=f.stateNode;r&&l&&(v=Zn(v,f.type,f.memoizedProps,f)),O(e,v)}else if(f.tag===6)v=f.stateNode,r&&l&&(v=tt(v,f.memoizedProps,f)),O(e,v);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)v=f.child,v!==null&&(v.return=f),Mi(e,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===t)break;for(;f.sibling===null;){if(f.return===null||f.return===t)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};var ps=function(e,t,r,l){for(var f=t.child;f!==null;){if(f.tag===5){var v=f.stateNode;r&&l&&(v=Zn(v,f.type,f.memoizedProps,f)),It(e,v)}else if(f.tag===6)v=f.stateNode,r&&l&&(v=tt(v,f.memoizedProps,f)),It(e,v);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)v=f.child,v!==null&&(v.return=f),ps(e,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===t)break;for(;f.sibling===null;){if(f.return===null||f.return===t)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};Fi=function(e,t){var r=t.stateNode;if(!hs(e,t)){e=r.containerInfo;var l=_n(e);ps(l,t,!1,!1),r.pendingChildren=l,On(t),Bt(e,l)}},po=function(e,t,r,l,f){var v=e.stateNode,_=e.memoizedProps;if((e=hs(e,t))&&_===l)t.stateNode=v;else{var P=t.stateNode,G=Rn(vn.current),ne=null;_!==l&&(ne=Y(P,r,_,l,f,G)),e&&ne===null?t.stateNode=v:(v=Nn(v,ne,r,_,l,t,e,P),V(v,r,l,f,G)&&On(t),t.stateNode=v,e?On(t):Mi(v,t,!1,!1))}},vo=function(e,t,r,l){r!==l?(e=Rn(Qr.current),r=Rn(vn.current),t.stateNode=q(l,e,r,t),On(t)):t.stateNode=e.stateNode}}else Fi=function(){},po=function(){},vo=function(){};function Di(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Wf(e,t,r){var l=t.pendingProps;switch(il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return wt(t.type)&&En(),At(t),null;case 3:return l=t.stateNode,Xr(),Xe(St),Xe(gt),cl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(_i(t)?On(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(Gl(Tn),Tn=null))),Fi(e,t),At(t),null;case 5:ul(t),r=Rn(Qr.current);var f=t.type;if(e!==null&&t.stateNode!=null)po(e,t,f,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(s(166));return At(t),null}if(e=Rn(vn.current),_i(t)){if(!Ue)throw Error(s(175));e=qt(t.stateNode,t.type,t.memoizedProps,r,e,t,!wi),t.updateQueue=e,e!==null&&On(t)}else{var v=C(f,l,r,e,t);Mi(v,t,!1,!1),t.stateNode=v,V(v,f,l,r,e)&&On(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)vo(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=Rn(Qr.current),r=Rn(vn.current),_i(t)){if(!Ue)throw Error(s(176));if(e=t.stateNode,l=t.memoizedProps,(r=Gn(e,l,t,!wi))&&(f=an,f!==null))switch(v=(f.mode&1)!==0,f.tag){case 3:fi(f.stateNode.containerInfo,e,l,v);break;case 5:ci(f.type,f.memoizedProps,f.stateNode,e,l,v)}r&&On(t)}else t.stateNode=q(l,e,r,t)}return At(t),null;case 13:if(Xe(ot),l=t.memoizedState,rt&&sn!==null&&t.mode&1&&!(t.flags&128)){for(e=sn;e;)e=st(e);return Hr(),t.flags|=98560,t}if(l!==null&&l.dehydrated!==null){if(l=_i(t),e===null){if(!l)throw Error(s(318));if(!Ue)throw Error(s(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qo(e,t)}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return At(t),null}return Tn!==null&&(Gl(Tn),Tn=null),t.flags&128?(t.lanes=r,t):(l=l!==null,r=!1,e===null?_i(t):r=e.memoizedState!==null,l&&!r&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?yt===0&&(yt=3):Wl())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return Xr(),Fi(e,t),e===null&&ce(t.stateNode.containerInfo),At(t),null;case 10:return xt(t.type._context),At(t),null;case 17:return wt(t.type)&&En(),At(t),null;case 19:if(Xe(ot),f=t.memoizedState,f===null)return At(t),null;if(l=(t.flags&128)!==0,v=f.rendering,v===null)if(l)Di(f,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(v=oo(e),v!==null){for(t.flags|=128,Di(f,!1),e=v.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=r,l=t.child;l!==null;)r=l,f=e,r.flags&=14680066,v=r.alternate,v===null?(r.childLanes=0,r.lanes=f,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=v.childLanes,r.lanes=v.lanes,r.child=v.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=v.memoizedProps,r.memoizedState=v.memoizedState,r.updateQueue=v.updateQueue,r.type=v.type,f=v.dependencies,r.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l=l.sibling;return Je(ot,ot.current&1|2),t.child}e=e.sibling}f.tail!==null&&it()>zl&&(t.flags|=128,l=!0,Di(f,!1),t.lanes=4194304)}else{if(!l)if(e=oo(v),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Di(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!rt)return At(t),null}else 2*it()-f.renderingStartTime>zl&&r!==1073741824&&(t.flags|=128,l=!0,Di(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(e=f.last,e!==null?e.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=it(),t.sibling=null,e=ot.current,Je(ot,l?e&1|2:e&1),t):(At(t),null);case 22:case 23:return jl(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?fn&1073741824&&(At(t),oe&&t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}var bf=u.ReactCurrentOwner,un=!1;function Ht(e,t,r,l){t.child=e===null?Wa(t,null,r,l):Vr(t,e.child,r,l)}function vs(e,t,r,l,f){r=r.render;var v=t.ref;return ct(t,f),l=hl(e,t,r,l,v,f),r=pl(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Kn(e,t,f)):(rt&&r&&rl(t),t.flags|=1,Ht(e,t,l,f),t.child)}function ms(e,t,r,l,f){if(e===null){var v=r.type;return typeof v=="function"&&!bl(v)&&v.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=v,gs(e,t,v,l,f)):(e=zo(r.type,null,l,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,!(e.lanes&f)){var _=v.memoizedProps;if(r=r.compare,r=r!==null?r:vr,r(_,l)&&e.ref===t.ref)return Kn(e,t,f)}return t.flags|=1,e=ar(v,l),e.ref=t.ref,e.return=t,t.child=e}function gs(e,t,r,l,f){if(e!==null&&vr(e.memoizedProps,l)&&e.ref===t.ref)if(un=!1,(e.lanes&f)!==0)e.flags&131072&&(un=!0);else return t.lanes=e.lanes,Kn(e,t,f);return wl(e,t,r,l,f)}function ys(e,t,r){var l=t.pendingProps,f=l.children,v=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},Je(Jr,fn),fn|=r;else if(r&1073741824)t.memoizedState={baseLanes:0,cachePool:null},l=v!==null?v.baseLanes:r,Je(Jr,fn),fn|=l;else return e=v!==null?v.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Je(Jr,fn),fn|=e,null;else v!==null?(l=v.baseLanes|r,t.memoizedState=null):l=r,Je(Jr,fn),fn|=l;return Ht(e,t,f,r),t.child}function Ss(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wl(e,t,r,l,f){var v=wt(r)?Mn:gt.current;return v=cn(t,v),ct(t,f),r=hl(e,t,r,l,v,f),l=pl(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Kn(e,t,f)):(rt&&l&&rl(t),t.flags|=1,Ht(e,t,r,f),t.child)}function ws(e,t,r,l,f){if(wt(r)){var v=!0;qn(t)}else v=!1;if(ct(t,f),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Aa(t,r,l),nl(t,r,l,f),l=!0;else if(e===null){var _=t.stateNode,P=t.memoizedProps;_.props=P;var G=_.context,ne=r.contextType;typeof ne=="object"&&ne!==null?ne=dt(ne):(ne=wt(r)?Mn:gt.current,ne=cn(t,ne));var he=r.getDerivedStateFromProps,Fe=typeof he=="function"||typeof _.getSnapshotBeforeUpdate=="function";Fe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==l||G!==ne)&&Oa(t,_,l,ne),tr=!1;var Te=t.memoizedState;_.state=Te,eo(t,l,_,f),G=t.memoizedState,P!==l||Te!==G||St.current||tr?(typeof he=="function"&&(tl(t,r,he,l),G=t.memoizedState),(P=tr||Ra(t,r,P,l,Te,G,ne))?(Fe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=G),_.props=l,_.state=G,_.context=ne,l=P):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{_=t.stateNode,Ma(e,t),P=t.memoizedProps,ne=t.type===t.elementType?P:Wt(t.type,P),_.props=ne,Fe=t.pendingProps,Te=_.context,G=r.contextType,typeof G=="object"&&G!==null?G=dt(G):(G=wt(r)?Mn:gt.current,G=cn(t,G));var Ze=r.getDerivedStateFromProps;(he=typeof Ze=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Fe||Te!==G)&&Oa(t,_,l,G),tr=!1,Te=t.memoizedState,_.state=Te,eo(t,l,_,f);var _e=t.memoizedState;P!==Fe||Te!==_e||St.current||tr?(typeof Ze=="function"&&(tl(t,r,Ze,l),_e=t.memoizedState),(ne=tr||Ra(t,r,ne,l,Te,_e,G)||!1)?(he||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(l,_e,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(l,_e,G)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=_e),_.props=l,_.state=_e,_.context=G,l=ne):(typeof _.componentDidUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=1024),l=!1)}return _l(e,t,r,l,v,f)}function _l(e,t,r,l,f,v){Ss(e,t);var _=(t.flags&128)!==0;if(!l&&!_)return f&&tn(t,r,!1),Kn(e,t,v);l=t.stateNode,bf.current=t;var P=_&&typeof r.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&_?(t.child=Vr(t,e.child,null,v),t.child=Vr(t,null,P,v)):Ht(e,t,P,v),t.memoizedState=l.state,f&&tn(t,r,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Or(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(e,t.context,!1),sl(e,t.containerInfo)}function xs(e,t,r,l,f){return Hr(),al(f),t.flags|=256,Ht(e,t,r,l),t.child}var mo={dehydrated:null,treeContext:null,retryLane:0};function go(e){return{baseLanes:e,cachePool:null}}function Es(e,t,r){var l=t.pendingProps,f=ot.current,v=!1,_=(t.flags&128)!==0,P;if((P=_)||(P=e!==null&&e.memoizedState===null?!1:(f&2)!==0),P?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Je(ot,f&1),e===null)return ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?ft(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=l.children,e=l.fallback,v?(l=t.mode,v=t.child,f={mode:"hidden",children:f},!(l&1)&&v!==null?(v.childLanes=0,v.pendingProps=f):v=Io(f,l,0,null),e=Tr(e,l,r,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=go(r),t.memoizedState=mo,e):xl(t,f));if(f=e.memoizedState,f!==null){if(P=f.dehydrated,P!==null){if(_)return t.flags&256?(t.flags&=-257,yo(e,t,r,Error(s(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=l.fallback,f=t.mode,l=Io({mode:"visible",children:l.children},f,0,null),v=Tr(v,f,r,null),v.flags|=2,l.return=t,v.return=t,l.sibling=v,t.child=l,t.mode&1&&Vr(t,e.child,null,r),t.child.memoizedState=go(r),t.memoizedState=mo,v);if(!(t.mode&1))t=yo(e,t,r,null);else if(ft(P))t=yo(e,t,r,Error(s(419)));else if(l=(r&e.childLanes)!==0,un||l){if(l=vt,l!==null){switch(r&-r){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}l=v&(l.suspendedLanes|r)?0:v,l!==0&&l!==f.retryLane&&(f.retryLane=l,gn(e,l,-1))}Wl(),t=yo(e,t,r,Error(s(421)))}else Qe(P)?(t.flags|=128,t.child=e.child,t=nc.bind(null,e),Qt(P,t),t=null):(r=f.treeContext,Ue&&(sn=Un(P),an=t,rt=!0,Tn=null,wi=!1,r!==null&&(hn[pn++]=Xn,hn[pn++]=Yn,hn[pn++]=gr,Xn=r.id,Yn=r.overflow,gr=t)),t=xl(t,t.pendingProps.children),t.flags|=4096);return t}return v?(l=Ts(e,t,l.children,l.fallback,r),v=t.child,f=e.child.memoizedState,v.memoizedState=f===null?go(r):{baseLanes:f.baseLanes|r,cachePool:null},v.childLanes=e.childLanes&~r,t.memoizedState=mo,l):(r=ks(e,t,l.children,r),t.memoizedState=null,r)}return v?(l=Ts(e,t,l.children,l.fallback,r),v=t.child,f=e.child.memoizedState,v.memoizedState=f===null?go(r):{baseLanes:f.baseLanes|r,cachePool:null},v.childLanes=e.childLanes&~r,t.memoizedState=mo,l):(r=ks(e,t,l.children,r),t.memoizedState=null,r)}function xl(e,t){return t=Io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,r,l){var f=e.child;return e=f.sibling,r=ar(f,{mode:"visible",children:r}),!(t.mode&1)&&(r.lanes=l),r.return=t,r.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=r}function Ts(e,t,r,l,f){var v=t.mode;e=e.child;var _=e.sibling,P={mode:"hidden",children:r};return!(v&1)&&t.child!==e?(r=t.child,r.childLanes=0,r.pendingProps=P,t.deletions=null):(r=ar(e,P),r.subtreeFlags=e.subtreeFlags&14680064),_!==null?l=ar(_,l):(l=Tr(l,v,f,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,l}function yo(e,t,r,l){return l!==null&&al(l),Vr(t,e.child,null,r),e=xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Us(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),bt(e.return,t,r)}function El(e,t,r,l,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=f)}function Cs(e,t,r){var l=t.pendingProps,f=l.revealOrder,v=l.tail;if(Ht(e,t,l.children,r),l=ot.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Us(e,r,t);else if(e.tag===19)Us(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Je(ot,l),!(t.mode&1))t.memoizedState=null;else switch(f){case"forwards":for(r=t.child,f=null;r!==null;)e=r.alternate,e!==null&&oo(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=t.child,t.child=null):(f=r.sibling,r.sibling=null),El(t,!1,f,r,v);break;case"backwards":for(r=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&oo(e)===null){t.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}El(t,!0,r,null,v);break;case"together":El(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hf(e,t,r){switch(t.tag){case 3:_s(t),Hr();break;case 5:ba(t);break;case 1:wt(t.type)&&qn(t);break;case 4:sl(t,t.stateNode.containerInfo);break;case 10:qi(t,t.type._context,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Je(ot,ot.current&1),t.flags|=128,null):r&t.child.childLanes?Es(e,t,r):(Je(ot,ot.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);Je(ot,ot.current&1);break;case 19:if(l=(r&t.childLanes)!==0,e.flags&128){if(l)return Cs(e,t,r);t.flags|=128}var f=t.memoizedState;if(f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(ot,ot.current),l)break;return null;case 22:case 23:return t.lanes=0,ys(e,t,r)}return Kn(e,t,r)}function Vf(e,t){switch(il(t),t.tag){case 1:return wt(t.type)&&En(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Xe(St),Xe(gt),cl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(Xe(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(ot),null;case 4:return Xr(),null;case 10:return xt(t.type._context),null;case 22:case 23:return jl(),null;case 24:return null;default:return null}}var So=!1,wr=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,ue=null;function wo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){Kt(e,t,l)}else r.current=null}function kl(e,t,r){try{r()}catch(l){Kt(e,t,l)}}var Ps=!1;function Xf(e,t){for(z(e.containerInfo),ue=t;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var r=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(r!==null){var l=r.memoizedProps,f=r.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?l:Wt(e.type,l),f);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:oe&&wn(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(P){Kt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return r=Ps,Ps=!1,r}function _r(e,t,r){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&e)===e){var v=f.destroy;f.destroy=void 0,v!==void 0&&kl(t,r,v)}f=f.next}while(f!==l)}}function Li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==t)}}function Tl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=re(r);break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ms(e,t,r){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(hr,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var l=e=e.next;do{var f=l,v=f.destroy;f=f.tag,v!==void 0&&(f&2||f&4)&&kl(t,r,v),l=l.next}while(l!==e)}break;case 1:if(wo(t,r),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(_){Kt(t,r,_)}break;case 5:wo(t,r);break;case 4:oe?Os(e,t,r):K&&K&&(t=t.stateNode.containerInfo,r=_n(t),$e(t,r))}}function Fs(e,t,r){for(var l=t;;)if(Ms(e,l,r),l.child===null||oe&&l.tag===4){if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}else l.child.return=l,l=l.child}function Ds(e){var t=e.alternate;t!==null&&(e.alternate=null,Ds(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Me(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ls(e){return e.tag===5||e.tag===3||e.tag===4}function Rs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function As(e){if(oe){e:{for(var t=e.return;t!==null;){if(Ls(t))break e;t=t.return}throw Error(s(160))}var r=t;switch(r.tag){case 5:t=r.stateNode,r.flags&32&&(Ye(t),r.flags&=-33),r=Rs(e),Cl(e,r,t);break;case 3:case 4:t=r.stateNode.containerInfo,r=Rs(e),Ul(e,r,t);break;default:throw Error(s(161))}}}function Ul(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?Ie(r,e,t):Re(r,e);else if(l!==4&&(e=e.child,e!==null))for(Ul(e,t,r),e=e.sibling;e!==null;)Ul(e,t,r),e=e.sibling}function Cl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?Ke(r,e,t):xe(r,e);else if(l!==4&&(e=e.child,e!==null))for(Cl(e,t,r),e=e.sibling;e!==null;)Cl(e,t,r),e=e.sibling}function Os(e,t,r){for(var l=t,f=!1,v,_;;){if(!f){f=l.return;e:for(;;){if(f===null)throw Error(s(160));switch(v=f.stateNode,f.tag){case 5:_=!1;break e;case 3:v=v.containerInfo,_=!0;break e;case 4:v=v.containerInfo,_=!0;break e}f=f.return}f=!0}if(l.tag===5||l.tag===6)Fs(e,l,r),_?Ve(v,l.stateNode):Pe(v,l.stateNode);else if(l.tag===18)_?Qi(v,l.stateNode):$o(v,l.stateNode);else if(l.tag===4){if(l.child!==null){v=l.stateNode.containerInfo,_=!0,l.child.return=l,l=l.child;continue}}else if(Ms(e,l,r),l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return,l.tag===4&&(f=!1)}l.sibling.return=l.return,l=l.sibling}}function Pl(e,t){if(oe){switch(t.tag){case 0:case 11:case 14:case 15:_r(3,t,t.return),Li(3,t),_r(5,t,t.return);return;case 1:return;case 5:var r=t.stateNode;if(r!=null){var l=t.memoizedProps;e=e!==null?e.memoizedProps:l;var f=t.type,v=t.updateQueue;t.updateQueue=null,v!==null&&Le(r,v,f,e,l,t)}return;case 6:if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,je(t.stateNode,e!==null?e.memoizedProps:r,r);return;case 3:Ue&&e!==null&&e.memoizedState.isDehydrated&&ur(t.stateNode.containerInfo);return;case 12:return;case 13:_o(t);return;case 19:_o(t);return;case 17:return}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:_r(3,t,t.return),Li(3,t),_r(5,t,t.return);return;case 12:return;case 13:_o(t);return;case 19:_o(t);return;case 3:Ue&&e!==null&&e.memoizedState.isDehydrated&&ur(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,$e(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function _o(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qf),t.forEach(function(l){var f=rc.bind(null,e,l);r.has(l)||(r.add(l),l.then(f,f))})}}function Yf(e,t){for(ue=t;ue!==null;){t=ue;var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];try{var v=e;oe?Os(v,f,t):Fs(v,f,t);var _=f.alternate;_!==null&&(_.return=null),f.return=null}catch(Se){Kt(f,t,Se)}}if(r=t.child,t.subtreeFlags&12854&&r!==null)r.return=t,ue=r;else for(;ue!==null;){t=ue;try{var P=t.flags;if(P&32&&oe&&Ye(t.stateNode),P&512){var G=t.alternate;if(G!==null){var ne=G.ref;ne!==null&&(typeof ne=="function"?ne(null):ne.current=null)}}if(P&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var he=t.alternate;(he===null||he.memoizedState===null)&&(Ol=it())}break;case 22:var Fe=t.memoizedState!==null,Te=t.alternate,Ze=Te!==null&&Te.memoizedState!==null;if(r=t,oe){e:if(l=r,f=Fe,v=null,oe)for(var _e=l;;){if(_e.tag===5){if(v===null){v=_e;var Ot=_e.stateNode;f?at(Ot):qe(_e.stateNode,_e.memoizedProps)}}else if(_e.tag===6){if(v===null){var Sn=_e.stateNode;f?Oe(Sn):Ut(Sn,_e.memoizedProps)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===l)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===l)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===l)break e;v===_e&&(v=null),_e=_e.return}v===_e&&(v=null),_e.sibling.return=_e.return,_e=_e.sibling}}if(Fe&&!Ze&&r.mode&1){ue=r;for(var R=r.child;R!==null;){for(r=ue=R;ue!==null;){l=ue;var M=l.child;switch(l.tag){case 0:case 11:case 14:case 15:_r(4,l,l.return);break;case 1:wo(l,l.return);var B=l.stateNode;if(typeof B.componentWillUnmount=="function"){var fe=l.return;try{B.props=l.memoizedProps,B.state=l.memoizedState,B.componentWillUnmount()}catch(Se){Kt(l,fe,Se)}}break;case 5:wo(l,l.return);break;case 22:if(l.memoizedState!==null){Bs(r);continue}}M!==null?(M.return=l,ue=M):Bs(r)}R=R.sibling}}}switch(P&4102){case 2:As(t),t.flags&=-3;break;case 6:As(t),t.flags&=-3,Pl(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Pl(t.alternate,t);break;case 4:Pl(t.alternate,t)}}catch(Se){Kt(t,t.return,Se)}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}}function Jf(e,t,r){ue=e,zs(e)}function zs(e,t,r){for(var l=(e.mode&1)!==0;ue!==null;){var f=ue,v=f.child;if(f.tag===22&&l){var _=f.memoizedState!==null||So;if(!_){var P=f.alternate,G=P!==null&&P.memoizedState!==null||wr;P=So;var ne=wr;if(So=_,(wr=G)&&!ne)for(ue=f;ue!==null;)_=ue,G=_.child,_.tag===22&&_.memoizedState!==null?Ns(f):G!==null?(G.return=_,ue=G):Ns(f);for(;v!==null;)ue=v,zs(v),v=v.sibling;ue=f,So=P,wr=ne}Is(e)}else f.subtreeFlags&8772&&v!==null?(v.return=f,ue=v):Is(e)}}function Is(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wr||Li(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!wr)if(r===null)l.componentDidMount();else{var f=t.elementType===t.type?r.memoizedProps:Wt(t.type,r.memoizedProps);l.componentDidUpdate(f,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&Da(t,v,l);break;case 3:var _=t.updateQueue;if(_!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=re(t.child.stateNode);break;case 1:r=t.child.stateNode}Da(t,_,r)}break;case 5:var P=t.stateNode;r===null&&t.flags&4&&lt(P,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(Ue&&t.memoizedState===null){var G=t.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var he=ne.dehydrated;he!==null&&ui(he)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}wr||t.flags&512&&Tl(t)}catch(Fe){Kt(t,t.return,Fe)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Bs(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Ns(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Li(4,t)}catch(G){Kt(t,r,G)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var f=t.return;try{l.componentDidMount()}catch(G){Kt(t,f,G)}}var v=t.return;try{Tl(t)}catch(G){Kt(t,v,G)}break;case 5:var _=t.return;try{Tl(t)}catch(G){Kt(t,_,G)}}}catch(G){Kt(t,t.return,G)}if(t===e){ue=null;break}var P=t.sibling;if(P!==null){P.return=t.return,ue=P;break}ue=t.return}}var xo=0,Eo=1,ko=2,To=3,Uo=4;if(typeof Symbol=="function"&&Symbol.for){var Ri=Symbol.for;xo=Ri("selector.component"),Eo=Ri("selector.has_pseudo_class"),ko=Ri("selector.role"),To=Ri("selector.test_id"),Uo=Ri("selector.text")}function Ml(e){var t=Ae(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(s(364));return t}if(e=ee(e),e===null)throw Error(s(362));return e.stateNode.current}function Fl(e,t){switch(t.$$typeof){case xo:if(e.type===t.value)return!0;break;case Eo:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var l=e[r++],f=e[r++],v=t[f];if(l.tag!==5||!ge(l)){for(;v!=null&&Fl(l,v);)f++,v=t[f];if(f===t.length){t=!0;break e}else for(l=l.child;l!==null;)e.push(l,f),l=l.sibling}}t=!1}return t;case ko:if(e.tag===5&&pe(e.stateNode,t.value))return!0;break;case Uo:if((e.tag===5||e.tag===6)&&(e=me(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case To:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Dl(e){switch(e.$$typeof){case xo:return"<"+(I(e.value)||"Unknown")+">";case Eo:return":has("+(Dl(e)||"")+")";case ko:return'[role="'+e.value+'"]';case Uo:return'"'+e.value+'"';case To:return'[data-testname="'+e.value+'"]';default:throw Error(s(365))}}function Gs(e,t){var r=[];e=[e,0];for(var l=0;l<e.length;){var f=e[l++],v=e[l++],_=t[v];if(f.tag!==5||!ge(f)){for(;_!=null&&Fl(f,_);)v++,_=t[v];if(v===t.length)r.push(f);else for(f=f.child;f!==null;)e.push(f,v),f=f.sibling}}return r}function Ll(e,t){if(!de)throw Error(s(363));e=Ml(e),e=Gs(e,t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var l=e[r++];if(l.tag===5)ge(l)||t.push(l.stateNode);else for(l=l.child;l!==null;)e.push(l),l=l.sibling}return t}var Kf=Math.ceil,Co=u.ReactCurrentDispatcher,Rl=u.ReactCurrentOwner,ht=u.ReactCurrentBatchConfig,Be=0,vt=null,mt=null,Pt=0,fn=0,Jr=$t(0),yt=0,Ai=null,Kr=0,Po=0,Al=0,Oi=null,Yt=null,Ol=0,zl=1/0;function Zr(){zl=it()+500}var Mo=!1,Il=null,rr=null,Fo=!1,ir=null,Do=0,zi=0,Bl=null,Lo=-1,Ro=0;function Vt(){return Be&6?it():Lo!==-1?Lo:Lo=it()}function or(e){return e.mode&1?Be&2&&Pt!==0?Pt&-Pt:pr.transition!==null?(Ro===0&&(e=jn,jn<<=1,!(jn&4194240)&&(jn=64),Ro=e),Ro):(e=Ne,e!==0?e:we()):1}function gn(e,t,r){if(50<zi)throw zi=0,Bl=null,Error(s(185));var l=Ao(e,t);return l===null?null:(Fn(l,t,r),(!(Be&2)||l!==vt)&&(l===vt&&(!(Be&2)&&(Po|=t),yt===4&&lr(l,Pt)),Jt(l,r),t===1&&Be===0&&!(e.mode&1)&&(Zr(),Ln&&Xt())),l)}function Ao(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Jt(e,t){var r=e.callbackNode;hi(e,t);var l=cr(e,e===vt?Pt:0);if(l===0)r!==null&&Nr(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(r!=null&&Nr(r),t===1)e.tag===0?Si(Ws.bind(null,e)):yi(Ws.bind(null,e)),ie?Ee(function(){Be===0&&Xt()}):Vn(dr,Xt),r=null;else{switch(pi(l)){case 1:r=dr;break;case 4:r=Ki;break;case 16:r=Gt;break;case 536870912:r=mi;break;default:r=Gt}r=Zs(r,js.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function js(e,t){if(Lo=-1,Ro=0,Be&6)throw Error(s(327));var r=e.callbackNode;if(kr()&&e.callbackNode!==r)return null;var l=cr(e,e===vt?Pt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Oo(e,l);else{t=l;var f=Be;Be|=2;var v=Vs();(vt!==e||Pt!==t)&&(Zr(),xr(e,t));do try{$f();break}catch(P){Hs(e,P)}while(1);jr(),Co.current=v,Be=f,mt!==null?t=0:(vt=null,Pt=0,t=yt)}if(t!==0){if(t===2&&(f=Hn(e),f!==0&&(l=f,t=Nl(e,f))),t===1)throw r=Ai,xr(e,0),lr(e,l),Jt(e,it()),r;if(t===6)lr(e,l);else{if(f=e.current.alternate,!(l&30)&&!Zf(f)&&(t=Oo(e,l),t===2&&(v=Hn(e),v!==0&&(l=v,t=Nl(e,v))),t===1))throw r=Ai,xr(e,0),lr(e,l),Jt(e,it()),r;switch(e.finishedWork=f,e.finishedLanes=l,t){case 0:case 1:throw Error(s(345));case 2:Er(e,Yt);break;case 3:if(lr(e,l),(l&130023424)===l&&(t=Ol+500-it(),10<t)){if(cr(e,0)!==0)break;if(f=e.suspendedLanes,(f&l)!==l){Vt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Q(Er.bind(null,e,Yt),t);break}Er(e,Yt);break;case 4:if(lr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,f=-1;0<l;){var _=31-nn(l);v=1<<_,_=t[_],_>f&&(f=_),l&=~v}if(l=f,l=it()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Kf(l/1960))-l,10<l){e.timeoutHandle=Q(Er.bind(null,e,Yt),l);break}Er(e,Yt);break;case 5:Er(e,Yt);break;default:throw Error(s(329))}}}return Jt(e,it()),e.callbackNode===r?js.bind(null,e):null}function Nl(e,t){var r=Oi;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Oo(e,t),e!==2&&(t=Yt,Yt=r,t!==null&&Gl(t)),e}function Gl(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function Zf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var f=r[l],v=f.getSnapshot;f=f.value;try{if(!on(v(),f))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Al,t&=~Po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nn(t),l=1<<r;e[r]=-1,t&=~l}}function Ws(e){if(Be&6)throw Error(s(327));kr();var t=cr(e,0);if(!(t&1))return Jt(e,it()),null;var r=Oo(e,t);if(e.tag!==0&&r===2){var l=Hn(e);l!==0&&(t=l,r=Nl(e,l))}if(r===1)throw r=Ai,xr(e,0),lr(e,t),Jt(e,it()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,Yt),Jt(e,it()),null}function bs(e){ir!==null&&ir.tag===0&&!(Be&6)&&kr();var t=Be;Be|=1;var r=ht.transition,l=Ne;try{if(ht.transition=null,Ne=1,e)return e()}finally{Ne=l,ht.transition=r,Be=t,!(Be&6)&&Xt()}}function jl(){fn=Jr.current,Xe(Jr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==se&&(e.timeoutHandle=se,$(r)),mt!==null)for(r=mt.return;r!==null;){var l=r;switch(il(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&En();break;case 3:Xr(),Xe(St),Xe(gt),cl();break;case 5:ul(l);break;case 4:Xr();break;case 13:Xe(ot);break;case 19:Xe(ot);break;case 10:xt(l.type._context);break;case 22:case 23:jl()}r=r.return}if(vt=e,mt=e=ar(e.current,null),Pt=fn=t,yt=0,Ai=null,Al=Po=Kr=0,Yt=Oi=null,ln!==null){for(t=0;t<ln.length;t++)if(r=ln[t],l=r.interleaved,l!==null){r.interleaved=null;var f=l.next,v=r.pending;if(v!==null){var _=v.next;v.next=f,l.next=_}r.pending=l}ln=null}return e}function Hs(e,t){do{var r=mt;try{if(jr(),lo.current=ho,ao){for(var l=ut.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}ao=!1}if(Yr=0,Et=Lt=ut=null,Ti=!1,Ui=0,Rl.current=null,r===null||r.return===null){yt=1,Ai=t,mt=null;break}e:{var v=e,_=r.return,P=r,G=t;if(t=Pt,P.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ne=G,he=P,Fe=he.tag;if(!(he.mode&1)&&(Fe===0||Fe===11||Fe===15)){var Te=he.alternate;Te?(he.updateQueue=Te.updateQueue,he.memoizedState=Te.memoizedState,he.lanes=Te.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ze=cs(_);if(Ze!==null){Ze.flags&=-257,ds(Ze,_,P,v,t),Ze.mode&1&&fs(v,ne,t),t=Ze,G=ne;var _e=t.updateQueue;if(_e===null){var Ot=new Set;Ot.add(G),t.updateQueue=Ot}else _e.add(G);break e}else{if(!(t&1)){fs(v,ne,t),Wl();break e}G=Error(s(426))}}else if(rt&&P.mode&1){var Sn=cs(_);if(Sn!==null){!(Sn.flags&65536)&&(Sn.flags|=256),ds(Sn,_,P,v,t),al(G);break e}}v=G,yt!==4&&(yt=2),Oi===null?Oi=[v]:Oi.push(v),G=yl(G,P),P=_;do{switch(P.tag){case 3:P.flags|=65536,t&=-t,P.lanes|=t;var R=ss(P,G,t);Fa(P,R);break e;case 1:v=G;var M=P.type,B=P.stateNode;if(!(P.flags&128)&&(typeof M.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(rr===null||!rr.has(B)))){P.flags|=65536,t&=-t,P.lanes|=t;var fe=us(P,v,t);Fa(P,fe);break e}}P=P.return}while(P!==null)}Xs(r)}catch(Se){t=Se,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(1)}function Vs(){var e=Co.current;return Co.current=ho,e===null?ho:e}function Wl(){(yt===0||yt===3||yt===2)&&(yt=4),vt===null||!(Kr&268435455)&&!(Po&268435455)||lr(vt,Pt)}function Oo(e,t){var r=Be;Be|=2;var l=Vs();vt===e&&Pt===t||xr(e,t);do try{qf();break}catch(f){Hs(e,f)}while(1);if(jr(),Be=r,Co.current=l,mt!==null)throw Error(s(261));return vt=null,Pt=0,yt}function qf(){for(;mt!==null;)Qs(mt)}function $f(){for(;mt!==null&&!vi();)Qs(mt)}function Qs(e){var t=Ks(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?Xs(e):mt=t,Rl.current=null}function Xs(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Vf(r,t),r!==null){r.flags&=32767,mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,mt=null;return}}else if(r=Wf(r,t,fn),r!==null){mt=r;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);yt===0&&(yt=5)}function Er(e,t){var r=Ne,l=ht.transition;try{ht.transition=null,Ne=1,ec(e,t,r)}finally{ht.transition=l,Ne=r}return null}function ec(e,t,r){do kr();while(ir!==null);if(Be&6)throw Error(s(327));var l=e.finishedWork,f=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var v=l.lanes|l.childLanes;if($n(e,v),e===vt&&(mt=vt=null,Pt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Fo||(Fo=!0,Zs(Gt,function(){return kr(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=ht.transition,ht.transition=null;var _=Ne;Ne=1;var P=Be;Be|=4,Rl.current=null,Xf(e,l),Yf(e,l),b(e.containerInfo),e.current=l,Jf(l),Ji(),Be=P,Ne=_,ht.transition=v}else e.current=l;if(Fo&&(Fo=!1,ir=e,Do=f),v=e.pendingLanes,v===0&&(rr=null),gi(l.stateNode),Jt(e,it()),t!==null)for(r=e.onRecoverableError,l=0;l<t.length;l++)r(t[l]);if(Mo)throw Mo=!1,e=Il,Il=null,e;return Do&1&&e.tag!==0&&kr(),v=e.pendingLanes,v&1?e===Bl?zi++:(zi=0,Bl=e):zi=0,Xt(),null}function kr(){if(ir!==null){var e=pi(Do),t=ht.transition,r=Ne;try{if(ht.transition=null,Ne=16>e?16:e,ir===null)var l=!1;else{if(e=ir,ir=null,Do=0,Be&6)throw Error(s(331));var f=Be;for(Be|=4,ue=e.current;ue!==null;){var v=ue,_=v.child;if(ue.flags&16){var P=v.deletions;if(P!==null){for(var G=0;G<P.length;G++){var ne=P[G];for(ue=ne;ue!==null;){var he=ue;switch(he.tag){case 0:case 11:case 15:_r(8,he,v)}var Fe=he.child;if(Fe!==null)Fe.return=he,ue=Fe;else for(;ue!==null;){he=ue;var Te=he.sibling,Ze=he.return;if(Ds(he),he===ne){ue=null;break}if(Te!==null){Te.return=Ze,ue=Te;break}ue=Ze}}}var _e=v.alternate;if(_e!==null){var Ot=_e.child;if(Ot!==null){_e.child=null;do{var Sn=Ot.sibling;Ot.sibling=null,Ot=Sn}while(Ot!==null)}}ue=v}}if(v.subtreeFlags&2064&&_!==null)_.return=v,ue=_;else e:for(;ue!==null;){if(v=ue,v.flags&2048)switch(v.tag){case 0:case 11:case 15:_r(9,v,v.return)}var R=v.sibling;if(R!==null){R.return=v.return,ue=R;break e}ue=v.return}}var M=e.current;for(ue=M;ue!==null;){_=ue;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,ue=B;else e:for(_=M;ue!==null;){if(P=ue,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Li(9,P)}}catch(Se){Kt(P,P.return,Se)}if(P===_){ue=null;break e}var fe=P.sibling;if(fe!==null){fe.return=P.return,ue=fe;break e}ue=P.return}}if(Be=f,Xt(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(hr,e)}catch{}l=!0}return l}finally{Ne=r,ht.transition=t}}return!1}function Ys(e,t,r){t=yl(r,t),t=ss(e,t,1),nr(e,t),t=Vt(),e=Ao(e,1),e!==null&&(Fn(e,1,t),Jt(e,t))}function Kt(e,t,r){if(e.tag===3)Ys(e,e,r);else for(;t!==null;){if(t.tag===3){Ys(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){e=yl(r,e),e=us(t,e,1),nr(t,e),e=Vt(),t=Ao(t,1),t!==null&&(Fn(t,1,e),Jt(t,e));break}}t=t.return}}function tc(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(Pt&r)===r&&(yt===4||yt===3&&(Pt&130023424)===Pt&&500>it()-Ol?xr(e,0):Al|=r),Jt(e,t)}function Js(e,t){t===0&&(e.mode&1?(t=Wn,Wn<<=1,!(Wn&130023424)&&(Wn=4194304)):t=1);var r=Vt();e=Ao(e,t),e!==null&&(Fn(e,t,r),Jt(e,r))}function nc(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Js(e,r)}function rc(e,t){var r=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(t),Js(e,r)}var Ks;Ks=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return un=!1,Hf(e,t,r);un=!!(e.flags&131072)}else un=!1,rt&&t.flags&1048576&&za(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var f=cn(t,gt.current);ct(t,r),f=hl(null,t,l,e,f,r);var v=pl();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(l)?(v=!0,qn(t)):v=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,el(t),f.updater=to,t.stateNode=f,f._reactInternals=t,nl(t,l,e,r),t=_l(null,t,l,!0,v,r)):(t.tag=0,rt&&v&&rl(t),Ht(null,t,f,r),t=t.child),t;case 16:l=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,f=l._init,l=f(l._payload),t.type=l,f=t.tag=oc(l),e=Wt(l,e),f){case 0:t=wl(null,t,l,e,r);break e;case 1:t=ws(null,t,l,e,r);break e;case 11:t=vs(null,t,l,e,r);break e;case 14:t=ms(null,t,l,Wt(l.type,e),r);break e}throw Error(s(306,l,""))}return t;case 0:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Wt(l,f),wl(e,t,l,f,r);case 1:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Wt(l,f),ws(e,t,l,f,r);case 3:e:{if(_s(t),e===null)throw Error(s(387));l=t.pendingProps,v=t.memoizedState,f=v.element,Ma(e,t),eo(t,l,null,r);var _=t.memoizedState;if(l=_.element,Ue&&v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:_.cache,transitions:_.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){f=Error(s(423)),t=xs(e,t,l,r,f);break e}else if(l!==f){f=Error(s(424)),t=xs(e,t,l,r,f);break e}else for(Ue&&(sn=Ct(t.stateNode.containerInfo),an=t,rt=!0,Tn=null,wi=!1),r=Wa(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),l===f){t=Kn(e,t,r);break e}Ht(e,t,l,r)}t=t.child}return t;case 5:return ba(t),e===null&&ll(t),l=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,_=f.children,j(l,f)?_=null:v!==null&&j(l,v)&&(t.flags|=32),Ss(e,t),Ht(e,t,_,r),t.child;case 6:return e===null&&ll(t),null;case 13:return Es(e,t,r);case 4:return sl(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Vr(t,null,l,r):Ht(e,t,l,r),t.child;case 11:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Wt(l,f),vs(e,t,l,f,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(l=t.type._context,f=t.pendingProps,v=t.memoizedProps,_=f.value,qi(t,l,_),v!==null)if(on(v.value,_)){if(v.children===f.children&&!St.current){t=Kn(e,t,r);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var P=v.dependencies;if(P!==null){_=v.child;for(var G=P.firstContext;G!==null;){if(G.context===l){if(v.tag===1){G=Qn(-1,r&-r),G.tag=2;var ne=v.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?G.next=G:(G.next=he.next,he.next=G),ne.pending=G}}v.lanes|=r,G=v.alternate,G!==null&&(G.lanes|=r),bt(v.return,r,t),P.lanes|=r;break}G=G.next}}else if(v.tag===10)_=v.type===t.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(s(341));_.lanes|=r,P=_.alternate,P!==null&&(P.lanes|=r),bt(_,r,t),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===t){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}Ht(e,t,f.children,r),t=t.child}return t;case 9:return f=t.type,l=t.pendingProps.children,ct(t,r),f=dt(f),l=l(f),t.flags|=1,Ht(e,t,l,r),t.child;case 14:return l=t.type,f=Wt(l,t.pendingProps),f=Wt(l.type,f),ms(e,t,l,f,r);case 15:return gs(e,t,t.type,t.pendingProps,r);case 17:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Wt(l,f),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,wt(l)?(e=!0,qn(t)):e=!1,ct(t,r),Aa(t,l,f),nl(t,l,f,r),_l(null,t,l,!0,e,r);case 19:return Cs(e,t,r);case 22:return ys(e,t,r)}throw Error(s(156,t.tag))};function Zs(e,t){return Vn(e,t)}function ic(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,r,l){return new ic(e,t,r,l)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oc(e){if(typeof e=="function")return bl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T)return 11;if(e===w)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zo(e,t,r,l,f,v){var _=2;if(l=e,typeof e=="function")bl(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case c:return Tr(r.children,f,v,t);case m:_=8,f|=8;break;case y:return e=yn(12,r,t,f|2),e.elementType=y,e.lanes=v,e;case x:return e=yn(13,r,t,f),e.elementType=x,e.lanes=v,e;case k:return e=yn(19,r,t,f),e.elementType=k,e.lanes=v,e;case A:return Io(r,f,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:_=10;break e;case E:_=9;break e;case T:_=11;break e;case w:_=14;break e;case U:_=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=yn(_,r,t,f),t.elementType=e,t.type=l,t.lanes=v,t}function Tr(e,t,r,l){return e=yn(7,e,l,t),e.lanes=r,e}function Io(e,t,r,l){return e=yn(22,e,l,t),e.elementType=A,e.lanes=r,e.stateNode={},e}function Hl(e,t,r){return e=yn(6,e,null,t),e.lanes=r,e}function Vl(e,t,r){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lc(e,t,r,l,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Br(0),this.expirationTimes=Br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.identifierPrefix=l,this.onRecoverableError=f,Ue&&(this.mutableSourceEagerHydrationData=null)}function qs(e,t,r,l,f,v,_,P,G){return e=new lc(e,t,r,P,G),t===1?(t=1,v===!0&&(t|=8)):t=0,v=yn(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null},el(v),e}function $s(e){if(!e)return en;e=e._reactInternals;e:{if(Z(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(wt(r))return zr(e,r,t)}return t}function eu(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=D(t),e===null?null:e.stateNode}function tu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ql(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ac(e){return e=D(e),e===null?null:e.stateNode}function sc(){return null}return p.attemptContinuousHydration=function(e){if(e.tag===13){var t=Vt();gn(e,134217728,t),Ql(e,134217728)}},p.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Vt(),r=or(e);gn(e,r,t),Ql(e,r)}},p.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bn(t.pendingLanes);r!==0&&(Dn(t,r|1),Jt(t,it()),!(Be&6)&&(Zr(),Xt()))}break;case 13:var l=Vt();bs(function(){return gn(e,1,l)}),Ql(e,1)}},p.batchedUpdates=function(e,t){var r=Be;Be|=1;try{return e(t)}finally{Be=r,Be===0&&(Zr(),Ln&&Xt())}},p.createComponentSelector=function(e){return{$$typeof:xo,value:e}},p.createContainer=function(e,t,r,l,f,v,_){return qs(e,t,!1,null,r,l,f,v,_)},p.createHasPseudoClassSelector=function(e){return{$$typeof:Eo,value:e}},p.createHydrationContainer=function(e,t,r,l,f,v,_,P,G){return e=qs(r,l,!0,e,f,v,_,P,G),e.context=$s(null),r=e.current,l=Vt(),f=or(r),v=Qn(l,f),v.callback=t??null,nr(r,v),e.current.lanes=f,Fn(e,f,l),Jt(e,l),e},p.createPortal=function(e,t,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:l==null?null:""+l,children:e,containerInfo:t,implementation:r}},p.createRoleSelector=function(e){return{$$typeof:ko,value:e}},p.createTestNameSelector=function(e){return{$$typeof:To,value:e}},p.createTextSelector=function(e){return{$$typeof:Uo,value:e}},p.deferredUpdates=function(e){var t=Ne,r=ht.transition;try{return ht.transition=null,Ne=16,e()}finally{Ne=t,ht.transition=r}},p.discreteUpdates=function(e,t,r,l,f){var v=Ne,_=ht.transition;try{return ht.transition=null,Ne=1,e(t,r,l,f)}finally{Ne=v,ht.transition=_,Be===0&&Zr()}},p.findAllNodes=Ll,p.findBoundingRects=function(e,t){if(!de)throw Error(s(363));t=Ll(e,t),e=[];for(var r=0;r<t.length;r++)e.push(Ce(t[r]));for(t=e.length-1;0<t;t--){r=e[t];for(var l=r.x,f=l+r.width,v=r.y,_=v+r.height,P=t-1;0<=P;P--)if(t!==P){var G=e[P],ne=G.x,he=ne+G.width,Fe=G.y,Te=Fe+G.height;if(l>=ne&&v>=Fe&&f<=he&&_<=Te){e.splice(t,1);break}else if(l!==ne||r.width!==G.width||Te<v||Fe>_){if(!(v!==Fe||r.height!==G.height||he<l||ne>f)){ne>l&&(G.width+=ne-l,G.x=l),he<f&&(G.width=f-ne),e.splice(t,1);break}}else{Fe>v&&(G.height+=Fe-v,G.y=v),Te<_&&(G.height=_-Fe),e.splice(t,1);break}}}return e},p.findHostInstance=eu,p.findHostInstanceWithNoPortals=function(e){return e=H(e),e=e!==null?X(e):null,e===null?null:e.stateNode},p.findHostInstanceWithWarning=function(e){return eu(e)},p.flushControlled=function(e){var t=Be;Be|=1;var r=ht.transition,l=Ne;try{ht.transition=null,Ne=1,e()}finally{Ne=l,ht.transition=r,Be=t,Be===0&&(Zr(),Xt())}},p.flushPassiveEffects=kr,p.flushSync=bs,p.focusWithin=function(e,t){if(!de)throw Error(s(363));for(e=Ml(e),t=Gs(e,t),t=Array.from(t),e=0;e<t.length;){var r=t[e++];if(!ge(r)){if(r.tag===5&&He(r.stateNode))return!0;for(r=r.child;r!==null;)t.push(r),r=r.sibling}}return!1},p.getCurrentUpdatePriority=function(){return Ne},p.getFindAllNodesFailureDescription=function(e,t){if(!de)throw Error(s(363));var r=0,l=[];e=[Ml(e),0];for(var f=0;f<e.length;){var v=e[f++],_=e[f++],P=t[_];if((v.tag!==5||!ge(v))&&(Fl(v,P)&&(l.push(Dl(P)),_++,_>r&&(r=_)),_<t.length))for(v=v.child;v!==null;)e.push(v,_),v=v.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(Dl(t[r]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},p.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return re(e.child.stateNode);default:return e.child.stateNode}},p.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:ac,findFiberByHostInstance:e.findFiberByHostInstance||sc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{hr=t.inject(e),rn=t}catch{}e=!!t.checkDCE}}return e},p.isAlreadyRendering=function(){return!1},p.observeVisibleRects=function(e,t,r,l){if(!de)throw Error(s(363));e=Ll(e,t);var f=Ge(e,r,l).disconnect;return{disconnect:function(){f()}}},p.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},p.runWithPriority=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}},p.shouldError=function(){return null},p.shouldSuspend=function(){return!1},p.updateContainer=function(e,t,r,l){var f=t.current,v=Vt(),_=or(f);return r=$s(r),t.context===null?t.context=r:t.pendingContext=r,t=Qn(v,_),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),nr(f,t),e=gn(f,_,v),e!==null&&$i(e,f,_),_},p};Qu.exports=Wc;var bc=Qu.exports;const Hc=Nu(bc),Vc=h=>typeof h=="object"&&typeof h.then=="function",Cr=[];function Ju(h,i,p=(g,o)=>g===o){if(h===i)return!0;if(!h||!i)return!1;const g=h.length;if(i.length!==g)return!1;for(let o=0;o<g;o++)if(!p(h[o],i[o]))return!1;return!0}function Ku(h,i=null,p=!1,g={}){i===null&&(i=[h]);for(const n of Cr)if(Ju(i,n.keys,n.equal)){if(p)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return g.lifespan&&g.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,g.lifespan)),n.response;if(!p)throw n.promise}const o={keys:i,equal:g.equal,remove:()=>{const n=Cr.indexOf(o);n!==-1&&Cr.splice(n,1)},promise:(Vc(h)?h:h(...i)).then(n=>{o.response=n,g.lifespan&&g.lifespan>0&&(o.timeout=setTimeout(o.remove,g.lifespan))}).catch(n=>o.error=n)};if(Cr.push(o),!p)throw o.promise}const Qc=(h,i,p)=>Ku(h,i,!1,p),Xc=(h,i,p)=>void Ku(h,i,!0,p),Yc=h=>{if(h===void 0||h.length===0)Cr.splice(0,Cr.length);else{const i=Cr.find(p=>Ju(h,p.keys,p.equal));i&&i.remove()}},Ea={},Jc=h=>void Object.assign(Ea,h);function Kc(h,i){function p(c,{args:m=[],attach:y,...S},E){let T=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const k=S.object;x=ti(k,{type:c,root:E,attach:y,primitive:!0})}else{const k=Ea[T];if(!k)throw new Error(`R3F: ${T} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");x=ti(new k(...m),{type:c,root:E,attach:y,memoizedProps:{args:m}})}return x.__r3f.attach===void 0&&(x instanceof ju?x.__r3f.attach="geometry":x instanceof dc&&(x.__r3f.attach="material")),T!=="inject"&&Zl(x,S),x}function g(c,m){let y=!1;if(m){var S,E;(S=m.__r3f)!=null&&S.attach?Kl(c,m,m.__r3f.attach):m.isObject3D&&c.isObject3D&&(c.add(m),y=!0),y||(E=c.__r3f)==null||E.objects.push(m),m.__r3f||ti(m,{}),m.__r3f.parent=c,pa(m),ni(m)}}function o(c,m,y){let S=!1;if(m){var E,T;if((E=m.__r3f)!=null&&E.attach)Kl(c,m,m.__r3f.attach);else if(m.isObject3D&&c.isObject3D){m.parent=c,m.dispatchEvent({type:"added"});const x=c.children.filter(w=>w!==m),k=x.indexOf(y);c.children=[...x.slice(0,k),m,...x.slice(k)],S=!0}S||(T=c.__r3f)==null||T.objects.push(m),m.__r3f||ti(m,{}),m.__r3f.parent=c,pa(m),ni(m)}}function n(c,m,y=!1){c&&[...c].forEach(S=>s(m,S,y))}function s(c,m,y){if(m){var S,E,T;if(m.__r3f&&(m.__r3f.parent=null),(S=c.__r3f)!=null&&S.objects&&(c.__r3f.objects=c.__r3f.objects.filter(A=>A!==m)),(E=m.__r3f)!=null&&E.attach)fu(c,m,m.__r3f.attach);else if(m.isObject3D&&c.isObject3D){var x;c.remove(m),(x=m.__r3f)!=null&&x.root&&od(m.__r3f.root,m)}const w=(T=m.__r3f)==null?void 0:T.primitive,U=!w&&(y===void 0?m.dispose!==null:y);if(!w){var k;n((k=m.__r3f)==null?void 0:k.objects,m,U),n(m.children,m,U)}if(delete m.__r3f,U&&m.dispose&&m.type!=="Scene"){const A=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?da.unstable_scheduleCallback(da.unstable_IdlePriority,A):A()}ni(c)}}function u(c,m,y,S){var E;const T=(E=c.__r3f)==null?void 0:E.parent;if(!T)return;const x=p(m,y,c.__r3f.root);if(c.children){for(const k of c.children)k.__r3f&&g(x,k);c.children=c.children.filter(k=>!k.__r3f)}c.__r3f.objects.forEach(k=>g(x,k)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(T,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),g(T,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[S,S.alternate].forEach(k=>{k!==null&&(k.stateNode=x,k.ref&&(typeof k.ref=="function"?k.ref(x):k.ref.current=x))})}const a=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Hc({createInstance:p,removeChild:s,appendChild:g,appendInitialChild:g,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,m)=>{if(!m)return;const y=c.getState().scene;y.__r3f&&(y.__r3f.root=c,g(y,m))},removeChildFromContainer:(c,m)=>{m&&s(c.getState().scene,m)},insertInContainerBefore:(c,m,y)=>{if(!m||!y)return;const S=c.getState().scene;S.__r3f&&o(S,m,y)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var m;return!!((m=c==null?void 0:c.__r3f)!=null?m:{}).handlers},prepareUpdate(c,m,y,S){var E;if(((E=c==null?void 0:c.__r3f)!=null?E:{}).primitive&&S.object&&S.object!==c)return[!0];{const{args:x=[],children:k,...w}=S,{args:U=[],children:A,...F}=y;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((I,N)=>I!==U[N]))return[!0];const L=rf(c,w,F,!0);return L.changes.length?[!1,L]:null}},commitUpdate(c,[m,y],S,E,T,x){m?u(c,S,T,x):Zl(c,y)},commitMount(c,m,y,S){var E;const T=(E=c.__r3f)!=null?E:{};c.raycast&&T.handlers&&T.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>ti(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var m;const{attach:y,parent:S}=(m=c.__r3f)!=null?m:{};y&&S&&fu(S,c,y),c.isObject3D&&(c.visible=!1),ni(c)},unhideInstance(c,m){var y;const{attach:S,parent:E}=(y=c.__r3f)!=null?y:{};S&&E&&Kl(E,c,S),(c.isObject3D&&m.visible==null||m.visible)&&(c.visible=!0),ni(c)},createTextInstance:a,hideTextInstance:a,unhideTextInstance:a,getCurrentEventPriority:()=>i?i():ii.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&et.fun(performance.now)?performance.now:et.fun(Date.now)?Date.now:()=>0,scheduleTimeout:et.fun(setTimeout)?setTimeout:void 0,cancelTimeout:et.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Zl}}var lu,au;const Jl=h=>"colorSpace"in h||"outputColorSpace"in h,Zu=()=>{var h;return(h=Ea.ColorManagement)!=null?h:null},qu=h=>h&&h.isOrthographicCamera,Zc=h=>h&&h.hasOwnProperty("current"),si=typeof window<"u"&&((lu=window.document)!=null&&lu.createElement||((au=window.navigator)==null?void 0:au.product)==="ReactNative")?ae.useLayoutEffect:ae.useEffect;function $u(h){const i=ae.useRef(h);return si(()=>void(i.current=h),[h]),i}function qc({set:h}){return si(()=>(h(new Promise(()=>null)),()=>h(!1)),[h]),null}class ef extends ae.Component{constructor(...i){super(...i),this.state={error:!1}}componentDidCatch(i){this.props.set(i)}render(){return this.state.error?null:this.props.children}}ef.getDerivedStateFromError=()=>({error:!0});const tf="__default",su=new Map,$c=h=>h&&!!h.memoized&&!!h.changes;function nf(h){var i;const p=typeof window<"u"?(i=window.devicePixelRatio)!=null?i:2:1;return Array.isArray(h)?Math.min(Math.max(h[0],p),h[1]):h}const Ii=h=>{var i;return(i=h.__r3f)==null?void 0:i.root.getState()},et={obj:h=>h===Object(h)&&!et.arr(h)&&typeof h!="function",fun:h=>typeof h=="function",str:h=>typeof h=="string",num:h=>typeof h=="number",boo:h=>typeof h=="boolean",und:h=>h===void 0,arr:h=>Array.isArray(h),equ(h,i,{arrays:p="shallow",objects:g="reference",strict:o=!0}={}){if(typeof h!=typeof i||!!h!=!!i)return!1;if(et.str(h)||et.num(h))return h===i;const n=et.obj(h);if(n&&g==="reference")return h===i;const s=et.arr(h);if(s&&p==="reference")return h===i;if((s||n)&&h===i)return!0;let u;for(u in h)if(!(u in i))return!1;if(n&&p==="shallow"&&g==="shallow"){for(u in o?i:h)if(!et.equ(h[u],i[u],{strict:o,objects:"reference"}))return!1}else for(u in o?i:h)if(h[u]!==i[u])return!1;if(et.und(u)){if(s&&h.length===0&&i.length===0||n&&Object.keys(h).length===0&&Object.keys(i).length===0)return!0;if(h!==i)return!1}return!0}};function ed(h){const i={nodes:{},materials:{}};return h&&h.traverse(p=>{p.name&&(i.nodes[p.name]=p),p.material&&!i.materials[p.material.name]&&(i.materials[p.material.name]=p.material)}),i}function td(h){h.dispose&&h.type!=="Scene"&&h.dispose();for(const i in h)i.dispose==null||i.dispose(),delete h[i]}function ti(h,i){const p=h;return p.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...i},h}function ha(h,i){let p=h;if(i.includes("-")){const g=i.split("-"),o=g.pop();return p=g.reduce((n,s)=>n[s],h),{target:p,key:o}}else return{target:p,key:i}}const uu=/-\d+$/;function Kl(h,i,p){if(et.str(p)){if(uu.test(p)){const n=p.replace(uu,""),{target:s,key:u}=ha(h,n);Array.isArray(s[u])||(s[u]=[])}const{target:g,key:o}=ha(h,p);i.__r3f.previousAttach=g[o],g[o]=i}else i.__r3f.previousAttach=p(h,i)}function fu(h,i,p){var g,o;if(et.str(p)){const{target:n,key:s}=ha(h,p),u=i.__r3f.previousAttach;u===void 0?delete n[s]:n[s]=u}else(g=i.__r3f)==null||g.previousAttach==null||g.previousAttach(h,i);(o=i.__r3f)==null||delete o.previousAttach}function rf(h,{children:i,key:p,ref:g,...o},{children:n,key:s,ref:u,...a}={},d=!1){var c;const m=(c=h==null?void 0:h.__r3f)!=null?c:{},y=Object.entries(o),S=[];if(d){const T=Object.keys(a);for(let x=0;x<T.length;x++)o.hasOwnProperty(T[x])||y.unshift([T[x],tf+"remove"])}y.forEach(([T,x])=>{var k;if((k=h.__r3f)!=null&&k.primitive&&T==="object"||et.equ(x,a[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return S.push([T,x,!0,[]]);let w=[];T.includes("-")&&(w=T.split("-")),S.push([T,x,!1,w]);for(const U in o){const A=o[U];U.startsWith(`${T}-`)&&S.push([U,A,!1,U.split("-")])}});const E={...o};return m.memoizedProps&&m.memoizedProps.args&&(E.args=m.memoizedProps.args),m.memoizedProps&&m.memoizedProps.attach&&(E.attach=m.memoizedProps.attach),{memoized:E,changes:S}}const nd=typeof process<"u"&&!1;function Zl(h,i){var p,g,o;const n=(p=h.__r3f)!=null?p:{},s=n.root,u=(g=s==null||s.getState==null?void 0:s.getState())!=null?g:{},{memoized:a,changes:d}=$c(i)?i:rf(h,i),c=n.eventCount;h.__r3f&&(h.__r3f.memoizedProps=a);for(let y=0;y<d.length;y++){let[S,E,T,x]=d[y];if(Jl(h)){const A="srgb",F="srgb-linear";S==="encoding"?(S="colorSpace",E=E===3001?A:F):S==="outputEncoding"&&(S="outputColorSpace",E=E===3001?A:F)}let k=h,w=k[S];if(x.length&&(w=x.reduce((U,A)=>U[A],h),!(w&&w.set))){const[U,...A]=x.reverse();k=A.reverse().reduce((F,L)=>F[L],h),S=U}if(E===tf+"remove")if(k.constructor){let U=su.get(k.constructor);U||(U=new k.constructor,su.set(k.constructor,U)),E=U[S]}else E=0;if(T)E?n.handlers[S]=E:delete n.handlers[S],n.eventCount=Object.keys(n.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Xl)){if(Array.isArray(E))w.fromArray?w.fromArray(E):w.set(...E);else if(w.copy&&E&&E.constructor&&(nd?w.constructor.name===E.constructor.name:w.constructor===E.constructor))w.copy(E);else if(E!==void 0){const U=w instanceof bi;!U&&w.setScalar?w.setScalar(E):w instanceof Xl&&E instanceof Xl?w.mask=E.mask:w.set(E),!Zu()&&!u.linear&&U&&w.convertSRGBToLinear()}}else if(k[S]=E,k[S]instanceof Gu&&k[S].format===fc&&k[S].type===cc){const U=k[S];Jl(U)&&Jl(u.gl)?U.colorSpace=u.gl.outputColorSpace:U.encoding=u.gl.outputEncoding}ni(h)}if(n.parent&&u.internal&&h.raycast&&c!==n.eventCount){const y=u.internal.interaction.indexOf(h);y>-1&&u.internal.interaction.splice(y,1),n.eventCount&&u.internal.interaction.push(h)}return!(d.length===1&&d[0][0]==="onUpdate")&&d.length&&(o=h.__r3f)!=null&&o.parent&&pa(h),h}function ni(h){var i,p;const g=(i=h.__r3f)==null||(p=i.root)==null||p.getState==null?void 0:p.getState();g&&g.internal.frames===0&&g.invalidate()}function pa(h){h.onUpdate==null||h.onUpdate(h)}function rd(h,i){h.manual||(qu(h)?(h.left=i.width/-2,h.right=i.width/2,h.top=i.height/2,h.bottom=i.height/-2):h.aspect=i.width/i.height,h.updateProjectionMatrix(),h.updateMatrixWorld())}function Bo(h){return(h.eventObject||h.object).uuid+"/"+h.index+h.instanceId}function id(){var h;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return ii.DefaultEventPriority;switch((h=i.event)==null?void 0:h.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ii.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ii.ContinuousEventPriority;default:return ii.DefaultEventPriority}}function of(h,i,p,g){const o=p.get(i);o&&(p.delete(i),p.size===0&&(h.delete(g),o.target.releasePointerCapture(g)))}function od(h,i){const{internal:p}=h.getState();p.interaction=p.interaction.filter(g=>g!==i),p.initialHits=p.initialHits.filter(g=>g!==i),p.hovered.forEach((g,o)=>{(g.eventObject===i||g.object===i)&&p.hovered.delete(o)}),p.capturedMap.forEach((g,o)=>{of(p.capturedMap,i,g,o)})}function ld(h){function i(a){const{internal:d}=h.getState(),c=a.offsetX-d.initialClick[0],m=a.offsetY-d.initialClick[1];return Math.round(Math.sqrt(c*c+m*m))}function p(a){return a.filter(d=>["Move","Over","Enter","Out","Leave"].some(c=>{var m;return(m=d.__r3f)==null?void 0:m.handlers["onPointer"+c]}))}function g(a,d){const c=h.getState(),m=new Set,y=[],S=d?d(c.internal.interaction):c.internal.interaction;for(let k=0;k<S.length;k++){const w=Ii(S[k]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(a,c);function E(k){const w=Ii(k);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var U;w.events.compute==null||w.events.compute(a,w,(U=w.previousRoot)==null?void 0:U.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(k,!0):[]}let T=S.flatMap(E).sort((k,w)=>{const U=Ii(k.object),A=Ii(w.object);return!U||!A?k.distance-w.distance:A.events.priority-U.events.priority||k.distance-w.distance}).filter(k=>{const w=Bo(k);return m.has(w)?!1:(m.add(w),!0)});c.events.filter&&(T=c.events.filter(T,c));for(const k of T){let w=k.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&y.push({...k,eventObject:w}),w=w.parent}}if("pointerId"in a&&c.internal.capturedMap.has(a.pointerId))for(let k of c.internal.capturedMap.get(a.pointerId).values())m.has(Bo(k.intersection))||y.push(k.intersection);return y}function o(a,d,c,m){const y=h.getState();if(a.length){const S={stopped:!1};for(const E of a){const T=Ii(E.object)||y,{raycaster:x,pointer:k,camera:w,internal:U}=T,A=new Tt(k.x,k.y,0).unproject(w),F=te=>{var H,D;return(H=(D=U.capturedMap.get(te))==null?void 0:D.has(E.eventObject))!=null?H:!1},L=te=>{const H={intersection:E,target:d.target};U.capturedMap.has(te)?U.capturedMap.get(te).set(E.eventObject,H):U.capturedMap.set(te,new Map([[E.eventObject,H]])),d.target.setPointerCapture(te)},I=te=>{const H=U.capturedMap.get(te);H&&of(U.capturedMap,E.eventObject,H,te)};let N={};for(let te in d){let H=d[te];typeof H!="function"&&(N[te]=H)}let Z={...E,...N,pointer:k,intersections:a,stopped:S.stopped,delta:c,unprojectedPoint:A,ray:x.ray,camera:w,stopPropagation(){const te="pointerId"in d&&U.capturedMap.get(d.pointerId);if((!te||te.has(E.eventObject))&&(Z.stopped=S.stopped=!0,U.hovered.size&&Array.from(U.hovered.values()).find(H=>H.eventObject===E.eventObject))){const H=a.slice(0,a.indexOf(E));n([...H,E])}},target:{hasPointerCapture:F,setPointerCapture:L,releasePointerCapture:I},currentTarget:{hasPointerCapture:F,setPointerCapture:L,releasePointerCapture:I},nativeEvent:d};if(m(Z),S.stopped===!0)break}}return a}function n(a){const{internal:d}=h.getState();for(const c of d.hovered.values())if(!a.length||!a.find(m=>m.object===c.object&&m.index===c.index&&m.instanceId===c.instanceId)){const y=c.eventObject.__r3f,S=y==null?void 0:y.handlers;if(d.hovered.delete(Bo(c)),y!=null&&y.eventCount){const E={...c,intersections:a};S.onPointerOut==null||S.onPointerOut(E),S.onPointerLeave==null||S.onPointerLeave(E)}}}function s(a,d){for(let c=0;c<d.length;c++){const m=d[c].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(a)}}function u(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return d=>{const{internal:c}=h.getState();"pointerId"in d&&c.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(d.pointerId)&&(c.capturedMap.delete(d.pointerId),n([]))})}}return function(c){const{onPointerMissed:m,internal:y}=h.getState();y.lastEvent.current=c;const S=a==="onPointerMove",E=a==="onClick"||a==="onContextMenu"||a==="onDoubleClick",x=g(c,S?p:void 0),k=E?i(c):0;a==="onPointerDown"&&(y.initialClick=[c.offsetX,c.offsetY],y.initialHits=x.map(U=>U.eventObject)),E&&!x.length&&k<=2&&(s(c,y.interaction),m&&m(c)),S&&n(x);function w(U){const A=U.eventObject,F=A.__r3f,L=F==null?void 0:F.handlers;if(F!=null&&F.eventCount)if(S){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const I=Bo(U),N=y.hovered.get(I);N?N.stopped&&U.stopPropagation():(y.hovered.set(I,U),L.onPointerOver==null||L.onPointerOver(U),L.onPointerEnter==null||L.onPointerEnter(U))}L.onPointerMove==null||L.onPointerMove(U)}else{const I=L[a];I?(!E||y.initialHits.includes(A))&&(s(c,y.interaction.filter(N=>!y.initialHits.includes(N))),I(U)):E&&y.initialHits.includes(A)&&s(c,y.interaction.filter(N=>!y.initialHits.includes(N)))}}o(x,c,k,w)}}return{handlePointer:u}}const lf=h=>!!(h!=null&&h.render),af=ae.createContext(null),ad=(h,i)=>{const p=jc((u,a)=>{const d=new Tt,c=new Tt,m=new Tt;function y(k=a().camera,w=c,U=a().size){const{width:A,height:F,top:L,left:I}=U,N=A/F;w instanceof Tt?m.copy(w):m.set(...w);const Z=k.getWorldPosition(d).distanceTo(m);if(qu(k))return{width:A/k.zoom,height:F/k.zoom,top:L,left:I,factor:1,distance:Z,aspect:N};{const te=k.fov*Math.PI/180,H=2*Math.tan(te/2)*Z,D=H*(A/F);return{width:D,height:H,top:L,left:I,factor:A/D,distance:Z,aspect:N}}}let S;const E=k=>u(w=>({performance:{...w.performance,current:k}})),T=new Fr;return{set:u,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(k=1)=>h(a(),k),advance:(k,w)=>i(k,w,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Ec,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const k=a();S&&clearTimeout(S),k.performance.current!==k.performance.min&&E(k.performance.min),S=setTimeout(()=>E(a().performance.max),k.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:k=>u(w=>({...w,events:{...w.events,...k}})),setSize:(k,w,U,A,F)=>{const L=a().camera,I={width:k,height:w,top:A||0,left:F||0,updateStyle:U};u(N=>({size:I,viewport:{...N.viewport,...y(L,c,I)}}))},setDpr:k=>u(w=>{const U=nf(k);return{viewport:{...w.viewport,dpr:U,initialDpr:w.viewport.initialDpr||U}}}),setFrameloop:(k="always")=>{const w=a().clock;w.stop(),w.elapsedTime=0,k!=="never"&&(w.start(),w.elapsedTime=0),u(()=>({frameloop:k}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ae.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(k,w,U)=>{const A=a().internal;return A.priority=A.priority+(w>0?1:0),A.subscribers.push({ref:k,priority:w,store:U}),A.subscribers=A.subscribers.sort((F,L)=>F.priority-L.priority),()=>{const F=a().internal;F!=null&&F.subscribers&&(F.priority=F.priority-(w>0?1:0),F.subscribers=F.subscribers.filter(L=>L.ref!==k))}}}}}),g=p.getState();let o=g.size,n=g.viewport.dpr,s=g.camera;return p.subscribe(()=>{const{camera:u,size:a,viewport:d,gl:c,set:m}=p.getState();if(a.width!==o.width||a.height!==o.height||d.dpr!==n){var y;o=a,n=d.dpr,rd(u,a),c.setPixelRatio(d.dpr);const S=(y=a.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(a.width,a.height,S)}u!==s&&(s=u,m(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(u)}})))}),p.subscribe(u=>h(u)),p};function ka(h,i){const p={callback:h};return i.add(p),()=>void i.delete(p)}let No,sf=new Set,uf=new Set,ff=new Set;const Dh=h=>ka(h,sf),Lh=h=>ka(h,uf),Rh=h=>ka(h,ff);function ql(h,i){if(h.size)for(const{callback:p}of h.values())p(i)}function Bi(h,i){switch(h){case"before":return ql(sf,i);case"after":return ql(uf,i);case"tail":return ql(ff,i)}}let $l,ea;function ta(h,i,p){let g=i.clock.getDelta();for(i.frameloop==="never"&&typeof h=="number"&&(g=h-i.clock.elapsedTime,i.clock.oldTime=i.clock.elapsedTime,i.clock.elapsedTime=h),$l=i.internal.subscribers,No=0;No<$l.length;No++)ea=$l[No],ea.ref.current(ea.store.getState(),g,p);return!i.internal.priority&&i.gl.render&&i.gl.render(i.scene,i.camera),i.internal.frames=Math.max(0,i.internal.frames-1),i.frameloop==="always"?1:i.internal.frames}function sd(h){let i=!1,p,g,o;function n(a){g=requestAnimationFrame(n),i=!0,p=0,Bi("before",a);for(const c of h.values()){var d;o=c.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((d=o.gl.xr)!=null&&d.isPresenting)&&(p+=ta(a,o))}if(Bi("after",a),p===0)return Bi("tail",a),i=!1,cancelAnimationFrame(g)}function s(a,d=1){var c;if(!a)return h.forEach(m=>s(m.store.getState()),d);(c=a.gl.xr)!=null&&c.isPresenting||!a.internal.active||a.frameloop==="never"||(a.internal.frames=Math.min(60,a.internal.frames+d),i||(i=!0,requestAnimationFrame(n)))}function u(a,d=!0,c,m){if(d&&Bi("before",a),c)ta(a,c,m);else for(const y of h.values())ta(a,y.store.getState());d&&Bi("after",a)}return{loop:n,invalidate:s,advance:u}}function Ah(h){const i=ae.useRef(null);return si(()=>void(i.current=h.current.__r3f),[h]),i}function cf(){const h=ae.useContext(af);if(!h)throw new Error("R3F: Hooks can only be used within the Canvas component!");return h}function df(h=p=>p,i){return cf()(h,i)}function Oh(h,i=0){const p=cf(),g=p.getState().internal.subscribe,o=$u(h);return si(()=>g(o,i,p),[i,g,p]),null}const cu=new WeakMap;function hf(h,i){return function(p,...g){let o=cu.get(p);return o||(o=new p,cu.set(p,o)),h&&h(o),Promise.all(g.map(n=>new Promise((s,u)=>o.load(n,a=>{a.scene&&Object.assign(a,ed(a.scene)),s(a)},i,a=>u(new Error(`Could not load ${n}: ${a==null?void 0:a.message}`)))))).finally(()=>o.dispose==null?void 0:o.dispose())}}function pf(h,i,p,g){const o=Array.isArray(i)?i:[i],n=Qc(hf(p,g),[h,...o],{equal:et.equ});return Array.isArray(i)?n:n[0]}pf.preload=function(h,i,p){const g=Array.isArray(i)?i:[i];return Xc(hf(p),[h,...g])};pf.clear=function(h,i){const p=Array.isArray(i)?i:[i];return Yc([h,...p])};const ai=new Map,{invalidate:du,advance:hu}=sd(ai),{reconciler:Yo,applyProps:qr}=Kc(ai,id),$r={objects:"shallow",strict:!1},ud=(h,i)=>{const p=typeof h=="function"?h(i):h;return lf(p)?p:new yc({powerPreference:"high-performance",canvas:i,antialias:!0,alpha:!0,...h})};function fd(h,i){const p=typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement;if(i){const{width:g,height:o,top:n,left:s,updateStyle:u=p}=i;return{width:g,height:o,top:n,left:s,updateStyle:u}}else if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&h.parentElement){const{width:g,height:o,top:n,left:s}=h.parentElement.getBoundingClientRect();return{width:g,height:o,top:n,left:s,updateStyle:p}}else if(typeof OffscreenCanvas<"u"&&h instanceof OffscreenCanvas)return{width:h.width,height:h.height,top:0,left:0,updateStyle:p};return{width:0,height:0,top:0,left:0}}function cd(h){const i=ai.get(h),p=i==null?void 0:i.fiber,g=i==null?void 0:i.store;i&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,n=g||ad(du,hu),s=p||Yo.createContainer(n,ii.ConcurrentRoot,null,!1,null,"",o,null);i||ai.set(h,{fiber:s,store:n});let u,a=!1,d;return{configure(c={}){let{gl:m,size:y,scene:S,events:E,onCreated:T,shadows:x=!1,linear:k=!1,flat:w=!1,legacy:U=!1,orthographic:A=!1,frameloop:F="always",dpr:L=[1,2],performance:I,raycaster:N,camera:Z,onPointerMissed:te}=c,H=n.getState(),D=H.gl;H.gl||H.set({gl:D=ud(m,h)});let J=H.raycaster;J||H.set({raycaster:J=new hc});const{params:X,...le}=N||{};if(et.equ(le,J,$r)||qr(J,{...le}),et.equ(X,J.params,$r)||qr(J,{params:{...J.params,...X}}),!H.camera||H.camera===d&&!et.equ(d,Z,$r)){d=Z;const O=Z instanceof Sc,V=O?Z:A?new pc(0,0,0,0,.1,1e3):new vc(75,0,.1,1e3);O||(V.position.z=5,Z&&qr(V,Z),!H.camera&&!(Z!=null&&Z.rotation)&&V.lookAt(0,0,0)),H.set({camera:V}),J.camera=V}if(!H.scene){let O;S instanceof nu?O=S:(O=new nu,S&&qr(O,S)),H.set({scene:ti(O)})}if(!H.xr){var re;const O=(j,q)=>{const Q=n.getState();Q.frameloop!=="never"&&hu(j,!0,Q,q)},V=()=>{const j=n.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?O:null),j.gl.xr.isPresenting||du(j)},Y={connect(){const j=n.getState().gl;j.xr.addEventListener("sessionstart",V),j.xr.addEventListener("sessionend",V)},disconnect(){const j=n.getState().gl;j.xr.removeEventListener("sessionstart",V),j.xr.removeEventListener("sessionend",V)}};typeof((re=D.xr)==null?void 0:re.addEventListener)=="function"&&Y.connect(),H.set({xr:Y})}if(D.shadowMap){const O=D.shadowMap.enabled,V=D.shadowMap.type;if(D.shadowMap.enabled=!!x,et.boo(x))D.shadowMap.type=Yl;else if(et.str(x)){var ke;const Y={basic:wc,percentage:_c,soft:Yl,variance:xc};D.shadowMap.type=(ke=Y[x])!=null?ke:Yl}else et.obj(x)&&Object.assign(D.shadowMap,x);(O!==D.shadowMap.enabled||V!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const W=Zu();W&&("enabled"in W?W.enabled=!U:"legacyMode"in W&&(W.legacyMode=U)),qr(D,{outputEncoding:k?3e3:3001,toneMapping:w?mc:gc}),H.legacy!==U&&H.set(()=>({legacy:U})),H.linear!==k&&H.set(()=>({linear:k})),H.flat!==w&&H.set(()=>({flat:w})),m&&!et.fun(m)&&!lf(m)&&!et.equ(m,D,$r)&&qr(D,m),E&&!H.events.handlers&&H.set({events:E(n)});const C=fd(h,y);return et.equ(C,H.size,$r)||H.setSize(C.width,C.height,C.updateStyle,C.top,C.left),L&&H.viewport.dpr!==nf(L)&&H.setDpr(L),H.frameloop!==F&&H.setFrameloop(F),H.onPointerMissed||H.set({onPointerMissed:te}),I&&!et.equ(I,H.performance,$r)&&H.set(O=>({performance:{...O.performance,...I}})),u=T,a=!0,this},render(c){return a||this.configure(),Yo.updateContainer(ae.createElement(dd,{store:n,children:c,onCreated:u,rootElement:h}),s,null,()=>{}),n},unmount(){vf(h)}}}function dd({store:h,children:i,onCreated:p,rootElement:g}){return si(()=>{const o=h.getState();o.set(n=>({internal:{...n.internal,active:!0}})),p&&p(o),h.getState().events.connected||o.events.connect==null||o.events.connect(g)},[]),ae.createElement(af.Provider,{value:h},i)}function vf(h,i){const p=ai.get(h),g=p==null?void 0:p.fiber;if(g){const o=p==null?void 0:p.store.getState();o&&(o.internal.active=!1),Yo.updateContainer(null,g,null,()=>{o&&setTimeout(()=>{try{var n,s,u,a;o.events.disconnect==null||o.events.disconnect(),(n=o.gl)==null||(s=n.renderLists)==null||s.dispose==null||s.dispose(),(u=o.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(a=o.gl)!=null&&a.xr&&o.xr.disconnect(),td(o),ai.delete(h),i&&i(h)}catch{}},500)})}}Yo.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ae.version});function va(h,i,p){var g,o,n,s,u;i==null&&(i=100);function a(){var c=Date.now()-s;c<i&&c>=0?g=setTimeout(a,i-c):(g=null,p||(u=h.apply(n,o),n=o=null))}var d=function(){n=this,o=arguments,s=Date.now();var c=p&&!g;return g||(g=setTimeout(a,i)),c&&(u=h.apply(n,o),n=o=null),u};return d.clear=function(){g&&(clearTimeout(g),g=null)},d.flush=function(){g&&(u=h.apply(n,o),n=o=null,clearTimeout(g),g=null)},d}va.debounce=va;var hd=va;const pu=Nu(hd);function pd(h){let{debounce:i,scroll:p,polyfill:g,offsetSize:o}=h===void 0?{debounce:0,scroll:!1,offsetSize:!1}:h;const n=g||(typeof window>"u"?class{}:window.ResizeObserver);if(!n)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,u]=ae.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=ae.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),d=i?typeof i=="number"?i:i.scroll:null,c=i?typeof i=="number"?i:i.resize:null,m=ae.useRef(!1);ae.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,S,E]=ae.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:U,top:A,width:F,height:L,bottom:I,right:N,x:Z,y:te}=a.current.element.getBoundingClientRect(),H={left:U,top:A,width:F,height:L,bottom:I,right:N,x:Z,y:te};a.current.element instanceof HTMLElement&&o&&(H.height=a.current.element.offsetHeight,H.width=a.current.element.offsetWidth),Object.freeze(H),m.current&&!yd(a.current.lastBounds,H)&&u(a.current.lastBounds=H)};return[w,c?pu(w,c):w,d?pu(w,d):w]},[u,o,d,c]);function T(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",E,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null)}function x(){a.current.element&&(a.current.resizeObserver=new n(E),a.current.resizeObserver.observe(a.current.element),p&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",E,{capture:!0,passive:!0})))}const k=w=>{!w||w===a.current.element||(T(),a.current.element=w,a.current.scrollContainers=mf(w),x())};return md(E,!!p),vd(S),ae.useEffect(()=>{T(),x()},[p,E,S]),ae.useEffect(()=>T,[]),[k,s,y]}function vd(h){ae.useEffect(()=>{const i=h;return window.addEventListener("resize",i),()=>void window.removeEventListener("resize",i)},[h])}function md(h,i){ae.useEffect(()=>{if(i){const p=h;return window.addEventListener("scroll",p,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",p,!0)}},[h,i])}function mf(h){const i=[];if(!h||h===document.body)return i;const{overflow:p,overflowX:g,overflowY:o}=window.getComputedStyle(h);return[p,g,o].some(n=>n==="auto"||n==="scroll")&&i.push(h),[...i,...mf(h.parentElement)]}const gd=["x","y","top","bottom","left","right","width","height"],yd=(h,i)=>gd.every(p=>h[p]===i[p]);var Sd=Object.defineProperty,wd=Object.defineProperties,_d=Object.getOwnPropertyDescriptors,vu=Object.getOwnPropertySymbols,xd=Object.prototype.hasOwnProperty,Ed=Object.prototype.propertyIsEnumerable,mu=(h,i,p)=>i in h?Sd(h,i,{enumerable:!0,configurable:!0,writable:!0,value:p}):h[i]=p,gu=(h,i)=>{for(var p in i||(i={}))xd.call(i,p)&&mu(h,p,i[p]);if(vu)for(var p of vu(i))Ed.call(i,p)&&mu(h,p,i[p]);return h},kd=(h,i)=>wd(h,_d(i));function gf(h,i,p){if(!h)return;if(p(h)===!0)return h;let g=i?h.return:h.child;for(;g;){const o=gf(g,i,p);if(o)return o;g=i?null:g.sibling}}function yf(h){try{return Object.defineProperties(h,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return h}}const Ta=yf(ae.createContext(null));class Sf extends ae.Component{render(){return ae.createElement(Ta.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:yu,ReactCurrentDispatcher:Su}=ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Td(){const h=ae.useContext(Ta);if(h===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=ae.useId();return ae.useMemo(()=>{for(const g of[yu==null?void 0:yu.current,h,h==null?void 0:h.alternate]){if(!g)continue;const o=gf(g,!1,n=>{let s=n.memoizedState;for(;s;){if(s.memoizedState===i)return!0;s=s.next}});if(o)return o}},[h,i])}function Ud(){var h,i;const p=Td(),[g]=ae.useState(()=>new Map);g.clear();let o=p;for(;o;){const n=(h=o.type)==null?void 0:h._context;n&&n!==Ta&&!g.has(n)&&g.set(n,(i=Su==null?void 0:Su.current)==null?void 0:i.readContext(yf(n))),o=o.return}return g}function Cd(){const h=Ud();return ae.useMemo(()=>Array.from(h.keys()).reduce((i,p)=>g=>ae.createElement(i,null,ae.createElement(p.Provider,kd(gu({},g),{value:h.get(p)}))),i=>ae.createElement(Sf,gu({},i))),[h])}const na={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Pd(h){const{handlePointer:i}=ld(h);return{priority:1,enabled:!0,compute(p,g,o){g.pointer.set(p.offsetX/g.size.width*2-1,-(p.offsetY/g.size.height)*2+1),g.raycaster.setFromCamera(g.pointer,g.camera)},connected:void 0,handlers:Object.keys(na).reduce((p,g)=>({...p,[g]:i(g)}),{}),update:()=>{var p;const{events:g,internal:o}=h.getState();(p=o.lastEvent)!=null&&p.current&&g.handlers&&g.handlers.onPointerMove(o.lastEvent.current)},connect:p=>{var g;const{set:o,events:n}=h.getState();n.disconnect==null||n.disconnect(),o(s=>({events:{...s.events,connected:p}})),Object.entries((g=n.handlers)!=null?g:[]).forEach(([s,u])=>{const[a,d]=na[s];p.addEventListener(a,u,{passive:d})})},disconnect:()=>{const{set:p,events:g}=h.getState();if(g.connected){var o;Object.entries((o=g.handlers)!=null?o:[]).forEach(([n,s])=>{if(g&&g.connected instanceof HTMLElement){const[u]=na[n];g.connected.removeEventListener(u,s)}}),p(n=>({events:{...n.events,connected:void 0}}))}}}}const Md=ae.forwardRef(function({children:i,fallback:p,resize:g,style:o,gl:n,events:s=Pd,eventSource:u,eventPrefix:a,shadows:d,linear:c,flat:m,legacy:y,orthographic:S,frameloop:E,dpr:T,performance:x,raycaster:k,camera:w,scene:U,onPointerMissed:A,onCreated:F,...L},I){ae.useMemo(()=>Jc(kc),[]);const N=Cd(),[Z,te]=pd({scroll:!0,debounce:{scroll:50,resize:0},...g}),H=ae.useRef(null),D=ae.useRef(null);ae.useImperativeHandle(I,()=>H.current);const J=$u(A),[X,le]=ae.useState(!1),[re,ke]=ae.useState(!1);if(X)throw X;if(re)throw re;const W=ae.useRef(null);si(()=>{const b=H.current;te.width>0&&te.height>0&&b&&(W.current||(W.current=cd(b)),W.current.configure({gl:n,events:s,shadows:d,linear:c,flat:m,legacy:y,orthographic:S,frameloop:E,dpr:T,performance:x,raycaster:k,camera:w,scene:U,size:te,onPointerMissed:(...C)=>J.current==null?void 0:J.current(...C),onCreated:C=>{C.events.connect==null||C.events.connect(u?Zc(u)?u.current:u:D.current),a&&C.setEvents({compute:(O,V)=>{const Y=O[a+"X"],j=O[a+"Y"];V.pointer.set(Y/V.size.width*2-1,-(j/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),F==null||F(C)}}),W.current.render(ae.createElement(N,null,ae.createElement(ef,{set:ke},ae.createElement(ae.Suspense,{fallback:ae.createElement(qc,{set:le})},i)))))}),ae.useEffect(()=>{const b=H.current;if(b)return()=>vf(b)},[]);const z=u?"none":"auto";return ae.createElement("div",Wi({ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...o}},L),ae.createElement("div",{ref:Z,style:{width:"100%",height:"100%"}},ae.createElement("canvas",{ref:H,style:{display:"block"}},p)))}),Ih=ae.forwardRef(function(i,p){return ae.createElement(Sf,null,ae.createElement(Md,Wi({},i,{ref:p})))});function Bh(h){return function(i){h.forEach(function(p){typeof p=="function"?p(i):p!=null&&(p.current=i)})}}const wu=new Jo,Go=new Tt;class Ua extends Wu{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const i=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],p=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],g=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(g),this.setAttribute("position",new ua(i,3)),this.setAttribute("uv",new ua(p,2))}applyMatrix4(i){const p=this.attributes.instanceStart,g=this.attributes.instanceEnd;return p!==void 0&&(p.applyMatrix4(i),g.applyMatrix4(i),p.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(i){let p;i instanceof Float32Array?p=i:Array.isArray(i)&&(p=new Float32Array(i));const g=new fa(p,6,1);return this.setAttribute("instanceStart",new ri(g,3,0)),this.setAttribute("instanceEnd",new ri(g,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(i){let p;i instanceof Float32Array?p=i:Array.isArray(i)&&(p=new Float32Array(i));const g=new fa(p,6,1);return this.setAttribute("instanceColorStart",new ri(g,3,0)),this.setAttribute("instanceColorEnd",new ri(g,3,3)),this}fromWireframeGeometry(i){return this.setPositions(i.attributes.position.array),this}fromEdgesGeometry(i){return this.setPositions(i.attributes.position.array),this}fromMesh(i){return this.fromWireframeGeometry(new Tc(i.geometry)),this}fromLineSegments(i){const p=i.geometry;return this.setPositions(p.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jo);const i=this.attributes.instanceStart,p=this.attributes.instanceEnd;i!==void 0&&p!==void 0&&(this.boundingBox.setFromBufferAttribute(i),wu.setFromBufferAttribute(p),this.boundingBox.union(wu))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _a),this.boundingBox===null&&this.computeBoundingBox();const i=this.attributes.instanceStart,p=this.attributes.instanceEnd;if(i!==void 0&&p!==void 0){const g=this.boundingSphere.center;this.boundingBox.getCenter(g);let o=0;for(let n=0,s=i.count;n<s;n++)Go.fromBufferAttribute(i,n),o=Math.max(o,g.distanceToSquared(Go)),Go.fromBufferAttribute(p,n),o=Math.max(o,g.distanceToSquared(Go));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(i){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(i)}}class wf extends Ua{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(i){const p=i.length-3,g=new Float32Array(2*p);for(let o=0;o<p;o+=3)g[2*o]=i[o],g[2*o+1]=i[o+1],g[2*o+2]=i[o+2],g[2*o+3]=i[o+3],g[2*o+4]=i[o+4],g[2*o+5]=i[o+5];return super.setPositions(g),this}setColors(i){const p=i.length-3,g=new Float32Array(2*p);for(let o=0;o<p;o+=3)g[2*o]=i[o],g[2*o+1]=i[o+1],g[2*o+2]=i[o+2],g[2*o+3]=i[o+3],g[2*o+4]=i[o+4],g[2*o+5]=i[o+5];return super.setColors(g),this}fromLine(i){const p=i.geometry;return this.setPositions(p.attributes.position.array),this}}class Ca extends Uc{constructor(i){super({type:"LineMaterial",uniforms:ca.clone(ca.merge([ru.common,ru.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Fr(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(Cc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(p){this.uniforms.diffuse.value=p}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(p){p===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(p){this.uniforms.linewidth.value=p}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(p){!!p!="USE_DASH"in this.defines&&(this.needsUpdate=!0),p===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(p){this.uniforms.dashScale.value=p}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(p){this.uniforms.dashSize.value=p}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(p){this.uniforms.dashOffset.value=p}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(p){this.uniforms.gapSize.value=p}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(p){this.uniforms.opacity.value=p}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(p){this.uniforms.resolution.value.copy(p)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(p){!!p!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),p===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(i)}}const _u=new Tt,xu=new Tt,Mt=new li,Ft=new li,zn=new li,ra=new Tt,ia=new bu,zt=new Pc,Eu=new Tt,jo=new Jo,Wo=new _a,In=new li;let Bn,ma,_f,Pr;function ku(h,i,p){return In.set(0,0,-i,1).applyMatrix4(h.projectionMatrix),In.multiplyScalar(1/In.w),In.x=Pr/p.width,In.y=Pr/p.height,In.applyMatrix4(h.projectionMatrixInverse),In.multiplyScalar(1/In.w),Math.abs(Math.max(In.x,In.y))}function Fd(h,i){for(let p=0,g=ma.count;p<g;p++){zt.start.fromBufferAttribute(ma,p),zt.end.fromBufferAttribute(_f,p);const o=new Tt,n=new Tt;Bn.distanceSqToSegment(zt.start,zt.end,n,o),n.distanceTo(o)<Pr*.5&&i.push({point:n,pointOnLine:o,distance:Bn.origin.distanceTo(n),object:h,face:null,faceIndex:p,uv:null,uv2:null})}}function Dd(h,i,p){const g=i.projectionMatrix,n=h.material.resolution,s=h.matrixWorld,u=h.geometry,a=u.attributes.instanceStart,d=u.attributes.instanceEnd,c=-i.near;Bn.at(1,zn),zn.w=1,zn.applyMatrix4(i.matrixWorldInverse),zn.applyMatrix4(g),zn.multiplyScalar(1/zn.w),zn.x*=n.x/2,zn.y*=n.y/2,zn.z=0,ra.copy(zn),ia.multiplyMatrices(i.matrixWorldInverse,s);for(let m=0,y=a.count;m<y;m++){if(Mt.fromBufferAttribute(a,m),Ft.fromBufferAttribute(d,m),Mt.w=1,Ft.w=1,Mt.applyMatrix4(ia),Ft.applyMatrix4(ia),Mt.z>c&&Ft.z>c)continue;if(Mt.z>c){const w=Mt.z-Ft.z,U=(Mt.z-c)/w;Mt.lerp(Ft,U)}else if(Ft.z>c){const w=Ft.z-Mt.z,U=(Ft.z-c)/w;Ft.lerp(Mt,U)}Mt.applyMatrix4(g),Ft.applyMatrix4(g),Mt.multiplyScalar(1/Mt.w),Ft.multiplyScalar(1/Ft.w),Mt.x*=n.x/2,Mt.y*=n.y/2,Ft.x*=n.x/2,Ft.y*=n.y/2,zt.start.copy(Mt),zt.start.z=0,zt.end.copy(Ft),zt.end.z=0;const E=zt.closestPointToPointParameter(ra,!0);zt.at(E,Eu);const T=Mc.lerp(Mt.z,Ft.z,E),x=T>=-1&&T<=1,k=ra.distanceTo(Eu)<Pr*.5;if(x&&k){zt.start.fromBufferAttribute(a,m),zt.end.fromBufferAttribute(d,m),zt.start.applyMatrix4(s),zt.end.applyMatrix4(s);const w=new Tt,U=new Tt;Bn.distanceSqToSegment(zt.start,zt.end,U,w),p.push({point:U,pointOnLine:w,distance:Bn.origin.distanceTo(U),object:h,face:null,faceIndex:m,uv:null,uv2:null})}}}class xf extends Ko{constructor(i=new Ua,p=new Ca({color:Math.random()*16777215})){super(i,p),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const i=this.geometry,p=i.attributes.instanceStart,g=i.attributes.instanceEnd,o=new Float32Array(2*p.count);for(let s=0,u=0,a=p.count;s<a;s++,u+=2)_u.fromBufferAttribute(p,s),xu.fromBufferAttribute(g,s),o[u]=u===0?0:o[u-1],o[u+1]=o[u]+_u.distanceTo(xu);const n=new fa(o,2,1);return i.setAttribute("instanceDistanceStart",new ri(n,1,0)),i.setAttribute("instanceDistanceEnd",new ri(n,1,1)),this}raycast(i,p){const g=this.material.worldUnits,o=i.camera;o===null&&!g&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const n=i.params.Line2!==void 0&&i.params.Line2.threshold||0;Bn=i.ray;const s=this.matrixWorld,u=this.geometry,a=this.material;Pr=a.linewidth+n,ma=u.attributes.instanceStart,_f=u.attributes.instanceEnd,u.boundingSphere===null&&u.computeBoundingSphere(),Wo.copy(u.boundingSphere).applyMatrix4(s);let d;if(g)d=Pr*.5;else{const m=Math.max(o.near,Wo.distanceToPoint(Bn.origin));d=ku(o,m,a.resolution)}if(Wo.radius+=d,Bn.intersectsSphere(Wo)===!1)return;u.boundingBox===null&&u.computeBoundingBox(),jo.copy(u.boundingBox).applyMatrix4(s);let c;if(g)c=Pr*.5;else{const m=Math.max(o.near,jo.distanceToPoint(Bn.origin));c=ku(o,m,a.resolution)}jo.expandByScalar(c),Bn.intersectsBox(jo)!==!1&&(g?Fd(this,p):Dd(this,o,p))}}class Ld extends xf{constructor(i=new wf,p=new Ca({color:Math.random()*16777215})){super(i,p),this.isLine2=!0,this.type="Line2"}}const Nh=ae.forwardRef(function({points:i,color:p="black",vertexColors:g,linewidth:o,lineWidth:n,segments:s,dashed:u,...a},d){const c=df(E=>E.size),m=ae.useMemo(()=>s?new xf:new Ld,[s]),[y]=ae.useState(()=>new Ca),S=ae.useMemo(()=>{const E=s?new Ua:new wf,T=i.map(x=>{const k=Array.isArray(x);return x instanceof Tt?[x.x,x.y,x.z]:x instanceof Fr?[x.x,x.y,0]:k&&x.length===3?[x[0],x[1],x[2]]:k&&x.length===2?[x[0],x[1],0]:x});if(E.setPositions(T.flat()),g){const x=g.map(k=>k instanceof bi?k.toArray():k);E.setColors(x.flat())}return E},[i,s,g]);return ae.useLayoutEffect(()=>{m.computeLineDistances()},[i,m]),ae.useLayoutEffect(()=>{u?y.defines.USE_DASH="":delete y.defines.USE_DASH,y.needsUpdate=!0},[u,y]),ae.useEffect(()=>()=>S.dispose(),[S]),ae.createElement("primitive",Wi({object:m,ref:d},a),ae.createElement("primitive",{object:S,attach:"geometry"}),ae.createElement("primitive",Wi({object:y,attach:"material",color:p,vertexColors:!!g,resolution:[c.width,c.height],linewidth:o??n,dashed:u},a)))});function Rd(){var h=Object.create(null);function i(o,n){var s=o.id,u=o.name,a=o.dependencies;a===void 0&&(a=[]);var d=o.init;d===void 0&&(d=function(){});var c=o.getTransferables;if(c===void 0&&(c=null),!h[s])try{a=a.map(function(y){return y&&y.isWorkerModule&&(i(y,function(S){if(S instanceof Error)throw S}),y=h[y.id].value),y}),d=g("<"+u+">.init",d),c&&(c=g("<"+u+">.getTransferables",c));var m=null;typeof d=="function"?m=d.apply(void 0,a):console.error("worker module init function failed to rehydrate"),h[s]={id:s,value:m,getTransferables:c},n(m)}catch(y){y&&y.noLog||console.error(y),n(y)}}function p(o,n){var s,u=o.id,a=o.args;(!h[u]||typeof h[u].value!="function")&&n(new Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var d=(s=h[u]).value.apply(s,a);d&&typeof d.then=="function"?d.then(c,function(m){return n(m instanceof Error?m:new Error(""+m))}):c(d)}catch(m){n(m)}function c(m){try{var y=h[u].getTransferables&&h[u].getTransferables(m);(!y||!Array.isArray(y)||!y.length)&&(y=void 0),n(m,y)}catch(S){console.error(S),n(S)}}}function g(o,n){var s=void 0;self.troikaDefine=function(a){return s=a};var u=URL.createObjectURL(new Blob(["/** "+o.replace(/\*/g,"")+` **/

troikaDefine(
`+n+`
)`],{type:"application/javascript"}));try{importScripts(u)}catch(a){console.error(a)}return URL.revokeObjectURL(u),delete self.troikaDefine,s}self.addEventListener("message",function(o){var n=o.data,s=n.messageId,u=n.action,a=n.data;try{u==="registerModule"&&i(a,function(d){d instanceof Error?postMessage({messageId:s,success:!1,error:d.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof d=="function"}})}),u==="callModule"&&p(a,function(d,c){d instanceof Error?postMessage({messageId:s,success:!1,error:d.message}):postMessage({messageId:s,success:!0,result:d},c||void 0)})}catch(d){postMessage({messageId:s,success:!1,error:d.stack})}})}function Ad(h){var i=function(){for(var p=[],g=arguments.length;g--;)p[g]=arguments[g];return i._getInitResult().then(function(o){if(typeof o=="function")return o.apply(void 0,p);throw new Error("Worker module function was called but `init` did not return a callable function")})};return i._getInitResult=function(){var p=h.dependencies,g=h.init;p=Array.isArray(p)?p.map(function(n){return n&&n._getInitResult?n._getInitResult():n}):[];var o=Promise.all(p).then(function(n){return g.apply(null,n)});return i._getInitResult=function(){return o},o},i}var Ef=function(){var h=!1;if(typeof window<"u"&&typeof window.document<"u")try{var i=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));i.terminate(),h=!0}catch(p){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+p.message+"]")}return Ef=function(){return h},h},Od=0,zd=0,oa=!1,Gi=Object.create(null),ji=Object.create(null),ga=Object.create(null);function Hi(h){if((!h||typeof h.init!="function")&&!oa)throw new Error("requires `options.init` function");var i=h.dependencies,p=h.init,g=h.getTransferables,o=h.workerId;if(!Ef())return Ad(h);o==null&&(o="#default");var n="workerModule"+ ++Od,s=h.name||n,u=null;i=i&&i.map(function(d){return typeof d=="function"&&!d.workerModuleData&&(oa=!0,d=Hi({workerId:o,name:"<"+s+"> function dependency: "+d.name,init:`function(){return (
`+Qo(d)+`
)}`}),oa=!1),d&&d.workerModuleData&&(d=d.workerModuleData),d});function a(){for(var d=[],c=arguments.length;c--;)d[c]=arguments[c];if(!u){u=Tu(o,"registerModule",a.workerModuleData);var m=function(){u=null,ji[o].delete(m)};(ji[o]||(ji[o]=new Set)).add(m)}return u.then(function(y){var S=y.isCallable;if(S)return Tu(o,"callModule",{id:n,args:d});throw new Error("Worker module function was called but `init` did not return a callable function")})}return a.workerModuleData={isWorkerModule:!0,id:n,name:s,dependencies:i,init:Qo(p),getTransferables:g&&Qo(g)},a}function Id(h){ji[h]&&ji[h].forEach(function(i){i()}),Gi[h]&&(Gi[h].terminate(),delete Gi[h])}function Qo(h){var i=h.toString();return!/^function/.test(i)&&/^\w+\s*\(/.test(i)&&(i="function "+i),i}function Bd(h){var i=Gi[h];if(!i){var p=Qo(Rd);i=Gi[h]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+h.replace(/\*/g,"")+` **/

;(`+p+")()"],{type:"application/javascript"}))),i.onmessage=function(g){var o=g.data,n=o.messageId,s=ga[n];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete ga[n],s(o)}}return i}function Tu(h,i,p){return new Promise(function(g,o){var n=++zd;ga[n]=function(s){s.success?g(s.result):o(new Error("Error in worker "+i+" call: "+s.error))},Bd(h).postMessage({messageId:n,action:i,data:p})})}function kf(){var h=function(i){function p(z,b,C,O,V,Y,j,q){var Q=1-j;q.x=Q*Q*z+2*Q*j*C+j*j*V,q.y=Q*Q*b+2*Q*j*O+j*j*Y}function g(z,b,C,O,V,Y,j,q,Q,$){var se=1-Q;$.x=se*se*se*z+3*se*se*Q*C+3*se*Q*Q*V+Q*Q*Q*j,$.y=se*se*se*b+3*se*se*Q*O+3*se*Q*Q*Y+Q*Q*Q*q}function o(z,b){for(var C=/([MLQCZ])([^MLQCZ]*)/g,O,V,Y,j,q;O=C.exec(z);){var Q=O[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function($){return parseFloat($)});switch(O[1]){case"M":j=V=Q[0],q=Y=Q[1];break;case"L":(Q[0]!==j||Q[1]!==q)&&b("L",j,q,j=Q[0],q=Q[1]);break;case"Q":{b("Q",j,q,j=Q[2],q=Q[3],Q[0],Q[1]);break}case"C":{b("C",j,q,j=Q[4],q=Q[5],Q[0],Q[1],Q[2],Q[3]);break}case"Z":(j!==V||q!==Y)&&b("L",j,q,V,Y);break}}}function n(z,b,C){C===void 0&&(C=16);var O={x:0,y:0};o(z,function(V,Y,j,q,Q,$,se,ve,oe){switch(V){case"L":b(Y,j,q,Q);break;case"Q":{for(var K=Y,Ue=j,Ae=1;Ae<C;Ae++)p(Y,j,$,se,q,Q,Ae/(C-1),O),b(K,Ue,O.x,O.y),K=O.x,Ue=O.y;break}case"C":{for(var ce=Y,we=j,Me=1;Me<C;Me++)g(Y,j,$,se,ve,oe,q,Q,Me/(C-1),O),b(ce,we,O.x,O.y),ce=O.x,we=O.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",u="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",a=new WeakMap,d={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(z,b){var C=z.getContext?z.getContext("webgl",d):z,O=a.get(C);if(!O){let se=function(ce){var we=Y[ce];if(!we&&(we=Y[ce]=C.getExtension(ce),!we))throw new Error(ce+" not supported");return we},ve=function(ce,we){var Me=C.createShader(we);return C.shaderSource(Me,ce),C.compileShader(Me),Me},oe=function(ce,we,Me,ie){if(!j[ce]){var Ee={},de={},ee=C.createProgram();C.attachShader(ee,ve(we,C.VERTEX_SHADER)),C.attachShader(ee,ve(Me,C.FRAGMENT_SHADER)),C.linkProgram(ee),j[ce]={program:ee,transaction:function(me){C.useProgram(ee),me({setUniform:function(pe,He){for(var Ge=[],xe=arguments.length-2;xe-- >0;)Ge[xe]=arguments[xe+2];var Re=de[He]||(de[He]=C.getUniformLocation(ee,He));C["uniform"+pe].apply(C,[Re].concat(Ge))},setAttribute:function(pe,He,Ge,xe,Re){var je=Ee[pe];je||(je=Ee[pe]={buf:C.createBuffer(),loc:C.getAttribLocation(ee,pe),data:null}),C.bindBuffer(C.ARRAY_BUFFER,je.buf),C.vertexAttribPointer(je.loc,He,C.FLOAT,!1,0,0),C.enableVertexAttribArray(je.loc),V?C.vertexAttribDivisor(je.loc,xe):se("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(je.loc,xe),Re!==je.data&&(C.bufferData(C.ARRAY_BUFFER,Re,Ge),je.data=Re)}})}}}j[ce].transaction(ie)},K=function(ce,we){Q++;try{C.activeTexture(C.TEXTURE0+Q);var Me=q[ce];Me||(Me=q[ce]=C.createTexture(),C.bindTexture(C.TEXTURE_2D,Me),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST)),C.bindTexture(C.TEXTURE_2D,Me),we(Me,Q)}finally{Q--}},Ue=function(ce,we,Me){var ie=C.createFramebuffer();$.push(ie),C.bindFramebuffer(C.FRAMEBUFFER,ie),C.activeTexture(C.TEXTURE0+we),C.bindTexture(C.TEXTURE_2D,ce),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,ce,0);try{Me(ie)}finally{C.deleteFramebuffer(ie),C.bindFramebuffer(C.FRAMEBUFFER,$[--$.length-1]||null)}},Ae=function(){Y={},j={},q={},Q=-1,$.length=0};var V=typeof WebGL2RenderingContext<"u"&&C instanceof WebGL2RenderingContext,Y={},j={},q={},Q=-1,$=[];C.canvas.addEventListener("webglcontextlost",function(ce){Ae(),ce.preventDefault()},!1),a.set(C,O={gl:C,isWebGL2:V,getExtension:se,withProgram:oe,withTexture:K,withTextureFramebuffer:Ue,handleContextLoss:Ae})}b(O)}function m(z,b,C,O,V,Y,j,q){j===void 0&&(j=15),q===void 0&&(q=null),c(z,function(Q){var $=Q.gl,se=Q.withProgram,ve=Q.withTexture;ve("copy",function(oe,K){$.texImage2D($.TEXTURE_2D,0,$.RGBA,V,Y,0,$.RGBA,$.UNSIGNED_BYTE,b),se("copy",s,u,function(Ue){var Ae=Ue.setUniform,ce=Ue.setAttribute;ce("aUV",2,$.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ae("1i","image",K),$.bindFramebuffer($.FRAMEBUFFER,q||null),$.disable($.BLEND),$.colorMask(j&8,j&4,j&2,j&1),$.viewport(C,O,V,Y),$.scissor(C,O,V,Y),$.drawArrays($.TRIANGLES,0,3)})})})}function y(z,b,C){var O=z.width,V=z.height;c(z,function(Y){var j=Y.gl,q=new Uint8Array(O*V*4);j.readPixels(0,0,O,V,j.RGBA,j.UNSIGNED_BYTE,q),z.width=b,z.height=C,m(j,q,0,0,O,V)})}var S=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:m,resizeWebGLCanvasWithoutClearing:y});function E(z,b,C,O,V,Y){Y===void 0&&(Y=1);var j=new Uint8Array(z*b),q=O[2]-O[0],Q=O[3]-O[1],$=[];n(C,function(ce,we,Me,ie){$.push({x1:ce,y1:we,x2:Me,y2:ie,minX:Math.min(ce,Me),minY:Math.min(we,ie),maxX:Math.max(ce,Me),maxY:Math.max(we,ie)})}),$.sort(function(ce,we){return ce.maxX-we.maxX});for(var se=0;se<z;se++)for(var ve=0;ve<b;ve++){var oe=Ue(O[0]+q*(se+.5)/z,O[1]+Q*(ve+.5)/b),K=Math.pow(1-Math.abs(oe)/V,Y)/2;oe<0&&(K=1-K),K=Math.max(0,Math.min(255,Math.round(K*255))),j[ve*z+se]=K}return j;function Ue(ce,we){for(var Me=1/0,ie=1/0,Ee=$.length;Ee--;){var de=$[Ee];if(de.maxX+ie<=ce)break;if(ce+ie>de.minX&&we-ie<de.maxY&&we+ie>de.minY){var ee=k(ce,we,de.x1,de.y1,de.x2,de.y2);ee<Me&&(Me=ee,ie=Math.sqrt(Me))}}return Ae(ce,we)&&(ie=-ie),ie}function Ae(ce,we){for(var Me=0,ie=$.length;ie--;){var Ee=$[ie];if(Ee.maxX<=ce)break;var de=Ee.y1>we!=Ee.y2>we&&ce<(Ee.x2-Ee.x1)*(we-Ee.y1)/(Ee.y2-Ee.y1)+Ee.x1;de&&(Me+=Ee.y1<Ee.y2?1:-1)}return Me!==0}}function T(z,b,C,O,V,Y,j,q,Q,$){Y===void 0&&(Y=1),q===void 0&&(q=0),Q===void 0&&(Q=0),$===void 0&&($=0),x(z,b,C,O,V,Y,j,null,q,Q,$)}function x(z,b,C,O,V,Y,j,q,Q,$,se){Y===void 0&&(Y=1),Q===void 0&&(Q=0),$===void 0&&($=0),se===void 0&&(se=0);for(var ve=E(z,b,C,O,V,Y),oe=new Uint8Array(ve.length*4),K=0;K<ve.length;K++)oe[K*4+se]=ve[K];m(j,oe,Q,$,z,b,1<<3-se,q)}function k(z,b,C,O,V,Y){var j=V-C,q=Y-O,Q=j*j+q*q,$=Q?Math.max(0,Math.min(1,((z-C)*j+(b-O)*q)/Q)):0,se=z-(C+$*j),ve=b-(O+$*q);return se*se+ve*ve}var w=Object.freeze({__proto__:null,generate:E,generateIntoCanvas:T,generateIntoFramebuffer:x}),U="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",F="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",L=new Float32Array([0,0,2,0,0,2]),I=null,N=!1,Z={},te=new WeakMap;function H(z){if(!N&&!le(z))throw new Error("WebGL generation not supported")}function D(z,b,C,O,V,Y,j){if(Y===void 0&&(Y=1),j===void 0&&(j=null),!j&&(j=I,!j)){var q=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!q)throw new Error("OffscreenCanvas or DOM canvas not supported");j=I=q.getContext("webgl",{depth:!1})}H(j);var Q=new Uint8Array(z*b*4);c(j,function(oe){var K=oe.gl,Ue=oe.withTexture,Ae=oe.withTextureFramebuffer;Ue("readable",function(ce,we){K.texImage2D(K.TEXTURE_2D,0,K.RGBA,z,b,0,K.RGBA,K.UNSIGNED_BYTE,null),Ae(ce,we,function(Me){X(z,b,C,O,V,Y,K,Me,0,0,0),K.readPixels(0,0,z,b,K.RGBA,K.UNSIGNED_BYTE,Q)})})});for(var $=new Uint8Array(z*b),se=0,ve=0;se<Q.length;se+=4)$[ve++]=Q[se];return $}function J(z,b,C,O,V,Y,j,q,Q,$){Y===void 0&&(Y=1),q===void 0&&(q=0),Q===void 0&&(Q=0),$===void 0&&($=0),X(z,b,C,O,V,Y,j,null,q,Q,$)}function X(z,b,C,O,V,Y,j,q,Q,$,se){Y===void 0&&(Y=1),Q===void 0&&(Q=0),$===void 0&&($=0),se===void 0&&(se=0),H(j);var ve=[];n(C,function(oe,K,Ue,Ae){ve.push(oe,K,Ue,Ae)}),ve=new Float32Array(ve),c(j,function(oe){var K=oe.gl,Ue=oe.isWebGL2,Ae=oe.getExtension,ce=oe.withProgram,we=oe.withTexture,Me=oe.withTextureFramebuffer,ie=oe.handleContextLoss;if(we("rawDistances",function(Ee,de){(z!==Ee._lastWidth||b!==Ee._lastHeight)&&K.texImage2D(K.TEXTURE_2D,0,K.RGBA,Ee._lastWidth=z,Ee._lastHeight=b,0,K.RGBA,K.UNSIGNED_BYTE,null),ce("main",U,A,function(ee){var Ce=ee.setAttribute,me=ee.setUniform,ge=!Ue&&Ae("ANGLE_instanced_arrays"),pe=!Ue&&Ae("EXT_blend_minmax");Ce("aUV",2,K.STATIC_DRAW,0,L),Ce("aLineSegment",4,K.DYNAMIC_DRAW,1,ve),me.apply(void 0,["4f","uGlyphBounds"].concat(O)),me("1f","uMaxDistance",V),me("1f","uExponent",Y),Me(Ee,de,function(He){K.enable(K.BLEND),K.colorMask(!0,!0,!0,!0),K.viewport(0,0,z,b),K.scissor(0,0,z,b),K.blendFunc(K.ONE,K.ONE),K.blendEquationSeparate(K.FUNC_ADD,Ue?K.MAX:pe.MAX_EXT),K.clear(K.COLOR_BUFFER_BIT),Ue?K.drawArraysInstanced(K.TRIANGLES,0,3,ve.length/4):ge.drawArraysInstancedANGLE(K.TRIANGLES,0,3,ve.length/4)})}),ce("post",s,F,function(ee){ee.setAttribute("aUV",2,K.STATIC_DRAW,0,L),ee.setUniform("1i","tex",de),K.bindFramebuffer(K.FRAMEBUFFER,q),K.disable(K.BLEND),K.colorMask(se===0,se===1,se===2,se===3),K.viewport(Q,$,z,b),K.scissor(Q,$,z,b),K.drawArrays(K.TRIANGLES,0,3)})}),K.isContextLost())throw ie(),new Error("webgl context lost")})}function le(z){var b=!z||z===I?Z:z.canvas||z,C=te.get(b);if(C===void 0){N=!0;var O=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=D(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,z);C=Y&&V.length===Y.length&&Y.every(function(j,q){return j===V[q]}),C||(O="bad trial run results",console.info(V,Y))}catch(j){C=!1,O=j.message}O&&console.warn("WebGL SDF generation not supported:",O),N=!1,te.set(b,C)}return C}var re=Object.freeze({__proto__:null,generate:D,generateIntoCanvas:J,generateIntoFramebuffer:X,isSupported:le});function ke(z,b,C,O,V,Y){V===void 0&&(V=Math.max(O[2]-O[0],O[3]-O[1])/2),Y===void 0&&(Y=1);try{return D.apply(re,arguments)}catch(j){return console.info("WebGL SDF generation failed, falling back to JS",j),E.apply(w,arguments)}}function W(z,b,C,O,V,Y,j,q,Q,$){V===void 0&&(V=Math.max(O[2]-O[0],O[3]-O[1])/2),Y===void 0&&(Y=1),q===void 0&&(q=0),Q===void 0&&(Q=0),$===void 0&&($=0);try{return J.apply(re,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),T.apply(w,arguments)}}return i.forEachPathCommand=o,i.generate=ke,i.generateIntoCanvas=W,i.javascript=w,i.pathToLineSegments=n,i.webgl=re,i.webglUtils=S,Object.defineProperty(i,"__esModule",{value:!0}),i}({});return h}function Nd(){var h=function(i){var p={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},g={},o={};g.L=1,o[1]="L",Object.keys(p).forEach(function(ie,Ee){g[ie]=1<<Ee+1,o[g[ie]]=ie}),Object.freeze(g);var n=g.LRI|g.RLI|g.FSI,s=g.L|g.R|g.AL,u=g.B|g.S|g.WS|g.ON|g.FSI|g.LRI|g.RLI|g.PDI,a=g.BN|g.RLE|g.LRE|g.RLO|g.LRO|g.PDF,d=g.S|g.WS|g.B|n|g.PDI|a,c=null;function m(){if(!c){c=new Map;var ie=function(de){if(p.hasOwnProperty(de)){var ee=0;p[de].split(",").forEach(function(Ce){var me=Ce.split("+"),ge=me[0],pe=me[1];ge=parseInt(ge,36),pe=pe?parseInt(pe,36):0,c.set(ee+=ge,g[de]);for(var He=0;He<pe;He++)c.set(++ee,g[de])})}};for(var Ee in p)ie(Ee)}}function y(ie){return m(),c.get(ie.codePointAt(0))||g.L}function S(ie){return o[y(ie)]}var E={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function T(ie,Ee){var de=36,ee=0,Ce=new Map,me=Ee&&new Map,ge;return ie.split(",").forEach(function pe(He){if(He.indexOf("+")!==-1)for(var Ge=+He;Ge--;)pe(ge);else{ge=He;var xe=He.split(">"),Re=xe[0],je=xe[1];Re=String.fromCodePoint(ee+=parseInt(Re,de)),je=String.fromCodePoint(ee+=parseInt(je,de)),Ce.set(Re,je),Ee&&me.set(je,Re)}}),{map:Ce,reverseMap:me}}var x,k,w;function U(){if(!x){var ie=T(E.pairs,!0),Ee=ie.map,de=ie.reverseMap;x=Ee,k=de,w=T(E.canonical,!1).map}}function A(ie){return U(),x.get(ie)||null}function F(ie){return U(),k.get(ie)||null}function L(ie){return U(),w.get(ie)||null}var I=g.L,N=g.R,Z=g.EN,te=g.ES,H=g.ET,D=g.AN,J=g.CS,X=g.B,le=g.S,re=g.ON,ke=g.BN,W=g.NSM,z=g.AL,b=g.LRO,C=g.RLO,O=g.LRE,V=g.RLE,Y=g.PDF,j=g.LRI,q=g.RLI,Q=g.FSI,$=g.PDI;function se(ie,Ee){for(var de=125,ee=new Uint32Array(ie.length),Ce=0;Ce<ie.length;Ce++)ee[Ce]=y(ie[Ce]);var me=new Map;function ge(xt,bt){var ct=ee[xt];ee[xt]=bt,me.set(ct,me.get(ct)-1),ct&u&&me.set(u,me.get(u)-1),me.set(bt,(me.get(bt)||0)+1),bt&u&&me.set(u,(me.get(u)||0)+1)}for(var pe=new Uint8Array(ie.length),He=new Map,Ge=[],xe=null,Re=0;Re<ie.length;Re++)xe||Ge.push(xe={start:Re,end:ie.length-1,level:Ee==="rtl"?1:Ee==="ltr"?0:jr(Re,!1)}),ee[Re]&X&&(xe.end=Re,xe=null);for(var je=V|O|C|b|n|$|Y|X,lt=function(xt){return xt+(xt&1?1:2)},Le=function(xt){return xt+(xt&1?2:1)},Ke=0;Ke<Ge.length;Ke++){xe=Ge[Ke];var Ie=[{_level:xe.level,_override:0,_isolate:0}],Pe=void 0,Ve=0,Ye=0,at=0;me.clear();for(var Oe=xe.start;Oe<=xe.end;Oe++){var qe=ee[Oe];if(Pe=Ie[Ie.length-1],me.set(qe,(me.get(qe)||0)+1),qe&u&&me.set(u,(me.get(u)||0)+1),qe&je)if(qe&(V|O)){pe[Oe]=Pe._level;var Ut=(qe===V?Le:lt)(Pe._level);Ut<=de&&!Ve&&!Ye?Ie.push({_level:Ut,_override:0,_isolate:0}):Ve||Ye++}else if(qe&(C|b)){pe[Oe]=Pe._level;var wn=(qe===C?Le:lt)(Pe._level);wn<=de&&!Ve&&!Ye?Ie.push({_level:wn,_override:qe&C?N:I,_isolate:0}):Ve||Ye++}else if(qe&n){qe&Q&&(qe=jr(Oe+1,!0)===1?q:j),pe[Oe]=Pe._level,Pe._override&&ge(Oe,Pe._override);var Nn=(qe===q?Le:lt)(Pe._level);Nn<=de&&Ve===0&&Ye===0?(at++,Ie.push({_level:Nn,_override:0,_isolate:1,_isolInitIndex:Oe})):Ve++}else if(qe&$){if(Ve>0)Ve--;else if(at>0){for(Ye=0;!Ie[Ie.length-1]._isolate;)Ie.pop();var _n=Ie[Ie.length-1]._isolInitIndex;_n!=null&&(He.set(_n,Oe),He.set(Oe,_n)),Ie.pop(),at--}Pe=Ie[Ie.length-1],pe[Oe]=Pe._level,Pe._override&&ge(Oe,Pe._override)}else qe&Y?(Ve===0&&(Ye>0?Ye--:!Pe._isolate&&Ie.length>1&&(Ie.pop(),Pe=Ie[Ie.length-1])),pe[Oe]=Pe._level):qe&X&&(pe[Oe]=xe.level);else pe[Oe]=Pe._level,Pe._override&&qe!==ke&&ge(Oe,Pe._override)}for(var It=[],Bt=null,$e=xe.start;$e<=xe.end;$e++){var Zn=ee[$e];if(!(Zn&a)){var tt=pe[$e],nt=Zn&n,Zt=Zn===$;Bt&&tt===Bt._level?(Bt._end=$e,Bt._endsWithIsolInit=nt):It.push(Bt={_start:$e,_end:$e,_level:tt,_startsWithPDI:Zt,_endsWithIsolInit:nt})}}for(var Nt=[],Qe=0;Qe<It.length;Qe++){var ft=It[Qe];if(!ft._startsWithPDI||ft._startsWithPDI&&!He.has(ft._start)){for(var Qt=[Bt=ft],st=void 0;Bt&&Bt._endsWithIsolInit&&(st=He.get(Bt._end))!=null;)for(var pt=Qe+1;pt<It.length;pt++)if(It[pt]._start===st){Qt.push(Bt=It[pt]);break}for(var Ct=[],Un=0;Un<Qt.length;Un++)for(var qt=Qt[Un],Gn=qt._start;Gn<=qt._end;Gn++)Ct.push(Gn);for(var qo=pe[Ct[0]],Vi=xe.level,ur=Ct[0]-1;ur>=0;ur--)if(!(ee[ur]&a)){Vi=pe[ur];break}var ui=Ct[Ct.length-1],$o=pe[ui],Qi=xe.level;if(!(ee[ui]&n)){for(var Lr=ui+1;Lr<=xe.end;Lr++)if(!(ee[Lr]&a)){Qi=pe[Lr];break}}Nt.push({_seqIndices:Ct,_sosType:Math.max(Vi,qo)%2?N:I,_eosType:Math.max(Qi,$o)%2?N:I})}}for(var fi=0;fi<Nt.length;fi++){var ci=Nt[fi],ye=ci._seqIndices,xn=ci._sosType,di=ci._eosType,Cn=pe[ye[0]]&1?N:I;if(me.get(W))for(var Rr=0;Rr<ye.length;Rr++){var Ar=ye[Rr];if(ee[Ar]&W){for(var Pn=xn,$t=Rr-1;$t>=0;$t--)if(!(ee[ye[$t]]&a)){Pn=ee[ye[$t]];break}ge(Ar,Pn&(n|$)?re:Pn)}}if(me.get(Z))for(var Xe=0;Xe<ye.length;Xe++){var Je=ye[Xe];if(ee[Je]&Z)for(var en=Xe-1;en>=-1;en--){var gt=en===-1?xn:ee[ye[en]];if(gt&s){gt===z&&ge(Je,D);break}}}if(me.get(z))for(var St=0;St<ye.length;St++){var Mn=ye[St];ee[Mn]&z&&ge(Mn,N)}if(me.get(te)||me.get(J))for(var cn=1;cn<ye.length-1;cn++){var wt=ye[cn];if(ee[wt]&(te|J)){for(var En=0,Or=0,zr=cn-1;zr>=0&&(En=ee[ye[zr]],!!(En&a));zr--);for(var qn=cn+1;qn<ye.length&&(Or=ee[ye[qn]],!!(Or&a));qn++);En===Or&&(ee[wt]===te?En===Z:En&(Z|D))&&ge(wt,En)}}if(me.get(Z))for(var tn=0;tn<ye.length;tn++){var nn=ye[tn];if(ee[nn]&Z){for(var Ir=tn-1;Ir>=0&&ee[ye[Ir]]&(H|a);Ir--)ge(ye[Ir],Z);for(tn++;tn<ye.length&&ee[ye[tn]]&(H|a|Z);tn++)ee[ye[tn]]!==Z&&ge(ye[tn],Z)}}if(me.get(H)||me.get(te)||me.get(J))for(var fr=0;fr<ye.length;fr++){var Xi=ye[fr];if(ee[Xi]&(H|te|J)){ge(Xi,re);for(var jn=fr-1;jn>=0&&ee[ye[jn]]&a;jn--)ge(ye[jn],re);for(var Wn=fr+1;Wn<ye.length&&ee[ye[Wn]]&a;Wn++)ge(ye[Wn],re)}}if(me.get(Z))for(var bn=0,cr=xn;bn<ye.length;bn++){var Yi=ye[bn],hi=ee[Yi];hi&Z?cr===I&&ge(Yi,I):hi&s&&(cr=hi)}if(me.get(u)){var Hn=N|Z|D,Br=Hn|I,Fn=[];{for(var $n=[],Dn=0;Dn<ye.length;Dn++)if(ee[ye[Dn]]&u){var Ne=ie[ye[Dn]],pi=void 0;if(A(Ne)!==null)if($n.length<63)$n.push({char:Ne,seqIndex:Dn});else break;else if((pi=F(Ne))!==null)for(var Vn=$n.length-1;Vn>=0;Vn--){var Nr=$n[Vn].char;if(Nr===pi||Nr===F(L(Ne))||A(L(Nr))===Ne){Fn.push([$n[Vn].seqIndex,Dn]),$n.length=Vn;break}}}Fn.sort(function(xt,bt){return xt[0]-bt[0]})}for(var vi=0;vi<Fn.length;vi++){for(var Ji=Fn[vi],it=Ji[0],dr=Ji[1],Ki=!1,Gt=0,mi=it+1;mi<dr;mi++){var hr=ye[mi];if(ee[hr]&Br){Ki=!0;var rn=ee[hr]&Hn?N:I;if(rn===Cn){Gt=rn;break}}}if(Ki&&!Gt){Gt=xn;for(var gi=it-1;gi>=0;gi--){var Zi=ye[gi];if(ee[Zi]&Br){var on=ee[Zi]&Hn?N:I;on!==Cn?Gt=on:Gt=Cn;break}}}if(Gt){if(ee[ye[it]]=ee[ye[dr]]=Gt,Gt!==Cn){for(var jt=it+1;jt<ye.length;jt++)if(!(ee[ye[jt]]&a)){y(ie[ye[jt]])&W&&(ee[ye[jt]]=Gt);break}}if(Gt!==Cn){for(var Ln=dr+1;Ln<ye.length;Ln++)if(!(ee[ye[Ln]]&a)){y(ie[ye[Ln]])&W&&(ee[ye[Ln]]=Gt);break}}}}for(var dn=0;dn<ye.length;dn++)if(ee[ye[dn]]&u){for(var yi=dn,Si=dn,Xt=xn,pr=dn-1;pr>=0;pr--)if(ee[ye[pr]]&a)yi=pr;else{Xt=ee[ye[pr]]&Hn?N:I;break}for(var vr=di,mr=dn+1;mr<ye.length;mr++)if(ee[ye[mr]]&(u|a))Si=mr;else{vr=ee[ye[mr]]&Hn?N:I;break}for(var Wt=yi;Wt<=Si;Wt++)ee[ye[Wt]]=Xt===vr?Xt:Cn;dn=Si}}}for(var _t=xe.start;_t<=xe.end;_t++){var Gr=pe[_t],kn=ee[_t];if(Gr&1?kn&(I|Z|D)&&pe[_t]++:kn&N?pe[_t]++:kn&(D|Z)&&(pe[_t]+=2),kn&a&&(pe[_t]=_t===0?xe.level:pe[_t-1]),_t===xe.end||y(ie[_t])&(le|X))for(var er=_t;er>=0&&y(ie[er])&d;er--)pe[er]=xe.level}}return{levels:pe,paragraphs:Ge};function jr(xt,bt){for(var ct=xt;ct<ie.length;ct++){var dt=ee[ct];if(dt&(N|z))return 1;if(dt&(X|I)||bt&&dt===$)return 0;if(dt&n){var ln=qi(ct);ct=ln===-1?ie.length:ln}}return 0}function qi(xt){for(var bt=1,ct=xt+1;ct<ie.length;ct++){var dt=ee[ct];if(dt&X)break;if(dt&$){if(--bt===0)return ct}else dt&n&&bt++}return-1}}var ve="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",oe;function K(){if(!oe){var ie=T(ve,!0),Ee=ie.map,de=ie.reverseMap;de.forEach(function(ee,Ce){Ee.set(Ce,ee)}),oe=Ee}}function Ue(ie){return K(),oe.get(ie)||null}function Ae(ie,Ee,de,ee){var Ce=ie.length;de=Math.max(0,de==null?0:+de),ee=Math.min(Ce-1,ee==null?Ce-1:+ee);for(var me=new Map,ge=de;ge<=ee;ge++)if(Ee[ge]&1){var pe=Ue(ie[ge]);pe!==null&&me.set(ge,pe)}return me}function ce(ie,Ee,de,ee){var Ce=ie.length;de=Math.max(0,de==null?0:+de),ee=Math.min(Ce-1,ee==null?Ce-1:+ee);var me=[];return Ee.paragraphs.forEach(function(ge){var pe=Math.max(de,ge.start),He=Math.min(ee,ge.end);if(pe<He){for(var Ge=Ee.levels.slice(pe,He+1),xe=He;xe>=pe&&y(ie[xe])&d;xe--)Ge[xe]=ge.level;for(var Re=ge.level,je=1/0,lt=0;lt<Ge.length;lt++){var Le=Ge[lt];Le>Re&&(Re=Le),Le<je&&(je=Le|1)}for(var Ke=Re;Ke>=je;Ke--)for(var Ie=0;Ie<Ge.length;Ie++)if(Ge[Ie]>=Ke){for(var Pe=Ie;Ie+1<Ge.length&&Ge[Ie+1]>=Ke;)Ie++;Ie>Pe&&me.push([Pe+pe,Ie+pe])}}}),me}function we(ie,Ee,de,ee){var Ce=Me(ie,Ee,de,ee),me=[].concat(ie);return Ce.forEach(function(ge,pe){me[pe]=(Ee.levels[ge]&1?Ue(ie[ge]):null)||ie[ge]}),me.join("")}function Me(ie,Ee,de,ee){for(var Ce=ce(ie,Ee,de,ee),me=[],ge=0;ge<ie.length;ge++)me[ge]=ge;return Ce.forEach(function(pe){for(var He=pe[0],Ge=pe[1],xe=me.slice(He,Ge+1),Re=xe.length;Re--;)me[Ge-Re]=xe[Re]}),me}return i.closingToOpeningBracket=F,i.getBidiCharType=y,i.getBidiCharTypeName=S,i.getCanonicalBracket=L,i.getEmbeddingLevels=se,i.getMirroredCharacter=Ue,i.getMirroredCharactersMap=Ae,i.getReorderSegments=ce,i.getReorderedIndices=Me,i.getReorderedString=we,i.openingToClosingBracket=A,Object.defineProperty(i,"__esModule",{value:!0}),i}({});return h}const Tf=/\bvoid\s+main\s*\(\s*\)\s*{/g;function ya(h){const i=/^[ \t]*#include +<([\w\d./]+)>/gm;function p(g,o){let n=Rc[o];return n?ya(n):g}return h.replace(i,p)}const Dt=[];for(let h=0;h<256;h++)Dt[h]=(h<16?"0":"")+h.toString(16);function Gd(){const h=Math.random()*4294967295|0,i=Math.random()*4294967295|0,p=Math.random()*4294967295|0,g=Math.random()*4294967295|0;return(Dt[h&255]+Dt[h>>8&255]+Dt[h>>16&255]+Dt[h>>24&255]+"-"+Dt[i&255]+Dt[i>>8&255]+"-"+Dt[i>>16&15|64]+Dt[i>>24&255]+"-"+Dt[p&63|128]+Dt[p>>8&255]+"-"+Dt[p>>16&255]+Dt[p>>24&255]+Dt[g&255]+Dt[g>>8&255]+Dt[g>>16&255]+Dt[g>>24&255]).toUpperCase()}const Ur=Object.assign||function(){let h=arguments[0];for(let i=1,p=arguments.length;i<p;i++){let g=arguments[i];if(g)for(let o in g)Object.prototype.hasOwnProperty.call(g,o)&&(h[o]=g[o])}return h},jd=Date.now(),Uu=new WeakMap,Cu=new Map;let Wd=1e10;function Sa(h,i){const p=Qd(i);let g=Uu.get(h);if(g||Uu.set(h,g=Object.create(null)),g[p])return new g[p];const o=`_onBeforeCompile${p}`,n=function(d,c){h.onBeforeCompile.call(this,d,c);const m=this.customProgramCacheKey()+"|"+d.vertexShader+"|"+d.fragmentShader;let y=Cu[m];if(!y){const S=bd(this,d,i,p);y=Cu[m]=S}d.vertexShader=y.vertexShader,d.fragmentShader=y.fragmentShader,Ur(d.uniforms,this.uniforms),i.timeUniform&&(d.uniforms[i.timeUniform]={get value(){return Date.now()-jd}}),this[o]&&this[o](d)},s=function(){return u(i.chained?h:h.clone())},u=function(d){const c=Object.create(d,a);return Object.defineProperty(c,"baseMaterial",{value:h}),Object.defineProperty(c,"id",{value:Wd++}),c.uuid=Gd(),c.uniforms=Ur({},d.uniforms,i.uniforms),c.defines=Ur({},d.defines,i.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${p}`]="",c.extensions=Ur({},d.extensions,i.extensions),c._listeners=void 0,c},a={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return h.customProgramCacheKey()+"|"+p}},onBeforeCompile:{get(){return n},set(d){this[o]=d}},copy:{writable:!0,configurable:!0,value:function(d){return h.copy.call(this,d),!h.isShaderMaterial&&!h.isDerivedMaterial&&(Ur(this.extensions,d.extensions),Ur(this.defines,d.defines),Ur(this.uniforms,ca.clone(d.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const d=new h.constructor;return u(d).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let d=this._depthMaterial;return d||(d=this._depthMaterial=Sa(h.isDerivedMaterial?h.getDepthMaterial():new Fc({depthPacking:Dc}),i),d.defines.IS_DEPTH_MATERIAL="",d.uniforms=this.uniforms),d}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let d=this._distanceMaterial;return d||(d=this._distanceMaterial=Sa(h.isDerivedMaterial?h.getDistanceMaterial():new Lc,i),d.defines.IS_DISTANCE_MATERIAL="",d.uniforms=this.uniforms),d}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:d,_distanceMaterial:c}=this;d&&d.dispose(),c&&c.dispose(),h.dispose.call(this)}}};return g[p]=s,new s}function bd(h,{vertexShader:i,fragmentShader:p},g,o){let{vertexDefs:n,vertexMainIntro:s,vertexMainOutro:u,vertexTransform:a,fragmentDefs:d,fragmentMainIntro:c,fragmentMainOutro:m,fragmentColorTransform:y,customRewriter:S,timeUniform:E}=g;if(n=n||"",s=s||"",u=u||"",d=d||"",c=c||"",m=m||"",(a||S)&&(i=ya(i)),(y||S)&&(p=p.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),p=ya(p)),S){let T=S({vertexShader:i,fragmentShader:p});i=T.vertexShader,p=T.fragmentShader}if(y){let T=[];p=p.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(T.push(x),"")),m=`${y}
${T.join(`
`)}
${m}`}if(E){const T=`
uniform float ${E};
`;n=T+n,d=T+d}return a&&(i=`vec3 troika_position_${o};
vec3 troika_normal_${o};
vec2 troika_uv_${o};
${i}
`,n=`${n}
void troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${a}
}
`,s=`
troika_position_${o} = vec3(position);
troika_normal_${o} = vec3(normal);
troika_uv_${o} = vec2(uv);
troikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});
${s}
`,i=i.replace(/\b(position|normal|uv)\b/g,(T,x,k,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,k))?x:`troika_${x}_${o}`),h.map&&h.map.channel>0||(i=i.replace(/\bMAP_UV\b/g,`troika_uv_${o}`))),i=Pu(i,o,n,s,u),p=Pu(p,o,d,c,m),{vertexShader:i,fragmentShader:p}}function Pu(h,i,p,g,o){return(g||o||p)&&(h=h.replace(Tf,`
${p}
void troikaOrigMain${i}() {`),h+=`
void main() {
  ${g}
  troikaOrigMain${i}();
  ${o}
}`),h}function Hd(h,i){return h==="uniforms"?void 0:typeof i=="function"?i.toString():i}let Vd=0;const Mu=new Map;function Qd(h){const i=JSON.stringify(h,Hd);let p=Mu.get(i);return p==null&&Mu.set(i,p=++Vd),p}function Xd(h,i,p){const{defaultFontURL:g}=p,o=Object.create(null),n=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u="[^\\S\\u00A0]",a=new RegExp(`${u}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function d(w,U){function A(){const F=L=>{console.error(`Failure loading font ${w}${w===g?"":"; trying fallback"}`,L),w!==g&&(w=g,A())};try{const L=new XMLHttpRequest;L.open("get",w,!0),L.responseType="arraybuffer",L.onload=function(){if(L.status>=400)F(new Error(L.statusText));else if(L.status>0)try{const I=h(L.response);U(I)}catch(I){F(I)}},L.onerror=F,L.send()}catch(L){F(L)}}A()}function c(w,U){w||(w=g);let A=o[w];A?A.pending?A.pending.push(U):U(A):(o[w]={pending:[U]},d(w,F=>{let L=o[w].pending;o[w]=F,L.forEach(I=>I(F))}))}function m({text:w="",font:U=g,sdfGlyphSize:A=64,fontSize:F=1,letterSpacing:L=0,lineHeight:I="normal",maxWidth:N=n,direction:Z,textAlign:te="left",textIndent:H=0,whiteSpace:D="normal",overflowWrap:J="normal",anchorX:X=0,anchorY:le=0,includeCaretPositions:re=!1,chunkedBoundsSize:ke=8192,colorRanges:W=null},z,b=!1){const C=T(),O={fontLoad:0,typesetting:0};w.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),w=w.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),F=+F,L=+L,N=+N,I=I||"normal",H=+H,c(U,V=>{const Y=isFinite(N);let j=null,q=null,Q=null,$=null,se=null,ve=null,oe=null,K=0,Ue=0,Ae=D!=="nowrap";const{ascender:ce,descender:we,unitsPerEm:Me,lineGap:ie,capHeight:Ee,xHeight:de}=V;O.fontLoad=T()-C;const ee=T(),Ce=F/Me;I==="normal"&&(I=(ce-we+ie)/Me),I=I*F;const me=(I-(ce-we)*Ce)/2,ge=-(ce*Ce+me),pe=Math.min(I,(ce-we)*Ce),He=(ce+we)/2*Ce-pe/2;let Ge=H,xe=new x;const Re=[xe];V.forEachGlyph(w,F,L,(Le,Ke,Ie)=>{const Pe=w.charAt(Ie),Ve=Le.advanceWidth*Ce,Ye=xe.count;let at;if("isEmpty"in Le||(Le.isWhitespace=!!Pe&&new RegExp(u).test(Pe),Le.canBreakAfter=!!Pe&&a.test(Pe),Le.isEmpty=Le.xMin===Le.xMax||Le.yMin===Le.yMax||s.test(Pe)),!Le.isWhitespace&&!Le.isEmpty&&Ue++,Ae&&Y&&!Le.isWhitespace&&Ke+Ve+Ge>N&&Ye){if(xe.glyphAt(Ye-1).glyphObj.canBreakAfter)at=new x,Ge=-Ke;else for(let qe=Ye;qe--;)if(qe===0&&J==="break-word"){at=new x,Ge=-Ke;break}else if(xe.glyphAt(qe).glyphObj.canBreakAfter){at=xe.splitAt(qe+1);const Ut=at.glyphAt(0).x;Ge-=Ut;for(let wn=at.count;wn--;)at.glyphAt(wn).x-=Ut;break}at&&(xe.isSoftWrapped=!0,xe=at,Re.push(xe),K=N)}let Oe=xe.glyphAt(xe.count);Oe.glyphObj=Le,Oe.x=Ke+Ge,Oe.width=Ve,Oe.charIndex=Ie,Pe===`
`&&(xe=new x,Re.push(xe),Ge=-(Ke+Ve+L*F)+H)}),Re.forEach(Le=>{for(let Ke=Le.count;Ke--;){let{glyphObj:Ie,x:Pe,width:Ve}=Le.glyphAt(Ke);if(!Ie.isWhitespace){Le.width=Pe+Ve,Le.width>K&&(K=Le.width);return}}});let je=0,lt=0;if(X&&(typeof X=="number"?je=-X:typeof X=="string"&&(je=-K*(X==="left"?0:X==="center"?.5:X==="right"?1:S(X)))),le){if(typeof le=="number")lt=-le;else if(typeof le=="string"){let Le=Re.length*I;lt=le==="top"?0:le==="top-baseline"?-ge:le==="top-cap"?-ge-Ee*Ce:le==="top-ex"?-ge-de*Ce:le==="middle"?Le/2:le==="bottom"?Le:le==="bottom-baseline"?Le-me+we*Ce:S(le)*Le}}if(!b){const Le=i.getEmbeddingLevels(w,Z);j=new Uint16Array(Ue),q=new Float32Array(Ue*2),Q={},ve=[n,n,-n,-n],oe=[];let Ke=ge;re&&(se=new Float32Array(w.length*3)),W&&($=new Uint8Array(Ue*3));let Ie=0,Pe=-1,Ve=-1,Ye,at;if(Re.forEach((Oe,qe)=>{let{count:Ut,width:wn}=Oe;if(Ut>0){let Nn=0;for(let tt=Ut;tt--&&Oe.glyphAt(tt).glyphObj.isWhitespace;)Nn++;let _n=0,It=0;if(te==="center")_n=(K-wn)/2;else if(te==="right")_n=K-wn;else if(te==="justify"&&Oe.isSoftWrapped){let tt=0;for(let nt=Ut-Nn;nt--;)Oe.glyphAt(nt).glyphObj.isWhitespace&&tt++;It=(K-wn)/tt}if(It||_n){let tt=0;for(let nt=0;nt<Ut;nt++){let Zt=Oe.glyphAt(nt);const Nt=Zt.glyphObj;Zt.x+=_n+tt,It!==0&&Nt.isWhitespace&&nt<Ut-Nn&&(tt+=It,Zt.width+=It)}}const Bt=i.getReorderSegments(w,Le,Oe.glyphAt(0).charIndex,Oe.glyphAt(Oe.count-1).charIndex);for(let tt=0;tt<Bt.length;tt++){const[nt,Zt]=Bt[tt];let Nt=1/0,Qe=-1/0;for(let ft=0;ft<Ut;ft++)if(Oe.glyphAt(ft).charIndex>=nt){let Qt=ft,st=ft;for(;st<Ut;st++){let pt=Oe.glyphAt(st);if(pt.charIndex>Zt)break;st<Ut-Nn&&(Nt=Math.min(Nt,pt.x),Qe=Math.max(Qe,pt.x+pt.width))}for(let pt=Qt;pt<st;pt++){const Ct=Oe.glyphAt(pt);Ct.x=Qe-(Ct.x+Ct.width-Nt)}break}}let $e;const Zn=tt=>$e=tt;for(let tt=0;tt<Ut;tt++){let nt=Oe.glyphAt(tt);$e=nt.glyphObj;const Zt=$e.index,Nt=Le.levels[nt.charIndex]&1;if(Nt){const Qe=i.getMirroredCharacter(w[nt.charIndex]);Qe&&V.forEachGlyph(Qe,0,0,Zn)}if(re){const{charIndex:Qe}=nt,ft=nt.x+je,Qt=nt.x+nt.width+je;se[Qe*3]=Nt?Qt:ft,se[Qe*3+1]=Nt?ft:Qt,se[Qe*3+2]=Ke+He+lt;const st=Qe-Pe;st>1&&E(se,Pe,st),Pe=Qe}if(W){const{charIndex:Qe}=nt;for(;Qe>Ve;)Ve++,W.hasOwnProperty(Ve)&&(at=W[Ve])}if(!$e.isWhitespace&&!$e.isEmpty){const Qe=Ie++;Q[Zt]||(Q[Zt]={path:$e.path,pathBounds:[$e.xMin,$e.yMin,$e.xMax,$e.yMax]});const ft=nt.x+je,Qt=Ke+lt;q[Qe*2]=ft,q[Qe*2+1]=Qt;const st=ft+$e.xMin*Ce,pt=Qt+$e.yMin*Ce,Ct=ft+$e.xMax*Ce,Un=Qt+$e.yMax*Ce;st<ve[0]&&(ve[0]=st),pt<ve[1]&&(ve[1]=pt),Ct>ve[2]&&(ve[2]=Ct),Un>ve[3]&&(ve[3]=Un),Qe%ke===0&&(Ye={start:Qe,end:Qe,rect:[n,n,-n,-n]},oe.push(Ye)),Ye.end++;const qt=Ye.rect;if(st<qt[0]&&(qt[0]=st),pt<qt[1]&&(qt[1]=pt),Ct>qt[2]&&(qt[2]=Ct),Un>qt[3]&&(qt[3]=Un),j[Qe]=Zt,W){const Gn=Qe*3;$[Gn]=at>>16&255,$[Gn+1]=at>>8&255,$[Gn+2]=at&255}}}}Ke-=I}),se){const Oe=w.length-Pe;Oe>1&&E(se,Pe,Oe)}}O.typesetting=T()-ee,z({glyphIds:j,glyphPositions:q,glyphData:Q,caretPositions:se,caretHeight:pe,glyphColors:$,chunkedBounds:oe,fontSize:F,unitsPerEm:Me,ascender:ce*Ce,descender:we*Ce,capHeight:Ee*Ce,xHeight:de*Ce,lineHeight:I,topBaseline:ge,blockBounds:[je,lt-Re.length*I,je+K,lt],visibleBounds:ve,timings:O})})}function y(w,U){m(w,A=>{const[F,L,I,N]=A.blockBounds;U({width:I-F,height:N-L})},{metricsOnly:!0})}function S(w){let U=w.match(/^([\d.]+)%$/),A=U?parseFloat(U[1]):NaN;return isNaN(A)?0:A/100}function E(w,U,A){const F=w[U*3],L=w[U*3+1],I=w[U*3+2],N=(L-F)/A;for(let Z=0;Z<A;Z++){const te=(U+Z)*3;w[te]=F+N*Z,w[te+1]=F+N*(Z+1),w[te+2]=I}}function T(){return(self.performance||Date).now()}function x(){this.data=[]}const k=["glyphObj","x","width","charIndex"];return x.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/k.length)},glyphAt(w){let U=x.flyweight;return U.data=this.data,U.index=w,U},splitAt(w){let U=new x;return U.data=this.data.splice(w*k.length),U}},x.flyweight=k.reduce((w,U,A,F)=>(Object.defineProperty(w,U,{get(){return this.data[this.index*k.length+A]},set(L){this.data[this.index*k.length+A]=L}}),w),{data:null,index:0}),{typeset:m,measure:y,loadFont:c}}const Mr=()=>(self.performance||Date).now(),Zo=kf();let Fu;function Yd(h,i,p,g,o,n,s,u,a,d,c=!0){return c?Kd(h,i,p,g,o,n,s,u,a,d).then(null,m=>(Fu||(console.warn("WebGL SDF generation failed, falling back to JS",m),Fu=!0),Lu(h,i,p,g,o,n,s,u,a,d))):Lu(h,i,p,g,o,n,s,u,a,d)}const Xo=[],Jd=5;let wa=0;function Uf(){const h=Mr();for(;Xo.length&&Mr()-h<Jd;)Xo.shift()();wa=Xo.length?setTimeout(Uf,0):0}const Kd=(...h)=>new Promise((i,p)=>{Xo.push(()=>{const g=Mr();try{Zo.webgl.generateIntoCanvas(...h),i({timing:Mr()-g})}catch(o){p(o)}}),wa||(wa=setTimeout(Uf,0))}),Zd=4,qd=2e3,Du={};let $d=0;function Lu(h,i,p,g,o,n,s,u,a,d){const c="TroikaTextSDFGenerator_JS_"+$d++%Zd;let m=Du[c];return m||(m=Du[c]={workerModule:Hi({name:c,workerId:c,dependencies:[kf,Mr],init(y,S){const E=y().javascript.generate;return function(...T){const x=S();return{textureData:E(...T),timing:S()-x}}},getTransferables(y){return[y.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(h,i,p,g,o,n).then(({textureData:y,timing:S})=>{const E=Mr(),T=new Uint8Array(y.length*4);for(let x=0;x<y.length;x++)T[x*4+d]=y[x];return Zo.webglUtils.renderImageData(s,T,u,a,h,i,1<<3-d),S+=Mr()-E,--m.requests===0&&(m.idleTimer=setTimeout(()=>{Id(c)},qd)),{timing:S}})}function eh(h){h._warm||(Zo.webgl.isSupported(h),h._warm=!0)}const th=Zo.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function nh(){return typeof window>"u"&&(self.window=self),function(h){var i={parse:function(o){var n=i._bin,s=new Uint8Array(o);if(n.readASCII(s,0,4)=="ttcf"){var u=4;n.readUshort(s,u),u+=2,n.readUshort(s,u),u+=2;var a=n.readUint(s,u);u+=4;for(var d=[],c=0;c<a;c++){var m=n.readUint(s,u);u+=4,d.push(i._readFont(s,m))}return d}return[i._readFont(s,0)]},_readFont:function(o,n){var s=i._bin,u=n;s.readFixed(o,n),n+=4;var a=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2;for(var d=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:o,_offset:u},m={},y=0;y<a;y++){var S=s.readASCII(o,n,4);n+=4,s.readUint(o,n),n+=4;var E=s.readUint(o,n);n+=4;var T=s.readUint(o,n);n+=4,m[S]={offset:E,length:T}}for(y=0;y<d.length;y++){var x=d[y];m[x]&&(c[x.trim()]=i[x.trim()].parse(o,m[x].offset,m[x].length,c))}return c},_tabOffset:function(o,n,s){for(var u=i._bin,a=u.readUshort(o,s+4),d=s+12,c=0;c<a;c++){var m=u.readASCII(o,d,4);d+=4,u.readUint(o,d),d+=4;var y=u.readUint(o,d);if(d+=4,u.readUint(o,d),d+=4,m==n)return y}return 0}};i._bin={readFixed:function(o,n){return(o[n]<<8|o[n+1])+(o[n+2]<<8|o[n+3])/65540},readF2dot14:function(o,n){return i._bin.readShort(o,n)/16384},readInt:function(o,n){return i._bin._view(o).getInt32(n)},readInt8:function(o,n){return i._bin._view(o).getInt8(n)},readShort:function(o,n){return i._bin._view(o).getInt16(n)},readUshort:function(o,n){return i._bin._view(o).getUint16(n)},readUshorts:function(o,n,s){for(var u=[],a=0;a<s;a++)u.push(i._bin.readUshort(o,n+2*a));return u},readUint:function(o,n){return i._bin._view(o).getUint32(n)},readUint64:function(o,n){return 4294967296*i._bin.readUint(o,n)+i._bin.readUint(o,n+4)},readASCII:function(o,n,s){for(var u="",a=0;a<s;a++)u+=String.fromCharCode(o[n+a]);return u},readUnicode:function(o,n,s){for(var u="",a=0;a<s;a++){var d=o[n++]<<8|o[n++];u+=String.fromCharCode(d)}return u},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(o,n,s){var u=i._bin._tdec;return u&&n==0&&s==o.length?u.decode(o):i._bin.readASCII(o,n,s)},readBytes:function(o,n,s){for(var u=[],a=0;a<s;a++)u.push(o[n+a]);return u},readASCIIArray:function(o,n,s){for(var u=[],a=0;a<s;a++)u.push(String.fromCharCode(o[n+a]));return u},_view:function(o){return o._dataView||(o._dataView=o.buffer?new DataView(o.buffer,o.byteOffset,o.byteLength):new DataView(new Uint8Array(o).buffer))}},i._lctf={},i._lctf.parse=function(o,n,s,u,a){var d=i._bin,c={},m=n;d.readFixed(o,n),n+=4;var y=d.readUshort(o,n);n+=2;var S=d.readUshort(o,n);n+=2;var E=d.readUshort(o,n);return n+=2,c.scriptList=i._lctf.readScriptList(o,m+y),c.featureList=i._lctf.readFeatureList(o,m+S),c.lookupList=i._lctf.readLookupList(o,m+E,a),c},i._lctf.readLookupList=function(o,n,s){var u=i._bin,a=n,d=[],c=u.readUshort(o,n);n+=2;for(var m=0;m<c;m++){var y=u.readUshort(o,n);n+=2;var S=i._lctf.readLookupTable(o,a+y,s);d.push(S)}return d},i._lctf.readLookupTable=function(o,n,s){var u=i._bin,a=n,d={tabs:[]};d.ltype=u.readUshort(o,n),n+=2,d.flag=u.readUshort(o,n),n+=2;var c=u.readUshort(o,n);n+=2;for(var m=d.ltype,y=0;y<c;y++){var S=u.readUshort(o,n);n+=2;var E=s(o,m,a+S,d);d.tabs.push(E)}return d},i._lctf.numOfOnes=function(o){for(var n=0,s=0;s<32;s++)o>>>s&1&&n++;return n},i._lctf.readClassDef=function(o,n){var s=i._bin,u=[],a=s.readUshort(o,n);if(n+=2,a==1){var d=s.readUshort(o,n);n+=2;var c=s.readUshort(o,n);n+=2;for(var m=0;m<c;m++)u.push(d+m),u.push(d+m),u.push(s.readUshort(o,n)),n+=2}if(a==2){var y=s.readUshort(o,n);for(n+=2,m=0;m<y;m++)u.push(s.readUshort(o,n)),n+=2,u.push(s.readUshort(o,n)),n+=2,u.push(s.readUshort(o,n)),n+=2}return u},i._lctf.getInterval=function(o,n){for(var s=0;s<o.length;s+=3){var u=o[s],a=o[s+1];if(o[s+2],u<=n&&n<=a)return s}return-1},i._lctf.readCoverage=function(o,n){var s=i._bin,u={};u.fmt=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);return n+=2,u.fmt==1&&(u.tab=s.readUshorts(o,n,a)),u.fmt==2&&(u.tab=s.readUshorts(o,n,3*a)),u},i._lctf.coverageIndex=function(o,n){var s=o.tab;if(o.fmt==1)return s.indexOf(n);if(o.fmt==2){var u=i._lctf.getInterval(s,n);if(u!=-1)return s[u+2]+(n-s[u])}return-1},i._lctf.readFeatureList=function(o,n){var s=i._bin,u=n,a=[],d=s.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=s.readASCII(o,n,4);n+=4;var y=s.readUshort(o,n);n+=2;var S=i._lctf.readFeatureTable(o,u+y);S.tag=m.trim(),a.push(S)}return a},i._lctf.readFeatureTable=function(o,n){var s=i._bin,u=n,a={},d=s.readUshort(o,n);n+=2,d>0&&(a.featureParams=u+d);var c=s.readUshort(o,n);n+=2,a.tab=[];for(var m=0;m<c;m++)a.tab.push(s.readUshort(o,n+2*m));return a},i._lctf.readScriptList=function(o,n){var s=i._bin,u=n,a={},d=s.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=s.readASCII(o,n,4);n+=4;var y=s.readUshort(o,n);n+=2,a[m.trim()]=i._lctf.readScriptTable(o,u+y)}return a},i._lctf.readScriptTable=function(o,n){var s=i._bin,u=n,a={},d=s.readUshort(o,n);n+=2,a.default=i._lctf.readLangSysTable(o,u+d);var c=s.readUshort(o,n);n+=2;for(var m=0;m<c;m++){var y=s.readASCII(o,n,4);n+=4;var S=s.readUshort(o,n);n+=2,a[y.trim()]=i._lctf.readLangSysTable(o,u+S)}return a},i._lctf.readLangSysTable=function(o,n){var s=i._bin,u={};s.readUshort(o,n),n+=2,u.reqFeature=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);return n+=2,u.features=s.readUshorts(o,n,a),u},i.CFF={},i.CFF.parse=function(o,n,s){var u=i._bin;(o=new Uint8Array(o.buffer,n,s))[n=0],o[++n],o[++n],o[++n],n++;var a=[];n=i.CFF.readIndex(o,n,a);for(var d=[],c=0;c<a.length-1;c++)d.push(u.readASCII(o,n+a[c],a[c+1]-a[c]));n+=a[a.length-1];var m=[];n=i.CFF.readIndex(o,n,m);var y=[];for(c=0;c<m.length-1;c++)y.push(i.CFF.readDict(o,n+m[c],n+m[c+1]));n+=m[m.length-1];var S=y[0],E=[];n=i.CFF.readIndex(o,n,E);var T=[];for(c=0;c<E.length-1;c++)T.push(u.readASCII(o,n+E[c],E[c+1]-E[c]));if(n+=E[E.length-1],i.CFF.readSubrs(o,n,S),S.CharStrings){n=S.CharStrings,E=[],n=i.CFF.readIndex(o,n,E);var x=[];for(c=0;c<E.length-1;c++)x.push(u.readBytes(o,n+E[c],E[c+1]-E[c]));S.CharStrings=x}if(S.ROS){n=S.FDArray;var k=[];for(n=i.CFF.readIndex(o,n,k),S.FDArray=[],c=0;c<k.length-1;c++){var w=i.CFF.readDict(o,n+k[c],n+k[c+1]);i.CFF._readFDict(o,w,T),S.FDArray.push(w)}n+=k[k.length-1],n=S.FDSelect,S.FDSelect=[];var U=o[n];if(n++,U!=3)throw U;var A=u.readUshort(o,n);for(n+=2,c=0;c<A+1;c++)S.FDSelect.push(u.readUshort(o,n),o[n+2]),n+=3}return S.Encoding&&(S.Encoding=i.CFF.readEncoding(o,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=i.CFF.readCharset(o,S.charset,S.CharStrings.length)),i.CFF._readFDict(o,S,T),S},i.CFF._readFDict=function(o,n,s){var u;for(var a in n.Private&&(u=n.Private[1],n.Private=i.CFF.readDict(o,u,u+n.Private[0]),n.Private.Subrs&&i.CFF.readSubrs(o,u+n.Private.Subrs,n.Private)),n)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)!=-1&&(n[a]=s[n[a]-426+35])},i.CFF.readSubrs=function(o,n,s){var u=i._bin,a=[];n=i.CFF.readIndex(o,n,a);var d,c=a.length;d=c<1240?107:c<33900?1131:32768,s.Bias=d,s.Subrs=[];for(var m=0;m<a.length-1;m++)s.Subrs.push(u.readBytes(o,n+a[m],a[m+1]-a[m]))},i.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],i.CFF.glyphByUnicode=function(o,n){for(var s=0;s<o.charset.length;s++)if(o.charset[s]==n)return s;return-1},i.CFF.glyphBySE=function(o,n){return n<0||n>255?-1:i.CFF.glyphByUnicode(o,i.CFF.tableSE[n])},i.CFF.readEncoding=function(o,n,s){i._bin;var u=[".notdef"],a=o[n];if(n++,a!=0)throw"error: unknown encoding format: "+a;var d=o[n];n++;for(var c=0;c<d;c++)u.push(o[n+c]);return u},i.CFF.readCharset=function(o,n,s){var u=i._bin,a=[".notdef"],d=o[n];if(n++,d==0)for(var c=0;c<s;c++){var m=u.readUshort(o,n);n+=2,a.push(m)}else{if(d!=1&&d!=2)throw"error: format: "+d;for(;a.length<s;){m=u.readUshort(o,n),n+=2;var y=0;for(d==1?(y=o[n],n++):(y=u.readUshort(o,n),n+=2),c=0;c<=y;c++)a.push(m),m++}}return a},i.CFF.readIndex=function(o,n,s){var u=i._bin,a=u.readUshort(o,n)+1,d=o[n+=2];if(n++,d==1)for(var c=0;c<a;c++)s.push(o[n+c]);else if(d==2)for(c=0;c<a;c++)s.push(u.readUshort(o,n+2*c));else if(d==3)for(c=0;c<a;c++)s.push(16777215&u.readUint(o,n+3*c-1));else if(a!=1)throw"unsupported offset size: "+d+", count: "+a;return(n+=a*d)-1},i.CFF.getCharString=function(o,n,s){var u=i._bin,a=o[n],d=o[n+1];o[n+2],o[n+3],o[n+4];var c=1,m=null,y=null;a<=20&&(m=a,c=1),a==12&&(m=100*a+d,c=2),21<=a&&a<=27&&(m=a,c=1),a==28&&(y=u.readShort(o,n+1),c=3),29<=a&&a<=31&&(m=a,c=1),32<=a&&a<=246&&(y=a-139,c=1),247<=a&&a<=250&&(y=256*(a-247)+d+108,c=2),251<=a&&a<=254&&(y=256*-(a-251)-d-108,c=2),a==255&&(y=u.readInt(o,n+1)/65535,c=5),s.val=y??"o"+m,s.size=c},i.CFF.readCharString=function(o,n,s){for(var u=n+s,a=i._bin,d=[];n<u;){var c=o[n],m=o[n+1];o[n+2],o[n+3],o[n+4];var y=1,S=null,E=null;c<=20&&(S=c,y=1),c==12&&(S=100*c+m,y=2),c!=19&&c!=20||(S=c,y=2),21<=c&&c<=27&&(S=c,y=1),c==28&&(E=a.readShort(o,n+1),y=3),29<=c&&c<=31&&(S=c,y=1),32<=c&&c<=246&&(E=c-139,y=1),247<=c&&c<=250&&(E=256*(c-247)+m+108,y=2),251<=c&&c<=254&&(E=256*-(c-251)-m-108,y=2),c==255&&(E=a.readInt(o,n+1)/65535,y=5),d.push(E??"o"+S),n+=y}return d},i.CFF.readDict=function(o,n,s){for(var u=i._bin,a={},d=[];n<s;){var c=o[n],m=o[n+1];o[n+2],o[n+3],o[n+4];var y=1,S=null,E=null;if(c==28&&(E=u.readShort(o,n+1),y=3),c==29&&(E=u.readInt(o,n+1),y=5),32<=c&&c<=246&&(E=c-139,y=1),247<=c&&c<=250&&(E=256*(c-247)+m+108,y=2),251<=c&&c<=254&&(E=256*-(c-251)-m-108,y=2),c==255)throw E=u.readInt(o,n+1)/65535,y=5,"unknown number";if(c==30){var T=[];for(y=1;;){var x=o[n+y];y++;var k=x>>4,w=15&x;if(k!=15&&T.push(k),w!=15&&T.push(w),w==15)break}for(var U="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],F=0;F<T.length;F++)U+=A[T[F]];E=parseFloat(U)}c<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],y=1,c==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],y=2)),S!=null?(a[S]=d.length==1?d[0]:d,d=[]):d.push(E),n+=y}return a},i.cmap={},i.cmap.parse=function(o,n,s){o=new Uint8Array(o.buffer,n,s),n=0;var u=i._bin,a={};u.readUshort(o,n),n+=2;var d=u.readUshort(o,n);n+=2;var c=[];a.tables=[];for(var m=0;m<d;m++){var y=u.readUshort(o,n);n+=2;var S=u.readUshort(o,n);n+=2;var E=u.readUint(o,n);n+=4;var T="p"+y+"e"+S,x=c.indexOf(E);if(x==-1){var k;x=a.tables.length,c.push(E);var w=u.readUshort(o,E);w==0?k=i.cmap.parse0(o,E):w==4?k=i.cmap.parse4(o,E):w==6?k=i.cmap.parse6(o,E):w==12?k=i.cmap.parse12(o,E):console.debug("unknown format: "+w,y,S,E),a.tables.push(k)}if(a[T]!=null)throw"multiple tables for one platform+encoding";a[T]=x}return a},i.cmap.parse0=function(o,n){var s=i._bin,u={};u.format=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2,u.map=[];for(var d=0;d<a-6;d++)u.map.push(o[n+d]);return u},i.cmap.parse4=function(o,n){var s=i._bin,u=n,a={};a.format=s.readUshort(o,n),n+=2;var d=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2;var c=s.readUshort(o,n);n+=2;var m=c/2;a.searchRange=s.readUshort(o,n),n+=2,a.entrySelector=s.readUshort(o,n),n+=2,a.rangeShift=s.readUshort(o,n),n+=2,a.endCount=s.readUshorts(o,n,m),n+=2*m,n+=2,a.startCount=s.readUshorts(o,n,m),n+=2*m,a.idDelta=[];for(var y=0;y<m;y++)a.idDelta.push(s.readShort(o,n)),n+=2;for(a.idRangeOffset=s.readUshorts(o,n,m),n+=2*m,a.glyphIdArray=[];n<u+d;)a.glyphIdArray.push(s.readUshort(o,n)),n+=2;return a},i.cmap.parse6=function(o,n){var s=i._bin,u={};u.format=s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2,u.firstCode=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);n+=2,u.glyphIdArray=[];for(var d=0;d<a;d++)u.glyphIdArray.push(s.readUshort(o,n)),n+=2;return u},i.cmap.parse12=function(o,n){var s=i._bin,u={};u.format=s.readUshort(o,n),n+=2,n+=2,s.readUint(o,n),n+=4,s.readUint(o,n),n+=4;var a=s.readUint(o,n);n+=4,u.groups=[];for(var d=0;d<a;d++){var c=n+12*d,m=s.readUint(o,c+0),y=s.readUint(o,c+4),S=s.readUint(o,c+8);u.groups.push([m,y,S])}return u},i.glyf={},i.glyf.parse=function(o,n,s,u){for(var a=[],d=0;d<u.maxp.numGlyphs;d++)a.push(null);return a},i.glyf._parseGlyf=function(o,n){var s=i._bin,u=o._data,a=i._tabOffset(u,"glyf",o._offset)+o.loca[n];if(o.loca[n]==o.loca[n+1])return null;var d={};if(d.noc=s.readShort(u,a),a+=2,d.xMin=s.readShort(u,a),a+=2,d.yMin=s.readShort(u,a),a+=2,d.xMax=s.readShort(u,a),a+=2,d.yMax=s.readShort(u,a),a+=2,d.xMin>=d.xMax||d.yMin>=d.yMax)return null;if(d.noc>0){d.endPts=[];for(var c=0;c<d.noc;c++)d.endPts.push(s.readUshort(u,a)),a+=2;var m=s.readUshort(u,a);if(a+=2,u.length-a<m)return null;d.instructions=s.readBytes(u,a,m),a+=m;var y=d.endPts[d.noc-1]+1;for(d.flags=[],c=0;c<y;c++){var S=u[a];if(a++,d.flags.push(S),(8&S)!=0){var E=u[a];a++;for(var T=0;T<E;T++)d.flags.push(S),c++}}for(d.xs=[],c=0;c<y;c++){var x=(2&d.flags[c])!=0,k=(16&d.flags[c])!=0;x?(d.xs.push(k?u[a]:-u[a]),a++):k?d.xs.push(0):(d.xs.push(s.readShort(u,a)),a+=2)}for(d.ys=[],c=0;c<y;c++)x=(4&d.flags[c])!=0,k=(32&d.flags[c])!=0,x?(d.ys.push(k?u[a]:-u[a]),a++):k?d.ys.push(0):(d.ys.push(s.readShort(u,a)),a+=2);var w=0,U=0;for(c=0;c<y;c++)w+=d.xs[c],U+=d.ys[c],d.xs[c]=w,d.ys[c]=U}else{var A;d.parts=[];do{A=s.readUshort(u,a),a+=2;var F={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(d.parts.push(F),F.glyphIndex=s.readUshort(u,a),a+=2,1&A){var L=s.readShort(u,a);a+=2;var I=s.readShort(u,a);a+=2}else L=s.readInt8(u,a),a++,I=s.readInt8(u,a),a++;2&A?(F.m.tx=L,F.m.ty=I):(F.p1=L,F.p2=I),8&A?(F.m.a=F.m.d=s.readF2dot14(u,a),a+=2):64&A?(F.m.a=s.readF2dot14(u,a),a+=2,F.m.d=s.readF2dot14(u,a),a+=2):128&A&&(F.m.a=s.readF2dot14(u,a),a+=2,F.m.b=s.readF2dot14(u,a),a+=2,F.m.c=s.readF2dot14(u,a),a+=2,F.m.d=s.readF2dot14(u,a),a+=2)}while(32&A);if(256&A){var N=s.readUshort(u,a);for(a+=2,d.instr=[],c=0;c<N;c++)d.instr.push(u[a]),a++}}return d},i.GPOS={},i.GPOS.parse=function(o,n,s,u){return i._lctf.parse(o,n,s,u,i.GPOS.subt)},i.GPOS.subt=function(o,n,s,u){var a=i._bin,d=s,c={};if(c.fmt=a.readUshort(o,s),s+=2,n==1||n==2||n==3||n==7||n==8&&c.fmt<=2){var m=a.readUshort(o,s);s+=2,c.coverage=i._lctf.readCoverage(o,m+d)}if(n==1&&c.fmt==1){var y=a.readUshort(o,s);s+=2;var S=i._lctf.numOfOnes(y);y!=0&&(c.pos=i.GPOS.readValueRecord(o,s,y))}else if(n==2&&c.fmt>=1&&c.fmt<=2){y=a.readUshort(o,s),s+=2;var E=a.readUshort(o,s);s+=2,S=i._lctf.numOfOnes(y);var T=i._lctf.numOfOnes(E);if(c.fmt==1){c.pairsets=[];var x=a.readUshort(o,s);s+=2;for(var k=0;k<x;k++){var w=d+a.readUshort(o,s);s+=2;var U=a.readUshort(o,w);w+=2;for(var A=[],F=0;F<U;F++){var L=a.readUshort(o,w);w+=2,y!=0&&(D=i.GPOS.readValueRecord(o,w,y),w+=2*S),E!=0&&(J=i.GPOS.readValueRecord(o,w,E),w+=2*T),A.push({gid2:L,val1:D,val2:J})}c.pairsets.push(A)}}if(c.fmt==2){var I=a.readUshort(o,s);s+=2;var N=a.readUshort(o,s);s+=2;var Z=a.readUshort(o,s);s+=2;var te=a.readUshort(o,s);for(s+=2,c.classDef1=i._lctf.readClassDef(o,d+I),c.classDef2=i._lctf.readClassDef(o,d+N),c.matrix=[],k=0;k<Z;k++){var H=[];for(F=0;F<te;F++){var D=null,J=null;y!=0&&(D=i.GPOS.readValueRecord(o,s,y),s+=2*S),E!=0&&(J=i.GPOS.readValueRecord(o,s,E),s+=2*T),H.push({val1:D,val2:J})}c.matrix.push(H)}}}else{if(n==9&&c.fmt==1){var X=a.readUshort(o,s);s+=2;var le=a.readUint(o,s);if(s+=4,u.ltype==9)u.ltype=X;else if(u.ltype!=X)throw"invalid extension substitution";return i.GPOS.subt(o,u.ltype,d+le)}console.debug("unsupported GPOS table LookupType",n,"format",c.fmt)}return c},i.GPOS.readValueRecord=function(o,n,s){var u=i._bin,a=[];return a.push(1&s?u.readShort(o,n):0),n+=1&s?2:0,a.push(2&s?u.readShort(o,n):0),n+=2&s?2:0,a.push(4&s?u.readShort(o,n):0),n+=4&s?2:0,a.push(8&s?u.readShort(o,n):0),n+=8&s?2:0,a},i.GSUB={},i.GSUB.parse=function(o,n,s,u){return i._lctf.parse(o,n,s,u,i.GSUB.subt)},i.GSUB.subt=function(o,n,s,u){var a=i._bin,d=s,c={};if(c.fmt=a.readUshort(o,s),s+=2,n!=1&&n!=4&&n!=5&&n!=6)return null;if(n==1||n==4||n==5&&c.fmt<=2||n==6&&c.fmt<=2){var m=a.readUshort(o,s);s+=2,c.coverage=i._lctf.readCoverage(o,d+m)}if(n==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=a.readShort(o,s),s+=2;else if(c.fmt==2){var y=a.readUshort(o,s);s+=2,c.newg=a.readUshorts(o,s,y),s+=2*c.newg.length}}else if(n==4){c.vals=[],y=a.readUshort(o,s),s+=2;for(var S=0;S<y;S++){var E=a.readUshort(o,s);s+=2,c.vals.push(i.GSUB.readLigatureSet(o,d+E))}}else if(n==5&&c.fmt==2){if(c.fmt==2){var T=a.readUshort(o,s);s+=2,c.cDef=i._lctf.readClassDef(o,d+T),c.scset=[];var x=a.readUshort(o,s);for(s+=2,S=0;S<x;S++){var k=a.readUshort(o,s);s+=2,c.scset.push(k==0?null:i.GSUB.readSubClassSet(o,d+k))}}}else if(n==6&&c.fmt==3){if(c.fmt==3){for(S=0;S<3;S++){y=a.readUshort(o,s),s+=2;for(var w=[],U=0;U<y;U++)w.push(i._lctf.readCoverage(o,d+a.readUshort(o,s+2*U)));s+=2*y,S==0&&(c.backCvg=w),S==1&&(c.inptCvg=w),S==2&&(c.ahedCvg=w)}y=a.readUshort(o,s),s+=2,c.lookupRec=i.GSUB.readSubstLookupRecords(o,s,y)}}else{if(n==7&&c.fmt==1){var A=a.readUshort(o,s);s+=2;var F=a.readUint(o,s);if(s+=4,u.ltype==9)u.ltype=A;else if(u.ltype!=A)throw"invalid extension substitution";return i.GSUB.subt(o,u.ltype,d+F)}console.debug("unsupported GSUB table LookupType",n,"format",c.fmt)}return c},i.GSUB.readSubClassSet=function(o,n){var s=i._bin.readUshort,u=n,a=[],d=s(o,n);n+=2;for(var c=0;c<d;c++){var m=s(o,n);n+=2,a.push(i.GSUB.readSubClassRule(o,u+m))}return a},i.GSUB.readSubClassRule=function(o,n){var s=i._bin.readUshort,u={},a=s(o,n),d=s(o,n+=2);n+=2,u.input=[];for(var c=0;c<a-1;c++)u.input.push(s(o,n)),n+=2;return u.substLookupRecords=i.GSUB.readSubstLookupRecords(o,n,d),u},i.GSUB.readSubstLookupRecords=function(o,n,s){for(var u=i._bin.readUshort,a=[],d=0;d<s;d++)a.push(u(o,n),u(o,n+2)),n+=4;return a},i.GSUB.readChainSubClassSet=function(o,n){var s=i._bin,u=n,a=[],d=s.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=s.readUshort(o,n);n+=2,a.push(i.GSUB.readChainSubClassRule(o,u+m))}return a},i.GSUB.readChainSubClassRule=function(o,n){for(var s=i._bin,u={},a=["backtrack","input","lookahead"],d=0;d<a.length;d++){var c=s.readUshort(o,n);n+=2,d==1&&c--,u[a[d]]=s.readUshorts(o,n,c),n+=2*u[a[d]].length}return c=s.readUshort(o,n),n+=2,u.subst=s.readUshorts(o,n,2*c),n+=2*u.subst.length,u},i.GSUB.readLigatureSet=function(o,n){var s=i._bin,u=n,a=[],d=s.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=s.readUshort(o,n);n+=2,a.push(i.GSUB.readLigature(o,u+m))}return a},i.GSUB.readLigature=function(o,n){var s=i._bin,u={chain:[]};u.nglyph=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);n+=2;for(var d=0;d<a-1;d++)u.chain.push(s.readUshort(o,n)),n+=2;return u},i.head={},i.head.parse=function(o,n,s){var u=i._bin,a={};return u.readFixed(o,n),n+=4,a.fontRevision=u.readFixed(o,n),n+=4,u.readUint(o,n),n+=4,u.readUint(o,n),n+=4,a.flags=u.readUshort(o,n),n+=2,a.unitsPerEm=u.readUshort(o,n),n+=2,a.created=u.readUint64(o,n),n+=8,a.modified=u.readUint64(o,n),n+=8,a.xMin=u.readShort(o,n),n+=2,a.yMin=u.readShort(o,n),n+=2,a.xMax=u.readShort(o,n),n+=2,a.yMax=u.readShort(o,n),n+=2,a.macStyle=u.readUshort(o,n),n+=2,a.lowestRecPPEM=u.readUshort(o,n),n+=2,a.fontDirectionHint=u.readShort(o,n),n+=2,a.indexToLocFormat=u.readShort(o,n),n+=2,a.glyphDataFormat=u.readShort(o,n),n+=2,a},i.hhea={},i.hhea.parse=function(o,n,s){var u=i._bin,a={};return u.readFixed(o,n),n+=4,a.ascender=u.readShort(o,n),n+=2,a.descender=u.readShort(o,n),n+=2,a.lineGap=u.readShort(o,n),n+=2,a.advanceWidthMax=u.readUshort(o,n),n+=2,a.minLeftSideBearing=u.readShort(o,n),n+=2,a.minRightSideBearing=u.readShort(o,n),n+=2,a.xMaxExtent=u.readShort(o,n),n+=2,a.caretSlopeRise=u.readShort(o,n),n+=2,a.caretSlopeRun=u.readShort(o,n),n+=2,a.caretOffset=u.readShort(o,n),n+=2,n+=8,a.metricDataFormat=u.readShort(o,n),n+=2,a.numberOfHMetrics=u.readUshort(o,n),n+=2,a},i.hmtx={},i.hmtx.parse=function(o,n,s,u){for(var a=i._bin,d={aWidth:[],lsBearing:[]},c=0,m=0,y=0;y<u.maxp.numGlyphs;y++)y<u.hhea.numberOfHMetrics&&(c=a.readUshort(o,n),n+=2,m=a.readShort(o,n),n+=2),d.aWidth.push(c),d.lsBearing.push(m);return d},i.kern={},i.kern.parse=function(o,n,s,u){var a=i._bin,d=a.readUshort(o,n);if(n+=2,d==1)return i.kern.parseV1(o,n-2,s,u);var c=a.readUshort(o,n);n+=2;for(var m={glyph1:[],rval:[]},y=0;y<c;y++){n+=2,s=a.readUshort(o,n),n+=2;var S=a.readUshort(o,n);n+=2;var E=S>>>8;if((E&=15)!=0)throw"unknown kern table format: "+E;n=i.kern.readFormat0(o,n,m)}return m},i.kern.parseV1=function(o,n,s,u){var a=i._bin;a.readFixed(o,n),n+=4;var d=a.readUint(o,n);n+=4;for(var c={glyph1:[],rval:[]},m=0;m<d;m++){a.readUint(o,n),n+=4;var y=a.readUshort(o,n);n+=2,a.readUshort(o,n),n+=2;var S=y>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;n=i.kern.readFormat0(o,n,c)}return c},i.kern.readFormat0=function(o,n,s){var u=i._bin,a=-1,d=u.readUshort(o,n);n+=2,u.readUshort(o,n),n+=2,u.readUshort(o,n),n+=2,u.readUshort(o,n),n+=2;for(var c=0;c<d;c++){var m=u.readUshort(o,n);n+=2;var y=u.readUshort(o,n);n+=2;var S=u.readShort(o,n);n+=2,m!=a&&(s.glyph1.push(m),s.rval.push({glyph2:[],vals:[]}));var E=s.rval[s.rval.length-1];E.glyph2.push(y),E.vals.push(S),a=m}return n},i.loca={},i.loca.parse=function(o,n,s,u){var a=i._bin,d=[],c=u.head.indexToLocFormat,m=u.maxp.numGlyphs+1;if(c==0)for(var y=0;y<m;y++)d.push(a.readUshort(o,n+(y<<1))<<1);if(c==1)for(y=0;y<m;y++)d.push(a.readUint(o,n+(y<<2)));return d},i.maxp={},i.maxp.parse=function(o,n,s){var u=i._bin,a={},d=u.readUint(o,n);return n+=4,a.numGlyphs=u.readUshort(o,n),n+=2,d==65536&&(a.maxPoints=u.readUshort(o,n),n+=2,a.maxContours=u.readUshort(o,n),n+=2,a.maxCompositePoints=u.readUshort(o,n),n+=2,a.maxCompositeContours=u.readUshort(o,n),n+=2,a.maxZones=u.readUshort(o,n),n+=2,a.maxTwilightPoints=u.readUshort(o,n),n+=2,a.maxStorage=u.readUshort(o,n),n+=2,a.maxFunctionDefs=u.readUshort(o,n),n+=2,a.maxInstructionDefs=u.readUshort(o,n),n+=2,a.maxStackElements=u.readUshort(o,n),n+=2,a.maxSizeOfInstructions=u.readUshort(o,n),n+=2,a.maxComponentElements=u.readUshort(o,n),n+=2,a.maxComponentDepth=u.readUshort(o,n),n+=2),a},i.name={},i.name.parse=function(o,n,s){var u=i._bin,a={};u.readUshort(o,n),n+=2;var d=u.readUshort(o,n);n+=2,u.readUshort(o,n);for(var c,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],y=n+=2,S=0;S<d;S++){var E=u.readUshort(o,n);n+=2;var T=u.readUshort(o,n);n+=2;var x=u.readUshort(o,n);n+=2;var k=u.readUshort(o,n);n+=2;var w=u.readUshort(o,n);n+=2;var U=u.readUshort(o,n);n+=2;var A,F=m[k],L=y+12*d+U;if(E==0)A=u.readUnicode(o,L,w/2);else if(E==3&&T==0)A=u.readUnicode(o,L,w/2);else if(T==0)A=u.readASCII(o,L,w);else if(T==1)A=u.readUnicode(o,L,w/2);else if(T==3)A=u.readUnicode(o,L,w/2);else{if(E!=1)throw"unknown encoding "+T+", platformID: "+E;A=u.readASCII(o,L,w),console.debug("reading unknown MAC encoding "+T+" as ASCII")}var I="p"+E+","+x.toString(16);a[I]==null&&(a[I]={}),a[I][F!==void 0?F:k]=A,a[I]._lang=x}for(var N in a)if(a[N].postScriptName!=null&&a[N]._lang==1033)return a[N];for(var N in a)if(a[N].postScriptName!=null&&a[N]._lang==0)return a[N];for(var N in a)if(a[N].postScriptName!=null&&a[N]._lang==3084)return a[N];for(var N in a)if(a[N].postScriptName!=null)return a[N];for(var N in a){c=N;break}return console.debug("returning name table with languageID "+a[c]._lang),a[c]},i["OS/2"]={},i["OS/2"].parse=function(o,n,s){var u=i._bin.readUshort(o,n);n+=2;var a={};if(u==0)i["OS/2"].version0(o,n,a);else if(u==1)i["OS/2"].version1(o,n,a);else if(u==2||u==3||u==4)i["OS/2"].version2(o,n,a);else{if(u!=5)throw"unknown OS/2 table version: "+u;i["OS/2"].version5(o,n,a)}return a},i["OS/2"].version0=function(o,n,s){var u=i._bin;return s.xAvgCharWidth=u.readShort(o,n),n+=2,s.usWeightClass=u.readUshort(o,n),n+=2,s.usWidthClass=u.readUshort(o,n),n+=2,s.fsType=u.readUshort(o,n),n+=2,s.ySubscriptXSize=u.readShort(o,n),n+=2,s.ySubscriptYSize=u.readShort(o,n),n+=2,s.ySubscriptXOffset=u.readShort(o,n),n+=2,s.ySubscriptYOffset=u.readShort(o,n),n+=2,s.ySuperscriptXSize=u.readShort(o,n),n+=2,s.ySuperscriptYSize=u.readShort(o,n),n+=2,s.ySuperscriptXOffset=u.readShort(o,n),n+=2,s.ySuperscriptYOffset=u.readShort(o,n),n+=2,s.yStrikeoutSize=u.readShort(o,n),n+=2,s.yStrikeoutPosition=u.readShort(o,n),n+=2,s.sFamilyClass=u.readShort(o,n),n+=2,s.panose=u.readBytes(o,n,10),n+=10,s.ulUnicodeRange1=u.readUint(o,n),n+=4,s.ulUnicodeRange2=u.readUint(o,n),n+=4,s.ulUnicodeRange3=u.readUint(o,n),n+=4,s.ulUnicodeRange4=u.readUint(o,n),n+=4,s.achVendID=[u.readInt8(o,n),u.readInt8(o,n+1),u.readInt8(o,n+2),u.readInt8(o,n+3)],n+=4,s.fsSelection=u.readUshort(o,n),n+=2,s.usFirstCharIndex=u.readUshort(o,n),n+=2,s.usLastCharIndex=u.readUshort(o,n),n+=2,s.sTypoAscender=u.readShort(o,n),n+=2,s.sTypoDescender=u.readShort(o,n),n+=2,s.sTypoLineGap=u.readShort(o,n),n+=2,s.usWinAscent=u.readUshort(o,n),n+=2,s.usWinDescent=u.readUshort(o,n),n+=2},i["OS/2"].version1=function(o,n,s){var u=i._bin;return n=i["OS/2"].version0(o,n,s),s.ulCodePageRange1=u.readUint(o,n),n+=4,s.ulCodePageRange2=u.readUint(o,n),n+=4},i["OS/2"].version2=function(o,n,s){var u=i._bin;return n=i["OS/2"].version1(o,n,s),s.sxHeight=u.readShort(o,n),n+=2,s.sCapHeight=u.readShort(o,n),n+=2,s.usDefault=u.readUshort(o,n),n+=2,s.usBreak=u.readUshort(o,n),n+=2,s.usMaxContext=u.readUshort(o,n),n+=2},i["OS/2"].version5=function(o,n,s){var u=i._bin;return n=i["OS/2"].version2(o,n,s),s.usLowerOpticalPointSize=u.readUshort(o,n),n+=2,s.usUpperOpticalPointSize=u.readUshort(o,n),n+=2},i.post={},i.post.parse=function(o,n,s){var u=i._bin,a={};return a.version=u.readFixed(o,n),n+=4,a.italicAngle=u.readFixed(o,n),n+=4,a.underlinePosition=u.readShort(o,n),n+=2,a.underlineThickness=u.readShort(o,n),n+=2,a},i==null&&(i={}),i.U==null&&(i.U={}),i.U.codeToGlyph=function(o,n){var s=o.cmap,u=-1;if(s.p0e4!=null?u=s.p0e4:s.p3e1!=null?u=s.p3e1:s.p1e0!=null?u=s.p1e0:s.p0e3!=null&&(u=s.p0e3),u==-1)throw"no familiar platform and encoding!";var a=s.tables[u];if(a.format==0)return n>=a.map.length?0:a.map[n];if(a.format==4){for(var d=-1,c=0;c<a.endCount.length;c++)if(n<=a.endCount[c]){d=c;break}return d==-1||a.startCount[d]>n?0:65535&(a.idRangeOffset[d]!=0?a.glyphIdArray[n-a.startCount[d]+(a.idRangeOffset[d]>>1)-(a.idRangeOffset.length-d)]:n+a.idDelta[d])}if(a.format==12){if(n>a.groups[a.groups.length-1][1])return 0;for(c=0;c<a.groups.length;c++){var m=a.groups[c];if(m[0]<=n&&n<=m[1])return m[2]+(n-m[0])}return 0}throw"unknown cmap table format "+a.format},i.U.glyphToPath=function(o,n){var s={cmds:[],crds:[]};if(o.SVG&&o.SVG.entries[n]){var u=o.SVG.entries[n];return u==null?s:(typeof u=="string"&&(u=i.SVG.toPath(u),o.SVG.entries[n]=u),u)}if(o.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:o.CFF.Private?o.CFF.Private.defaultWidthX:0,open:!1},d=o.CFF,c=o.CFF.Private;if(d.ROS){for(var m=0;d.FDSelect[m+2]<=n;)m+=2;c=d.FDArray[d.FDSelect[m+1]].Private}i.U._drawCFF(o.CFF.CharStrings[n],a,d,c,s)}else o.glyf&&i.U._drawGlyf(n,o,s);return s},i.U._drawGlyf=function(o,n,s){var u=n.glyf[o];u==null&&(u=n.glyf[o]=i.glyf._parseGlyf(n,o)),u!=null&&(u.noc>-1?i.U._simpleGlyph(u,s):i.U._compoGlyph(u,n,s))},i.U._simpleGlyph=function(o,n){for(var s=0;s<o.noc;s++){for(var u=s==0?0:o.endPts[s-1]+1,a=o.endPts[s],d=u;d<=a;d++){var c=d==u?a:d-1,m=d==a?u:d+1,y=1&o.flags[d],S=1&o.flags[c],E=1&o.flags[m],T=o.xs[d],x=o.ys[d];if(d==u)if(y){if(!S){i.U.P.moveTo(n,T,x);continue}i.U.P.moveTo(n,o.xs[c],o.ys[c])}else S?i.U.P.moveTo(n,o.xs[c],o.ys[c]):i.U.P.moveTo(n,(o.xs[c]+T)/2,(o.ys[c]+x)/2);y?S&&i.U.P.lineTo(n,T,x):E?i.U.P.qcurveTo(n,T,x,o.xs[m],o.ys[m]):i.U.P.qcurveTo(n,T,x,(T+o.xs[m])/2,(x+o.ys[m])/2)}i.U.P.closePath(n)}},i.U._compoGlyph=function(o,n,s){for(var u=0;u<o.parts.length;u++){var a={cmds:[],crds:[]},d=o.parts[u];i.U._drawGlyf(d.glyphIndex,n,a);for(var c=d.m,m=0;m<a.crds.length;m+=2){var y=a.crds[m],S=a.crds[m+1];s.crds.push(y*c.a+S*c.b+c.tx),s.crds.push(y*c.c+S*c.d+c.ty)}for(m=0;m<a.cmds.length;m++)s.cmds.push(a.cmds[m])}},i.U._getGlyphClass=function(o,n){var s=i._lctf.getInterval(n,o);return s==-1?0:n[s+2]},i.U.getPairAdjustment=function(o,n,s){var u=!1;if(o.GPOS)for(var a=o.GPOS,d=a.lookupList,c=a.featureList,m=[],y=0;y<c.length;y++){var S=c[y];if(S.tag=="kern"){u=!0;for(var E=0;E<S.tab.length;E++)if(!m[S.tab[E]]){m[S.tab[E]]=!0;for(var T=d[S.tab[E]],x=0;x<T.tabs.length;x++)if(T.tabs[x]!=null){var k,w=T.tabs[x];if((!w.coverage||(k=i._lctf.coverageIndex(w.coverage,n))!=-1)&&T.ltype!=1){if(T.ltype==2){var U=null;if(w.fmt==1){var A=w.pairsets[k];for(y=0;y<A.length;y++)A[y].gid2==s&&(U=A[y])}else if(w.fmt==2){var F=i.U._getGlyphClass(n,w.classDef1),L=i.U._getGlyphClass(s,w.classDef2);U=w.matrix[F][L]}if(U){var I=0;return U.val1&&U.val1[2]&&(I+=U.val1[2]),U.val2&&U.val2[0]&&(I+=U.val2[0]),I}}}}}}}if(o.kern&&!u){var N=o.kern.glyph1.indexOf(n);if(N!=-1){var Z=o.kern.rval[N].glyph2.indexOf(s);if(Z!=-1)return o.kern.rval[N].vals[Z]}}return 0},i.U._applySubs=function(o,n,s,u){for(var a=o.length-n-1,d=0;d<s.tabs.length;d++)if(s.tabs[d]!=null){var c,m=s.tabs[d];if(!m.coverage||(c=i._lctf.coverageIndex(m.coverage,o[n]))!=-1){if(s.ltype==1)o[n],m.fmt==1?o[n]=o[n]+m.delta:o[n]=m.newg[c];else if(s.ltype==4)for(var y=m.vals[c],S=0;S<y.length;S++){var E=y[S],T=E.chain.length;if(!(T>a)){for(var x=!0,k=0,w=0;w<T;w++){for(;o[n+k+(1+w)]==-1;)k++;E.chain[w]!=o[n+k+(1+w)]&&(x=!1)}if(x){for(o[n]=E.nglyph,w=0;w<T+k;w++)o[n+w+1]=-1;break}}}else if(s.ltype==5&&m.fmt==2)for(var U=i._lctf.getInterval(m.cDef,o[n]),A=m.cDef[U+2],F=m.scset[A],L=0;L<F.length;L++){var I=F[L],N=I.input;if(!(N.length>a)){for(x=!0,w=0;w<N.length;w++){var Z=i._lctf.getInterval(m.cDef,o[n+1+w]);if(U==-1&&m.cDef[Z+2]!=N[w]){x=!1;break}}if(x){var te=I.substLookupRecords;for(S=0;S<te.length;S+=2)te[S],te[S+1]}}}else if(s.ltype==6&&m.fmt==3){if(!i.U._glsCovered(o,m.backCvg,n-m.backCvg.length)||!i.U._glsCovered(o,m.inptCvg,n)||!i.U._glsCovered(o,m.ahedCvg,n+m.inptCvg.length))continue;var H=m.lookupRec;for(L=0;L<H.length;L+=2){U=H[L];var D=u[H[L+1]];i.U._applySubs(o,n+U,D,u)}}}}},i.U._glsCovered=function(o,n,s){for(var u=0;u<n.length;u++)if(i._lctf.coverageIndex(n[u],o[s+u])==-1)return!1;return!0},i.U.glyphsToPath=function(o,n,s){for(var u={cmds:[],crds:[]},a=0,d=0;d<n.length;d++){var c=n[d];if(c!=-1){for(var m=d<n.length-1&&n[d+1]!=-1?n[d+1]:0,y=i.U.glyphToPath(o,c),S=0;S<y.crds.length;S+=2)u.crds.push(y.crds[S]+a),u.crds.push(y.crds[S+1]);for(s&&u.cmds.push(s),S=0;S<y.cmds.length;S++)u.cmds.push(y.cmds[S]);s&&u.cmds.push("X"),a+=o.hmtx.aWidth[c],d<n.length-1&&(a+=i.U.getPairAdjustment(o,c,m))}}return u},i.U.P={},i.U.P.moveTo=function(o,n,s){o.cmds.push("M"),o.crds.push(n,s)},i.U.P.lineTo=function(o,n,s){o.cmds.push("L"),o.crds.push(n,s)},i.U.P.curveTo=function(o,n,s,u,a,d,c){o.cmds.push("C"),o.crds.push(n,s,u,a,d,c)},i.U.P.qcurveTo=function(o,n,s,u,a){o.cmds.push("Q"),o.crds.push(n,s,u,a)},i.U.P.closePath=function(o){o.cmds.push("Z")},i.U._drawCFF=function(o,n,s,u,a){for(var d=n.stack,c=n.nStems,m=n.haveWidth,y=n.width,S=n.open,E=0,T=n.x,x=n.y,k=0,w=0,U=0,A=0,F=0,L=0,I=0,N=0,Z=0,te=0,H={val:0,size:0};E<o.length;){i.CFF.getCharString(o,E,H);var D=H.val;if(E+=H.size,D=="o1"||D=="o18")d.length%2!=0&&!m&&(y=d.shift()+u.nominalWidthX),c+=d.length>>1,d.length=0,m=!0;else if(D=="o3"||D=="o23")d.length%2!=0&&!m&&(y=d.shift()+u.nominalWidthX),c+=d.length>>1,d.length=0,m=!0;else if(D=="o4")d.length>1&&!m&&(y=d.shift()+u.nominalWidthX,m=!0),S&&i.U.P.closePath(a),x+=d.pop(),i.U.P.moveTo(a,T,x),S=!0;else if(D=="o5")for(;d.length>0;)T+=d.shift(),x+=d.shift(),i.U.P.lineTo(a,T,x);else if(D=="o6"||D=="o7")for(var J=d.length,X=D=="o6",le=0;le<J;le++){var re=d.shift();X?T+=re:x+=re,X=!X,i.U.P.lineTo(a,T,x)}else if(D=="o8"||D=="o24"){J=d.length;for(var ke=0;ke+6<=J;)k=T+d.shift(),w=x+d.shift(),U=k+d.shift(),A=w+d.shift(),T=U+d.shift(),x=A+d.shift(),i.U.P.curveTo(a,k,w,U,A,T,x),ke+=6;D=="o24"&&(T+=d.shift(),x+=d.shift(),i.U.P.lineTo(a,T,x))}else{if(D=="o11")break;if(D=="o1234"||D=="o1235"||D=="o1236"||D=="o1237")D=="o1234"&&(w=x,U=(k=T+d.shift())+d.shift(),te=A=w+d.shift(),L=A,N=x,T=(I=(F=(Z=U+d.shift())+d.shift())+d.shift())+d.shift(),i.U.P.curveTo(a,k,w,U,A,Z,te),i.U.P.curveTo(a,F,L,I,N,T,x)),D=="o1235"&&(k=T+d.shift(),w=x+d.shift(),U=k+d.shift(),A=w+d.shift(),Z=U+d.shift(),te=A+d.shift(),F=Z+d.shift(),L=te+d.shift(),I=F+d.shift(),N=L+d.shift(),T=I+d.shift(),x=N+d.shift(),d.shift(),i.U.P.curveTo(a,k,w,U,A,Z,te),i.U.P.curveTo(a,F,L,I,N,T,x)),D=="o1236"&&(k=T+d.shift(),w=x+d.shift(),U=k+d.shift(),te=A=w+d.shift(),L=A,I=(F=(Z=U+d.shift())+d.shift())+d.shift(),N=L+d.shift(),T=I+d.shift(),i.U.P.curveTo(a,k,w,U,A,Z,te),i.U.P.curveTo(a,F,L,I,N,T,x)),D=="o1237"&&(k=T+d.shift(),w=x+d.shift(),U=k+d.shift(),A=w+d.shift(),Z=U+d.shift(),te=A+d.shift(),F=Z+d.shift(),L=te+d.shift(),I=F+d.shift(),N=L+d.shift(),Math.abs(I-T)>Math.abs(N-x)?T=I+d.shift():x=N+d.shift(),i.U.P.curveTo(a,k,w,U,A,Z,te),i.U.P.curveTo(a,F,L,I,N,T,x));else if(D=="o14"){if(d.length>0&&!m&&(y=d.shift()+s.nominalWidthX,m=!0),d.length==4){var W=d.shift(),z=d.shift(),b=d.shift(),C=d.shift(),O=i.CFF.glyphBySE(s,b),V=i.CFF.glyphBySE(s,C);i.U._drawCFF(s.CharStrings[O],n,s,u,a),n.x=W,n.y=z,i.U._drawCFF(s.CharStrings[V],n,s,u,a)}S&&(i.U.P.closePath(a),S=!1)}else if(D=="o19"||D=="o20")d.length%2!=0&&!m&&(y=d.shift()+u.nominalWidthX),c+=d.length>>1,d.length=0,m=!0,E+=c+7>>3;else if(D=="o21")d.length>2&&!m&&(y=d.shift()+u.nominalWidthX,m=!0),x+=d.pop(),T+=d.pop(),S&&i.U.P.closePath(a),i.U.P.moveTo(a,T,x),S=!0;else if(D=="o22")d.length>1&&!m&&(y=d.shift()+u.nominalWidthX,m=!0),T+=d.pop(),S&&i.U.P.closePath(a),i.U.P.moveTo(a,T,x),S=!0;else if(D=="o25"){for(;d.length>6;)T+=d.shift(),x+=d.shift(),i.U.P.lineTo(a,T,x);k=T+d.shift(),w=x+d.shift(),U=k+d.shift(),A=w+d.shift(),T=U+d.shift(),x=A+d.shift(),i.U.P.curveTo(a,k,w,U,A,T,x)}else if(D=="o26")for(d.length%2&&(T+=d.shift());d.length>0;)k=T,w=x+d.shift(),T=U=k+d.shift(),x=(A=w+d.shift())+d.shift(),i.U.P.curveTo(a,k,w,U,A,T,x);else if(D=="o27")for(d.length%2&&(x+=d.shift());d.length>0;)w=x,U=(k=T+d.shift())+d.shift(),A=w+d.shift(),T=U+d.shift(),x=A,i.U.P.curveTo(a,k,w,U,A,T,x);else if(D=="o10"||D=="o29"){var Y=D=="o10"?u:s;if(d.length==0)console.debug("error: empty stack");else{var j=d.pop(),q=Y.Subrs[j+Y.Bias];n.x=T,n.y=x,n.nStems=c,n.haveWidth=m,n.width=y,n.open=S,i.U._drawCFF(q,n,s,u,a),T=n.x,x=n.y,c=n.nStems,m=n.haveWidth,y=n.width,S=n.open}}else if(D=="o30"||D=="o31"){var Q=d.length,$=(ke=0,D=="o31");for(ke+=Q-(J=-3&Q);ke<J;)$?(w=x,U=(k=T+d.shift())+d.shift(),x=(A=w+d.shift())+d.shift(),J-ke==5?(T=U+d.shift(),ke++):T=U,$=!1):(k=T,w=x+d.shift(),U=k+d.shift(),A=w+d.shift(),T=U+d.shift(),J-ke==5?(x=A+d.shift(),ke++):x=A,$=!0),i.U.P.curveTo(a,k,w,U,A,T,x),ke+=4}else{if((D+"").charAt(0)=="o")throw console.debug("Unknown operation: "+D,o),D;d.push(D)}}}n.x=T,n.y=x,n.nStems=c,n.haveWidth=m,n.width=y,n.open=S};var p=i,g={Typr:p};return h.Typr=p,h.default=g,Object.defineProperty(h,"__esModule",{value:!0}),h}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function rh(){return function(h){var i=Uint8Array,p=Uint16Array,g=Uint32Array,o=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(D,J){for(var X=new p(31),le=0;le<31;++le)X[le]=J+=1<<D[le-1];var re=new g(X[30]);for(le=1;le<30;++le)for(var ke=X[le];ke<X[le+1];++ke)re[ke]=ke-X[le]<<5|le;return[X,re]},a=u(o,2),d=a[0],c=a[1];d[28]=258,c[258]=28;for(var m=u(n,0)[0],y=new p(32768),S=0;S<32768;++S){var E=(43690&S)>>>1|(21845&S)<<1;E=(61680&(E=(52428&E)>>>2|(13107&E)<<2))>>>4|(3855&E)<<4,y[S]=((65280&E)>>>8|(255&E)<<8)>>>1}var T=function(D,J,X){for(var le=D.length,re=0,ke=new p(J);re<le;++re)++ke[D[re]-1];var W,z=new p(J);for(re=0;re<J;++re)z[re]=z[re-1]+ke[re-1]<<1;if(X){W=new p(1<<J);var b=15-J;for(re=0;re<le;++re)if(D[re])for(var C=re<<4|D[re],O=J-D[re],V=z[D[re]-1]++<<O,Y=V|(1<<O)-1;V<=Y;++V)W[y[V]>>>b]=C}else for(W=new p(le),re=0;re<le;++re)D[re]&&(W[re]=y[z[D[re]-1]++]>>>15-D[re]);return W},x=new i(288);for(S=0;S<144;++S)x[S]=8;for(S=144;S<256;++S)x[S]=9;for(S=256;S<280;++S)x[S]=7;for(S=280;S<288;++S)x[S]=8;var k=new i(32);for(S=0;S<32;++S)k[S]=5;var w=T(x,9,1),U=T(k,5,1),A=function(D){for(var J=D[0],X=1;X<D.length;++X)D[X]>J&&(J=D[X]);return J},F=function(D,J,X){var le=J/8|0;return(D[le]|D[le+1]<<8)>>(7&J)&X},L=function(D,J){var X=J/8|0;return(D[X]|D[X+1]<<8|D[X+2]<<16)>>(7&J)},I=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],N=function(D,J,X){var le=new Error(J||I[D]);if(le.code=D,Error.captureStackTrace&&Error.captureStackTrace(le,N),!X)throw le;return le},Z=function(D,J,X){var le=D.length;if(!le||X&&!X.l&&le<5)return J||new i(0);var re=!J||X,ke=!X||X.i;X||(X={}),J||(J=new i(3*le));var W,z=function(Pe){var Ve=J.length;if(Pe>Ve){var Ye=new i(Math.max(2*Ve,Pe));Ye.set(J),J=Ye}},b=X.f||0,C=X.p||0,O=X.b||0,V=X.l,Y=X.d,j=X.m,q=X.n,Q=8*le;do{if(!V){X.f=b=F(D,C,1);var $=F(D,C+1,3);if(C+=3,!$){var se=D[(de=((W=C)/8|0)+(7&W&&1)+4)-4]|D[de-3]<<8,ve=de+se;if(ve>le){ke&&N(0);break}re&&z(O+se),J.set(D.subarray(de,ve),O),X.b=O+=se,X.p=C=8*ve;continue}if($==1)V=w,Y=U,j=9,q=5;else if($==2){var oe=F(D,C,31)+257,K=F(D,C+10,15)+4,Ue=oe+F(D,C+5,31)+1;C+=14;for(var Ae=new i(Ue),ce=new i(19),we=0;we<K;++we)ce[s[we]]=F(D,C+3*we,7);C+=3*K;var Me=A(ce),ie=(1<<Me)-1,Ee=T(ce,Me,1);for(we=0;we<Ue;){var de,ee=Ee[F(D,C,ie)];if(C+=15&ee,(de=ee>>>4)<16)Ae[we++]=de;else{var Ce=0,me=0;for(de==16?(me=3+F(D,C,3),C+=2,Ce=Ae[we-1]):de==17?(me=3+F(D,C,7),C+=3):de==18&&(me=11+F(D,C,127),C+=7);me--;)Ae[we++]=Ce}}var ge=Ae.subarray(0,oe),pe=Ae.subarray(oe);j=A(ge),q=A(pe),V=T(ge,j,1),Y=T(pe,q,1)}else N(1);if(C>Q){ke&&N(0);break}}re&&z(O+131072);for(var He=(1<<j)-1,Ge=(1<<q)-1,xe=C;;xe=C){var Re=(Ce=V[L(D,C)&He])>>>4;if((C+=15&Ce)>Q){ke&&N(0);break}if(Ce||N(2),Re<256)J[O++]=Re;else{if(Re==256){xe=C,V=null;break}var je=Re-254;if(Re>264){var lt=o[we=Re-257];je=F(D,C,(1<<lt)-1)+d[we],C+=lt}var Le=Y[L(D,C)&Ge],Ke=Le>>>4;if(Le||N(3),C+=15&Le,pe=m[Ke],Ke>3&&(lt=n[Ke],pe+=L(D,C)&(1<<lt)-1,C+=lt),C>Q){ke&&N(0);break}re&&z(O+131072);for(var Ie=O+je;O<Ie;O+=4)J[O]=J[O-pe],J[O+1]=J[O+1-pe],J[O+2]=J[O+2-pe],J[O+3]=J[O+3-pe];O=Ie}}X.l=V,X.p=xe,X.b=O,V&&(b=1,X.m=j,X.d=Y,X.n=q)}while(!b);return O==J.length?J:function(Pe,Ve,Ye){(Ve==null||Ve<0)&&(Ve=0),(Ye==null||Ye>Pe.length)&&(Ye=Pe.length);var at=new(Pe instanceof p?p:Pe instanceof g?g:i)(Ye-Ve);return at.set(Pe.subarray(Ve,Ye)),at}(J,0,O)},te=new i(0),H=typeof TextDecoder<"u"&&new TextDecoder;try{H.decode(te,{stream:!0})}catch{}return h.convert_streams=function(D){var J=new DataView(D),X=0;function le(){var oe=J.getUint16(X);return X+=2,oe}function re(){var oe=J.getUint32(X);return X+=4,oe}function ke(oe){se.setUint16(ve,oe),ve+=2}function W(oe){se.setUint32(ve,oe),ve+=4}for(var z={signature:re(),flavor:re(),length:re(),numTables:le(),reserved:le(),totalSfntSize:re(),majorVersion:le(),minorVersion:le(),metaOffset:re(),metaLength:re(),metaOrigLength:re(),privOffset:re(),privLength:re()},b=0;Math.pow(2,b)<=z.numTables;)b++;b--;for(var C=16*Math.pow(2,b),O=16*z.numTables-C,V=12,Y=[],j=0;j<z.numTables;j++)Y.push({tag:re(),offset:re(),compLength:re(),origLength:re(),origChecksum:re()}),V+=16;var q,Q=new Uint8Array(12+16*Y.length+Y.reduce(function(oe,K){return oe+K.origLength+4},0)),$=Q.buffer,se=new DataView($),ve=0;return W(z.flavor),ke(z.numTables),ke(C),ke(b),ke(O),Y.forEach(function(oe){W(oe.tag),W(oe.origChecksum),W(V),W(oe.origLength),oe.outOffset=V,(V+=oe.origLength)%4!=0&&(V+=4-V%4)}),Y.forEach(function(oe){var K,Ue=D.slice(oe.offset,oe.offset+oe.compLength);if(oe.compLength!=oe.origLength){var Ae=new Uint8Array(oe.origLength);K=new Uint8Array(Ue,2),Z(K,Ae)}else Ae=new Uint8Array(Ue);Q.set(Ae,oe.outOffset);var ce=0;(V=oe.outOffset+oe.origLength)%4!=0&&(ce=4-V%4),Q.set(new Uint8Array(ce).buffer,oe.outOffset+oe.origLength),q=V+ce}),$.slice(0,q)},Object.defineProperty(h,"__esModule",{value:!0}),h}({}).convert_streams}function ih(h,i){const p={M:2,L:2,Q:4,C:6,Z:0},g={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=1,n=2,s=4,u=8,a=16,d=32;let c;function m(F){if(!c){const L={R:n,L:o,D:s,C:a,U:d,T:u};c=new Map;for(let I in g){let N=0;g[I].split(",").forEach(Z=>{let[te,H]=Z.split("+");te=parseInt(te,36),H=H?parseInt(H,36):0,c.set(N+=te,L[I]);for(let D=H;D--;)c.set(++N,L[I])})}}return c.get(F)||d}const y=1,S=2,E=3,T=4,x=[null,"isol","init","fina","medi"];function k(F){const L=new Uint8Array(F.length);let I=d,N=y,Z=-1;for(let te=0;te<F.length;te++){const H=F.codePointAt(te);let D=m(H)|0,J=y;D&u||(I&(o|s|a)?D&(n|s|a)?(J=E,(N===y||N===E)&&L[Z]++):D&(o|d)&&(N===S||N===T)&&L[Z]--:I&(n|d)&&(N===S||N===T)&&L[Z]--,N=L[te]=J,I=D,Z=te,H>65535&&te++)}return L}function w(F,L){const I=[];for(let Z=0;Z<L.length;Z++){const te=L.codePointAt(Z);te>65535&&Z++,I.push(h.U.codeToGlyph(F,te))}const N=F.GSUB;if(N){const{lookupList:Z,featureList:te}=N;let H;const D=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,J=[];te.forEach(X=>{if(D.test(X.tag))for(let le=0;le<X.tab.length;le++){if(J[X.tab[le]])continue;J[X.tab[le]]=!0;const re=Z[X.tab[le]],ke=/^(isol|init|fina|medi)$/.test(X.tag);ke&&!H&&(H=k(L));for(let W=0;W<I.length;W++)(!H||!ke||x[H[W]]===X.tag)&&h.U._applySubs(I,W,re,Z)}})}return I}function U(...F){for(let L=0;L<F.length;L++)if(typeof F[L]=="number")return F[L]}function A(F){const L=Object.create(null),I=F["OS/2"],N=F.hhea,Z=F.head.unitsPerEm,te=U(I&&I.sTypoAscender,N&&N.ascender,Z),H={unitsPerEm:Z,ascender:te,descender:U(I&&I.sTypoDescender,N&&N.descender,0),capHeight:U(I&&I.sCapHeight,te),xHeight:U(I&&I.sxHeight,te),lineGap:U(I&&I.sTypoLineGap,N&&N.lineGap),forEachGlyph(D,J,X,le){let re=0;const ke=1/H.unitsPerEm*J,W=w(F,D);let z=0,b=-1;return W.forEach((C,O)=>{if(C!==-1){let V=L[C];if(!V){const{cmds:Y,crds:j}=h.U.glyphToPath(F,C);let q="",Q=0;for(let K=0,Ue=Y.length;K<Ue;K++){const Ae=p[Y[K]];q+=Y[K];for(let ce=1;ce<=Ae;ce++)q+=(ce>1?",":"")+j[Q++]}let $,se,ve,oe;if(j.length){$=se=1/0,ve=oe=-1/0;for(let K=0,Ue=j.length;K<Ue;K+=2){let Ae=j[K],ce=j[K+1];Ae<$&&($=Ae),ce<se&&(se=ce),Ae>ve&&(ve=Ae),ce>oe&&(oe=ce)}}else $=ve=se=oe=0;V=L[C]={index:C,advanceWidth:F.hmtx.aWidth[C],xMin:$,yMin:se,xMax:ve,yMax:oe,path:q,pathCommandCount:Y.length}}b!==-1&&(re+=h.U.getPairAdjustment(F,b,C)*ke),le.call(null,V,re,z),V.advanceWidth&&(re+=V.advanceWidth*ke),X&&(re+=X*J),b=C}z+=D.codePointAt(z)>65535?2:1}),re}};return H}return function(L){const I=new Uint8Array(L,0,4),N=h._bin.readASCII(I,0,4);if(N==="wOFF")L=i(L);else if(N==="wOF2")throw new Error("woff2 fonts not supported");return A(h.parse(L)[0])}}const oh=Hi({name:"Typr Font Parser",dependencies:[nh,rh,ih],init(h,i,p){const g=h(),o=i();return p(g,o)}}),oi={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},lh=new bi;function ei(){return(self.performance||Date).now()}const Ru=Object.create(null);function Cf(h,i){h=uh({},h);const p=ei();if(h.font=fh(h.font||oi.defaultFontURL),h.text=""+h.text,h.sdfGlyphSize=h.sdfGlyphSize||oi.sdfGlyphSize,h.colorRanges!=null){let m={};for(let y in h.colorRanges)if(h.colorRanges.hasOwnProperty(y)){let S=h.colorRanges[y];typeof S!="number"&&(S=lh.set(S).getHex()),m[y]=S}h.colorRanges=m}Object.freeze(h);const{textureWidth:g,sdfExponent:o}=oi,{sdfGlyphSize:n}=h,s=g/n*4;let u=Ru[n];if(!u){const m=document.createElement("canvas");m.width=g,m.height=n*256/s,u=Ru[n]={glyphCount:0,sdfGlyphSize:n,sdfCanvas:m,sdfTexture:new Gu(m,void 0,void 0,void 0,iu,iu),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,ah(u)}const{sdfTexture:a,sdfCanvas:d}=u;let c=u.glyphsByFont.get(h.font);c||u.glyphsByFont.set(h.font,c=new Map),dh(h).then(m=>{const{glyphIds:y,glyphPositions:S,fontSize:E,unitsPerEm:T,timings:x}=m,k=[],w=new Float32Array(y.length*4),U=E/T;let A=0,F=0;const L=ei();y.forEach((H,D)=>{let J=c.get(H);if(!J){const{path:ke,pathBounds:W}=m.glyphData[H],z=Math.max(W[2]-W[0],W[3]-W[1])/n*(oi.sdfMargin*n+.5),b=u.glyphCount++,C=[W[0]-z,W[1]-z,W[2]+z,W[3]+z];c.set(H,J={path:ke,atlasIndex:b,sdfViewBox:C}),k.push(J)}const{sdfViewBox:X}=J,le=S[F++],re=S[F++];w[A++]=le+X[0]*U,w[A++]=re+X[1]*U,w[A++]=le+X[2]*U,w[A++]=re+X[3]*U,y[D]=J.atlasIndex}),x.quads=(x.quads||0)+(ei()-L);const I=ei();x.sdf={};const N=d.height,Z=Math.ceil(u.glyphCount/s),te=Math.pow(2,Math.ceil(Math.log2(Z*n)));te>N&&(console.info(`Increasing SDF texture size ${N}->${te}`),th(d,g,te),a.dispose()),Promise.all(k.map(H=>Pf(H,u,h.gpuAccelerateSDF).then(({timing:D})=>{x.sdf[H.atlasIndex]=D}))).then(()=>{k.length&&!u.contextLost&&(Mf(u),a.needsUpdate=!0),x.sdfTotal=ei()-I,x.total=ei()-p,i(Object.freeze({parameters:h,sdfTexture:a,sdfGlyphSize:n,sdfExponent:o,glyphBounds:w,glyphAtlasIndices:y,glyphColors:m.glyphColors,caretPositions:m.caretPositions,caretHeight:m.caretHeight,chunkedBounds:m.chunkedBounds,ascender:m.ascender,descender:m.descender,lineHeight:m.lineHeight,capHeight:m.capHeight,xHeight:m.xHeight,topBaseline:m.topBaseline,blockBounds:m.blockBounds,visibleBounds:m.visibleBounds,timings:m.timings}))})}),Promise.resolve().then(()=>{u.contextLost||eh(d)})}function Pf({path:h,atlasIndex:i,sdfViewBox:p},{sdfGlyphSize:g,sdfCanvas:o,contextLost:n},s){if(n)return Promise.resolve({timing:-1});const{textureWidth:u,sdfExponent:a}=oi,d=Math.max(p[2]-p[0],p[3]-p[1]),c=Math.floor(i/4),m=c%(u/g)*g,y=Math.floor(c/(u/g))*g,S=i%4;return Yd(g,g,h,p,d,a,o,m,y,S,s)}function ah(h){const i=h.sdfCanvas;i.addEventListener("webglcontextlost",p=>{console.log("Context Lost",p),p.preventDefault(),h.contextLost=!0}),i.addEventListener("webglcontextrestored",p=>{console.log("Context Restored",p),h.contextLost=!1;const g=[];h.glyphsByFont.forEach(o=>{o.forEach(n=>{g.push(Pf(n,h,!0))})}),Promise.all(g).then(()=>{Mf(h),h.sdfTexture.needsUpdate=!0})})}function sh({font:h,characters:i,sdfGlyphSize:p},g){let o=Array.isArray(i)?i.join(`
`):""+i;Cf({font:h,sdfGlyphSize:p,text:o},g)}function uh(h,i){for(let p in i)i.hasOwnProperty(p)&&(h[p]=i[p]);return h}let bo;function fh(h){return bo||(bo=typeof document>"u"?{}:document.createElement("a")),bo.href=h,bo.href}function Mf(h){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:i,sdfTexture:p}=h,{width:g,height:o}=i,n=h.sdfCanvas.getContext("webgl");let s=p.image.data;(!s||s.length!==g*o*4)&&(s=new Uint8Array(g*o*4),p.image={width:g,height:o,data:s},p.flipY=!1,p.isDataTexture=!0),n.readPixels(0,0,g,o,n.RGBA,n.UNSIGNED_BYTE,s)}}const ch=Hi({name:"Typesetter",dependencies:[oi,oh,Xd,Nd],init(h,i,p,g){const{defaultFontURL:o}=h;return p(i,g(),{defaultFontURL:o})}}),dh=Hi({name:"Typesetter",dependencies:[ch],init(h){return function(i){return new Promise(p=>{h.typeset(i,p)})}},getTransferables(h){const i=[h.glyphPositions.buffer,h.glyphIds.buffer];return h.caretPositions&&i.push(h.caretPositions.buffer),h.glyphColors&&i.push(h.glyphColors.buffer),i}}),Au={};function hh(h){let i=Au[h];if(!i){const p=new xa(1,1,h,h),g=p.clone(),o=p.attributes,n=g.attributes,s=new ju,u=o.uv.count;for(let a=0;a<u;a++)n.position.array[a*3]*=-1,n.normal.array[a*3+2]*=-1;["position","normal","uv"].forEach(a=>{s.setAttribute(a,new ua([...o[a].array,...n[a].array],o[a].itemSize))}),s.setIndex([...p.index.array,...g.index.array.map(a=>a+u)]),s.translate(.5,.5,0),i=Au[h]=s}return i}const ph="aTroikaGlyphBounds",Ou="aTroikaGlyphIndex",vh="aTroikaGlyphColor";class mh extends Wu{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new _a,this.boundingBox=new Jo}computeBoundingSphere(){}computeBoundingBox(){}setSide(i){const p=this.getIndex().count;this.setDrawRange(i===Oc?p/2:0,i===Hu?p:p/2)}set detail(i){if(i!==this._detail){this._detail=i,(typeof i!="number"||i<1)&&(i=1);let p=hh(i);["position","normal","uv"].forEach(g=>{this.attributes[g]=p.attributes[g].clone()}),this.setIndex(p.getIndex().clone())}}get detail(){return this._detail}set curveRadius(i){i!==this._curveRadius&&(this._curveRadius=i,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(i,p,g,o,n){la(this,ph,i,4),la(this,Ou,p,1),la(this,vh,n,3),this._blockBounds=g,this._chunkedBounds=o,this.instanceCount=p.length,this._updateBounds()}_updateBounds(){const i=this._blockBounds;if(i){const{curveRadius:p,boundingBox:g}=this;if(p){const{PI:o,floor:n,min:s,max:u,sin:a,cos:d}=Math,c=o/2,m=o*2,y=Math.abs(p),S=i[0]/y,E=i[2]/y,T=n((S+c)/m)!==n((E+c)/m)?-y:s(a(S)*y,a(E)*y),x=n((S-c)/m)!==n((E-c)/m)?y:u(a(S)*y,a(E)*y),k=n((S+o)/m)!==n((E+o)/m)?y*2:u(y-d(S)*y,y-d(E)*y);g.min.set(T,i[1],p<0?-k:0),g.max.set(x,i[3],p<0?0:k)}else g.min.set(i[0],i[1],0),g.max.set(i[2],i[3],0);g.getBoundingSphere(this.boundingSphere)}}applyClipRect(i){let p=this.getAttribute(Ou).count,g=this._chunkedBounds;if(g)for(let o=g.length;o--;){p=g[o].end;let n=g[o].rect;if(n[1]<i.w&&n[3]>i.y&&n[0]<i.z&&n[2]>i.x)break}this.instanceCount=p}}function la(h,i,p,g){const o=h.getAttribute(i);p?o&&o.array.length===p.length?(o.array.set(p),o.needsUpdate=!0):(h.setAttribute(i,new zc(p,g)),delete h._maxInstanceCount,h.dispose()):o&&h.deleteAttribute(i)}const gh=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,yh=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Sh=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,wh=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function _h(h){const i=Sa(h,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Fr},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new li(0,0,0,0)},uTroikaClipRect:{value:new li(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Fr},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new bi},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Ic},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:gh,vertexTransform:yh,fragmentDefs:Sh,fragmentColorTransform:wh,customRewriter({vertexShader:p,fragmentShader:g}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(g)&&(g=g.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(p)||(p=p.replace(Tf,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:p,fragmentShader:g}}});return i.transparent=!0,Object.defineProperties(i,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),i}const Pa=new Bc({color:16777215,side:Hu,transparent:!0}),zu=8421504,Iu=new bu,Ho=new Tt,aa=new Tt,Ni=[],xh=new Tt,sa="+x+y";function Bu(h){return Array.isArray(h)?h[0]:h}let Ff=()=>{const h=new Ko(new xa(1,1),Pa);return Ff=()=>h,h},Df=()=>{const h=new Ko(new xa(1,1,32,1),Pa);return Df=()=>h,h};const Eh={type:"syncstart"},kh={type:"synccomplete"},Lf=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Th=Lf.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Rf=class extends Ko{constructor(){const i=new mh;super(i,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=zu,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=sa,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(i){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(i):(this._isSyncing=!0,this.dispatchEvent(Eh),Cf({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},p=>{this._isSyncing=!1,this._textRenderInfo=p,this.geometry.updateGlyphs(p.glyphBounds,p.glyphAtlasIndices,p.blockBounds,p.chunkedBounds,p.glyphColors);const g=this._queuedSyncs;g&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{g.forEach(o=>o&&o())})),this.dispatchEvent(kh),i&&i()})))}onBeforeRender(i,p,g,o,n,s){this.sync(),n.isTroikaTextMaterial&&this._prepareForRender(n),n._hadOwnSide=n.hasOwnProperty("side"),this.geometry.setSide(n._actualSide=n.side),n.side=Ac}onAfterRender(i,p,g,o,n,s){n._hadOwnSide?n.side=n._actualSide:delete n.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let i=this._derivedMaterial;const p=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Pa.clone());if((!i||i.baseMaterial!==p)&&(i=this._derivedMaterial=_h(p),p.addEventListener("dispose",function g(){p.removeEventListener("dispose",g),i.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let g=i._outlineMtl;return g||(g=i._outlineMtl=Object.create(i,{id:{value:i.id+.1}}),g.isTextOutlineMaterial=!0,g.depthWrite=!1,g.map=null,i.addEventListener("dispose",function o(){i.removeEventListener("dispose",o),g.dispose()})),[g,i]}else return i}set material(i){i&&i.isTroikaTextMaterial?(this._derivedMaterial=i,this._baseMaterial=i.baseMaterial):this._baseMaterial=i}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(i){this.geometry.detail=i}get curveRadius(){return this.geometry.curveRadius}set curveRadius(i){this.geometry.curveRadius=i}get customDepthMaterial(){return Bu(this.material).getDepthMaterial()}get customDistanceMaterial(){return Bu(this.material).getDistanceMaterial()}_prepareForRender(i){const p=i.isTextOutlineMaterial,g=i.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:u,blockBounds:a}=o;g.uTroikaSDFTexture.value=u,g.uTroikaSDFTextureSize.value.set(u.image.width,u.image.height),g.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,g.uTroikaSDFExponent.value=o.sdfExponent,g.uTroikaTotalBounds.value.fromArray(a),g.uTroikaUseGlyphColors.value=!p&&!!o.glyphColors;let d=0,c=0,m=0,y,S,E,T=0,x=0;if(p){let{outlineWidth:w,outlineOffsetX:U,outlineOffsetY:A,outlineBlur:F,outlineOpacity:L}=this;d=this._parsePercent(w)||0,c=Math.max(0,this._parsePercent(F)||0),y=L,T=this._parsePercent(U)||0,x=this._parsePercent(A)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(E=this.strokeColor,g.uTroikaStrokeColor.value.set(E??zu),S=this.strokeOpacity,S==null&&(S=1)),y=this.fillOpacity;g.uTroikaDistanceOffset.value=d,g.uTroikaPositionOffset.value.set(T,x),g.uTroikaBlurRadius.value=c,g.uTroikaStrokeWidth.value=m,g.uTroikaStrokeOpacity.value=S,g.uTroikaFillOpacity.value=y??1,g.uTroikaCurveRadius.value=this.curveRadius||0;let k=this.clipRect;if(k&&Array.isArray(k)&&k.length===4)g.uTroikaClipRect.value.fromArray(k);else{const w=(this.fontSize||.1)*100;g.uTroikaClipRect.value.set(a[0]-w,a[1]-w,a[2]+w,a[3]+w)}this.geometry.applyClipRect(g.uTroikaClipRect.value)}g.uTroikaSDFDebug.value=!!this.debugSDF,i.polygonOffset=!!this.depthOffset,i.polygonOffsetFactor=i.polygonOffsetUnits=this.depthOffset||0;const n=p?this.outlineColor||0:this.color;if(n==null)delete i.color;else{const u=i.hasOwnProperty("color")?i.color:i.color=new bi;(n!==u._input||typeof n=="object")&&u.set(u._input=n)}let s=this.orientation||sa;if(s!==i._orientation){let u=g.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let a=s!==sa&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,d,c,m,y]=a;Ho.set(0,0,0)[c]=d==="-"?1:-1,aa.set(0,0,0)[y]=m==="-"?-1:1,Iu.lookAt(xh,Ho.cross(aa),aa),u.setFromMatrix4(Iu)}else u.identity();i._orientation=s}}_parsePercent(i){if(typeof i=="string"){let p=i.match(/^(-?[\d.]+)%$/),g=p?parseFloat(p[1]):NaN;i=(isNaN(g)?0:g/100)*this.fontSize}return i}localPositionToTextCoords(i,p=new Fr){p.copy(i);const g=this.curveRadius;return g&&(p.x=Math.atan2(i.x,Math.abs(g)-Math.abs(i.z))*Math.abs(g)),p}worldPositionToTextCoords(i,p=new Fr){return Ho.copy(i),this.localPositionToTextCoords(this.worldToLocal(Ho),p)}raycast(i,p){const{textRenderInfo:g,curveRadius:o}=this;if(g){const n=g.blockBounds,s=o?Df():Ff(),u=s.geometry,{position:a,uv:d}=u.attributes;for(let c=0;c<d.count;c++){let m=n[0]+d.getX(c)*(n[2]-n[0]);const y=n[1]+d.getY(c)*(n[3]-n[1]);let S=0;o&&(S=o-Math.cos(m/o)*o,m=Math.sin(m/o)*o),a.setXYZ(c,m,y,S)}u.boundingSphere=this.geometry.boundingSphere,u.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Ni.length=0,s.raycast(i,Ni);for(let c=0;c<Ni.length;c++)Ni[c].object=this,p.push(Ni[c])}}copy(i){const p=this.geometry;return super.copy(i),this.geometry=p,Th.forEach(g=>{this[g]=i[g]}),this}clone(){return new this.constructor().copy(this)}};Lf.forEach(h=>{const i="_private_"+h;Object.defineProperty(Rf.prototype,h,{get(){return this[i]},set(p){p!==this[i]&&(this[i]=p,this._needsSync=!0)}})});function Uh(h,i,p=(g,o)=>g===o){if(h===i)return!0;if(!h||!i)return!1;const g=h.length;if(i.length!==g)return!1;for(let o=0;o<g;o++)if(!p(h[o],i[o]))return!1;return!0}const Vo=[];function Ch(h,i,p=!1,g={}){for(const n of Vo)if(Uh(i,n.keys,n.equal)){if(p)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return n.response;if(!p)throw n.promise}const o={keys:i,equal:g.equal,promise:h(...i).then(n=>o.response=n).then(()=>{g.lifespan&&g.lifespan>0&&setTimeout(()=>{const n=Vo.indexOf(o);n!==-1&&Vo.splice(n,1)},g.lifespan)}).catch(n=>o.error=n)};if(Vo.push(o),!p)throw o.promise}const Ph=(h,i,p)=>Ch(h,i,!1,p),jh=ae.forwardRef(({anchorX:h="center",anchorY:i="middle",font:p,fontSize:g=1,children:o,characters:n,onSync:s,...u},a)=>{const d=df(({invalidate:S})=>S),[c]=ae.useState(()=>new Rf),[m,y]=ae.useMemo(()=>{const S=[];let E="";return ae.Children.forEach(o,T=>{typeof T=="string"||typeof T=="number"?E+=T:S.push(T)}),[S,E]},[o]);return Ph(()=>new Promise(S=>sh({font:p,characters:n},S)),["troika-text",p,n]),ae.useLayoutEffect(()=>void c.sync(()=>{d(),s&&s(c)})),ae.useEffect(()=>()=>c.dispose(),[c]),ae.createElement("primitive",Wi({object:c,ref:a,font:p,text:y,anchorX:h,anchorY:i,fontSize:g},u),m)}),Wh=5e3,Mh={show:"#FF723C",clip:"#FFFF00",episode:"#FF7F50",guest:"#E066FF",topic:"#F8F8FF",Topic:"#F8F8FF",Organization:"#FF7F50"},bh=(h,i)=>{const p=Mh[h]||"#F8F8FF";return i?p:parseInt(p.replace("#","0x"),16)};export{Ih as C,Mh as D,Nh as L,jh as T,Wh as U,pf as a,Oh as b,Dh as c,Lh as d,Jc as e,Rh as f,bh as g,Ld as h,Ca as i,Ua as j,Ah as k,Bh as m,df as u};
