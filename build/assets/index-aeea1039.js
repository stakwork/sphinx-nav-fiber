import{r as O,b as Xa,j as x,R as $r,y as hh,p as Ue,q as pe,F as Cs,x as Cn,D as uh,C as dr,I as h0,A as Jt,t as nt,X as Eo,w as dh,Y as u0,Z as d0,a0 as f0,a1 as p0,a2 as m0,a3 as _0,a4 as g0,a5 as v0,a6 as y0,a7 as C0,a8 as fh,a9 as x0,aa as T0,ab as w0,ac as k0,ad as S0,U as Sr,ae as b0,af as E0,ag as O0,O as M0}from"./index-c5d655da.js";import{u as ve,a as Qa,e as Ka,b as Rt,L as A0,c as D0,d as R0,m as I0,f as P0,g as N0,h as ph,H as oi,t as mh,C as F0,F as L0,T as U0,i as V0,j as B0,D as z0,k as H0,P as j0,l as q0}from"./CreateEdgeIcon-831e976d.js";import{D as br,F as G0,V as X,a as Fe,T as Oo,b as W0,C as us,W as Z0,c as Y0,E as Ja,d as xt,N as Wn,e as $0,B as ai,U as ps,M as X0,f as Q0,g as K0,h as J0,i as ed,j as Er,k as Di,S as es,l as td,m as Q,R as sd,n as xs,o as xa,P as _h,p as ec,q as el,r as nd,L as Xr,s as id,t as gh,u as vh,v as yh,w as Ch,x as tl,y as rd,z as od,A as Or,H as ad,G as cd,I as ld,J as hd,K as ud,O as dd,Q as fr,X as fd,Y as pd}from"./three.module-2ce81f73.js";import{B as xh,_ as Le,a as zt,u as tc,T as sl,A as md,b as _d,c as gd,d as vd,C as yd,G as Cd,I as xd,P as Td,e as wd,f as kd,g as Sd,h as bd,O as Ed,i as Od}from"./index-b92f875d.js";import{T as Md}from"./TextareaAutosize-ba71bce1.js";import{D as Th}from"./DeleteIcon-c248aade.js";import{A as wh,C as Ad,E as kh,a as Dd,F as Rd,M as Sh,P as Id,b as Pd,S as Nd,T as Fd,V as Ld,c as Ud}from"./ThreeDotsIcons-7c23ab44.js";import{a as Vd,A as Bd,F as zd,M as Hd,b as jd,S as qd}from"./SourcesTableIcon-dbf05978.js";import{A as Gd,a as Wd,b as Zd,c as Yd,B as $d,d as Xd,C as Qd,e as Kd,f as Jd,g as ef,h as tf,i as sf,D as nf,E as rf,F as of,G as af,H as cf,j as lf,L as hf,M as uf,N as df,R as ff,S as pf,k as mf,l as _f,m as gf,n as vf,o as yf,p as Cf,V as xf,u as Tf}from"./VolumeIcon-0b93803f.js";import{A as wf,F as kf,N as Sf}from"./NodeCircleIcon-05aa542a.js";import{C as bf}from"./CheckIcon-9ea337c1.js";import{D as Ef}from"./DeleteNodeIcon-84abb07a.js";import{E as Of}from"./EditNodeIcon-10056eab.js";import{P as bh}from"./PlusIcon-df82a8c1.js";import{S as Mf}from"./SearchIcon-72a1a994.js";import{S as Af}from"./SucessFeedBackIcon-a88e23c7.js";import{M as Df,a as Rf}from"./index.esm-0c994e0f.js";import{C as If}from"./ClipLoader-3e56b1f6.js";function Pf(n){let e;const t=new Set,s=(l,h)=>{const u=typeof l=="function"?l(e):l;if(u!==e){const f=e;e=h?u:Object.assign({},e,u),t.forEach(d=>d(e,f))}},i=()=>e,r=(l,h=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=h(e);function d(){const m=h(e);if(!u(f,m)){const p=f;l(f=m,p)}}return t.add(d),()=>t.delete(d)},c={setState:s,getState:i,subscribe:(l,h,u)=>h||u?r(l,h,u):(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(s,i,c),c}const Nf=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nl=Nf?O.useEffect:O.useLayoutEffect;function Ff(n){const e=typeof n=="function"?Pf(n):n,t=(s=e.getState,i=Object.is)=>{const[,r]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),c=O.useRef(s),l=O.useRef(i),h=O.useRef(!1),u=O.useRef();u.current===void 0&&(u.current=s(o));let f,d=!1;(a.current!==o||c.current!==s||l.current!==i||h.current)&&(f=s(o),d=!i(u.current,f)),nl(()=>{d&&(u.current=f),a.current=o,c.current=s,l.current=i,h.current=!1});const m=O.useRef(o);nl(()=>{const _=()=>{try{const w=e.getState(),S=c.current(w);l.current(u.current,S)||(a.current=w,u.current=S,r())}catch{h.current=!0,r()}},y=e.subscribe(_);return e.getState()!==m.current&&_(),y},[]);const p=d?f:u.current;return O.useDebugValue(p),p};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const s=[t,e];return{next(){const i=s.length<=0;return{value:s.shift(),done:i}}}},t}let pi=0;const Lf=Ff(n=>(br.onStart=(e,t,s)=>{n({active:!0,item:e,loaded:t,total:s,progress:(t-pi)/(s-pi)*100})},br.onLoad=()=>{n({active:!1})},br.onError=e=>n(t=>({errors:[...t.errors,e]})),br.onProgress=(e,t,s)=>{t===s&&(pi=s),n({active:!0,item:e,loaded:t,total:s,progress:(t-pi)/(s-pi)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Uf=n=>`Loading ${n.toFixed(2)}%`;function Vf({containerStyles:n,innerStyles:e,barStyles:t,dataStyles:s,dataInterpolation:i=Uf,initialState:r=o=>o}){const{active:o,progress:a}=Lf(),c=O.useRef(0),l=O.useRef(0),h=O.useRef(null),[u,f]=O.useState(r(o));O.useEffect(()=>{let m;return o!==u&&(m=setTimeout(()=>f(o),300)),()=>clearTimeout(m)},[u,o]);const d=O.useCallback(()=>{h.current&&(c.current+=(a-c.current)/2,(c.current>.95*a||a===100)&&(c.current=a),h.current.innerText=i(c.current),c.current<a&&(l.current=requestAnimationFrame(d)))},[i,a]);return O.useEffect(()=>(d(),()=>cancelAnimationFrame(l.current)),[d]),u?O.createElement("div",{style:{...Mr.container,opacity:o?1:0,...n}},O.createElement("div",null,O.createElement("div",{style:{...Mr.inner,...e}},O.createElement("div",{style:{...Mr.bar,transform:`scaleX(${a/100})`,...t}}),O.createElement("span",{ref:h,style:{...Mr.data,...s}})))):null}const Mr={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};let mi;function Bf(){var n;if(mi!==void 0)return mi;try{let e;const t=document.createElement("canvas");return mi=!!(window.WebGL2RenderingContext&&(e=t.getContext("webgl2"))),e&&((n=e.getExtension("WEBGL_lose_context"))==null||n.loseContext()),mi}catch{return mi=!1}}const Xo=new G0,Qo=new X,En=new X,It=new X,is=new X,qt=new X,rs=new X,os=new X,_i=new X,gi=new X,vi=new X,Ar=new X,yi=new X,Ci=new X,xi=new X;class zf{constructor(e,t,s){this.camera=e,this.scene=t,this.startPoint=new X,this.endPoint=new X,this.collection=[],this.deep=s||Number.MAX_VALUE}select(e,t){return this.startPoint=e||this.startPoint,this.endPoint=t||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(Xo,this.scene),this.collection}updateFrustum(e,t){if(e=e||this.startPoint,t=t||this.endPoint,e.x===t.x&&(t.x+=Number.EPSILON),e.y===t.y&&(t.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){En.copy(e),En.x=Math.min(e.x,t.x),En.y=Math.max(e.y,t.y),t.x=Math.max(e.x,t.x),t.y=Math.min(e.y,t.y),It.setFromMatrixPosition(this.camera.matrixWorld),is.copy(En),qt.set(t.x,En.y,0),rs.copy(t),os.set(En.x,t.y,0),is.unproject(this.camera),qt.unproject(this.camera),rs.unproject(this.camera),os.unproject(this.camera),yi.copy(is).sub(It),Ci.copy(qt).sub(It),xi.copy(rs).sub(It),yi.normalize(),Ci.normalize(),xi.normalize(),yi.multiplyScalar(this.deep),Ci.multiplyScalar(this.deep),xi.multiplyScalar(this.deep),yi.add(It),Ci.add(It),xi.add(It);var s=Xo.planes;s[0].setFromCoplanarPoints(It,is,qt),s[1].setFromCoplanarPoints(It,qt,rs),s[2].setFromCoplanarPoints(rs,os,It),s[3].setFromCoplanarPoints(os,is,It),s[4].setFromCoplanarPoints(qt,rs,os),s[5].setFromCoplanarPoints(xi,Ci,yi),s[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){const i=Math.min(e.x,t.x),r=Math.max(e.y,t.y),o=Math.max(e.x,t.x),a=Math.min(e.y,t.y);is.set(i,r,-1),qt.set(o,r,-1),rs.set(o,a,-1),os.set(i,a,-1),_i.set(i,r,1),gi.set(o,r,1),vi.set(o,a,1),Ar.set(i,a,1),is.unproject(this.camera),qt.unproject(this.camera),rs.unproject(this.camera),os.unproject(this.camera),_i.unproject(this.camera),gi.unproject(this.camera),vi.unproject(this.camera),Ar.unproject(this.camera);var s=Xo.planes;s[0].setFromCoplanarPoints(is,_i,gi),s[1].setFromCoplanarPoints(qt,gi,vi),s[2].setFromCoplanarPoints(vi,Ar,os),s[3].setFromCoplanarPoints(Ar,_i,is),s[4].setFromCoplanarPoints(qt,rs,os),s[5].setFromCoplanarPoints(vi,gi,_i),s[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,t){if((t.isMesh||t.isLine||t.isPoints)&&t.material!==void 0&&(t.geometry.boundingSphere===null&&t.geometry.computeBoundingSphere(),Qo.copy(t.geometry.boundingSphere.center),Qo.applyMatrix4(t.matrixWorld),e.containsPoint(Qo)&&this.collection.push(t)),t.children.length>0)for(let s=0;s<t.children.length;s++)this.searchChildInFrustum(e,t.children[s])}}function Hf(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let s=0;s<t.length;s++)if(!Object.prototype.hasOwnProperty.call(e,t[s])||!Object.is(n[t[s]],e[t[s]]))return!1;return!0}const jf=O.createContext([]);function qf({box:n,multiple:e,children:t,onChange:s,border:i="1px solid #55aaff",backgroundColor:r="rgba(75, 160, 255, 0.1)",filter:o=c=>c,...a}){const{setEvents:c,camera:l,raycaster:h,gl:u,controls:f,size:d,get:m}=ve(),[p,_]=O.useState(!1),[y,w]=O.useReducer((T,{object:k,shift:C})=>k===void 0?[]:Array.isArray(k)?k:C?T.includes(k)?T.filter(b=>b!==k):[k,...T]:T[0]===k?[]:[k],[]);O.useEffect(()=>void(s==null?void 0:s(y)),[y]);const S=O.useCallback(T=>{T.stopPropagation(),w({object:o([T.object])[0],shift:e&&T.shiftKey})},[]),v=O.useCallback(T=>!p&&w({}),[p]),g=O.useRef(null);return O.useEffect(()=>{if(!n||!e)return;const T=new zf(l,g.current),k=document.createElement("div");k.style.pointerEvents="none",k.style.border=i,k.style.backgroundColor=r,k.style.position="fixed";const C=new Fe,b=new Fe,E=new Fe,M=m().events.enabled,A=f==null?void 0:f.enabled;let R=!1;function I(V,Te){const{offsetX:ae,offsetY:$}=V,{width:_e,height:Ze}=d;Te.set(ae/_e*2-1,-($/Ze)*2+1)}function F(V){var Te;f&&(f.enabled=!1),c({enabled:!1}),R=!0,(Te=u.domElement.parentElement)==null||Te.appendChild(k),k.style.left=`${V.clientX}px`,k.style.top=`${V.clientY}px`,k.style.width="0px",k.style.height="0px",C.x=V.clientX,C.y=V.clientY}function N(V){E.x=Math.max(C.x,V.clientX),E.y=Math.max(C.y,V.clientY),b.x=Math.min(C.x,V.clientX),b.y=Math.min(C.y,V.clientY),k.style.left=`${b.x}px`,k.style.top=`${b.y}px`,k.style.width=`${E.x-b.x}px`,k.style.height=`${E.y-b.y}px`}function L(){if(R){var V;f&&(f.enabled=A),c({enabled:M}),R=!1,(V=k.parentElement)==null||V.removeChild(k)}}function z(V){V.shiftKey&&(F(V),I(V,T.startPoint))}let B=[];function q(V){if(R){N(V),I(V,T.endPoint);const Te=T.select().sort(ae=>ae.uuid).filter(ae=>ae.isMesh);Hf(Te,B)||(B=Te,w({object:o(Te)}))}}function H(V){R&&L()}return document.addEventListener("pointerdown",z,{passive:!0}),document.addEventListener("pointermove",q,{passive:!0,capture:!0}),document.addEventListener("pointerup",H,{passive:!0}),()=>{document.removeEventListener("pointerdown",z),document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",H)}},[d.width,d.height,h,l,f,u]),O.createElement("group",Xa({ref:g,onClick:S,onPointerOver:()=>_(!0),onPointerOut:()=>_(!1),onPointerMissed:v},a),O.createElement(jf.Provider,{value:y},t))}const il=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function on(n,e){const t=ve(i=>i.gl),s=Qa(Oo,il(n)?Object.values(n):n);if(O.useLayoutEffect(()=>{e==null||e(s)},[e]),O.useEffect(()=>{(Array.isArray(s)?s:[s]).forEach(t.initTexture)},[t,s]),il(n)){const i=Object.keys(n),r={};return i.forEach(o=>Object.assign(r,{[o]:s[i.indexOf(o)]})),r}else return s}on.preload=n=>Qa.preload(Oo,n);on.clear=n=>Qa.clear(Oo,n);/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Y={LEFT:1,RIGHT:2,MIDDLE:4},D=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),On={NONE:0,IN:1,OUT:-1};function Qs(n){return n.isPerspectiveCamera}function Ms(n){return n.isOrthographicCamera}const Mn=Math.PI*2,rl=Math.PI/2,Eh=1e-5,Ti=Math.PI/180;function Pt(n,e,t){return Math.max(e,Math.min(t,n))}function ge(n,e=Eh){return Math.abs(n)<e}function oe(n,e,t=Eh){return ge(n-e,t)}function ol(n,e){return Math.round(n/e)*e}function wi(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function ki(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function Dr(n,e,t,s,i=1/0,r){s=Math.max(1e-4,s);const o=2/s,a=o*r,c=1/(1+a+.48*a*a+.235*a*a*a);let l=n-e;const h=e,u=i*s;l=Pt(l,-u,u),e=n-l;const f=(t.value+o*l)*r;t.value=(t.value-o*f)*c;let d=e+(l+f)*c;return h-n>0==d>h&&(d=h,t.value=(d-h)/r),d}function al(n,e,t,s,i=1/0,r,o){s=Math.max(1e-4,s);const a=2/s,c=a*r,l=1/(1+c+.48*c*c+.235*c*c*c);let h=e.x,u=e.y,f=e.z,d=n.x-h,m=n.y-u,p=n.z-f;const _=h,y=u,w=f,S=i*s,v=S*S,g=d*d+m*m+p*p;if(g>v){const F=Math.sqrt(g);d=d/F*S,m=m/F*S,p=p/F*S}h=n.x-d,u=n.y-m,f=n.z-p;const T=(t.x+a*d)*r,k=(t.y+a*m)*r,C=(t.z+a*p)*r;t.x=(t.x-a*T)*l,t.y=(t.y-a*k)*l,t.z=(t.z-a*C)*l,o.x=h+(d+T)*l,o.y=u+(m+k)*l,o.z=f+(p+C)*l;const b=_-n.x,E=y-n.y,M=w-n.z,A=o.x-_,R=o.y-y,I=o.z-w;return b*A+E*R+M*I>0&&(o.x=_,o.y=y,o.z=w,t.x=(o.x-_)/r,t.y=(o.y-y)/r,t.z=(o.z-w)/r),o}function Ko(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function Jo(n,e){return Ms(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class Gf{constructor(){this._listeners={}}addEventListener(e,t){const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(t)===-1&&s[e].push(t)}hasEventListener(e,t){const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const s=this._listeners[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}}}const Wf="2.7.3",Rr=1/8,Oh=typeof window<"u",Zf=Oh&&/Mac/.test(navigator.platform),Yf=!(Oh&&"PointerEvent"in window);let W,cl,Ir,ea,ot,J,ne,An,Si,Gt,Wt,Ks,ll,hl,kt,bi,Dn,ul,ta,dl,sa,na,Pr,ia=class Ta extends Gf{static install(e){W=e.THREE,cl=Object.freeze(new W.Vector3(0,0,0)),Ir=Object.freeze(new W.Vector3(0,1,0)),ea=Object.freeze(new W.Vector3(0,0,1)),ot=new W.Vector2,J=new W.Vector3,ne=new W.Vector3,An=new W.Vector3,Si=new W.Vector3,Gt=new W.Vector3,Wt=new W.Vector3,Ks=new W.Vector3,ll=new W.Vector3,hl=new W.Vector3,kt=new W.Spherical,bi=new W.Spherical,Dn=new W.Box3,ul=new W.Box3,ta=new W.Sphere,dl=new W.Quaternion,sa=new W.Quaternion,na=new W.Matrix4,Pr=new W.Raycaster}static get ACTION(){return D}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=D.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=On.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new W.Vector3,this._focalOffsetVelocity=new W.Vector3,this._zoomVelocity={value:0},this._truckInternal=(v,g,T)=>{let k,C;if(Qs(this._camera)){const b=J.copy(this._camera.position).sub(this._target),E=this._camera.getEffectiveFOV()*Ti,M=b.length()*Math.tan(E*.5);k=this.truckSpeed*v*M/this._elementRect.height,C=this.truckSpeed*g*M/this._elementRect.height}else if(Ms(this._camera)){const b=this._camera;k=v*(b.right-b.left)/b.zoom/this._elementRect.width,C=g*(b.top-b.bottom)/b.zoom/this._elementRect.height}else return;this.verticalDragToForward?(T?this.setFocalOffset(this._focalOffsetEnd.x+k,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(k,0,!0),this.forward(-C,!0)):T?this.setFocalOffset(this._focalOffsetEnd.x+k,this._focalOffsetEnd.y+C,this._focalOffsetEnd.z,!0):this.truck(k,C,!0)},this._rotateInternal=(v,g)=>{const T=Mn*this.azimuthRotateSpeed*v/this._elementRect.height,k=Mn*this.polarRotateSpeed*g/this._elementRect.height;this.rotate(T,k,!0)},this._dollyInternal=(v,g,T)=>{const k=Math.pow(.95,-v*this.dollySpeed),C=this._sphericalEnd.radius,b=this._sphericalEnd.radius*k,E=Pt(b,this.minDistance,this.maxDistance),M=E-b;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(b,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(M,!0),this._dollyToNoClamp(E,!0)):this._dollyToNoClamp(E,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?b:E)-C,this._dollyControlCoord.set(g,T)),this._lastDollyDirection=Math.sign(-v)},this._zoomInternal=(v,g,T)=>{const k=Math.pow(.95,v*this.dollySpeed),C=this._zoom,b=this._zoom*k;this.zoomTo(b,!0),this.dollyToCursor&&(this._changedZoom+=b-C,this._dollyControlCoord.set(g,T))},typeof W>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new W.Quaternion().setFromUnitVectors(this._camera.up,Ir),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=D.NONE,this._target=new W.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new W.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new W.Spherical().setFromVector3(J.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new W.Vector3,new W.Vector3,new W.Vector3,new W.Vector3],this._updateNearPlaneCorners(),this._boundary=new W.Box3(new W.Vector3(-1/0,-1/0,-1/0),new W.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new W.Vector2,this.mouseButtons={left:D.ROTATE,middle:D.DOLLY,right:D.TRUCK,wheel:Qs(this._camera)?D.DOLLY:Ms(this._camera)?D.ZOOM:D.NONE},this.touches={one:D.TOUCH_ROTATE,two:Qs(this._camera)?D.TOUCH_DOLLY_TRUCK:Ms(this._camera)?D.TOUCH_ZOOM_TRUCK:D.NONE,three:D.TOUCH_TRUCK};const s=new W.Vector2,i=new W.Vector2,r=new W.Vector2,o=v=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const k=this._domElement.getBoundingClientRect(),C=v.clientX/k.width,b=v.clientY/k.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||b<this._interactiveArea.top||b>this._interactiveArea.bottom)return}const g=v.pointerType!=="mouse"?null:(v.buttons&Y.LEFT)===Y.LEFT?Y.LEFT:(v.buttons&Y.MIDDLE)===Y.MIDDLE?Y.MIDDLE:(v.buttons&Y.RIGHT)===Y.RIGHT?Y.RIGHT:null;if(g!==null){const k=this._findPointerByMouseButton(g);k&&this._disposePointer(k)}if((v.buttons&Y.LEFT)===Y.LEFT&&this._lockedPointer)return;const T={pointerId:v.pointerId,clientX:v.clientX,clientY:v.clientY,deltaX:0,deltaY:0,mouseButton:g};this._activePointers.push(T),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",h),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",h),this._isDragging=!0,p(v)},a=v=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const k=this._domElement.getBoundingClientRect(),C=v.clientX/k.width,b=v.clientY/k.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||b<this._interactiveArea.top||b>this._interactiveArea.bottom)return}const g=(v.buttons&Y.LEFT)===Y.LEFT?Y.LEFT:(v.buttons&Y.MIDDLE)===Y.MIDDLE?Y.MIDDLE:(v.buttons&Y.RIGHT)===Y.RIGHT?Y.RIGHT:null;if(g!==null){const k=this._findPointerByMouseButton(g);k&&this._disposePointer(k)}const T={pointerId:1,clientX:v.clientX,clientY:v.clientY,deltaX:0,deltaY:0,mouseButton:(v.buttons&Y.LEFT)===Y.LEFT?Y.LEFT:(v.buttons&Y.MIDDLE)===Y.LEFT?Y.MIDDLE:(v.buttons&Y.RIGHT)===Y.LEFT?Y.RIGHT:null};this._activePointers.push(T),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",u),this._domElement.ownerDocument.addEventListener("mousemove",l),this._domElement.ownerDocument.addEventListener("mouseup",u),this._isDragging=!0,p(v)},c=v=>{v.cancelable&&v.preventDefault();const g=v.pointerId,T=this._lockedPointer||this._findPointerById(g);if(T){if(T.clientX=v.clientX,T.clientY=v.clientY,T.deltaX=v.movementX,T.deltaY=v.movementY,this._state=0,v.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(v.buttons&Y.LEFT)===Y.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(v.buttons&Y.MIDDLE)===Y.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(v.buttons&Y.RIGHT)===Y.RIGHT&&(this._state=this._state|this.mouseButtons.right);_()}},l=v=>{const g=this._lockedPointer||this._findPointerById(1);g&&(g.clientX=v.clientX,g.clientY=v.clientY,g.deltaX=v.movementX,g.deltaY=v.movementY,this._state=0,(this._lockedPointer||(v.buttons&Y.LEFT)===Y.LEFT)&&(this._state=this._state|this.mouseButtons.left),(v.buttons&Y.MIDDLE)===Y.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(v.buttons&Y.RIGHT)===Y.RIGHT&&(this._state=this._state|this.mouseButtons.right),_())},h=v=>{const g=this._findPointerById(v.pointerId);if(!(g&&g===this._lockedPointer)){if(g&&this._disposePointer(g),v.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=D.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=D.NONE;y()}},u=()=>{const v=this._findPointerById(1);v&&v===this._lockedPointer||(v&&this._disposePointer(v),this._state=D.NONE,y())};let f=-1;const d=v=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===D.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const b=this._domElement.getBoundingClientRect(),E=v.clientX/b.width,M=v.clientY/b.height;if(E<this._interactiveArea.left||E>this._interactiveArea.right||M<this._interactiveArea.top||M>this._interactiveArea.bottom)return}if(v.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===D.ROTATE||this.mouseButtons.wheel===D.TRUCK){const b=performance.now();f-b<1e3&&this._getClientRect(this._elementRect),f=b}const g=Zf?-1:-3,T=v.deltaMode===1?v.deltaY/g:v.deltaY/(g*10),k=this.dollyToCursor?(v.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,C=this.dollyToCursor?(v.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case D.ROTATE:{this._rotateInternal(v.deltaX,v.deltaY),this._isUserControllingRotate=!0;break}case D.TRUCK:{this._truckInternal(v.deltaX,v.deltaY,!1),this._isUserControllingTruck=!0;break}case D.OFFSET:{this._truckInternal(v.deltaX,v.deltaY,!0),this._isUserControllingOffset=!0;break}case D.DOLLY:{this._dollyInternal(-T,k,C),this._isUserControllingDolly=!0;break}case D.ZOOM:{this._zoomInternal(-T,k,C),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},m=v=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===Ta.ACTION.NONE){const g=v instanceof PointerEvent?v.pointerId:(v instanceof MouseEvent,0),T=this._findPointerById(g);T&&this._disposePointer(T),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",h),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",u);return}v.preventDefault()}},p=v=>{if(!this._enabled)return;if(Ko(this._activePointers,ot),this._getClientRect(this._elementRect),s.copy(ot),i.copy(ot),this._activePointers.length>=2){const T=ot.x-this._activePointers[1].clientX,k=ot.y-this._activePointers[1].clientY,C=Math.sqrt(T*T+k*k);r.set(0,C);const b=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,E=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(b,E)}if(this._state=0,!v)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in v&&v.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(v.buttons&Y.LEFT)===Y.LEFT&&(this._state=this._state|this.mouseButtons.left),(v.buttons&Y.MIDDLE)===Y.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(v.buttons&Y.RIGHT)===Y.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&D.ROTATE)===D.ROTATE||(this._state&D.TOUCH_ROTATE)===D.TOUCH_ROTATE||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&D.TRUCK)===D.TRUCK||(this._state&D.TOUCH_TRUCK)===D.TOUCH_TRUCK||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&D.DOLLY)===D.DOLLY||(this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&D.ZOOM)===D.ZOOM||(this._state&D.TOUCH_ZOOM)===D.TOUCH_ZOOM||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&D.OFFSET)===D.OFFSET||(this._state&D.TOUCH_OFFSET)===D.TOUCH_OFFSET||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},_=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,Ko(this._activePointers,ot);const g=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,T=g?-g.deltaX:i.x-ot.x,k=g?-g.deltaY:i.y-ot.y;if(i.copy(ot),((this._state&D.ROTATE)===D.ROTATE||(this._state&D.TOUCH_ROTATE)===D.TOUCH_ROTATE||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(T,k),this._isUserControllingRotate=!0),(this._state&D.DOLLY)===D.DOLLY||(this._state&D.ZOOM)===D.ZOOM){const C=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,b=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0,E=this.dollyDragInverted?-1:1;(this._state&D.DOLLY)===D.DOLLY?(this._dollyInternal(E*k*Rr,C,b),this._isUserControllingDolly=!0):(this._zoomInternal(E*k*Rr,C,b),this._isUserControllingZoom=!0)}if((this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_ZOOM)===D.TOUCH_ZOOM||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE){const C=ot.x-this._activePointers[1].clientX,b=ot.y-this._activePointers[1].clientY,E=Math.sqrt(C*C+b*b),M=r.y-E;r.set(0,E);const A=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,R=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET?(this._dollyInternal(M*Rr,A,R),this._isUserControllingDolly=!0):(this._zoomInternal(M*Rr,A,R),this._isUserControllingZoom=!0)}((this._state&D.TRUCK)===D.TRUCK||(this._state&D.TOUCH_TRUCK)===D.TOUCH_TRUCK||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(T,k,!1),this._isUserControllingTruck=!0),((this._state&D.OFFSET)===D.OFFSET||(this._state&D.TOUCH_OFFSET)===D.TOUCH_OFFSET||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(T,k,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},y=()=>{Ko(this._activePointers,ot),i.copy(ot),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",h),this._domElement.ownerDocument.removeEventListener("mouseup",u),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",h),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",w),this._domElement.ownerDocument.addEventListener("pointerlockerror",S),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",h),p())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",S))};const w=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},S=()=>{this.unlockPointer()};this._addAllEventListeners=v=>{this._domElement=v,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),Yf&&this._domElement.addEventListener("mousedown",a),this._domElement.addEventListener("pointercancel",h),this._domElement.addEventListener("wheel",d,{passive:!1}),this._domElement.addEventListener("contextmenu",m)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("pointercancel",h),this._domElement.removeEventListener("wheel",d,{passive:!1}),this._domElement.removeEventListener("contextmenu",m),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",h),this._domElement.ownerDocument.removeEventListener("mouseup",u),this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",S))},this.cancel=()=>{this._state!==D.NONE&&(this._state=D.NONE,this._activePointers.length=0,y())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Pt(e.width,0,1),this._interactiveArea.height=Pt(e.height,0,1),this._interactiveArea.x=Pt(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Pt(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,s=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,s)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,s=!1){this._isUserControllingRotate=!1;const i=Pt(e,this.minAzimuthAngle,this.maxAzimuthAngle),r=Pt(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=r,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!s||oe(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&oe(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=On.NONE,this._changedDolly=0,this._dollyToNoClamp(Pt(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const s=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=oe(o,this._spherical.radius);if(!(s>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const r=!t||oe(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(Si).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const s=!t||oe(this._target.x,this._targetEnd.x,this.restThreshold)&&oe(this._target.y,this._targetEnd.y,this.restThreshold)&&oe(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=Pt(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const s=!t||oe(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(s)}pan(e,t,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,s)}truck(e,t,s=!1){this._camera.updateMatrix(),Gt.setFromMatrixColumn(this._camera.matrix,0),Wt.setFromMatrixColumn(this._camera.matrix,1),Gt.multiplyScalar(e),Wt.multiplyScalar(-t);const i=J.copy(Gt).add(Wt),r=ne.copy(this._targetEnd).add(i);return this.moveTo(r.x,r.y,r.z,s)}forward(e,t=!1){J.setFromMatrixColumn(this._camera.matrix,0),J.crossVectors(this._camera.up,J),J.multiplyScalar(e);const s=ne.copy(this._targetEnd).add(J);return this.moveTo(s.x,s.y,s.z,t)}elevate(e,t=!1){return J.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+J.x,this._targetEnd.y+J.y,this._targetEnd.z+J.z,t)}moveTo(e,t,s,i=!1){this._isUserControllingTruck=!1;const r=J.set(e,t,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,r,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const o=!i||oe(this._target.x,this._targetEnd.x,this.restThreshold)&&oe(this._target.y,this._targetEnd.y,this.restThreshold)&&oe(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,s,i=!1){const a=J.set(e,t,s).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,t,{cover:s=!1,paddingLeft:i=0,paddingRight:r=0,paddingBottom:o=0,paddingTop:a=0}={}){const c=[],l=e.isBox3?Dn.copy(e):Dn.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const h=ol(this._sphericalEnd.theta,rl),u=ol(this._sphericalEnd.phi,rl);c.push(this.rotateTo(h,u,t));const f=J.setFromSpherical(this._sphericalEnd).normalize(),d=dl.setFromUnitVectors(f,ea),m=oe(Math.abs(f.y),1);m&&d.multiply(sa.setFromAxisAngle(Ir,h)),d.multiply(this._yAxisUpSpaceInverse);const p=ul.makeEmpty();ne.copy(l.min).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.min).setX(l.max.x).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.min).setY(l.max.y).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.max).setZ(l.min.z).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.min).setZ(l.max.z).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.max).setY(l.min.y).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.max).setX(l.min.x).applyQuaternion(d),p.expandByPoint(ne),ne.copy(l.max).applyQuaternion(d),p.expandByPoint(ne),p.min.x-=i,p.min.y-=o,p.max.x+=r,p.max.y+=a,d.setFromUnitVectors(ea,f),m&&d.premultiply(sa.invert()),d.premultiply(this._yAxisUpSpace);const _=p.getSize(J),y=p.getCenter(ne).applyQuaternion(d);if(Qs(this._camera)){const w=this.getDistanceToFitBox(_.x,_.y,_.z,s);c.push(this.moveTo(y.x,y.y,y.z,t)),c.push(this.dollyTo(w,t)),c.push(this.setFocalOffset(0,0,0,t))}else if(Ms(this._camera)){const w=this._camera,S=w.right-w.left,v=w.top-w.bottom,g=s?Math.max(S/_.x,v/_.y):Math.min(S/_.x,v/_.y);c.push(this.moveTo(y.x,y.y,y.z,t)),c.push(this.zoomTo(g,t)),c.push(this.setFocalOffset(0,0,0,t))}return Promise.all(c)}fitToSphere(e,t){const s=[],r=e instanceof W.Sphere?ta.copy(e):Ta.createBoundingSphere(e,ta);if(s.push(this.moveTo(r.center.x,r.center.y,r.center.z,t)),Qs(this._camera)){const o=this.getDistanceToFitSphere(r.radius);s.push(this.dollyTo(o,t))}else if(Ms(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,c=2*r.radius,l=Math.min(o/c,a/c);s.push(this.zoomTo(l,t))}return s.push(this.setFocalOffset(0,0,0,t)),Promise.all(s)}setLookAt(e,t,s,i,r,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=On.NONE,this._changedDolly=0;const c=ne.set(i,r,o),l=J.set(e,t,s);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(l.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!a||oe(this._target.x,this._targetEnd.x,this.restThreshold)&&oe(this._target.y,this._targetEnd.y,this.restThreshold)&&oe(this._target.z,this._targetEnd.z,this.restThreshold)&&oe(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&oe(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&oe(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(e,t,s,i,r,o,a,c,l,h,u,f,d,m=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=On.NONE,this._changedDolly=0;const p=J.set(i,r,o),_=ne.set(e,t,s);kt.setFromVector3(_.sub(p).applyQuaternion(this._yAxisUpSpace));const y=An.set(h,u,f),w=ne.set(a,c,l);bi.setFromVector3(w.sub(y).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(p.lerp(y,d));const S=bi.theta-kt.theta,v=bi.phi-kt.phi,g=bi.radius-kt.radius;this._sphericalEnd.set(kt.radius+g*d,kt.phi+v*d,kt.theta+S*d),this.normalizeRotations(),this._needsUpdate=!0,m||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const T=!m||oe(this._target.x,this._targetEnd.x,this.restThreshold)&&oe(this._target.y,this._targetEnd.y,this.restThreshold)&&oe(this._target.z,this._targetEnd.z,this.restThreshold)&&oe(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&oe(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&oe(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(T)}setPosition(e,t,s,i=!1){return this.setLookAt(e,t,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,t,s,i=!1){const r=this.getPosition(J),o=this.setLookAt(r.x,r.y,r.z,e,t,s,i);return this._sphericalEnd.phi=Pt(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,s,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,s),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const r=!i||oe(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&oe(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&oe(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}setOrbitPoint(e,t,s){this._camera.updateMatrixWorld(),Gt.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Wt.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Ks.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=J.set(e,t,s),r=i.distanceTo(this._camera.position),o=i.sub(this._camera.position);Gt.multiplyScalar(o.x),Wt.multiplyScalar(o.y),Ks.multiplyScalar(o.z),J.copy(Gt).add(Wt).add(Ks),J.z=J.z+r,this.dollyTo(r,!1),this.setFocalOffset(-J.x,J.y,-J.z,!1),this.moveTo(e,t,s,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,s,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new W.Vector4,typeof e=="number"?this._viewport.set(e,t,s,i):this._viewport.copy(e)}getDistanceToFitBox(e,t,s,i=!1){if(Jo(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const r=e/t,o=this._camera.getEffectiveFOV()*Ti,a=this._camera.aspect;return((i?r>a:r<a)?t:e/a)*.5/Math.tan(o*.5)+s*.5}getDistanceToFitSphere(e){if(Jo(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*Ti,s=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?t:s;return e/Math.sin(i*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new W.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new W.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e&&e instanceof W.Spherical?e:new W.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new W.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Mn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Mn),this._spherical.theta+=Mn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Mn)}reset(e=!1){if(!oe(this._camera.up.x,this._cameraUp0.x)||!oe(this._camera.up.y,this._cameraUp0.y)||!oe(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const s=this.getPosition(J);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Ir),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=J.subVectors(this._target,this._camera.position).normalize(),t=ne.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const s=this.getPosition(J);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,s=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,r=ll.subVectors(this._targetEnd,this._target),o=hl.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(ge(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const u=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Dr(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,u,1/0,e),this._needsUpdate=!0}if(ge(s))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const u=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Dr(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,u,1/0,e),this._needsUpdate=!0}if(ge(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const u=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Dr(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,u,this.maxSpeed,e),this._needsUpdate=!0}if(ge(r.x)&&ge(r.y)&&ge(r.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const u=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;al(this._target,this._targetEnd,this._targetVelocity,u,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(ge(o.x)&&ge(o.y)&&ge(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const u=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;al(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,u,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(ge(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const u=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Dr(this._zoom,this._zoomEnd,this._zoomVelocity,u,1/0,e)}if(this.dollyToCursor){if(Qs(this._camera)&&this._changedDolly!==0){const u=this._spherical.radius-this._lastDistance,f=this._camera,d=this._getCameraDirection(Si),m=J.copy(d).cross(f.up).normalize();m.lengthSq()===0&&(m.x=1);const p=ne.crossVectors(m,d),_=this._sphericalEnd.radius*Math.tan(f.getEffectiveFOV()*Ti*.5),w=(this._sphericalEnd.radius-u-this._sphericalEnd.radius)/this._sphericalEnd.radius,S=An.copy(this._targetEnd).add(m.multiplyScalar(this._dollyControlCoord.x*_*f.aspect)).add(p.multiplyScalar(this._dollyControlCoord.y*_)),v=J.copy(this._targetEnd).lerp(S,w),g=this._lastDollyDirection===On.IN&&this._spherical.radius<=this.minDistance,T=this._lastDollyDirection===On.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(g||T)){this._sphericalEnd.radius-=u,this._spherical.radius-=u;const C=ne.copy(d).multiplyScalar(-u);v.add(C)}this._boundary.clampPoint(v,v);const k=ne.subVectors(v,this._targetEnd);this._targetEnd.copy(v),this._target.add(k),this._changedDolly-=u,ge(this._changedDolly)&&(this._changedDolly=0)}else if(Ms(this._camera)&&this._changedZoom!==0){const u=this._zoom-this._lastZoom,f=this._camera,d=J.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(f.near+f.far)/(f.near-f.far)).unproject(f),m=ne.set(0,0,-1).applyQuaternion(f.quaternion),p=An.copy(d).add(m.multiplyScalar(-d.dot(f.up))),y=-(this._zoom-u-this._zoom)/this._zoom,w=this._getCameraDirection(Si),S=this._targetEnd.dot(w),v=J.copy(this._targetEnd).lerp(p,y),g=v.dot(w),T=w.multiplyScalar(g-S);v.sub(T),this._boundary.clampPoint(v,v);const k=ne.subVectors(v,this._targetEnd);this._targetEnd.copy(v),this._target.add(k),this._changedZoom-=u,ge(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!ge(this._focalOffset.x)||!ge(this._focalOffset.y)||!ge(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Gt.setFromMatrixColumn(this._camera.matrix,0),Wt.setFromMatrixColumn(this._camera.matrix,1),Ks.setFromMatrixColumn(this._camera.matrix,2),Gt.multiplyScalar(this._focalOffset.x),Wt.multiplyScalar(-this._focalOffset.y),Ks.multiplyScalar(this._focalOffset.z),J.copy(Gt).add(Wt).add(Ks),this._camera.position.add(J)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),J.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const h=this._needsUpdate;return h&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):h?(this.dispatchEvent({type:"update"}),ge(t,this.restThreshold)&&ge(s,this.restThreshold)&&ge(i,this.restThreshold)&&ge(r.x,this.restThreshold)&&ge(r.y,this.restThreshold)&&ge(r.z,this.restThreshold)&&ge(o.x,this.restThreshold)&&ge(o.y,this.restThreshold)&&ge(o.z,this.restThreshold)&&ge(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!h&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=h,this._needsUpdate=!1,h}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:wi(this.maxDistance),minZoom:this.minZoom,maxZoom:wi(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:wi(this.maxPolarAngle),minAzimuthAngle:wi(this.minAzimuthAngle),maxAzimuthAngle:wi(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:J.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const s=JSON.parse(e);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=ki(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=ki(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=ki(s.maxPolarAngle),this.minAzimuthAngle=ki(s.minAzimuthAngle),this.maxAzimuthAngle=ki(s.maxAzimuthAngle),this.smoothTime=s.smoothTime,this.draggingSmoothTime=s.draggingSmoothTime,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],t),kt.setFromVector3(J.fromArray(s.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(kt.theta,kt.phi,t),this.dollyTo(kt.radius,t),this.zoomTo(s.zoom,t),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",Wf),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,s){const i=t.lengthSq();if(i===0)return e;const r=ne.copy(t).add(e),a=this._boundary.clampPoint(r,An).sub(r),c=a.lengthSq();if(c===0)return e.add(t);if(c===i)return e;if(s===0)return e.add(t).add(a);{const l=1+s*c/t.dot(a);return e.add(ne.copy(t).multiplyScalar(l)).add(a.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(Qs(this._camera)){const e=this._camera,t=e.near,s=e.getEffectiveFOV()*Ti,i=Math.tan(s*.5)*t,r=i*e.aspect;this._nearPlaneCorners[0].set(-r,-i,0),this._nearPlaneCorners[1].set(r,-i,0),this._nearPlaneCorners[2].set(r,i,0),this._nearPlaneCorners[3].set(-r,i,0)}else if(Ms(this._camera)){const e=this._camera,t=1/e.zoom,s=e.left*t,i=e.right*t,r=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(s,r,0),this._nearPlaneCorners[1].set(i,r,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(s,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||Jo(this._camera,"_collisionTest"))return e;const s=this._getTargetDirection(Si);na.lookAt(cl,s,this._camera.up);for(let i=0;i<4;i++){const r=ne.copy(this._nearPlaneCorners[i]);r.applyMatrix4(na);const o=An.addVectors(this._target,r);Pr.set(o,s),Pr.far=this._spherical.radius+1;const a=Pr.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const s=()=>{this.removeEventListener("rest",s),t()};this.addEventListener("rest",s)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new W.Sphere){const s=t,i=s.center;Dn.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Dn.expandByObject(o)}),Dn.getCenter(i);let r=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,c=a.geometry.clone();c.applyMatrix4(a.matrixWorld);const h=c.attributes.position;for(let u=0,f=h.count;u<f;u++)J.fromBufferAttribute(h,u),r=Math.max(r,i.distanceToSquared(J))}),s.radius=Math.sqrt(r),s}};const $f=O.forwardRef((n,e)=>{O.useMemo(()=>{ia.install({THREE:W0}),Ka({CameraControlsImpl:ia})},[]);const{camera:t,domElement:s,makeDefault:i,onStart:r,onEnd:o,onChange:a,regress:c,...l}=n,h=ve(g=>g.camera),u=ve(g=>g.gl),f=ve(g=>g.invalidate),d=ve(g=>g.events),m=ve(g=>g.setEvents),p=ve(g=>g.set),_=ve(g=>g.get),y=ve(g=>g.performance),w=t||h,S=s||d.connected||u.domElement,v=O.useMemo(()=>new ia(w),[w]);return Rt((g,T)=>{v.enabled&&v.update(T)},-1),O.useEffect(()=>(v.connect(S),()=>void v.disconnect()),[S,v]),O.useEffect(()=>{const g=C=>{f(),c&&y.regress(),a&&a(C)},T=C=>{r&&r(C)},k=C=>{o&&o(C)};return v.addEventListener("update",g),v.addEventListener("controlstart",T),v.addEventListener("controlend",k),()=>{v.removeEventListener("update",g),v.removeEventListener("controlstart",T),v.removeEventListener("controlend",k)}},[v,r,o,f,m,c,a]),O.useEffect(()=>{if(i){const g=_().controls;return p({controls:v}),()=>p({controls:g})}},[i,v]),O.createElement("primitive",Xa({ref:e,object:v},l))}),Mh=O.createContext(null),Xf=O.forwardRef((n,e)=>{O.useMemo(()=>Ka({SegmentObject:Qf}),[]);const{limit:t=1e3,lineWidth:s=1,children:i,...r}=n,[o,a]=O.useState([]),[c]=O.useState(()=>new A0),[l]=O.useState(()=>new D0),[h]=O.useState(()=>new R0),[u]=O.useState(()=>new Fe(512,512)),[f]=O.useState(()=>Array(t*6).fill(0)),[d]=O.useState(()=>Array(t*6).fill(0)),m=O.useMemo(()=>({subscribe:p=>(a(_=>[..._,p]),()=>a(_=>_.filter(y=>y.current!==p.current)))}),[]);return Rt(()=>{for(let _=0;_<t;_++){var p;const y=(p=o[_])==null?void 0:p.current;y&&(f[_*6+0]=y.start.x,f[_*6+1]=y.start.y,f[_*6+2]=y.start.z,f[_*6+3]=y.end.x,f[_*6+4]=y.end.y,f[_*6+5]=y.end.z,d[_*6+0]=y.color.r,d[_*6+1]=y.color.g,d[_*6+2]=y.color.b,d[_*6+3]=y.color.r,d[_*6+4]=y.color.g,d[_*6+5]=y.color.b)}h.setColors(d),h.setPositions(f),c.computeLineDistances()}),O.createElement("primitive",{object:c,ref:e},O.createElement("primitive",{object:h,attach:"geometry"}),O.createElement("primitive",Xa({object:l,attach:"material",vertexColors:!0,resolution:u,linewidth:s},r)),O.createElement(Mh.Provider,{value:m},i))});class Qf{constructor(){this.color=new us("white"),this.start=new X(0,0,0),this.end=new X(0,0,0)}}const fl=n=>n instanceof X?n:new X(...typeof n=="number"?[n,n,n]:n),Kf=O.forwardRef(({color:n,start:e,end:t},s)=>{const i=O.useContext(Mh);if(!i)throw"Segment must used inside Segments component.";const r=O.useRef(null);return O.useLayoutEffect(()=>i.subscribe(r),[]),O.createElement("segmentObject",{ref:I0([r,s]),color:n,start:fl(e),end:fl(t)})});function Jf({all:n,scene:e,camera:t}){const s=ve(({gl:o})=>o),i=ve(({camera:o})=>o),r=ve(({scene:o})=>o);return O.useLayoutEffect(()=>{const o=[];n&&(e||r).traverse(l=>{l.visible===!1&&(o.push(l),l.visible=!0)}),s.compile(e||r,t||i);const a=new Z0(128);new Y0(.01,1e5,a).update(s,e||r),a.dispose(),o.forEach(l=>l.visible=!1)},[]),null}function ep({pixelated:n}){const e=ve(o=>o.gl),t=ve(o=>o.internal.active),s=ve(o=>o.performance.current),i=ve(o=>o.viewport.initialDpr),r=ve(o=>o.setDpr);return O.useEffect(()=>{const o=e.domElement;return()=>{t&&r(i),n&&o&&(o.style.imageRendering="auto")}},[]),O.useEffect(()=>{r(s*i),n&&e.domElement&&(e.domElement.style.imageRendering=s===1?"auto":"pixelated")},[s]),null}function tp(){const n=ve(s=>s.get),e=ve(s=>s.setEvents),t=ve(s=>s.performance.current);return O.useEffect(()=>{const s=n().events.enabled;return()=>e({enabled:s})},[]),O.useEffect(()=>e({enabled:t===1}),[t]),null}const sc=O.createContext(null);function sp({children:n,enabled:e=!0}){const[t,s]=O.useState([]),i=O.useMemo(()=>({selected:t,select:s,enabled:e}),[t,s,e]);return x.jsx(sc.Provider,{value:i,children:n})}function Ah({enabled:n=!1,children:e,...t}){const s=O.useRef(null),i=O.useContext(sc);return O.useEffect(()=>{if(i&&n){let r=!1;const o=[];if(s.current.traverse(a=>{a.type==="Mesh"&&o.push(a),i.selected.indexOf(a)===-1&&(r=!0)}),r)return i.select(a=>[...a,...o]),()=>{i.select(a=>a.filter(c=>!o.includes(c)))}}},[n,e,i]),x.jsx("group",{ref:s,...t,children:e})}/**
 * postprocessing v6.33.4 build Sat Dec 02 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var Dh="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",ee={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},Rh="",qe="srgb",Mo="srgb-linear",ds={NONE:0,DEPTH:1,CONVOLUTION:2},ie={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Ao={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Nr={DEFAULT:0,ESKIL:1},Ih=Number(ec.replace(/\D+/g,"")),Ph=Ih>=152,np=new Map([[yh,Mo],[Ch,qe]]),ip=new Map([[Mo,yh],[qe,Ch]]);function Zn(n){return n===null?null:Ph?n.outputColorSpace:np.get(n.outputEncoding)}function Ps(n,e){n!==null&&(Ph?n.colorSpace=e:n.encoding=ip.get(e))}function pr(n){return Ih<154?n.replace("colorspace_fragment","encodings_fragment"):n}var rp=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,op="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",ap=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],cp=class extends es{constructor(n=new tl){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Q(null),texelSize:new Q(new tl),scale:new Q(1),kernel:new Q(0)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:rp,vertexShader:op}),this.fragmentShader=pr(this.fragmentShader),this.setTexelSize(n.x,n.y),this.kernelSize=Ao.MEDIUM}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.inputBuffer=n}get kernelSequence(){return ap[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(n){this.uniforms.scale.value=n}getScale(){return this.uniforms.scale.value}setScale(n){this.uniforms.scale.value=n}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(n){this.uniforms.kernel.value=n}setKernel(n){this.kernel=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e,n*.5,e*.5)}setSize(n,e){const t=1/n,s=1/e;this.uniforms.texelSize.value.set(t,s,t*.5,s*.5)}},lp=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,Nh=class extends es{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Q(null),opacity:new Q(1)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:lp,vertexShader:Dh}),this.fragmentShader=pr(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}getOpacity(n){return this.uniforms.opacity.value}setOpacity(n){this.uniforms.opacity.value=n}},hp=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,up=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,dp=class extends es{constructor(n=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Q(null),cameraNear:new Q(.3),cameraFar:new Q(1e3)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:hp,vertexShader:up}),this.depthBuffer=n,this.depthPacking=xa,this.copyCameraSettings(e)}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=xa){this.depthBuffer=n,this.depthPacking=e}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof _h?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},fp=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,pp="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",mp=class extends es{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Q(null),normalBuffer:new Q(null),texelSize:new Q(new Fe)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:fp,vertexShader:pp})}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=ai){this.depthBuffer=n,this.depthPacking=e}set normalBuffer(n){this.uniforms.normalBuffer.value=n,n!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(n){this.normalBuffer=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},_p=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,gp="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",vp=class extends es{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Q(null),texelSize:new Q(new Fe)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:_p,vertexShader:gp}),this.fragmentShader=pr(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},yp=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Cp="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",xp=class extends es{constructor(n,e,t,s,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:ec.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Q(null),depthBuffer:new Q(null),resolution:new Q(new Fe),texelSize:new Q(new Fe),cameraNear:new Q(.3),cameraFar:new Q(1e3),aspect:new Q(1),time:new Q(0)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),n&&this.setShaderParts(n),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(s)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(n){this.uniforms.depthBuffer.value=n}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=ai){this.depthBuffer=n,this.depthPacking=e}setShaderData(n){this.setShaderParts(n.shaderParts),this.setDefines(n.defines),this.setUniforms(n.uniforms),this.setExtensions(n.extensions)}setShaderParts(n){return this.fragmentShader=yp.replace(ie.FRAGMENT_HEAD,n.get(ie.FRAGMENT_HEAD)||"").replace(ie.FRAGMENT_MAIN_UV,n.get(ie.FRAGMENT_MAIN_UV)||"").replace(ie.FRAGMENT_MAIN_IMAGE,n.get(ie.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Cp.replace(ie.VERTEX_HEAD,n.get(ie.VERTEX_HEAD)||"").replace(ie.VERTEX_MAIN_SUPPORT,n.get(ie.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=pr(this.fragmentShader),this.needsUpdate=!0,this}setDefines(n){for(const e of n.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(n){for(const e of n.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(n){this.extensions={};for(const e of n)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(n){this.encodeOutput!==n&&(n?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(n){return this.encodeOutput}setOutputEncodingEnabled(n){this.encodeOutput=n}get time(){return this.uniforms.time.value}set time(n){this.uniforms.time.value=n}setDeltaTime(n){this.uniforms.time.value+=n}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof _h?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(n,e){const t=this.uniforms;t.resolution.value.set(n,e),t.texelSize.value.set(1/n,1/e),t.aspect.value=n/e}static get Section(){return ie}},Tp=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,wp=class extends es{constructor(n=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:ec.replace(/\D+/g,"")},uniforms:{inputBuffer:new Q(null),threshold:new Q(0),smoothing:new Q(1),range:new Q(null)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Tp,vertexShader:Dh}),this.colorOutput=n,this.luminanceRange=e}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get threshold(){return this.uniforms.threshold.value}set threshold(n){this.smoothing>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=n}getThreshold(){return this.threshold}setThreshold(n){this.threshold=n}get smoothing(){return this.uniforms.smoothing.value}set smoothing(n){this.threshold>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=n}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(n){this.smoothing=n}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(n){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(n){n?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(n){return this.colorOutput}setColorOutputEnabled(n){this.colorOutput=n}get useRange(){return this.luminanceRange!==null}set useRange(n){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(n){n!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=n,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(n){this.luminanceRange=n}},kp="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",Sp="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",bp=class extends es{constructor(n=new Fe){super({name:"OutlineMaterial",uniforms:{inputBuffer:new Q(null),texelSize:new Q(new Fe)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:kp,vertexShader:Sp}),this.uniforms.texelSize.value.set(n.x,n.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},Ep=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,Op="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Mp=class extends es{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Q(null),supportBuffer:new Q(null),texelSize:new Q(new Fe),radius:new Q(.85)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ep,vertexShader:Op}),this.fragmentShader=pr(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}set supportBuffer(n){this.uniforms.supportBuffer.value=n}get radius(){return this.uniforms.radius.value}set radius(n){this.uniforms.radius.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},Ap=new rd,bs=null;function Dp(){if(bs===null){const n=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);bs=new od,bs.setAttribute!==void 0?(bs.setAttribute("position",new Or(n,3)),bs.setAttribute("uv",new Or(e,2))):(bs.addAttribute("position",new Or(n,3)),bs.addAttribute("uv",new Or(e,2)))}return bs}var it=class Fh{constructor(e="Pass",t=new el,s=Ap){this.name=e,this.renderer=null,this.scene=t,this.camera=s,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;t!==null&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new nd(Dp(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new el),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=ai){}render(e,t,s,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,s){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof xt||t instanceof gh||t instanceof vh||t instanceof Fh)&&this[e].dispose()}}},Rp=class extends it{constructor(n,e=!0){super("CopyPass"),this.fullscreenMaterial=new Nh,this.needsSwap=!1,this.renderTarget=n,n===void 0&&(this.renderTarget=new xt(1,1,{minFilter:Xr,magFilter:Xr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(n){this.autoResize=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(n){this.autoResize=n}render(n,e,t,s,i){this.fullscreenMaterial.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){this.autoResize&&this.renderTarget.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==ps?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Zn(n)===qe&&Ps(this.renderTarget.texture,qe))}},Ip=class extends it{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(n,e,t,s,i){const r=n.state.buffers.stencil;r.setLocked(!1),r.setTest(!1)}},pl=new us,nc=class extends it{constructor(n=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=n,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(n,e,t){this.color=n,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(n){this.overrideClearColor=n}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(n){this.overrideClearAlpha=n}render(n,e,t,s,i){const r=this.overrideClearColor,o=this.overrideClearAlpha,a=n.getClearAlpha(),c=r!==null,l=o>=0;c?(n.getClearColor(pl),n.setClearColor(r,l?o:a)):l&&n.setClearAlpha(o),n.setRenderTarget(this.renderToScreen?null:e),n.clear(this.color,this.depth,this.stencil),c?n.setClearColor(pl,a):l&&n.setClearAlpha(a)}},Do=class extends it{constructor(n,e,t=null){super("RenderPass",n,e),this.needsSwap=!1,this.clearPass=new nc,this.overrideMaterialManager=t===null?null:new _l(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get renderToScreen(){return super.renderToScreen}set renderToScreen(n){super.renderToScreen=n,this.clearPass.renderToScreen=n}get overrideMaterial(){const n=this.overrideMaterialManager;return n!==null?n.material:null}set overrideMaterial(n){const e=this.overrideMaterialManager;n!==null?e!==null?e.setMaterial(n):this.overrideMaterialManager=new _l(n):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(n){this.overrideMaterial=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getSelection(){return this.selection}setSelection(n){this.selection=n}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(n){this.ignoreBackground=n}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(n){this.skipShadowMapUpdate=n}getClearPass(){return this.clearPass}render(n,e,t,s,i){const r=this.scene,o=this.camera,a=this.selection,c=o.layers.mask,l=r.background,h=n.shadowMap.autoUpdate,u=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(n.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(r.background=null),this.clearPass.enabled&&this.clearPass.render(n,e),n.setRenderTarget(u),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(n,r,o):n.render(r,o),o.layers.mask=c,r.background=l,n.shadowMap.autoUpdate=h}},Pp=class extends it{constructor(n,e,{renderTarget:t,resolutionScale:s=1,width:i=Oe.AUTO_SIZE,height:r=Oe.AUTO_SIZE,resolutionX:o=i,resolutionY:a=r}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new Do(n,e,new id({depthPacking:xa}));const c=this.renderPass;c.skipShadowMapUpdate=!0,c.ignoreBackground=!0;const l=c.clearPass;l.overrideClearColor=new us(16777215),l.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new xt(1,1,{minFilter:Wn,magFilter:Wn}),this.renderTarget.texture.name="DepthPass.Target");const h=this.resolution=new Oe(this,o,a,s);h.addEventListener("change",u=>this.setSize(h.baseWidth,h.baseHeight))}set mainScene(n){this.renderPass.mainScene=n}set mainCamera(n){this.renderPass.mainCamera=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,s,i){const r=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,r)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}},Np=class extends it{constructor({normalBuffer:n=null,resolutionScale:e=.5,width:t=Oe.AUTO_SIZE,height:s=Oe.AUTO_SIZE,resolutionX:i=t,resolutionY:r=s}={}){super("DepthDownsamplingPass");const o=new mp;o.normalBuffer=n,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new xt(1,1,{minFilter:Wn,magFilter:Wn,depthBuffer:!1,type:$0}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new Oe(this,i,r,e);a.addEventListener("change",c=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(n,e=ai){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e}render(n,e,t,s,i){n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(n,e)}initialize(n,e,t){const s=n.getContext();if(!(s.getExtension("EXT_color_buffer_float")||s.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function ml(n,e,t){for(const s of e){const i="$1"+n+s.charAt(0).toUpperCase()+s.slice(1),r=new RegExp("([^\\.])(\\b"+s+"\\b)","g");for(const o of t.entries())o[1]!==null&&t.set(o[0],o[1].replace(r,i))}}function Fp(n,e,t){let s=e.getFragmentShader(),i=e.getVertexShader();const r=s!==void 0&&/mainImage/.test(s),o=s!==void 0&&/mainUv/.test(s);if(t.attributes|=e.getAttributes(),s===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&t.attributes&ds.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!r&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,c=t.shaderParts;let l=c.get(ie.FRAGMENT_HEAD)||"",h=c.get(ie.FRAGMENT_MAIN_UV)||"",u=c.get(ie.FRAGMENT_MAIN_IMAGE)||"",f=c.get(ie.VERTEX_HEAD)||"",d=c.get(ie.VERTEX_MAIN_SUPPORT)||"";const m=new Set,p=new Set;if(o&&(h+=`	${n}MainUv(UV);
`,t.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const w=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);d+=`	${n}MainSupport(`,d+=w?`vUv);
`:`);
`;for(const S of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const v of S[1].split(/\s*,\s*/))t.varyings.add(v),m.add(v),p.add(v);for(const S of i.matchAll(a))p.add(S[1])}for(const w of s.matchAll(a))p.add(w[1]);for(const w of e.defines.keys())p.add(w.replace(/\([\w\s,]*\)/g,""));for(const w of e.uniforms.keys())p.add(w);p.delete("while"),p.delete("for"),p.delete("if"),e.uniforms.forEach((w,S)=>t.uniforms.set(n+S.charAt(0).toUpperCase()+S.slice(1),w)),e.defines.forEach((w,S)=>t.defines.set(n+S.charAt(0).toUpperCase()+S.slice(1),w));const _=new Map([["fragment",s],["vertex",i]]);ml(n,p,t.defines),ml(n,p,_),s=_.get("fragment"),i=_.get("vertex");const y=e.blendMode;if(t.blendModes.set(y.blendFunction,y),r){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(u+=e.inputColorSpace===qe?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==Rh?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const w=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;u+=`${n}MainImage(color0, UV, `,t.attributes&ds.DEPTH&&w.test(s)&&(u+="depth, ",t.readDepth=!0),u+=`color1);
	`;const S=n+"BlendOpacity";t.uniforms.set(S,y.opacity),u+=`color0 = blend${y.blendFunction}(color0, color1, ${S});

	`,l+=`uniform float ${S};

`}if(l+=s+`
`,i!==null&&(f+=i+`
`),c.set(ie.FRAGMENT_HEAD,l),c.set(ie.FRAGMENT_MAIN_UV,h),c.set(ie.FRAGMENT_MAIN_IMAGE,u),c.set(ie.VERTEX_HEAD,f),c.set(ie.VERTEX_MAIN_SUPPORT,d),e.extensions!==null)for(const w of e.extensions)t.extensions.add(w)}}var Lp=class extends it{constructor(n,...e){super("EffectPass"),this.fullscreenMaterial=new xp(null,null,null,n),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(n){for(const e of this.effects)e.mainScene=n}set mainCamera(n){this.fullscreenMaterial.copyCameraSettings(n);for(const e of this.effects)e.mainCamera=n}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(n){this.fullscreenMaterial.encodeOutput=n}get dithering(){return this.fullscreenMaterial.dithering}set dithering(n){const e=this.fullscreenMaterial;e.dithering=n,e.needsUpdate=!0}setEffects(n){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=n.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const n=new Wp;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===ee.DST)n.attributes|=o.getAttributes()&ds.DEPTH;else{if(n.attributes&o.getAttributes()&ds.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);Fp("e"+e++,o,n)}let t=n.shaderParts.get(ie.FRAGMENT_HEAD),s=n.shaderParts.get(ie.FRAGMENT_MAIN_IMAGE),i=n.shaderParts.get(ie.FRAGMENT_MAIN_UV);const r=/\bblend\b/g;for(const o of n.blendModes.values())t+=o.getShaderCode().replace(r,`blend${o.blendFunction}`)+`
`;n.attributes&ds.DEPTH?(n.readDepth&&(s=`float depth = readDepth(UV);

	`+s),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,n.colorSpace===qe&&(s+=`color0 = sRGBToLinear(color0);
	`),n.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,n.defines.set("UV","transformedUv")):n.defines.set("UV","vUv"),n.shaderParts.set(ie.FRAGMENT_HEAD,t),n.shaderParts.set(ie.FRAGMENT_MAIN_IMAGE,s),n.shaderParts.set(ie.FRAGMENT_MAIN_UV,i);for(const[o,a]of n.shaderParts)a!==null&&n.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(n)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(n,e=ai){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(n,e)}render(n,e,t,s,i){for(const r of this.effects)r.update(n,e,s);if(!this.skipRendering||this.renderToScreen){const r=this.fullscreenMaterial;r.inputBuffer=e.texture,r.time+=s*this.timeScale,n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}}setSize(n,e){this.fullscreenMaterial.setSize(n,e);for(const t of this.effects)t.setSize(n,e)}initialize(n,e,t){this.renderer=n;for(const s of this.effects)s.initialize(n,e,t);this.updateMaterial(),t!==void 0&&t!==ps&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const n of this.effects)n.removeEventListener("change",this.listener),n.dispose()}handleEvent(n){switch(n.type){case"change":this.recompile();break}}},Lh=class extends it{constructor({kernelSize:n=Ao.MEDIUM,resolutionScale:e=.5,width:t=Oe.AUTO_SIZE,height:s=Oe.AUTO_SIZE,resolutionX:i=t,resolutionY:r=s}={}){super("KawaseBlurPass"),this.renderTargetA=new xt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Oe(this,i,r,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new cp,this._blurMaterial.kernelSize=n,this.copyMaterial=new Nh}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(n){this._blurMaterial=n}get dithering(){return this.copyMaterial.dithering}set dithering(n){this.copyMaterial.dithering=n}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(n){this.blurMaterial.kernelSize=n}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get scale(){return this.blurMaterial.scale}set scale(n){this.blurMaterial.scale=n}getScale(){return this.blurMaterial.scale}setScale(n){this.blurMaterial.scale=n}getKernelSize(){return this.kernelSize}setKernelSize(n){this.kernelSize=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,s,i){const r=this.scene,o=this.camera,a=this.renderTargetA,c=this.renderTargetB,l=this.blurMaterial,h=l.kernelSequence;let u=e;this.fullscreenMaterial=l;for(let f=0,d=h.length;f<d;++f){const m=f&1?c:a;l.kernel=h[f],l.inputBuffer=u.texture,n.setRenderTarget(m),n.render(r,o),u=m}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=u.texture,n.setRenderTarget(this.renderToScreen?null:t),n.render(r,o)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e);const s=t.width,i=t.height;this.renderTargetA.setSize(s,i),this.renderTargetB.setSize(s,i),this.blurMaterial.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTargetA.texture.type=t,this.renderTargetB.texture.type=t,t!==ps?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Zn(n)===qe&&(Ps(this.renderTargetA.texture,qe),Ps(this.renderTargetB.texture,qe)))}static get AUTO_SIZE(){return Oe.AUTO_SIZE}},Up=class extends it{constructor({renderTarget:n,luminanceRange:e,colorOutput:t,resolutionScale:s=1,width:i=Oe.AUTO_SIZE,height:r=Oe.AUTO_SIZE,resolutionX:o=i,resolutionY:a=r}={}){super("LuminancePass"),this.fullscreenMaterial=new wp(t,e),this.needsSwap=!1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new xt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const c=this.resolution=new Oe(this,o,a,s);c.addEventListener("change",l=>this.setSize(c.baseWidth,c.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(n,e,t,s,i){const r=this.fullscreenMaterial;r.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}initialize(n,e,t){t!==void 0&&t!==ps&&(this.renderTarget.texture.type=t,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Vp=class extends it{constructor(n,e){super("MaskPass",n,e),this.needsSwap=!1,this.clearPass=new nc(!1,!1,!0),this.inverse=!1}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get inverted(){return this.inverse}set inverted(n){this.inverse=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(n){this.inverted=n}render(n,e,t,s,i){const r=n.getContext(),o=n.state.buffers,a=this.scene,c=this.camera,l=this.clearPass,h=this.inverted?0:1,u=1-h;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.stencil.setFunc(r.ALWAYS,h,4294967295),o.stencil.setClear(u),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?l.render(n,null):(l.render(n,e),l.render(n,t))),this.renderToScreen?(n.setRenderTarget(null),n.render(a,c)):(n.setRenderTarget(e),n.render(a,c),n.setRenderTarget(t),n.render(a,c)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(r.EQUAL,1,4294967295),o.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),o.stencil.setLocked(!0)}},Bp=class extends it{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new xt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new vp,this.upsamplingMaterial=new Mp,this.resolution=new Fe}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(n){if(this.levels!==n){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let t=0;t<n;++t){const s=e.clone();s.texture.name="Downsampling.Mipmap"+t,this.downsamplingMipmaps.push(s)}this.upsamplingMipmaps.push(e);for(let t=1,s=n-1;t<s;++t){const i=e.clone();i.texture.name="Upsampling.Mipmap"+t,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(n){this.upsamplingMaterial.radius=n}render(n,e,t,s,i){const{scene:r,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:c}=this,{downsamplingMipmaps:l,upsamplingMipmaps:h}=this;let u=e;this.fullscreenMaterial=a;for(let f=0,d=l.length;f<d;++f){const m=l[f];a.setSize(u.width,u.height),a.inputBuffer=u.texture,n.setRenderTarget(m),n.render(r,o),u=m}this.fullscreenMaterial=c;for(let f=h.length-1;f>=0;--f){const d=h[f];c.setSize(u.width,u.height),c.inputBuffer=u.texture,c.supportBuffer=l[f].texture,n.setRenderTarget(d),n.render(r,o),u=d}}setSize(n,e){const t=this.resolution;t.set(n,e);let s=t.width,i=t.height;for(let r=0,o=this.downsamplingMipmaps.length;r<o;++r)s=Math.round(s*.5),i=Math.round(i*.5),this.downsamplingMipmaps[r].setSize(s,i),r<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[r].setSize(s,i)}initialize(n,e,t){if(t!==void 0){const s=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of s)i.texture.type=t;if(t!==ps)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Zn(n)===qe)for(const i of s)Ps(i.texture,qe)}}dispose(){super.dispose();for(const n of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))n.dispose()}},zp=class extends it{constructor(n,e,{renderTarget:t,resolutionScale:s=1,width:i=Oe.AUTO_SIZE,height:r=Oe.AUTO_SIZE,resolutionX:o=i,resolutionY:a=r}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Do(n,e,new X0);const c=this.renderPass;c.ignoreBackground=!0,c.skipShadowMapUpdate=!0;const l=c.getClearPass();l.overrideClearColor=new us(7829503),l.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new xt(1,1,{minFilter:Wn,magFilter:Wn}),this.renderTarget.texture.name="NormalPass.Target");const h=this.resolution=new Oe(this,o,a,s);h.addEventListener("change",u=>this.setSize(h.baseWidth,h.baseHeight))}set mainScene(n){this.renderPass.mainScene=n}set mainCamera(n){this.renderPass.mainCamera=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,s,i){const r=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,r,r)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}},Hp=class extends it{constructor(n,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=n,this.input=e}setInput(n){this.input=n}render(n,e,t,s,i){const r=this.fullscreenMaterial.uniforms;e!==null&&r!==void 0&&r[this.input]!==void 0&&(r[this.input].value=e.texture),n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}initialize(n,e,t){t!==void 0&&t!==ps&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ra=1/1e3,jp=1e3,qp=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(n){typeof document<"u"&&document.hidden!==void 0&&(n?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=n)}get delta(){return this._delta*ra}get fixedDelta(){return this._fixedDelta*ra}set fixedDelta(n){this._fixedDelta=n*jp}get elapsed(){return this._elapsed*ra}update(n){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(n!==void 0?n:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(n){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},Gp=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:s=!1,multisampling:i=0,frameBufferType:r}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,s,r,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new Rp,this.depthTexture=null,this.passes=[],this.timer=new qp,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,s=this.multisampling;s>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):s!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new Fe),s=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===ps&&Zn(e)===qe&&(Ps(this.inputBuffer.texture,qe),Ps(this.outputBuffer.texture,qe),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const r of this.passes)r.initialize(e,s,i)}}replaceRenderer(e,t=!0){const s=this.renderer,i=s.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(s.domElement),i.appendChild(e.domElement)),s}createDepthTexture(){const e=this.depthTexture=new Q0;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=K0,e.type=J0):e.type=ed,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,s,i){const r=this.renderer,o=r===null?new Fe:r.getDrawingBufferSize(new Fe),a={minFilter:Xr,magFilter:Xr,stencilBuffer:t,depthBuffer:e,type:s},c=new xt(o.width,o.height,a);return i>0&&(c.ignoreDepthForMultisampleCopy=!1,c.samples=i),s===ps&&Zn(r)===qe&&Ps(c.texture,qe),c.texture.name="EffectComposer.Buffer",c.texture.generateMipmaps=!1,c}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const s=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new Fe),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,o,a),this.autoRenderToScreen&&(s.length>0&&(s[s.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?s.splice(t,0,e):s.push(e),this.autoRenderToScreen&&(s[s.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const c=this.createDepthTexture();for(e of s)e.setDepthTexture(c)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,s=t.indexOf(e);if(s!==-1&&t.splice(s,1).length>0){if(this.depthTexture!==null){const o=(c,l)=>c||l.needsDepthTexture;t.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&s===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,s=this.copyPass;let i=this.inputBuffer,r=this.outputBuffer,o=!1,a,c,l;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const h of this.passes)h.enabled&&(h.render(t,i,r,e,o),h.needsSwap&&(o&&(s.renderToScreen=h.renderToScreen,a=t.getContext(),c=t.state.buffers.stencil,c.setFunc(a.NOTEQUAL,1,4294967295),s.render(t,i,r,e,o),c.setFunc(a.EQUAL,1,4294967295)),l=i,i=r,r=l),h instanceof Vp?o=!0:h instanceof Ip&&(o=!1))}setSize(e,t,s){const i=this.renderer,r=i.getSize(new Fe);(e===void 0||t===void 0)&&(e=r.width,t=r.height),(r.width!==e||r.height!==t)&&i.setSize(e,t,s);const o=i.getDrawingBufferSize(new Fe);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Wp=class{constructor(){this.shaderParts=new Map([[ie.FRAGMENT_HEAD,null],[ie.FRAGMENT_MAIN_UV,null],[ie.FRAGMENT_MAIN_IMAGE,null],[ie.VERTEX_HEAD,null],[ie.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=ds.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Mo}},oa=!1,_l=class{constructor(n=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case Di:t=this.materialsFlatShadedDoubleSide;break;case Er:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case Di:t=this.materialsDoubleSide;break;case Er:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(n){if(!(n instanceof es))return n.clone();const e=n.uniforms,t=new Map;for(const i in e){const r=e[i].value;r.isRenderTargetTexture&&(e[i].value=null,t.set(i,r))}const s=n.clone();for(const i of t)e[i[0]].value=i[1],s.uniforms[i[0]].value=i[1];return s}setMaterial(n){if(this.disposeMaterials(),this.material=n,n!==null){const e=this.materials=[this.cloneMaterial(n),this.cloneMaterial(n),this.cloneMaterial(n)];for(const t of e)t.uniforms=Object.assign({},n.uniforms),t.side=td;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const s=this.cloneMaterial(t);return s.uniforms=Object.assign({},n.uniforms),s.side=Er,s}),this.materialsDoubleSide=e.map(t=>{const s=this.cloneMaterial(t);return s.uniforms=Object.assign({},n.uniforms),s.side=Di,s}),this.materialsFlatShaded=e.map(t=>{const s=this.cloneMaterial(t);return s.uniforms=Object.assign({},n.uniforms),s.flatShading=!0,s}),this.materialsFlatShadedBackSide=e.map(t=>{const s=this.cloneMaterial(t);return s.uniforms=Object.assign({},n.uniforms),s.flatShading=!0,s.side=Er,s}),this.materialsFlatShadedDoubleSide=e.map(t=>{const s=this.cloneMaterial(t);return s.uniforms=Object.assign({},n.uniforms),s.flatShading=!0,s.side=Di,s})}}render(n,e,t){const s=n.shadowMap.enabled;if(n.shadowMap.enabled=!1,oa){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),n.render(e,t);for(const r of i)r[0].material=r[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,n.render(e,t),e.overrideMaterial=i}n.shadowMap.enabled=s}disposeMaterials(){if(this.material!==null){const n=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of n)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return oa}static set workaroundEnabled(n){oa=n}},Es=-1,Oe=class extends Ja{constructor(n,e=Es,t=Es,s=1){super(),this.resizable=n,this.baseSize=new Fe(1,1),this.preferredSize=new Fe(e,t),this.target=this.preferredSize,this.s=s,this.effectiveSize=new Fe,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const n=this.baseSize,e=this.preferredSize,t=this.effectiveSize,s=this.scale;e.width!==Es?t.width=e.width:e.height!==Es?t.width=Math.round(e.height*(n.width/Math.max(n.height,1))):t.width=Math.round(n.width*s),e.height!==Es?t.height=e.height:e.width!==Es?t.height=Math.round(e.width/Math.max(n.width/Math.max(n.height,1),1)):t.height=Math.round(n.height*s)}get width(){return this.effectiveSize.width}set width(n){this.preferredWidth=n}get height(){return this.effectiveSize.height}set height(n){this.preferredHeight=n}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(n){this.s!==n&&(this.s=n,this.preferredSize.setScalar(Es),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(n){this.scale=n}get baseWidth(){return this.baseSize.width}set baseWidth(n){this.baseSize.width!==n&&(this.baseSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(n){this.baseWidth=n}get baseHeight(){return this.baseSize.height}set baseHeight(n){this.baseSize.height!==n&&(this.baseSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(n){this.baseHeight=n}setBaseSize(n,e){(this.baseSize.width!==n||this.baseSize.height!==e)&&(this.baseSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(n){this.preferredSize.width!==n&&(this.preferredSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(n){this.preferredWidth=n}get preferredHeight(){return this.preferredSize.height}set preferredHeight(n){this.preferredSize.height!==n&&(this.preferredSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(n){this.preferredHeight=n}setPreferredSize(n,e){(this.preferredSize.width!==n||this.preferredSize.height!==e)&&(this.preferredSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(n){this.s=n.scale,this.baseSize.set(n.baseWidth,n.baseHeight),this.preferredSize.set(n.preferredWidth,n.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Es}},Zp=class extends Set{constructor(n,e=10){super(),this.l=e,this.exclusive=!1,n!==void 0&&this.set(n)}get layer(){return this.l}set layer(n){const e=this.l;for(const t of this)t.layers.disable(e),t.layers.enable(n);this.l=n}getLayer(){return this.layer}setLayer(n){this.layer=n}isExclusive(){return this.exclusive}setExclusive(n){this.exclusive=n}clear(){const n=this.layer;for(const e of this)e.layers.disable(n);return super.clear()}set(n){this.clear();for(const e of n)this.add(e);return this}indexOf(n){return this.has(n)?0:-1}add(n){return this.exclusive?n.layers.set(this.layer):n.layers.enable(this.layer),super.add(n)}delete(n){return this.has(n)&&n.layers.disable(this.layer),super.delete(n)}toggle(n){let e;return this.has(n)?(this.delete(n),e=!1):(this.add(n),e=!0),e}setVisible(n){for(const e of this)n?e.layers.enable(0):e.layers.disable(0);return this}},Yp="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",$p="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Xp="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",Qp="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Kp="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",Jp="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",e2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",t2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",s2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",n2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",i2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",r2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",o2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",a2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",c2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",l2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",h2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",u2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",d2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",f2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",p2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",m2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",_2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",g2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",v2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",y2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",C2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",x2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",T2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",w2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",k2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",S2="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",b2=new Map([[ee.ADD,Yp],[ee.ALPHA,$p],[ee.AVERAGE,Xp],[ee.COLOR,Qp],[ee.COLOR_BURN,Kp],[ee.COLOR_DODGE,Jp],[ee.DARKEN,e2],[ee.DIFFERENCE,t2],[ee.DIVIDE,s2],[ee.DST,null],[ee.EXCLUSION,n2],[ee.HARD_LIGHT,i2],[ee.HARD_MIX,r2],[ee.HUE,o2],[ee.INVERT,a2],[ee.INVERT_RGB,c2],[ee.LIGHTEN,l2],[ee.LINEAR_BURN,h2],[ee.LINEAR_DODGE,u2],[ee.LINEAR_LIGHT,d2],[ee.LUMINOSITY,f2],[ee.MULTIPLY,p2],[ee.NEGATION,m2],[ee.NORMAL,_2],[ee.OVERLAY,g2],[ee.PIN_LIGHT,v2],[ee.REFLECT,y2],[ee.SATURATION,C2],[ee.SCREEN,x2],[ee.SOFT_LIGHT,T2],[ee.SRC,w2],[ee.SUBTRACT,k2],[ee.VIVID_LIGHT,S2]]),E2=class extends Ja{constructor(n,e=1){super(),this._blendFunction=n,this.opacity=new Q(e)}getOpacity(){return this.opacity.value}setOpacity(n){this.opacity.value=n}get blendFunction(){return this._blendFunction}set blendFunction(n){this._blendFunction=n,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(n){this.blendFunction=n}getShaderCode(){return b2.get(this.blendFunction)}},Vi=class extends Ja{constructor(e,t,{attributes:s=ds.NONE,blendFunction:i=ee.NORMAL,defines:r=new Map,uniforms:o=new Map,extensions:a=null,vertexShader:c=null}={}){super(),this.name=e,this.renderer=null,this.attributes=s,this.fragmentShader=t,this.vertexShader=c,this.defines=r,this.uniforms=o,this.extensions=a,this.blendMode=new E2(i),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Mo,this._outputColorSpace=Rh}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=ai){}update(e,t,s){}setSize(e,t){}initialize(e,t,s){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof xt||t instanceof gh||t instanceof vh||t instanceof it)&&this[e].dispose()}}},O2=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}`,M2=class extends Vi{constructor({blendFunction:n=ee.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:t=.025,mipmapBlur:s=!1,intensity:i=1,radius:r=.85,levels:o=8,kernelSize:a=Ao.LARGE,resolutionScale:c=.5,width:l=Oe.AUTO_SIZE,height:h=Oe.AUTO_SIZE,resolutionX:u=l,resolutionY:f=h}={}){super("BloomEffect",O2,{blendFunction:n,uniforms:new Map([["map",new Q(null)],["intensity",new Q(i)]])}),this.renderTarget=new xt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Lh({kernelSize:a}),this.luminancePass=new Up({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=t,this.mipmapBlurPass=new Bp,this.mipmapBlurPass.enabled=s,this.mipmapBlurPass.radius=r,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=s?this.mipmapBlurPass.texture:this.renderTarget.texture;const d=this.resolution=new Oe(this,u,f,c);d.addEventListener("change",m=>this.setSize(d.baseWidth,d.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(n){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(n){this.uniforms.get("intensity").value=n}getIntensity(){return this.intensity}setIntensity(n){this.intensity=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}update(n,e,t){const s=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(n,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,i.renderTarget):this.blurPass.render(n,i.renderTarget,s)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,e):this.blurPass.render(n,e,s)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t),this.luminancePass.setSize(n,e),this.mipmapBlurPass.setSize(n,e)}initialize(n,e,t){this.blurPass.initialize(n,e,t),this.luminancePass.initialize(n,e,t),this.mipmapBlurPass.initialize(n,e,t),t!==void 0&&(this.renderTarget.texture.type=t,Zn(n)===qe&&Ps(this.renderTarget.texture,qe))}},A2=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,D2="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",R2=class extends Vi{constructor(n,e,{blendFunction:t=ee.SCREEN,patternTexture:s=null,patternScale:i=1,edgeStrength:r=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:c=2230538,kernelSize:l=Ao.VERY_SMALL,blur:h=!1,xRay:u=!0,multisampling:f=0,resolutionScale:d=.5,width:m=Oe.AUTO_SIZE,height:p=Oe.AUTO_SIZE,resolutionX:_=m,resolutionY:y=p}={}){super("OutlineEffect",A2,{uniforms:new Map([["maskTexture",new Q(null)],["edgeTexture",new Q(null)],["edgeStrength",new Q(r)],["visibleEdgeColor",new Q(new us(a))],["hiddenEdgeColor",new Q(new us(c))],["pulse",new Q(1)],["patternScale",new Q(i)],["patternTexture",new Q(null)]])}),this.blendMode.addEventListener("change",g=>{this.blendMode.blendFunction===ee.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=t,this.patternTexture=s,this.xRay=u,this.scene=n,this.camera=e,this.renderTargetMask=new xt(1,1),this.renderTargetMask.samples=f,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new xt(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new nc,this.clearPass.overrideClearColor=new us(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new Pp(n,e),this.maskPass=new Do(n,e,new dp(this.depthPass.texture,e));const w=this.maskPass.clearPass;w.overrideClearColor=new us(16777215),w.overrideClearAlpha=1,this.blurPass=new Lh({resolutionScale:d,resolutionX:_,resolutionY:y,kernelSize:l}),this.blurPass.enabled=h;const S=this.blurPass.resolution;S.addEventListener("change",g=>this.setSize(S.baseWidth,S.baseHeight)),this.outlinePass=new Hp(new bp);const v=this.outlinePass.fullscreenMaterial;v.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new Zp,this.selection.layer=10,this.pulseSpeed=o}set mainScene(n){this.scene=n,this.depthPass.mainScene=n,this.maskPass.mainScene=n}set mainCamera(n){this.camera=n,this.depthPass.mainCamera=n,this.maskPass.mainCamera=n,this.maskPass.overrideMaterial.copyCameraSettings(n)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(n){this.renderTargetMask.samples=n,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(n){this.uniforms.get("patternScale").value=n}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(n){this.uniforms.get("edgeStrength").value=n}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(n){this.uniforms.get("visibleEdgeColor").value=n}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(n){this.uniforms.get("hiddenEdgeColor").value=n}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(n){this.pulseSpeed=n}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get selectionLayer(){return this.selection.layer}set selectionLayer(n){this.selection.layer=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get blur(){return this.blurPass.enabled}set blur(n){this.blurPass.enabled=n}get xRay(){return this.defines.has("X_RAY")}set xRay(n){this.xRay!==n&&(n?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(n){this.xRay=n}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(n){n!==null?(n.wrapS=n.wrapT=sd,this.defines.set("USE_PATTERN","1"),this.setVertexShader(D2)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=n,this.setChanged()}setPatternTexture(n){this.patternTexture=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}setSelection(n){return this.selection.set(n),this}clearSelection(){return this.selection.clear(),this}selectObject(n){return this.selection.add(n),this}deselectObject(n){return this.selection.delete(n),this}update(n,e,t){const s=this.scene,i=this.camera,r=this.selection,a=this.uniforms.get("pulse"),c=s.background,l=i.layers.mask;(this.forceUpdate||r.size>0)&&(s.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=t,r.setVisible(!1),this.depthPass.render(n),r.setVisible(!0),i.layers.set(r.layer),this.maskPass.render(n,this.renderTargetMask),i.layers.mask=l,s.background=c,this.outlinePass.render(n,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(n,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=r.size>0}setSize(n,e){this.blurPass.setSize(n,e),this.renderTargetMask.setSize(n,e);const t=this.resolution;t.setBaseSize(n,e);const s=t.width,i=t.height;this.depthPass.setSize(s,i),this.renderTargetOutline.setSize(s,i),this.outlinePass.fullscreenMaterial.setSize(s,i)}initialize(n,e,t){this.blurPass.initialize(n,e,ps),t!==void 0&&(this.depthPass.initialize(n,e,t),this.maskPass.initialize(n,e,t),this.outlinePass.initialize(n,e,t))}},I2=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,P2=class extends Vi{constructor({blendFunction:n,technique:e=Nr.DEFAULT,eskil:t=!1,offset:s=.5,darkness:i=.5}={}){super("VignetteEffect",I2,{blendFunction:n,defines:new Map([["VIGNETTE_TECHNIQUE",e.toFixed(0)]]),uniforms:new Map([["offset",new Q(s)],["darkness",new Q(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(n){this.technique!==n&&(this.defines.set("VIGNETTE_TECHNIQUE",n.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Nr.ESKIL}set eskil(n){this.technique=n?Nr.ESKIL:Nr.DEFAULT}getTechnique(){return this.technique}setTechnique(n){this.technique=n}get offset(){return this.uniforms.get("offset").value}set offset(n){this.uniforms.get("offset").value=n}getOffset(){return this.offset}setOffset(n){this.offset=n}get darkness(){return this.uniforms.get("darkness").value}set darkness(n){this.uniforms.get("darkness").value=n}getDarkness(){return this.darkness}setDarkness(n){this.darkness=n}};const Uh=O.createContext(null),gl=n=>(n.getAttributes()&ds.CONVOLUTION)===ds.CONVOLUTION,N2=$r.memo(O.forwardRef(({children:n,camera:e,scene:t,resolutionScale:s,enabled:i=!0,renderPriority:r=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:c,stencilBuffer:l,multisampling:h=8,frameBufferType:u=ad},f)=>{const{gl:d,scene:m,camera:p,size:_}=ve(),y=t||m,w=e||p,[S,v,g]=O.useMemo(()=>{const b=Bf(),E=new Gp(d,{depthBuffer:a,stencilBuffer:l,multisampling:h>0&&b?h:0,frameBufferType:u});E.addPass(new Do(y,w));let M=null,A=null;return c||(A=new zp(y,w),A.enabled=!1,E.addPass(A),s!==void 0&&b&&(M=new Np({normalBuffer:A.texture,resolutionScale:s}),M.enabled=!1,E.addPass(M))),[E,A,M]},[w,d,a,l,h,u,y,c,s]);O.useEffect(()=>S==null?void 0:S.setSize(_.width,_.height),[S,_]),Rt((b,E)=>{if(i){const M=d.autoClear;d.autoClear=o,l&&!o&&d.clearStencil(),S.render(E),d.autoClear=M}},i?r:0);const T=O.useRef(null),k=P0(T);O.useLayoutEffect(()=>{const b=[];if(T.current&&k.current&&S){const E=k.current.objects;for(let M=0;M<E.length;M++){const A=E[M];if(A instanceof Vi){const R=[A];if(!gl(A)){let F=null;for(;(F=E[M+1])instanceof Vi&&!gl(F);)R.push(F),M++}const I=new Lp(w,...R);b.push(I)}else A instanceof it&&b.push(A)}for(const M of b)S==null||S.addPass(M);v&&(v.enabled=!0),g&&(g.enabled=!0)}return()=>{for(const E of b)S==null||S.removePass(E);v&&(v.enabled=!1),g&&(g.enabled=!1)}},[S,n,w,v,g,k]);const C=O.useMemo(()=>({composer:S,normalPass:v,downSamplingPass:g,resolutionScale:s,camera:w,scene:y}),[S,v,g,s,w,y]);return O.useImperativeHandle(f,()=>S,[S]),x.jsx(Uh.Provider,{value:C,children:x.jsx("group",{ref:T,children:n})})})),vl=n=>typeof n=="object"&&n!=null&&"current"in n?n.current:n;let F2=0;const yl=new WeakMap,Vh=(n,e)=>$r.forwardRef(function({blendFunction:s=e==null?void 0:e.blendFunction,opacity:i=e==null?void 0:e.opacity,...r},o){let a=yl.get(n);if(!a){const h=`@react-three/postprocessing/${n.name}-${F2++}`;Ka({[h]:n}),yl.set(n,a=h)}const c=ve(h=>h.camera),l=$r.useMemo(()=>{var h,u;return[...(h=e==null?void 0:e.args)!=null?h:[],...(u=r.args)!=null?u:[{...e,...r}]]},[JSON.stringify(r)]);return x.jsx(a,{camera:c,"blendMode-blendFunction":s,"blendMode-opacity-value":i,...r,ref:o,args:l})}),L2=Vh(M2,{blendFunction:ee.ADD}),U2=O.forwardRef(function({selection:e=[],selectionLayer:t=10,blendFunction:s,patternTexture:i,edgeStrength:r,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:c,width:l,height:h,kernelSize:u,blur:f,xRay:d,...m},p){const _=ve(g=>g.invalidate),{scene:y,camera:w}=O.useContext(Uh),S=O.useMemo(()=>new R2(y,w,{blendFunction:s,patternTexture:i,edgeStrength:r,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:c,width:l,height:h,kernelSize:u,blur:f,xRay:d,...m}),[s,f,w,r,h,c,u,i,o,y,a,l,d]),v=O.useContext(sc);return O.useEffect(()=>{if(!v&&e)return S.selection.set(Array.isArray(e)?e.map(vl):[vl(e)]),_(),()=>{S.selection.clear(),_()}},[S,e,v,_]),O.useEffect(()=>{S.selectionLayer=t,_()},[S,_,t]),O.useRef(),O.useEffect(()=>{var g;if(v&&v.enabled&&(g=v.selected)!=null&&g.length)return S.selection.set(v.selected),_(),()=>{S.selection.clear(),_()}},[v,S.selection,_]),O.useEffect(()=>()=>{S.dispose()},[S]),x.jsx("primitive",{ref:p,object:S})}),V2=Vh(P2),B2={isUserDragging:!1,isUserScrolling:!1,userMovedCamera:!1,isUserScrollingOnHtmlPanel:!1},Ns=hh(n=>({...B2,setIsUserDragging:e=>n({isUserDragging:e}),setIsUserScrolling:e=>n({isUserScrolling:e}),setUserMovedCamera:e=>n({userMovedCamera:e}),setIsUserScrollingOnHtmlPanel:e=>n({isUserScrollingOnHtmlPanel:e})})),wa=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M9.47019 6.56248H0.9375C0.777887 6.56248 0.644237 6.50863 0.53655 6.40094C0.42885 6.29326 0.375 6.15961 0.375 5.99999C0.375 5.84038 0.42885 5.70673 0.53655 5.59904C0.644237 5.49136 0.777887 5.43751 0.9375 5.43751H9.47019L5.59326 1.56058C5.48172 1.44904 5.42667 1.31851 5.42812 1.169C5.42956 1.01948 5.48846 0.886545 5.60481 0.770208C5.72114 0.661558 5.85287 0.605308 5.99998 0.601458C6.14709 0.597608 6.27882 0.653858 6.39516 0.770208L11.1504 5.52549C11.2206 5.59568 11.2701 5.66971 11.299 5.7476C11.3278 5.82548 11.3423 5.90961 11.3423 5.99999C11.3423 6.09038 11.3278 6.17451 11.299 6.25239C11.2701 6.33028 11.2206 6.40431 11.1504 6.4745L6.39516 11.2298C6.29132 11.3336 6.16272 11.3868 6.00936 11.3892C5.85599 11.3916 5.72114 11.3384 5.60481 11.2298C5.48846 11.1134 5.43028 10.9798 5.43028 10.8288C5.43028 10.6779 5.48846 10.5442 5.60481 10.4279L9.47019 6.56248Z",fill:"currentColor"})}),Bh=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsxs("g",{id:"captive_portal",children:[x.jsx("mask",{id:"mask0_8513_13265",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:x.jsx("rect",{id:"Bounding box",width:"1em",height:"1em",fill:"currentColor"})}),x.jsxs("g",{mask:"url(#mask0_8513_13265)",children:[x.jsx("path",{id:"captive_portal_2",d:"M9.99992 17.9154C8.90589 17.9154 7.87735 17.7073 6.91429 17.2912C5.9511 16.8751 5.11318 16.3107 4.40054 15.5981C3.6879 14.8854 3.12353 14.0475 2.70742 13.0843C2.29131 12.1213 2.08325 11.0927 2.08325 9.9987C2.08325 8.90467 2.29131 7.87613 2.70742 6.91307C3.12353 5.94988 3.6879 5.11196 4.40054 4.39932C5.11318 3.68668 5.9511 3.12231 6.91429 2.7062C7.87735 2.29009 8.90589 2.08203 9.99992 2.08203C11.0939 2.08203 12.1225 2.29009 13.0855 2.7062C14.0487 3.12231 14.8867 3.68668 15.5993 4.39932C16.3119 5.11196 16.8763 5.94988 17.2924 6.91307C17.7085 7.87613 17.9166 8.90467 17.9166 9.9987C17.9166 10.1429 17.9131 10.2983 17.9062 10.4649C17.8992 10.6316 17.8861 10.7871 17.8668 10.9314C17.8444 11.1088 17.7699 11.2487 17.6433 11.3512C17.5167 11.4538 17.3605 11.5052 17.1745 11.5052C17.011 11.5052 16.8717 11.4346 16.7564 11.2935C16.641 11.1525 16.5945 10.9977 16.617 10.8289C16.6448 10.6846 16.66 10.5462 16.6626 10.4137C16.6653 10.2812 16.6666 10.1429 16.6666 9.9987C16.6666 9.69425 16.6466 9.39113 16.6066 9.08932C16.5664 8.78738 16.5037 8.48689 16.4183 8.18786H13.3203C13.3727 8.48689 13.4107 8.78738 13.4343 9.08932C13.4578 9.39113 13.4695 9.69425 13.4695 9.9987C13.4695 10.1429 13.4682 10.2962 13.4655 10.4587C13.4628 10.6211 13.4544 10.7743 13.4405 10.9185C13.4182 11.0959 13.345 11.2379 13.221 11.3447C13.0971 11.4517 12.9464 11.5052 12.7691 11.5052C12.6056 11.5052 12.4628 11.4389 12.3405 11.3064C12.2182 11.1739 12.1682 11.0233 12.1905 10.8545C12.2044 10.7102 12.2128 10.5676 12.2155 10.4266C12.2182 10.2855 12.2195 10.1429 12.2195 9.9987C12.2195 9.69425 12.2078 9.39113 12.1843 9.08932C12.1607 8.78738 12.1228 8.48689 12.0705 8.18786H7.92929C7.87707 8.48689 7.83915 8.78738 7.81554 9.08932C7.79207 9.39113 7.78033 9.69425 7.78033 9.9987C7.78033 10.3031 7.79207 10.6063 7.81554 10.9081C7.83915 11.21 7.87707 11.5105 7.92929 11.8095H10.3685C10.5458 11.8095 10.6944 11.8694 10.8141 11.9891C10.9337 12.1087 10.9935 12.2572 10.9935 12.4345C10.9935 12.6119 10.9337 12.7604 10.8141 12.8802C10.6944 12.9997 10.5458 13.0595 10.3685 13.0595H8.21617C8.39895 13.7155 8.63693 14.3445 8.93013 14.9466C9.22346 15.5487 9.58006 16.1157 9.99992 16.6477C10.1495 16.6477 10.2991 16.6485 10.4487 16.6502C10.5983 16.6517 10.7451 16.6429 10.8893 16.6237C11.0614 16.6012 11.2051 16.6455 11.3203 16.7566C11.4358 16.8677 11.4935 17.0093 11.4935 17.1814C11.4935 17.3672 11.4457 17.5222 11.3501 17.6462C11.2544 17.7701 11.1179 17.8432 10.9405 17.8656C10.7964 17.8849 10.641 17.898 10.4743 17.9049C10.3076 17.9119 10.1495 17.9154 9.99992 17.9154ZM3.58159 11.8095H6.6795C6.62714 11.5105 6.58915 11.21 6.56554 10.9081C6.54207 10.6063 6.53033 10.3031 6.53033 9.9987C6.53033 9.69425 6.54207 9.39113 6.56554 9.08932C6.58915 8.78738 6.62714 8.48689 6.6795 8.18786H3.58159C3.49617 8.48689 3.43339 8.78738 3.39325 9.08932C3.35325 9.39113 3.33325 9.69425 3.33325 9.9987C3.33325 10.3031 3.35325 10.6063 3.39325 10.9081C3.43339 11.21 3.49617 11.5105 3.58159 11.8095ZM8.38617 16.4345C8.05075 15.9143 7.76256 15.3715 7.52159 14.8064C7.28061 14.2413 7.08429 13.659 6.93263 13.0595H4.10575C4.54047 13.9174 5.1302 14.6413 5.87492 15.231C6.61964 15.8209 7.45672 16.222 8.38617 16.4345ZM4.10575 6.93786H6.93263C7.0736 6.33314 7.26325 5.74821 7.50159 5.18307C7.73978 4.61779 8.03464 4.07773 8.38617 3.56286C7.45131 3.77009 6.6129 4.16856 5.87096 4.75828C5.12888 5.348 4.54047 6.07453 4.10575 6.93786ZM8.21617 6.93786H11.7837C11.6063 6.28189 11.3669 5.65557 11.0655 5.05891C10.7643 4.4621 10.4091 3.89238 9.99992 3.34974C9.58534 3.88168 9.22874 4.4487 8.93013 5.05078C8.63152 5.65286 8.39353 6.28189 8.21617 6.93786ZM13.0672 6.93786H15.8941C15.4594 6.07453 14.871 5.34668 14.1289 4.75432C13.3869 4.16182 12.5485 3.76467 11.6137 3.56286C11.9491 4.08314 12.2333 4.62717 12.4662 5.19495C12.6991 5.76286 12.8994 6.34384 13.0672 6.93786Z",fill:"currentColor"}),x.jsx("path",{id:"travel_explore",d:"M18.0634 18.7783L16.8556 17.5822C16.6378 17.7211 16.4031 17.8331 16.1517 17.9184C15.9003 18.0038 15.6342 18.0465 15.3535 18.0465C14.6044 18.0465 13.9694 17.7857 13.4484 17.2642C12.9275 16.7428 12.667 16.1071 12.667 15.3572C12.667 14.6074 12.9275 13.9717 13.4484 13.4502C13.9694 12.9287 14.6044 12.668 15.3535 12.668C16.1026 12.668 16.7376 12.9287 17.2586 13.4502C17.7795 13.9717 18.04 14.6074 18.04 15.3572C18.04 15.6425 17.9963 15.9121 17.9089 16.166C17.8215 16.4198 17.7063 16.6557 17.5633 16.8738L18.7711 18.0698C18.8684 18.1628 18.917 18.2798 18.917 18.4208C18.917 18.5618 18.8684 18.6809 18.7711 18.7783C18.6781 18.8714 18.5611 18.918 18.4203 18.918C18.2796 18.918 18.1606 18.8714 18.0634 18.7783ZM15.3535 17.038C15.8236 17.038 16.221 16.8755 16.5456 16.5506C16.8703 16.2256 17.0326 15.8278 17.0326 15.3572C17.0326 14.8866 16.8703 14.4888 16.5456 14.1639C16.221 13.8389 15.8236 13.6764 15.3535 13.6764C14.8834 13.6764 14.486 13.8389 14.1614 14.1639C13.8367 14.4888 13.6744 14.8866 13.6744 15.3572C13.6744 15.8278 13.8367 16.2256 14.1614 16.5506C14.486 16.8755 14.8834 17.038 15.3535 17.038Z",fill:"currentColor"})]})]})}),zh=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M8.95833 14.0013C9.25 14.0013 9.49653 13.9006 9.69792 13.6992C9.89931 13.4978 10 13.2513 10 12.9596C10 12.668 9.89931 12.4214 9.69792 12.2201C9.49653 12.0187 9.25 11.918 8.95833 11.918C8.66667 11.918 8.42014 12.0187 8.21875 12.2201C8.01736 12.4214 7.91667 12.668 7.91667 12.9596C7.91667 13.2513 8.01736 13.4978 8.21875 13.6992C8.42014 13.9006 8.66667 14.0013 8.95833 14.0013ZM9 17.3346C7.84722 17.3346 6.76389 17.1159 5.75 16.6784C4.73611 16.2409 3.85417 15.6471 3.10417 14.8971C2.35417 14.1471 1.76042 13.2652 1.32292 12.2513C0.885416 11.2374 0.666666 10.1541 0.666666 9.0013C0.666666 7.84852 0.885416 6.76519 1.32292 5.7513C1.76042 4.73741 2.35417 3.85547 3.10417 3.10547C3.85417 2.35547 4.73611 1.76172 5.75 1.32422C6.76389 0.886719 7.84722 0.667969 9 0.667969C10.1528 0.667969 11.2361 0.886719 12.25 1.32422C13.2639 1.76172 14.1458 2.35547 14.8958 3.10547C15.6458 3.85547 16.2396 4.73741 16.6771 5.7513C17.1146 6.76519 17.3333 7.84852 17.3333 9.0013C17.3333 10.1541 17.1146 11.2374 16.6771 12.2513C16.2396 13.2652 15.6458 14.1471 14.8958 14.8971C14.1458 15.6471 13.2639 16.2409 12.25 16.6784C11.2361 17.1159 10.1528 17.3346 9 17.3346ZM9.08333 5.41797C9.43056 5.41797 9.73264 5.52908 9.98958 5.7513C10.2465 5.97352 10.375 6.2513 10.375 6.58464C10.375 6.89019 10.2812 7.16102 10.0937 7.39714C9.90625 7.63325 9.69444 7.85547 9.45833 8.0638C9.13889 8.34158 8.85764 8.64714 8.61458 8.98047C8.37153 9.3138 8.25 9.6888 8.25 10.1055C8.25 10.2999 8.32292 10.4631 8.46875 10.5951C8.61458 10.727 8.78472 10.793 8.97917 10.793C9.1875 10.793 9.36458 10.7235 9.51042 10.5846C9.65625 10.4457 9.75 10.2721 9.79167 10.0638C9.84722 9.77214 9.97222 9.51172 10.1667 9.28255C10.3611 9.05339 10.5694 8.83464 10.7917 8.6263C11.1111 8.32075 11.3854 7.98741 11.6146 7.6263C11.8437 7.26519 11.9583 6.86241 11.9583 6.41797C11.9583 5.70964 11.6701 5.12977 11.0937 4.67839C10.5174 4.227 9.84722 4.0013 9.08333 4.0013C8.55555 4.0013 8.05208 4.11241 7.57292 4.33464C7.09375 4.55686 6.72917 4.89714 6.47917 5.35547C6.38194 5.52214 6.35069 5.69922 6.38542 5.88672C6.42014 6.07422 6.51389 6.21658 6.66667 6.3138C6.86111 6.42491 7.0625 6.45964 7.27083 6.41797C7.47917 6.3763 7.65278 6.25825 7.79167 6.0638C7.94444 5.85547 8.13542 5.69575 8.36458 5.58464C8.59375 5.47352 8.83333 5.41797 9.08333 5.41797Z",fill:"currentColor"})}),z2=()=>{const[n,e]=O.useState(""),t=O.useRef(null),{fetchData:s,setAbortRequests:i,seedQuestions:r}=Cn(v=>v),[o]=uh(v=>[v.setBudget]),{setUniverseQuestionIsOpen:a,setSidebarOpen:c,setShowCollapseButton:l}=dr(v=>({setUniverseQuestionIsOpen:v.setUniverseQuestionIsOpen,setSidebarOpen:v.setSidebarOpen,setShowCollapseButton:v.setShowCollapseButton})),h=h0(v=>v.resetAiSummaryAnswer),[u,f]=O.useState([]);O.useEffect(()=>{r&&f(w(r).slice(0,4))},[r]),O.useEffect(()=>{t.current&&t.current.focus()},[]);const d=async v=>{v&&(h(),a(),c(!0),l(!0)),await s(o,i,v)},m=!!n.trim().length,p=async v=>{v.keyCode===13&&v.shiftKey===!1&&m&&(v.preventDefault(),d(n))},_=async v=>{e(v),await d(v)},y=()=>{a(),c(!0),l(!0)},w=v=>{const g=[...v];let T=g.length-1;for(;T>0;){const k=Math.floor(Math.random()*(T+1));[g[T],g[k]]=[g[k],g[T]],T-=1}return g},S=!!n&&n.trim().length>0;return x.jsxs(q2,{children:["Ideas have shapes",x.jsxs(j2,{onKeyDown:p,py:12,tabIndex:-1,children:[x.jsx(H2,{ref:t,onChange:v=>e(v.target.value),placeholder:"What do you want to know?",value:n}),x.jsx(G2,{color:"secondary",disabled:!S,onClick:()=>d(n),variant:"contained",children:S?x.jsxs(x.Fragment,{children:["Search ",x.jsx(wa,{})]}):x.jsx(wa,{})})]}),u.length>0&&x.jsx(Z2,{children:u.map(v=>x.jsxs(Y2,{onClick:()=>_(v),children:[x.jsx(zh,{}),v]},v))}),x.jsx(W2,{"data-testid":"explore-graph-btn",onClick:y,startIcon:x.jsx(Bh,{}),children:"Explore Graph"})]})},H2=Ue(Md).attrs({maxRows:3})`
  background: ${pe.BG1};
  max-width: 700px;
  width: 700px;
  color: ${pe.white};
  padding: 0 16px 0 16px;
  overflow-y: auto !important;
  border: none;
  resize: none;
  outline: none;
  border-radius: 12px;
  font-family: 'Barlow';
  display: flex;
  align-items: center;
  text-align: justify;
  font-size: 16px;
  font-weight: 400;

  &:-moz-placeholder, /* Firefox 18- */
  &::-moz-placeholder, /* Firefox 19+ */
  &:-ms-input-placeholder, /* IE 10+ */
  &::-webkit-input-placeholder, /* Webkit based */
  &::placeholder {
    color: #0bf;
  }

  &::-webkit-scrollbar {
    width: 3px;
  }

  &::-webkit-scrollbar-track {
    border-radius: 12px;
    margin: 13px;
    overflow-y: hidden;
  }
`,j2=Ue(Cs)`
  position: relative;
  margin-top: 30px;
  background: ${pe.BG1};
  max-width: 702px;
  width: 702px;
  color: ${pe.white};
  min-height: 150px;
  border: 1px solid ${pe.modalShield};
  resize: none;
  outline: none;
  border-radius: 12px;
  box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.5);
`,q2=Ue(Cs)`
  background: #16161de3;
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  color: #fff;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  font-style: normal;
  font-weight: 700;
  line-height: 16px;
  font-family: 'Barlow';
`,G2=Ue(xh)`
  && {
    position: absolute;
    bottom: 16px;
    right: 16px;
    height: 32px;
    border-radius: 16px;
    min-width: 32px;
  }

  &&.MuiButton-root {
    padding: 0 10px 0 12px;
  }

  svg {
    margin-top: 1px;
    width: 11px;
    height: 11px;
  }
`,W2=Ue(xh)`
  && {
    position: absolute;
    bottom: 20px;
    right: 20px;
    border-radius: 16px;
  }
`,Z2=Ue.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 20px;
  max-width: 702px;
  width: 100%;
`,Y2=Ue.div`
  background: ${pe.BG1};
  color: ${pe.white};
  padding: 15px 12px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  gap: 10px;
  &:hover {
    background: ${pe.SEEDQUESTION_HOVER};
  }

  &:active {
    background: ${pe.SEEDQUESTION};
  }
  svg {
    width: 20px;
    height: 20px;
  }

  path {
    fill: ${pe.modalWhiteOverlayBg};
  }
`,Pi=new X(0,0,0),Cl=100,$2=600,X2=2e3,aa={x:172.7392402058252,y:-239.04675366094037,z:-2e3},Hh="14.8.49",xl=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),Tl=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),ka=(n,e)=>({startTime:e,type:"setValue",value:n}),jh=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),qh=(n,e,{startTime:t,target:s,timeConstant:i})=>s+(e-s)*Math.exp((t-n)/i),Fn=n=>n.type==="exponentialRampToValue",Qr=n=>n.type==="linearRampToValue",As=n=>Fn(n)||Qr(n),ic=n=>n.type==="setValue",cs=n=>n.type==="setValueCurve",Kr=(n,e,t,s)=>{const i=n[e];return i===void 0?s:As(i)||ic(i)?i.value:cs(i)?i.values[i.values.length-1]:qh(t,Kr(n,e-1,i.startTime,s),i)},wl=(n,e,t,s,i)=>t===void 0?[s.insertTime,i]:As(t)?[t.endTime,t.value]:ic(t)?[t.startTime,t.value]:cs(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,Kr(n,e-1,t.startTime,i)],Sa=n=>n.type==="cancelAndHold",ba=n=>n.type==="cancelScheduledValues",Os=n=>Sa(n)||ba(n)?n.cancelTime:Fn(n)||Qr(n)?n.endTime:n.startTime,kl=(n,e,t,{endTime:s,value:i})=>t===i?i:0<t&&0<i||t<0&&i<0?t*(i/t)**((n-e)/(s-e)):0,Sl=(n,e,t,{endTime:s,value:i})=>t+(n-e)/(s-e)*(i-t),Q2=(n,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?n[t]:(1-(e-t))*n[t]+(1-(s-e))*n[s]},K2=(n,{duration:e,startTime:t,values:s})=>{const i=(n-t)/e*(s.length-1);return Q2(s,i)},Fr=n=>n.type==="setTarget";class J2{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=Os(e);if(Sa(e)||ba(e)){const s=this._automationEvents.findIndex(r=>ba(e)&&cs(r)?r.startTime+r.duration>=t:Os(r)>=t),i=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),Sa(e)){const r=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&As(i)){if(r!==void 0&&Fr(r))throw new Error("The internal list is malformed.");const o=r===void 0?i.insertTime:cs(r)?r.startTime+r.duration:Os(r),a=r===void 0?this._defaultValue:cs(r)?r.values[r.values.length-1]:r.value,c=Fn(i)?kl(t,o,a,i):Sl(t,o,a,i),l=Fn(i)?xl(c,t,this._currenTime):Tl(c,t,this._currenTime);this._automationEvents.push(l)}if(r!==void 0&&Fr(r)&&this._automationEvents.push(ka(this.getValue(t),t)),r!==void 0&&cs(r)&&r.startTime+r.duration>t){const o=t-r.startTime,a=(r.values.length-1)/r.duration,c=Math.max(2,1+Math.ceil(o*a)),l=o/(c-1)*a,h=r.values.slice(0,c);if(l<1)for(let u=1;u<c;u+=1){const f=l*u%1;h[u]=r.values[u-1]*(1-f)+r.values[u]*f}this._automationEvents[this._automationEvents.length-1]=jh(h,r.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>Os(o)>t),i=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(i!==void 0&&cs(i)&&Os(i)+i.duration>t)return!1;const r=Fn(e)?xl(e.value,e.endTime,this._currenTime):Qr(e)?Tl(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(r);else{if(cs(e)&&t+e.duration>Os(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,r)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>Os(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),i=s[0];Fr(i)&&s.unshift(ka(Kr(this._automationEvents,t-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(o=>Os(o)>e),s=this._automationEvents[t],i=(t===-1?this._automationEvents.length:t)-1,r=this._automationEvents[i];if(r!==void 0&&Fr(r)&&(s===void 0||!As(s)||s.insertTime>e))return qh(e,Kr(this._automationEvents,i-1,r.startTime,this._defaultValue),r);if(r!==void 0&&ic(r)&&(s===void 0||!As(s)))return r.value;if(r!==void 0&&cs(r)&&(s===void 0||!As(s)||r.startTime+r.duration>e))return e<r.startTime+r.duration?K2(e,r):r.values[r.values.length-1];if(r!==void 0&&As(r)&&(s===void 0||!As(s)))return r.value;if(s!==void 0&&Fn(s)){const[o,a]=wl(this._automationEvents,i,r,s,this._defaultValue);return kl(e,o,a,s)}if(s!==void 0&&Qr(s)){const[o,a]=wl(this._automationEvents,i,r,s,this._defaultValue);return Sl(e,o,a,s)}return this._defaultValue}}const em=n=>({cancelTime:n,type:"cancelAndHold"}),tm=n=>({cancelTime:n,type:"cancelScheduledValues"}),sm=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),nm=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),im=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),rm=()=>new DOMException("","AbortError"),om=n=>(e,t,[s,i,r],o)=>{n(e[i],[t,s,r],a=>a[0]===t&&a[1]===s,o)},am=n=>(e,t,s)=>{const i=[];for(let r=0;r<s.numberOfInputs;r+=1)i.push(new Set);n.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},cm=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Yn=new WeakSet,Gh=new WeakMap,rc=new WeakMap,Wh=new WeakMap,oc=new WeakMap,Ro=new WeakMap,Zh=new WeakMap,Ea=new WeakMap,Oa=new WeakMap,Ma=new WeakMap,Yh={construct(){return Yh}},lm=n=>{try{const e=new Proxy(n,Yh);new e}catch{return!1}return!0},bl=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,El=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),i=s.match(bl);for(;i!==null;){const r=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(r,new URL(r,e).toString());t.push(o),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(bl)}return[t.join(";"),s]},Ol=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Ml=n=>{if(!lm(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},hm=(n,e,t,s,i,r,o,a,c,l,h,u,f)=>{let d=0;return(m,p,_={credentials:"omit"})=>{const y=h.get(m);if(y!==void 0&&y.has(p))return Promise.resolve();const w=l.get(m);if(w!==void 0){const g=w.get(p);if(g!==void 0)return g}const S=r(m),v=S.audioWorklet===void 0?i(p).then(([g,T])=>{const[k,C]=El(g,T),b=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return t(b)}).then(()=>{const g=f._AWGS.pop();if(g===void 0)throw new SyntaxError;s(S.currentTime,S.sampleRate,()=>g(class{},void 0,(T,k)=>{if(T.trim()==="")throw e();const C=Oa.get(S);if(C!==void 0){if(C.has(T))throw e();Ml(k),Ol(k.parameterDescriptors),C.set(T,k)}else Ml(k),Ol(k.parameterDescriptors),Oa.set(S,new Map([[T,k]]))},S.sampleRate,void 0,void 0))}):Promise.all([i(p),Promise.resolve(n(u,u))]).then(([[g,T],k])=>{const C=d+1;d=C;const[b,E]=El(g,T),I=`${b};((AudioWorkletProcessor,registerProcessor)=>{${E}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,F=new Blob([I],{type:"application/javascript; charset=utf-8"}),N=URL.createObjectURL(F);return S.audioWorklet.addModule(N,_).then(()=>{if(a(S))return S;const L=o(S);return L.audioWorklet.addModule(N,_).then(()=>L)}).then(L=>{if(c===null)throw new SyntaxError;try{new c(L,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(N))});return w===void 0?l.set(m,new Map([[p,v]])):w.set(p,v),v.then(()=>{const g=h.get(m);g===void 0?h.set(m,new Set([p])):g.add(p)}).finally(()=>{const g=l.get(m);g!==void 0&&g.delete(p)}),v}},Vt=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},Io=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return n.delete(s),s},$h=(n,e,t,s)=>{const i=Vt(n,e),r=Io(i,o=>o[0]===t&&o[1]===s);return i.size===0&&n.delete(e),r},mr=n=>Vt(Zh,n),$n=n=>{if(Yn.has(n))throw new Error("The AudioNode is already stored.");Yn.add(n),mr(n).forEach(e=>e(!0))},Xh=n=>"port"in n,_r=n=>{if(!Yn.has(n))throw new Error("The AudioNode is not stored.");Yn.delete(n),mr(n).forEach(e=>e(!1))},Aa=(n,e)=>{!Xh(n)&&e.every(t=>t.size===0)&&_r(n)},um=(n,e,t,s,i,r,o,a,c,l,h,u,f)=>{const d=new WeakMap;return(m,p,_,y,w)=>{const{activeInputs:S,passiveInputs:v}=r(p),{outputs:g}=r(m),T=a(m),k=C=>{const b=c(p),E=c(m);if(C){const M=$h(v,m,_,y);n(S,m,M,!1),!w&&!u(m)&&t(E,b,_,y),f(p)&&$n(p)}else{const M=s(S,m,_,y);e(v,y,M,!1),!w&&!u(m)&&i(E,b,_,y);const A=o(p);if(A===0)h(p)&&Aa(p,S);else{const R=d.get(p);R!==void 0&&clearTimeout(R),d.set(p,setTimeout(()=>{h(p)&&Aa(p,S)},A*1e3))}}};return l(g,[p,_,y],C=>C[0]===p&&C[1]===_&&C[2]===y,!0)?(T.add(k),h(m)?n(S,m,[_,y,k],!0):e(v,y,[m,_,k],!0),!0):!1}},dm=n=>(e,t,[s,i,r],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[i,t,r]])):n(a,[i,t,r],c=>c[0]===i&&c[1]===t,o)},fm=n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const i=()=>{t.removeEventListener("ended",i),t.disconnect(s),s.disconnect()};t.addEventListener("ended",i)},pm=n=>(e,t)=>{n(e).add(t)},mm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},_m=(n,e,t,s,i,r)=>class extends n{constructor(a,c){const l=i(a),h={...mm,...c},u=s(l,h),f=r(l)?e():null;super(a,!1,u,f),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Je=(n,e)=>n.context===e,gm=(n,e,t)=>()=>{const s=new WeakMap,i=async(r,o)=>{let a=e(r);if(!Je(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=n(o,l)}return s.set(o,a),await t(r,o,a),a};return{render(r,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):i(r,o)}}},Jr=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ts=()=>new DOMException("","IndexSizeError"),ac=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(s){throw s.code===12?ts():s}})(n.getChannelData)},vm={numberOfChannels:1},ym=(n,e,t,s,i,r,o,a)=>{let c=null;return class Qh{constructor(h){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:f,sampleRate:d}={...vm,...h};c===null&&(c=new i(1,1,44100));const m=s!==null&&e(r,r)?new s({length:u,numberOfChannels:f,sampleRate:d}):c.createBuffer(f,u,d);if(m.numberOfChannels===0)throw t();return typeof m.copyFromChannel!="function"?(o(m),ac(m)):e(Jr,()=>Jr(m))||a(m),n.add(m),m}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===Qh.prototype||n.has(h)}}},at=-34028234663852886e22,et=-at,fs=n=>Yn.has(n),Cm={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},xm=(n,e,t,s,i,r,o,a)=>class extends n{constructor(l,h){const u=r(l),f={...Cm,...h},d=i(u,f),m=o(u),p=m?e():null;super(l,!1,d,p),this._audioBufferSourceNodeRenderer=p,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=d,this._onended=null,this._playbackRate=t(this,m,d.playbackRate,et,at)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const h=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=h;const u=this._nativeAudioBufferSourceNode.onended;this._onended=u!==null&&u===h?l:u}get playbackRate(){return this._playbackRate}start(l=0,h=0,u){if(this._nativeAudioBufferSourceNode.start(l,h,u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=u===void 0?[l,h]:[l,h,u]),this.context.state!=="closed"){$n(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),fs(this)&&_r(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},Tm=(n,e,t,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;const c=async(l,h)=>{let u=t(l);const f=Je(u,h);if(!f){const d={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(h,d),o!==null&&u.start(...o),a!==null&&u.stop(a)}return r.set(h,u),f?await n(h,l.playbackRate,u.playbackRate):await s(h,l.playbackRate,u.playbackRate),await i(l,h,u),u};return{set start(l){o=l},set stop(l){a=l},render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):c(l,h)}}},wm=n=>"playbackRate"in n,km=n=>"frequency"in n&&"gain"in n,Sm=n=>"offset"in n,bm=n=>!("frequency"in n)&&"gain"in n,Em=n=>"detune"in n&&"frequency"in n,Om=n=>"pan"in n,st=n=>Vt(Gh,n),gr=n=>Vt(Wh,n),Da=(n,e)=>{const{activeInputs:t}=st(n);t.forEach(i=>i.forEach(([r])=>{e.includes(n)||Da(r,[...e,n])}));const s=wm(n)?[n.playbackRate]:Xh(n)?Array.from(n.parameters.values()):km(n)?[n.Q,n.detune,n.frequency,n.gain]:Sm(n)?[n.offset]:bm(n)?[n.gain]:Em(n)?[n.detune,n.frequency]:Om(n)?[n.pan]:[];for(const i of s){const r=gr(i);r!==void 0&&r.activeInputs.forEach(([o])=>Da(o,e))}fs(n)&&_r(n)},Kh=n=>{Da(n.destination,[])},Mm=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),Am=(n,e,t,s,i,r,o,a,c)=>class extends n{constructor(h={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let u;try{u=new c(h)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?t():m}if(u===null)throw s();if(!Mm(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&u.sampleRate!==h.sampleRate)throw t();super(u,2);const{latencyHint:f}=h,{sampleRate:d}=u;if(this._baseLatency=typeof u.baseLatency=="number"?u.baseLatency:f==="balanced"?512/d:f==="interactive"||f===void 0?256/d:f==="playback"?1024/d:Math.max(2,Math.min(128,Math.round(f*d/128)))*128/d,this._nativeAudioContext=u,c.name==="webkitAudioContext"?(this._nativeGainNode=u.createGain(),this._nativeOscillatorNode=u.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(u.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,u.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),u.removeEventListener("statechange",m)};u.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Kh(this)}))}createMediaElementSource(h){return new i(this,{mediaElement:h})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(h){return new o(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new a(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,u)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?h():this.resume().then(h,u)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?e():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?e():h})}},Dm=(n,e,t,s,i,r,o,a)=>class extends n{constructor(l,h){const u=r(l),f=o(u),d=i(u,h,f),m=f?e(a):null;super(l,!1,d,m),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=d}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Rm=n=>{const e=new WeakMap,t=async(s,i)=>{const r=i.destination;return e.set(i,r),await n(s,i,r),r};return{render(s,i){const r=e.get(i);return r!==void 0?Promise.resolve(r):t(s,i)}}},Im=(n,e,t,s,i,r,o,a)=>(c,l)=>{const h=l.listener,u=()=>{const g=new Float32Array(1),T=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=o(l);let C=!1,b=[0,0,-1,0,1,0],E=[0,0,0];const M=()=>{if(C)return;C=!0;const F=s(l,256,9,0);F.onaudioprocess=({inputBuffer:N})=>{const L=[r(N,g,0),r(N,g,1),r(N,g,2),r(N,g,3),r(N,g,4),r(N,g,5)];L.some((B,q)=>B!==b[q])&&(h.setOrientation(...L),b=L);const z=[r(N,g,6),r(N,g,7),r(N,g,8)];z.some((B,q)=>B!==E[q])&&(h.setPosition(...z),E=z)},T.connect(F)},A=F=>N=>{N!==b[F]&&(b[F]=N,h.setOrientation(...b))},R=F=>N=>{N!==E[F]&&(E[F]=N,h.setPosition(...E))},I=(F,N,L)=>{const z=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:N});z.connect(T,0,F),z.start(),Object.defineProperty(z.offset,"defaultValue",{get(){return N}});const B=n({context:c},k,z.offset,et,at);return a(B,"value",q=>()=>q.call(B),q=>H=>{try{q.call(B,H)}catch(V){if(V.code!==9)throw V}M(),k&&L(H)}),B.cancelAndHoldAtTime=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.cancelAndHoldAtTime),B.cancelScheduledValues=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.linearRampToValueAtTime),B.setTargetAtTime=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.setTargetAtTime),B.setValueAtTime=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.setValueAtTime),B.setValueCurveAtTime=(q=>k?()=>{throw i()}:(...H)=>{const V=q.apply(B,H);return M(),V})(B.setValueCurveAtTime),B};return{forwardX:I(0,0,A(0)),forwardY:I(1,0,A(1)),forwardZ:I(2,-1,A(2)),positionX:I(6,0,R(0)),positionY:I(7,0,R(1)),positionZ:I(8,0,R(2)),upX:I(3,0,A(3)),upY:I(4,1,A(4)),upZ:I(5,0,A(5))}},{forwardX:f,forwardY:d,forwardZ:m,positionX:p,positionY:_,positionZ:y,upX:w,upY:S,upZ:v}=h.forwardX===void 0?u():h;return{get forwardX(){return f},get forwardY(){return d},get forwardZ(){return m},get positionX(){return p},get positionY(){return _},get positionZ(){return y},get upX(){return w},get upY(){return S},get upZ(){return v}}},eo=n=>"context"in n,vr=n=>eo(n[0]),xn=(n,e,t,s)=>{for(const i of n)if(t(i)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Al=(n,e,[t,s],i)=>{xn(n,[e,t,s],r=>r[0]===e&&r[1]===t,i)},Dl=(n,[e,t,s],i)=>{const r=n.get(e);r===void 0?n.set(e,new Set([[t,s]])):xn(r,[t,s],o=>o[0]===t,i)},ci=n=>"inputs"in n,to=(n,e,t,s)=>{if(ci(e)){const i=e.inputs[s];return n.connect(i,t,0),[i,t,0]}return n.connect(e,t,s),[e,t,s]},Jh=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},Pm=(n,e,t)=>Io(n,s=>s[0]===e&&s[1]===t),eu=(n,e)=>{if(!mr(n).delete(e))throw new Error("Missing the expected event listener.")},tu=(n,e,t)=>{const s=Vt(n,e),i=Io(s,r=>r[0]===t);return s.size===0&&n.delete(e),i},so=(n,e,t,s)=>{ci(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},we=n=>Vt(rc,n),Bi=n=>Vt(oc,n),fn=n=>Ea.has(n),qr=n=>!Yn.has(n),Rl=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=n.createScriptProcessor(256,1,1),i=n.createGain(),r=n.createBuffer(1,2,44100),o=r.getChannelData(0);o[0]=1,o[1]=1;const a=n.createBufferSource();a.buffer=r,a.loop=!0,a.connect(s).connect(n.destination),a.connect(i),a.disconnect(i),s.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,h=>h===1)?t(!0):t(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(n.destination)},a.start()}}),ca=(n,e)=>{const t=new Map;for(const s of n)for(const i of s){const r=t.get(i);t.set(i,r===void 0?1:r+1)}t.forEach((s,i)=>e(i,s))},no=n=>"context"in n,Nm=n=>{const e=new Map;n.connect=(t=>(s,i=0,r=0)=>{const o=no(s)?t(s,i,r):t(s,i),a=e.get(s);return a===void 0?e.set(s,[{input:r,output:i}]):a.every(c=>c.input!==r||c.output!==i)&&a.push({input:r,output:i}),o})(n.connect.bind(n)),n.disconnect=(t=>(s,i,r)=>{if(t.apply(n),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const c=a.filter(l=>l.output!==s);c.length===0?e.delete(o):e.set(o,c)}else if(e.has(s))if(i===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(c=>c.output!==i&&(c.input!==r||r===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(c=>{no(o)?n.connect(o,c.output,c.input):n.connect(o,c.output)})})(n.disconnect)},Fm=(n,e,t,s)=>{const{activeInputs:i,passiveInputs:r}=gr(e),{outputs:o}=st(n),a=mr(n),c=l=>{const h=we(n),u=Bi(e);if(l){const f=tu(r,n,t);Al(i,n,f,!1),!s&&!fn(n)&&h.connect(u,t)}else{const f=Pm(i,n,t);Dl(r,f,!1),!s&&!fn(n)&&h.disconnect(u,t)}};return xn(o,[e,t],l=>l[0]===e&&l[1]===t,!0)?(a.add(c),fs(n)?Al(i,n,[t,c],!0):Dl(r,[n,t,c],!0),!0):!1},Lm=(n,e,t,s)=>{const{activeInputs:i,passiveInputs:r}=st(e),o=Jh(i[s],n,t);return o===null?[$h(r,n,t,s)[2],!1]:[o[2],!0]},Um=(n,e,t)=>{const{activeInputs:s,passiveInputs:i}=gr(e),r=Jh(s,n,t);return r===null?[tu(i,n,t)[1],!1]:[r[2],!0]},cc=(n,e,t,s,i)=>{const[r,o]=Lm(n,t,s,i);if(r!==null&&(eu(n,r),o&&!e&&!fn(n)&&so(we(n),we(t),s,i)),fs(t)){const{activeInputs:a}=st(t);Aa(t,a)}},lc=(n,e,t,s)=>{const[i,r]=Um(n,t,s);i!==null&&(eu(n,i),r&&!e&&!fn(n)&&we(n).disconnect(Bi(t),s))},Vm=(n,e)=>{const t=st(n),s=[];for(const i of t.outputs)vr(i)?cc(n,e,...i):lc(n,e,...i),s.push(i[0]);return t.outputs.clear(),s},Bm=(n,e,t)=>{const s=st(n),i=[];for(const r of s.outputs)r[1]===t&&(vr(r)?cc(n,e,...r):lc(n,e,...r),i.push(r[0]),s.outputs.delete(r));return i},zm=(n,e,t,s,i)=>{const r=st(n);return Array.from(r.outputs).filter(o=>o[0]===t&&(s===void 0||o[1]===s)&&(i===void 0||o[2]===i)).map(o=>(vr(o)?cc(n,e,...o):lc(n,e,...o),r.outputs.delete(o),o[0]))},Hm=(n,e,t,s,i,r,o,a,c,l,h,u,f,d,m,p)=>class extends l{constructor(y,w,S,v){super(S),this._context=y,this._nativeAudioNode=S;const g=h(y);u(g)&&t(Rl,()=>Rl(g,p))!==!0&&Nm(S),rc.set(this,S),Zh.set(this,new Set),y.state!=="closed"&&w&&$n(this),n(this,v,S)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(y){this._nativeAudioNode.channelCount=y}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(y){this._nativeAudioNode.channelCountMode=y}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(y){this._nativeAudioNode.channelInterpretation=y}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(y,w=0,S=0){if(w<0||w>=this._nativeAudioNode.numberOfOutputs)throw i();const v=h(this._context),g=m(v);if(f(y)||d(y))throw r();if(eo(y)){const C=we(y);try{const E=to(this._nativeAudioNode,C,w,S),M=qr(this);(g||M)&&this._nativeAudioNode.disconnect(...E),this.context.state!=="closed"&&!M&&qr(y)&&$n(y)}catch(E){throw E.code===12?r():E}if(e(this,y,w,S,g)){const E=c([this],y);ca(E,s(g))}return y}const T=Bi(y);if(T.name==="playbackRate"&&T.maxValue===1024)throw o();try{this._nativeAudioNode.connect(T,w),(g||qr(this))&&this._nativeAudioNode.disconnect(T,w)}catch(C){throw C.code===12?r():C}if(Fm(this,y,w,g)){const C=c([this],y);ca(C,s(g))}}disconnect(y,w,S){let v;const g=h(this._context),T=m(g);if(y===void 0)v=Vm(this,T);else if(typeof y=="number"){if(y<0||y>=this.numberOfOutputs)throw i();v=Bm(this,T,y)}else{if(w!==void 0&&(w<0||w>=this.numberOfOutputs)||eo(y)&&S!==void 0&&(S<0||S>=y.numberOfInputs))throw i();if(v=zm(this,T,y,w,S),v.length===0)throw r()}for(const k of v){const C=c([this],k);ca(C,a)}}},jm=(n,e,t,s,i,r,o,a,c,l,h,u,f)=>(d,m,p,_=null,y=null)=>{const w=p.value,S=new J2(w),v=m?s(S):null,g={get defaultValue(){return w},get maxValue(){return _===null?p.maxValue:_},get minValue(){return y===null?p.minValue:y},get value(){return p.value},set value(T){p.value=T,g.setValueAtTime(T,d.context.currentTime)},cancelAndHoldAtTime(T){if(typeof p.cancelAndHoldAtTime=="function")v===null&&S.flush(d.context.currentTime),S.add(i(T)),p.cancelAndHoldAtTime(T);else{const k=Array.from(S).pop();v===null&&S.flush(d.context.currentTime),S.add(i(T));const C=Array.from(S).pop();p.cancelScheduledValues(T),k!==C&&C!==void 0&&(C.type==="exponentialRampToValue"?p.exponentialRampToValueAtTime(C.value,C.endTime):C.type==="linearRampToValue"?p.linearRampToValueAtTime(C.value,C.endTime):C.type==="setValue"?p.setValueAtTime(C.value,C.startTime):C.type==="setValueCurve"&&p.setValueCurveAtTime(C.values,C.startTime,C.duration))}return g},cancelScheduledValues(T){return v===null&&S.flush(d.context.currentTime),S.add(r(T)),p.cancelScheduledValues(T),g},exponentialRampToValueAtTime(T,k){if(T===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const C=d.context.currentTime;return v===null&&S.flush(C),Array.from(S).length===0&&(S.add(l(w,C)),p.setValueAtTime(w,C)),S.add(o(T,k)),p.exponentialRampToValueAtTime(T,k),g},linearRampToValueAtTime(T,k){const C=d.context.currentTime;return v===null&&S.flush(C),Array.from(S).length===0&&(S.add(l(w,C)),p.setValueAtTime(w,C)),S.add(a(T,k)),p.linearRampToValueAtTime(T,k),g},setTargetAtTime(T,k,C){return v===null&&S.flush(d.context.currentTime),S.add(c(T,k,C)),p.setTargetAtTime(T,k,C),g},setValueAtTime(T,k){return v===null&&S.flush(d.context.currentTime),S.add(l(T,k)),p.setValueAtTime(T,k),g},setValueCurveAtTime(T,k,C){const b=T instanceof Float32Array?T:new Float32Array(T);if(u!==null&&u.name==="webkitAudioContext"){const E=k+C,M=d.context.sampleRate,A=Math.ceil(k*M),R=Math.floor(E*M),I=R-A,F=new Float32Array(I);for(let L=0;L<I;L+=1){const z=(b.length-1)/C*((A+L)/M-k),B=Math.floor(z),q=Math.ceil(z);F[L]=B===q?b[B]:(1-(z-B))*b[B]+(1-(q-z))*b[q]}v===null&&S.flush(d.context.currentTime),S.add(h(F,k,C)),p.setValueCurveAtTime(F,k,C);const N=R/M;N<E&&f(g,F[F.length-1],N),f(g,b[b.length-1],E)}else v===null&&S.flush(d.context.currentTime),S.add(h(b,k,C)),p.setValueCurveAtTime(b,k,C);return g}};return t.set(g,p),e.set(g,d),n(g,v),g},qm=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:s,value:i}=t;e.exponentialRampToValueAtTime(i,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:i}=t;e.linearRampToValueAtTime(i,s)}else if(t.type==="setTarget"){const{startTime:s,target:i,timeConstant:r}=t;e.setTargetAtTime(i,s,r)}else if(t.type==="setValue"){const{startTime:s,value:i}=t;e.setValueAtTime(i,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:i,values:r}=t;e.setValueCurveAtTime(r,i,s)}else throw new Error("Can't apply an unknown automation.")}});class su{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,i)=>e.call(t,s,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Gm={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Wm=(n,e,t,s,i,r,o,a,c,l,h,u,f,d)=>class extends e{constructor(p,_,y){var w;const S=a(p),v=c(S),g=h({...Gm,...y});f(g);const T=Oa.get(S),k=T==null?void 0:T.get(_),C=v||S.state!=="closed"?S:(w=o(S))!==null&&w!==void 0?w:S,b=i(C,v?null:p.baseLatency,l,_,k,g),E=v?s(_,g,k):null;super(p,!0,b,E);const M=[];b.parameters.forEach((R,I)=>{const F=t(this,v,R);M.push([I,F])}),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new su(M),v&&n(S,this);const{activeInputs:A}=r(this);u(b,A)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(p){const _=typeof p=="function"?d(this,p):null;this._nativeAudioWorkletNode.onprocessorerror=_;const y=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=y!==null&&y===_?p:y}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function io(n,e,t,s,i){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,i);else{const r=n.getChannelData(s);if(e[t].byteLength===0)e[t]=r.slice(i,i+128);else{const o=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(o)}}}const nu=(n,e,t,s,i)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],s,i):e[t].byteLength!==0&&n.getChannelData(s).set(e[t],i)},ro=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const i=[],r=typeof e=="number"?e:e[s];for(let o=0;o<r;o+=1)i.push(new Float32Array(128));t.push(i)}return t},Zm=(n,e)=>{const t=Vt(Ma,n),s=we(e);return Vt(t,s)},Ym=async(n,e,t,s,i,r,o)=>{const a=e===null?Math.ceil(n.context.length/128)*128:e.length,c=s.channelCount*s.numberOfInputs,l=i.reduce((_,y)=>_+y,0),h=l===0?null:t.createBuffer(l,a,t.sampleRate);if(r===void 0)throw new Error("Missing the processor constructor.");const u=st(n),f=await Zm(t,n),d=ro(s.numberOfInputs,s.channelCount),m=ro(s.numberOfOutputs,i),p=Array.from(n.parameters.keys()).reduce((_,y)=>({..._,[y]:new Float32Array(128)}),{});for(let _=0;_<a;_+=128){if(s.numberOfInputs>0&&e!==null)for(let y=0;y<s.numberOfInputs;y+=1)for(let w=0;w<s.channelCount;w+=1)io(e,d[y],w,w,_);r.parameterDescriptors!==void 0&&e!==null&&r.parameterDescriptors.forEach(({name:y},w)=>{io(e,p,y,c+w,_)});for(let y=0;y<s.numberOfInputs;y+=1)for(let w=0;w<i[y];w+=1)m[y][w].byteLength===0&&(m[y][w]=new Float32Array(128));try{const y=d.map((S,v)=>u.activeInputs[v].size===0?[]:S),w=o(_/t.sampleRate,t.sampleRate,()=>f.process(y,m,p));if(h!==null)for(let S=0,v=0;S<s.numberOfOutputs;S+=1){for(let g=0;g<i[S];g+=1)nu(h,m[S],g,v+g,_);v+=i[S]}if(!w)break}catch(y){n.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h},$m=(n,e,t,s,i,r,o,a,c,l,h,u,f,d,m,p)=>(_,y,w)=>{const S=new WeakMap;let v=null;const g=async(T,k)=>{let C=h(T),b=null;const E=Je(C,k),M=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(u===null){const A=M.reduce((N,L)=>N+L,0),R=i(k,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),I=[];for(let N=0;N<T.numberOfOutputs;N+=1)I.push(s(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[N]}));const F=o(k,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});F.connect=e.bind(null,I),F.disconnect=c.bind(null,I),b=[R,I,F]}else E||(C=new u(k,_));if(S.set(k,b===null?C:b[2]),b!==null){if(v===null){if(w===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=T.channelCount*T.numberOfInputs,z=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length,B=L+z;v=Ym(T,B===0?null:await(async()=>{const H=new f(B,Math.ceil(T.context.length/128)*128,k.sampleRate),V=[],Te=[];for(let _e=0;_e<y.numberOfInputs;_e+=1)V.push(o(H,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),Te.push(i(H,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const ae=await Promise.all(Array.from(T.parameters.values()).map(async _e=>{const Ze=r(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_e.value});return await d(H,_e,Ze.offset),Ze})),$=s(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,L+z)});for(let _e=0;_e<y.numberOfInputs;_e+=1){V[_e].connect(Te[_e]);for(let Ze=0;Ze<y.channelCount;Ze+=1)Te[_e].connect($,Ze,_e*y.channelCount+Ze)}for(const[_e,Ze]of ae.entries())Ze.connect($,0,L+_e),Ze.start(0);return $.connect(H.destination),await Promise.all(V.map(_e=>m(T,H,_e))),p(H)})(),k,y,M,w,l)}const A=await v,R=t(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[I,F,N]=b;A!==null&&(R.buffer=A,R.start(0)),R.connect(I);for(let L=0,z=0;L<T.numberOfOutputs;L+=1){const B=F[L];for(let q=0;q<M[L];q+=1)I.connect(B,z+q,q);z+=M[L]}return N}if(E)for(const[A,R]of T.parameters.entries())await n(k,R,C.parameters.get(A));else for(const[A,R]of T.parameters.entries())await d(k,R,C.parameters.get(A));return await m(T,k,C),C};return{render(T,k){a(k,T);const C=S.get(k);return C!==void 0?Promise.resolve(C):g(T,k)}}},Xm=(n,e,t,s,i,r,o,a,c,l,h,u,f,d,m,p,_,y,w,S)=>class extends m{constructor(g,T){super(g,T),this._nativeContext=g,this._audioWorklet=n===void 0?void 0:{addModule:(k,C)=>n(this,k,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(g,T,k){return new t({length:T,numberOfChannels:g,sampleRate:k})}createBufferSource(){return new s(this)}createChannelMerger(g=6){return new r(this,{numberOfInputs:g})}createChannelSplitter(g=6){return new o(this,{numberOfOutputs:g})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(g=1){return new h(this,{maxDelayTime:g})}createDynamicsCompressor(){return new u(this)}createGain(){return new f(this)}createIIRFilter(g,T){return new d(this,{feedback:T,feedforward:g})}createOscillator(){return new p(this)}createPanner(){return new _(this)}createPeriodicWave(g,T,k={disableNormalization:!1}){return new y(this,{...k,imag:T,real:g})}createStereoPanner(){return new w(this)}createWaveShaper(){return new S(this)}decodeAudioData(g,T,k){return l(this._nativeContext,g).then(C=>(typeof T=="function"&&T(C),C),C=>{throw typeof k=="function"&&k(C),C})}},Qm={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Km=(n,e,t,s,i,r,o,a)=>class extends n{constructor(l,h){const u=r(l),f={...Qm,...h},d=i(u,f),m=o(u),p=m?t():null;super(l,!1,d,p),this._Q=e(this,m,d.Q,et,at),this._detune=e(this,m,d.detune,1200*Math.log2(et),-1200*Math.log2(et)),this._frequency=e(this,m,d.frequency,l.sampleRate/2,0),this._gain=e(this,m,d.gain,40*Math.log10(et),at),this._nativeBiquadFilterNode=d,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,h,u){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,h,u)}catch(f){throw f.code===11?s():f}if(l.length!==h.length||h.length!==u.length)throw s()}},Jm=(n,e,t,s,i)=>()=>{const r=new WeakMap,o=async(a,c)=>{let l=t(a);const h=Je(l,c);if(!h){const u={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(c,u)}return r.set(c,l),h?(await n(c,a.Q,l.Q),await n(c,a.detune,l.detune),await n(c,a.frequency,l.frequency),await n(c,a.gain,l.gain)):(await s(c,a.Q,l.Q),await s(c,a.detune,l.detune),await s(c,a.frequency,l.frequency),await s(c,a.gain,l.gain)),await i(a,c,l),l};return{render(a,c){const l=r.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},e3=(n,e)=>(t,s)=>{const i=e.get(t);if(i!==void 0)return i;const r=n.get(t);if(r!==void 0)return r;try{const o=s();return o instanceof Promise?(n.set(t,o),o.catch(()=>!1).then(a=>(n.delete(t),e.set(t,a),a))):(e.set(t,o),o)}catch{return e.set(t,!1),!1}},t3={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},s3=(n,e,t,s,i)=>class extends n{constructor(o,a){const c=s(o),l={...t3,...a},h=t(c,l),u=i(c)?e():null;super(o,!1,h,u)}},n3=(n,e,t)=>()=>{const s=new WeakMap,i=async(r,o)=>{let a=e(r);if(!Je(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=n(o,l)}return s.set(o,a),await t(r,o,a),a};return{render(r,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):i(r,o)}}},i3={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},r3=(n,e,t,s,i,r)=>class extends n{constructor(a,c){const l=s(a),h=r({...i3,...c}),u=t(l,h),f=i(l)?e():null;super(a,!1,u,f)}},o3=(n,e,t)=>()=>{const s=new WeakMap,i=async(r,o)=>{let a=e(r);if(!Je(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=n(o,l)}return s.set(o,a),await t(r,o,a),a};return{render(r,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):i(r,o)}}},a3=n=>(e,t,s)=>n(t,e,s),c3=n=>(e,t,s=0,i=0)=>{const r=e[s];if(r===void 0)throw n();return no(t)?r.connect(t,0,i):r.connect(t,0)},l3=n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},h3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},u3=(n,e,t,s,i,r,o)=>class extends n{constructor(c,l){const h=i(c),u={...h3,...l},f=s(h,u),d=r(h),m=d?t():null;super(c,!1,f,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=f,this._offset=e(this,d,f.offset,et,at),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeConstantSourceNode.onended=l;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===l?c:h}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){$n(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),fs(this)&&_r(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},d3=(n,e,t,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;const c=async(l,h)=>{let u=t(l);const f=Je(u,h);if(!f){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(h,d),o!==null&&u.start(o),a!==null&&u.stop(a)}return r.set(h,u),f?await n(h,l.offset,u.offset):await s(h,l.offset,u.offset),await i(l,h,u),u};return{set start(l){o=l},set stop(l){a=l},render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):c(l,h)}}},f3=n=>e=>(n[0]=e,n[0]),p3={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},m3=(n,e,t,s,i,r)=>class extends n{constructor(a,c){const l=s(a),h={...p3,...c},u=t(l,h),d=i(l)?e():null;super(a,!1,u,d),this._isBufferNullified=!1,this._nativeConvolverNode=u,h.buffer!==null&&r(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},_3=(n,e,t)=>()=>{const s=new WeakMap,i=async(r,o)=>{let a=e(r);if(!Je(a,o)){const l={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=n(o,l)}return s.set(o,a),ci(a)?await t(r,o,a.inputs[0]):await t(r,o,a),a};return{render(r,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):i(r,o)}}},g3=(n,e)=>(t,s,i)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,i)}catch(r){throw r.name==="SyntaxError"?n():r}},v3=()=>new DOMException("","DataCloneError"),Il=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const i=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>i();try{e.postMessage(n,[n])}catch{}finally{i()}})},y3=(n,e,t,s,i,r,o,a,c,l,h)=>(u,f)=>{const d=o(u)?u:r(u);if(i.has(f)){const m=t();return Promise.reject(m)}try{i.add(f)}catch{}return e(c,()=>c(d))?d.decodeAudioData(f).then(m=>(Il(f).catch(()=>{}),e(a,()=>a(m))||h(m),n.add(m),m)):new Promise((m,p)=>{const _=async()=>{try{await Il(f)}catch{}},y=w=>{p(w),_()};try{d.decodeAudioData(f,w=>{typeof w.copyFromChannel!="function"&&(l(w),ac(w)),n.add(w),_().then(()=>m(w))},w=>{y(w===null?s():w)})}catch(w){y(w)}})},C3=(n,e,t,s,i,r,o,a)=>(c,l)=>{const h=e.get(c);if(h===void 0)throw new Error("Missing the expected cycle count.");const u=r(c.context),f=a(u);if(h===l){if(e.delete(c),!f&&o(c)){const d=s(c),{outputs:m}=t(c);for(const p of m)if(vr(p)){const _=s(p[0]);n(d,_,p[1],p[2])}else{const _=i(p[0]);d.connect(_,p[1])}}}else e.set(c,h-l)},x3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},T3=(n,e,t,s,i,r,o)=>class extends n{constructor(c,l){const h=i(c),u={...x3,...l},f=s(h,u),d=r(h),m=d?t(u.maxDelayTime):null;super(c,!1,f,m),this._delayTime=e(this,d,f.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}},w3=(n,e,t,s,i)=>r=>{const o=new WeakMap,a=async(c,l)=>{let h=t(c);const u=Je(h,l);if(!u){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:r};h=e(l,f)}return o.set(l,h),u?await n(l,c.delayTime,h.delayTime):await s(l,c.delayTime,h.delayTime),await i(c,l,h),h};return{render(c,l){const h=o.get(l);return h!==void 0?Promise.resolve(h):a(c,l)}}},k3=n=>(e,t,s,i)=>n(e[i],r=>r[0]===t&&r[1]===s),S3=n=>(e,t)=>{n(e).delete(t)},b3=n=>"delayTime"in n,E3=(n,e,t)=>function s(i,r){const o=eo(r)?r:t(n,r);if(b3(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(c=>s([...i,o],c[0])).reduce((c,l)=>c.concat(l),[])},Lr=(n,e,t)=>{const s=e[t];if(s===void 0)throw n();return s},O3=n=>(e,t=void 0,s=void 0,i=0)=>t===void 0?e.forEach(r=>r.disconnect()):typeof t=="number"?Lr(n,e,t).disconnect():no(t)?s===void 0?e.forEach(r=>r.disconnect(t)):i===void 0?Lr(n,e,s).disconnect(t,0):Lr(n,e,s).disconnect(t,0,i):s===void 0?e.forEach(r=>r.disconnect(t)):Lr(n,e,s).disconnect(t,0),M3={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},A3=(n,e,t,s,i,r,o,a)=>class extends n{constructor(l,h){const u=r(l),f={...M3,...h},d=s(u,f),m=o(u),p=m?t():null;super(l,!1,d,p),this._attack=e(this,m,d.attack),this._knee=e(this,m,d.knee),this._nativeDynamicsCompressorNode=d,this._ratio=e(this,m,d.ratio),this._release=e(this,m,d.release),this._threshold=e(this,m,d.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=h,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},D3=(n,e,t,s,i)=>()=>{const r=new WeakMap,o=async(a,c)=>{let l=t(a);const h=Je(l,c);if(!h){const u={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(c,u)}return r.set(c,l),h?(await n(c,a.attack,l.attack),await n(c,a.knee,l.knee),await n(c,a.ratio,l.ratio),await n(c,a.release,l.release),await n(c,a.threshold,l.threshold)):(await s(c,a.attack,l.attack),await s(c,a.knee,l.knee),await s(c,a.ratio,l.ratio),await s(c,a.release,l.release),await s(c,a.threshold,l.threshold)),await i(a,c,l),l};return{render(a,c){const l=r.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},R3=()=>new DOMException("","EncodingError"),I3=n=>e=>new Promise((t,s)=>{if(n===null){s(new SyntaxError);return}const i=n.document.head;if(i===null)s(new SyntaxError);else{const r=n.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=n.onerror,l=()=>{n.onerror=c,URL.revokeObjectURL(a)};n.onerror=(h,u,f,d,m)=>{if(u===a||u===n.location.href&&f===1&&d===1)return l(),s(m),!1;if(c!==null)return c(h,u,f,d,m)},r.onerror=()=>{l(),s(new SyntaxError)},r.onload=()=>{l(),t()},r.src=a,r.type="module",i.appendChild(r)}}),P3=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,i){if(s!==null){let r=this._listeners.get(s);r===void 0&&(r=n(this,s),typeof s=="function"&&this._listeners.set(s,r)),this._nativeEventTarget.addEventListener(t,r,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,i){const r=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,r===void 0?null:r,i)}},N3=n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},F3=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},L3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},U3=(n,e,t,s,i,r)=>class extends n{constructor(a,c){const l=i(a),h={...L3,...c},u=s(l,h),f=r(l),d=f?t():null;super(a,!1,u,d),this._gain=e(this,f,u.gain,et,at)}get gain(){return this._gain}},V3=(n,e,t,s,i)=>()=>{const r=new WeakMap,o=async(a,c)=>{let l=t(a);const h=Je(l,c);if(!h){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(c,u)}return r.set(c,l),h?await n(c,a.gain,l.gain):await s(c,a.gain,l.gain),await i(a,c,l),l};return{render(a,c){const l=r.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},B3=(n,e)=>t=>e(n,t),z3=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},H3=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},j3=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},q3=n=>e=>n.get(e),Ge=()=>new DOMException("","InvalidStateError"),G3=n=>e=>{const t=n.get(e);if(t===void 0)throw Ge();return t},W3=(n,e)=>t=>{let s=n.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s},Z3=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Po=()=>new DOMException("","InvalidAccessError"),Y3=n=>{n.getFrequencyResponse=(e=>(t,s,i)=>{if(t.length!==s.length||s.length!==i.length)throw Po();return e.call(n,t,s,i)})(n.getFrequencyResponse)},$3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},X3=(n,e,t,s,i,r)=>class extends n{constructor(a,c){const l=s(a),h=i(l),u={...$3,...c},f=e(l,h?null:a.baseLatency,u),d=h?t(u.feedback,u.feedforward):null;super(a,!1,f,d),Y3(f),this._nativeIIRFilterNode=f,r(this,1)}getFrequencyResponse(a,c,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,l)}},iu=(n,e,t,s,i,r,o,a,c,l,h)=>{const u=l.length;let f=a;for(let d=0;d<u;d+=1){let m=t[0]*l[d];for(let p=1;p<i;p+=1){const _=f-p&c-1;m+=t[p]*r[_],m-=n[p]*o[_]}for(let p=i;p<s;p+=1)m+=t[p]*r[f-p&c-1];for(let p=i;p<e;p+=1)m-=n[p]*o[f-p&c-1];r[f]=l[d],o[f]=m,f=f+1&c-1,h[d]=m}return f},Q3=(n,e,t,s)=>{const i=t instanceof Float64Array?t:new Float64Array(t),r=s instanceof Float64Array?s:new Float64Array(s),o=i.length,a=r.length,c=Math.min(o,a);if(i[0]!==1){for(let m=0;m<o;m+=1)r[m]/=i[0];for(let m=1;m<a;m+=1)i[m]/=i[0]}const l=32,h=new Float32Array(l),u=new Float32Array(l),f=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),d=n.numberOfChannels;for(let m=0;m<d;m+=1){const p=n.getChannelData(m),_=f.getChannelData(m);h.fill(0),u.fill(0),iu(i,o,r,a,c,h,u,0,l,p,_)}return f},K3=(n,e,t,s,i)=>(r,o)=>{const a=new WeakMap;let c=null;const l=async(h,u)=>{let f=null,d=e(h);const m=Je(d,u);if(u.createIIRFilter===void 0?f=n(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(d=u.createIIRFilter(o,r)),a.set(u,f===null?d:f),f!==null){if(c===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new t(h.context.destination.channelCount,h.context.length,u.sampleRate);c=(async()=>{await s(h,_,_.destination);const y=await i(_);return Q3(y,u,r,o)})()}const p=await c;return f.buffer=p,f.start(0),f}return await s(h,u,d),d};return{render(h,u){const f=a.get(u);return f!==void 0?Promise.resolve(f):l(h,u)}}},J3=(n,e,t,s,i,r)=>o=>(a,c)=>{const l=n.get(a);if(l===void 0){if(!o&&r(a)){const h=s(a),{outputs:u}=t(a);for(const f of u)if(vr(f)){const d=s(f[0]);e(h,d,f[1],f[2])}else{const d=i(f[0]);h.disconnect(d,f[1])}}n.set(a,c)}else n.set(a,l+c)},e5=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},t5=(n,e)=>t=>n.has(t)||e(t),s5=(n,e)=>t=>n.has(t)||e(t),n5=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},i5=n=>e=>n!==null&&e instanceof n,r5=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,o5=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,a5=(n,e)=>t=>n(t)||e(t),c5=n=>e=>n!==null&&e instanceof n,l5=n=>n!==null&&n.isSecureContext,h5=(n,e,t,s)=>class extends n{constructor(r,o){const a=t(r),c=e(a,o);if(s(a))throw TypeError();super(r,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},u5={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},d5=(n,e,t,s)=>class extends n{constructor(r,o){const a=t(r);if(s(a))throw new TypeError;const c={...u5,...o},l=e(a,c);super(r,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},f5=(n,e,t,s)=>class extends n{constructor(r,o){const a=t(r),c=e(a,o);if(s(a))throw new TypeError;super(r,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},p5=(n,e,t)=>class extends n{constructor(i,r){const o=t(i),a=e(o,r);super(i,!0,a,null)}},m5=(n,e,t,s,i,r)=>class extends t{constructor(a,c){super(a),this._nativeContext=a,Ro.set(this,a),s(a)&&i.set(a,new Set),this._destination=new n(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c=typeof a=="function"?r(this,a):null;this._nativeContext.onstatechange=c;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},zi=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},_5=(n,e)=>(t,s,i)=>{const r=new Set;return t.connect=(o=>(a,c=0,l=0)=>{const h=r.size===0;if(e(a))return o.call(t,a,c,l),n(r,[a,c,l],u=>u[0]===a&&u[1]===c&&u[2]===l,!0),h&&s(),a;o.call(t,a,c),n(r,[a,c],u=>u[0]===a&&u[1]===c,!0),h&&s()})(t.connect),t.disconnect=(o=>(a,c,l)=>{const h=r.size>0;if(a===void 0)o.apply(t),r.clear();else if(typeof a=="number"){o.call(t,a);for(const f of r)f[1]===a&&r.delete(f)}else{e(a)?o.call(t,a,c,l):o.call(t,a,c);for(const f of r)f[0]===a&&(c===void 0||f[1]===c)&&(l===void 0||f[2]===l)&&r.delete(f)}const u=r.size===0;h&&u&&i()})(t.disconnect),t},ke=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t]&&(n[t]=s)},He=(n,e)=>{ke(n,e,"channelCount"),ke(n,e,"channelCountMode"),ke(n,e,"channelInterpretation")},Pl=n=>typeof n.getFloatTimeDomainData=="function",g5=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let i=0;i<s;i+=1)e[i]=(t[i]-128)*.0078125;return e}},v5=(n,e)=>(t,s)=>{const i=t.createAnalyser();if(He(i,s),!(s.maxDecibels>s.minDecibels))throw e();return ke(i,s,"fftSize"),ke(i,s,"maxDecibels"),ke(i,s,"minDecibels"),ke(i,s,"smoothingTimeConstant"),n(Pl,()=>Pl(i))||g5(i),i},y5=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,Ae=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t].value&&(n[t].value=s)},C5=n=>{n.start=(e=>{let t=!1;return(s=0,i=0,r)=>{if(t)throw Ge();e.call(n,s,i,r),t=!0}})(n.start)},hc=n=>{n.start=(e=>(t=0,s=0,i)=>{if(typeof i=="number"&&i<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,i)})(n.start)},uc=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},x5=(n,e,t,s,i,r,o,a,c,l,h)=>(u,f)=>{const d=u.createBufferSource();return He(d,f),Ae(d,f,"playbackRate"),ke(d,f,"buffer"),ke(d,f,"loop"),ke(d,f,"loopEnd"),ke(d,f,"loopStart"),e(t,()=>t(u))||C5(d),e(s,()=>s(u))||c(d),e(i,()=>i(u))||l(d,u),e(r,()=>r(u))||hc(d),e(o,()=>o(u))||h(d,u),e(a,()=>a(u))||uc(d),n(u,d),d},T5=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,w5=(n,e)=>(t,s,i)=>{const r=t.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&r.channelCountMode!=="explicit"&&(r.channelCountMode="explicit"),r.maxChannelCount===0&&Object.defineProperty(r,"maxChannelCount",{value:s});const o=n(t,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>c=>{a.call(o,c);try{r.channelCount=c}catch(l){if(c>r.maxChannelCount)throw l}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>c=>{a.call(o,c),r.channelCountMode=c}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>c=>{a.call(o,c),r.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o},k5=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,S5=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},b5=(n,e,t,s,i)=>(r,o,a,c,l,h)=>{if(a!==null)try{const u=new a(r,c,h),f=new Map;let d=null;if(Object.defineProperties(u,{channelCount:{get:()=>h.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>d,set:m=>{typeof d=="function"&&u.removeEventListener("processorerror",d),d=typeof m=="function"?m:null,typeof d=="function"&&u.addEventListener("processorerror",d)}}}),u.addEventListener=(m=>(...p)=>{if(p[0]==="processorerror"){const _=typeof p[1]=="function"?p[1]:typeof p[1]=="object"&&p[1]!==null&&typeof p[1].handleEvent=="function"?p[1].handleEvent:null;if(_!==null){const y=f.get(p[1]);y!==void 0?p[1]=y:(p[1]=w=>{w.type==="error"?(Object.defineProperties(w,{type:{value:"processorerror"}}),_(w)):_(new ErrorEvent(p[0],{...w}))},f.set(_,p[1]))}}return m.call(u,"error",p[1],p[2]),m.call(u,...p)})(u.addEventListener),u.removeEventListener=(m=>(...p)=>{if(p[0]==="processorerror"){const _=f.get(p[1]);_!==void 0&&(f.delete(p[1]),p[1]=_)}return m.call(u,"error",p[1],p[2]),m.call(u,p[0],p[1],p[2])})(u.removeEventListener),h.numberOfOutputs!==0){const m=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return u.connect(m).connect(r.destination),i(u,()=>m.disconnect(),()=>m.connect(r.destination))}return u}catch(u){throw u.code===11?s():u}if(l===void 0)throw s();return S5(h),e(r,o,l,h)},ru=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),E5=n=>new Promise((e,t)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:r})=>{s.close(),i.close(),e(r)},s.onmessageerror=({data:r})=>{s.close(),i.close(),t(r)},i.postMessage(n)}),O5=async(n,e)=>{const t=await E5(e);return new n(t)},M5=(n,e,t,s)=>{let i=Ma.get(n);i===void 0&&(i=new WeakMap,Ma.set(n,i));const r=O5(t,s);return i.set(e,r),r},A5=(n,e,t,s,i,r,o,a,c,l,h,u,f)=>(d,m,p,_)=>{if(_.numberOfInputs===0&&_.numberOfOutputs===0)throw c();const y=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(y.some(U=>U<1))throw c();if(y.length!==_.numberOfOutputs)throw e();if(_.channelCountMode!=="explicit")throw c();const w=_.channelCount*_.numberOfInputs,S=y.reduce((U,Z)=>U+Z,0),v=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length;if(w+v>6||S>6)throw c();const g=new MessageChannel,T=[],k=[];for(let U=0;U<_.numberOfInputs;U+=1)T.push(o(d,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),k.push(i(d,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const C=[];if(p.parameterDescriptors!==void 0)for(const{defaultValue:U,maxValue:Z,minValue:ze,name:Se}of p.parameterDescriptors){const re=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_.parameterData[Se]!==void 0?_.parameterData[Se]:U===void 0?0:U});Object.defineProperties(re.offset,{defaultValue:{get:()=>U===void 0?0:U},maxValue:{get:()=>Z===void 0?et:Z},minValue:{get:()=>ze===void 0?at:ze}}),C.push(re)}const b=s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+v)}),E=ru(m,d.sampleRate),M=a(d,E,w+v,Math.max(1,S)),A=i(d,{channelCount:Math.max(1,S),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,S)}),R=[];for(let U=0;U<_.numberOfOutputs;U+=1)R.push(s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[U]}));for(let U=0;U<_.numberOfInputs;U+=1){T[U].connect(k[U]);for(let Z=0;Z<_.channelCount;Z+=1)k[U].connect(b,Z,U*_.channelCount+Z)}const I=new su(p.parameterDescriptors===void 0?[]:p.parameterDescriptors.map(({name:U},Z)=>{const ze=C[Z];return ze.connect(b,0,w+Z),ze.start(0),[U,ze.offset]}));b.connect(M);let F=_.channelInterpretation,N=null;const L=_.numberOfOutputs===0?[M]:R,z={get bufferSize(){return E},get channelCount(){return _.channelCount},set channelCount(U){throw t()},get channelCountMode(){return _.channelCountMode},set channelCountMode(U){throw t()},get channelInterpretation(){return F},set channelInterpretation(U){for(const Z of T)Z.channelInterpretation=U;F=U},get context(){return M.context},get inputs(){return T},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return N},set onprocessorerror(U){typeof N=="function"&&z.removeEventListener("processorerror",N),N=typeof U=="function"?U:null,typeof N=="function"&&z.addEventListener("processorerror",N)},get parameters(){return I},get port(){return g.port2},addEventListener(...U){return M.addEventListener(U[0],U[1],U[2])},connect:n.bind(null,L),disconnect:l.bind(null,L),dispatchEvent(...U){return M.dispatchEvent(U[0])},removeEventListener(...U){return M.removeEventListener(U[0],U[1],U[2])}},B=new Map;g.port1.addEventListener=(U=>(...Z)=>{if(Z[0]==="message"){const ze=typeof Z[1]=="function"?Z[1]:typeof Z[1]=="object"&&Z[1]!==null&&typeof Z[1].handleEvent=="function"?Z[1].handleEvent:null;if(ze!==null){const Se=B.get(Z[1]);Se!==void 0?Z[1]=Se:(Z[1]=re=>{h(d.currentTime,d.sampleRate,()=>ze(re))},B.set(ze,Z[1]))}}return U.call(g.port1,Z[0],Z[1],Z[2])})(g.port1.addEventListener),g.port1.removeEventListener=(U=>(...Z)=>{if(Z[0]==="message"){const ze=B.get(Z[1]);ze!==void 0&&(B.delete(Z[1]),Z[1]=ze)}return U.call(g.port1,Z[0],Z[1],Z[2])})(g.port1.removeEventListener);let q=null;Object.defineProperty(g.port1,"onmessage",{get:()=>q,set:U=>{typeof q=="function"&&g.port1.removeEventListener("message",q),q=typeof U=="function"?U:null,typeof q=="function"&&(g.port1.addEventListener("message",q),g.port1.start())}}),p.prototype.port=g.port1;let H=null;M5(d,z,p,_).then(U=>H=U);const Te=ro(_.numberOfInputs,_.channelCount),ae=ro(_.numberOfOutputs,y),$=p.parameterDescriptors===void 0?[]:p.parameterDescriptors.reduce((U,{name:Z})=>({...U,[Z]:new Float32Array(128)}),{});let _e=!0;const Ze=()=>{_.numberOfOutputs>0&&M.disconnect(A);for(let U=0,Z=0;U<_.numberOfOutputs;U+=1){const ze=R[U];for(let Se=0;Se<y[U];Se+=1)A.disconnect(ze,Z+Se,Se);Z+=y[U]}},j=new Map;M.onaudioprocess=({inputBuffer:U,outputBuffer:Z})=>{if(H!==null){const ze=u(z);for(let Se=0;Se<E;Se+=128){for(let re=0;re<_.numberOfInputs;re+=1)for(let Me=0;Me<_.channelCount;Me+=1)io(U,Te[re],Me,Me,Se);p.parameterDescriptors!==void 0&&p.parameterDescriptors.forEach(({name:re},Me)=>{io(U,$,re,w+Me,Se)});for(let re=0;re<_.numberOfInputs;re+=1)for(let Me=0;Me<y[re];Me+=1)ae[re][Me].byteLength===0&&(ae[re][Me]=new Float32Array(128));try{const re=Te.map((wt,Ss)=>{if(ze[Ss].size>0)return j.set(Ss,E/128),wt;const $o=j.get(Ss);return $o===void 0?[]:(wt.every(c0=>c0.every(l0=>l0===0))&&($o===1?j.delete(Ss):j.set(Ss,$o-1)),wt)});_e=h(d.currentTime+Se/d.sampleRate,d.sampleRate,()=>H.process(re,ae,$));for(let wt=0,Ss=0;wt<_.numberOfOutputs;wt+=1){for(let fi=0;fi<y[wt];fi+=1)nu(Z,ae[wt],fi,Ss+fi,Se);Ss+=y[wt]}}catch(re){_e=!1,z.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!_e){for(let re=0;re<_.numberOfInputs;re+=1){T[re].disconnect(k[re]);for(let Me=0;Me<_.channelCount;Me+=1)k[Se].disconnect(b,Me,re*_.channelCount+Me)}if(p.parameterDescriptors!==void 0){const re=p.parameterDescriptors.length;for(let Me=0;Me<re;Me+=1){const wt=C[Me];wt.disconnect(b,0,w+Me),wt.stop()}}b.disconnect(M),M.onaudioprocess=null,$s?Ze():bn();break}}}};let $s=!1;const Xs=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Sn=()=>M.connect(Xs).connect(d.destination),bn=()=>{M.disconnect(Xs),Xs.disconnect()},o0=()=>{if(_e){bn(),_.numberOfOutputs>0&&M.connect(A);for(let U=0,Z=0;U<_.numberOfOutputs;U+=1){const ze=R[U];for(let Se=0;Se<y[U];Se+=1)A.connect(ze,Z+Se,Se);Z+=y[U]}}$s=!0},a0=()=>{_e&&(Sn(),Ze()),$s=!1};return Sn(),f(z,o0,a0)},ou=(n,e)=>{const t=n.createBiquadFilter();return He(t,e),Ae(t,e,"Q"),Ae(t,e,"detune"),Ae(t,e,"frequency"),Ae(t,e,"gain"),ke(t,e,"type"),t},D5=(n,e)=>(t,s)=>{const i=t.createChannelMerger(s.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,i),He(i,s),i},R5=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ge()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Ge()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Ge()}})},yr=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return He(t,e),R5(t),t},I5=(n,e,t,s,i)=>(r,o)=>{if(r.createConstantSource===void 0)return t(r,o);const a=r.createConstantSource();return He(a,o),Ae(a,o,"offset"),e(s,()=>s(r))||hc(a),e(i,()=>i(r))||uc(a),n(r,a),a},li=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),P5=(n,e,t,s)=>(i,{offset:r,...o})=>{const a=i.createBuffer(1,2,44100),c=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=t(i,{...o,gain:r}),h=a.getChannelData(0);h[0]=1,h[1]=1,c.buffer=a,c.loop=!0;const u={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(m){l.channelCount=m},get channelCountMode(){return l.channelCountMode},set channelCountMode(m){l.channelCountMode=m},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(m){l.channelInterpretation=m},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(m){c.onended=m},addEventListener(...m){return c.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return c.dispatchEvent(m[0])},removeEventListener(...m){return c.removeEventListener(m[0],m[1],m[2])},start(m=0){c.start.call(c,m)},stop(m=0){c.stop.call(c,m)}},f=()=>c.connect(l),d=()=>c.disconnect(l);return n(i,c),s(li(u,l),f,d)},N5=(n,e)=>(t,s)=>{const i=t.createConvolver();if(He(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),ke(i,s,"buffer"),s.channelCount>2||(e(i,"channelCount",r=>()=>r.call(i),r=>o=>{if(o>2)throw n();return r.call(i,o)}),s.channelCountMode==="max"))throw n();return e(i,"channelCountMode",r=>()=>r.call(i),r=>o=>{if(o==="max")throw n();return r.call(i,o)}),i},au=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return He(t,e),Ae(t,e,"delayTime"),t},F5=n=>(e,t)=>{const s=e.createDynamicsCompressor();if(He(s,t),t.channelCount>2||t.channelCountMode==="max")throw n();return Ae(s,t,"attack"),Ae(s,t,"knee"),Ae(s,t,"ratio"),Ae(s,t,"release"),Ae(s,t,"threshold"),s},ft=(n,e)=>{const t=n.createGain();return He(t,e),Ae(t,e,"gain"),t},L5=n=>(e,t,s)=>{if(e.createIIRFilter===void 0)return n(e,t,s);const i=e.createIIRFilter(s.feedforward,s.feedback);return He(i,s),i};function U5(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function V5(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function Nl(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=V5(t,e),t[0]+=n[s];return t}const B5=(n,e,t,s)=>(i,r,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:h})=>{const u=ru(r,i.sampleRate),f=l instanceof Float64Array?l:new Float64Array(l),d=h instanceof Float64Array?h:new Float64Array(h),m=f.length,p=d.length,_=Math.min(m,p);if(m===0||m>20)throw s();if(f[0]===0)throw e();if(p===0||p>20)throw s();if(d[0]===0)throw e();if(f[0]!==1){for(let C=0;C<p;C+=1)d[C]/=f[0];for(let C=1;C<m;C+=1)f[C]/=f[0]}const y=t(i,u,o,o);y.channelCount=o,y.channelCountMode=a,y.channelInterpretation=c;const w=32,S=[],v=[],g=[];for(let C=0;C<o;C+=1){S.push(0);const b=new Float32Array(w),E=new Float32Array(w);b.fill(0),E.fill(0),v.push(b),g.push(E)}y.onaudioprocess=C=>{const b=C.inputBuffer,E=C.outputBuffer,M=b.numberOfChannels;for(let A=0;A<M;A+=1){const R=b.getChannelData(A),I=E.getChannelData(A);S[A]=iu(f,m,d,p,_,v[A],g[A],S[A],w,R,I)}};const T=i.sampleRate/2;return li({get bufferSize(){return u},get channelCount(){return y.channelCount},set channelCount(C){y.channelCount=C},get channelCountMode(){return y.channelCountMode},set channelCountMode(C){y.channelCountMode=C},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(C){y.channelInterpretation=C},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(...C){return y.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return y.dispatchEvent(C[0])},getFrequencyResponse(C,b,E){if(C.length!==b.length||b.length!==E.length)throw n();const M=C.length;for(let A=0;A<M;A+=1){const R=-Math.PI*(C[A]/T),I=[Math.cos(R),Math.sin(R)],F=Nl(d,I),N=Nl(f,I),L=U5(F,N);b[A]=Math.sqrt(L[0]*L[0]+L[1]*L[1]),E[A]=Math.atan2(L[1],L[0])}},removeEventListener(...C){return y.removeEventListener(C[0],C[1],C[2])}},y)},z5=(n,e)=>n.createMediaElementSource(e.mediaElement),H5=(n,e)=>{const t=n.createMediaStreamDestination();return He(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},j5=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((r,o)=>r.id<o.id?-1:r.id>o.id?1:0);const s=t.slice(0,1),i=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:e}),i},q5=(n,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=t.createMediaStreamSource(i);if(s.kind!=="audio")throw n();if(e(t))throw new TypeError;return r},G5=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,W5=(n,e,t,s,i,r)=>(o,a)=>{const c=o.createOscillator();return He(c,a),Ae(c,a,"detune"),Ae(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):ke(c,a,"type"),e(t,()=>t(o))||hc(c),e(s,()=>s(o))||r(c,o),e(i,()=>i(o))||uc(c),n(o,c),c},Z5=n=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?n(e,t):(He(s,t),Ae(s,t,"orientationX"),Ae(s,t,"orientationY"),Ae(s,t,"orientationZ"),Ae(s,t,"positionX"),Ae(s,t,"positionY"),Ae(s,t,"positionZ"),ke(s,t,"coneInnerAngle"),ke(s,t,"coneOuterAngle"),ke(s,t,"coneOuterGain"),ke(s,t,"distanceModel"),ke(s,t,"maxDistance"),ke(s,t,"panningModel"),ke(s,t,"refDistance"),ke(s,t,"rolloffFactor"),s)},Y5=(n,e,t,s,i,r,o,a,c,l)=>(h,{coneInnerAngle:u,coneOuterAngle:f,coneOuterGain:d,distanceModel:m,maxDistance:p,orientationX:_,orientationY:y,orientationZ:w,panningModel:S,positionX:v,positionY:g,positionZ:T,refDistance:k,rolloffFactor:C,...b})=>{const E=h.createPanner();if(b.channelCount>2||b.channelCountMode==="max")throw o();He(E,b);const M={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=t(h,{...M,channelInterpretation:"speakers",numberOfInputs:6}),R=s(h,{...b,gain:1}),I=s(h,{...M,gain:1}),F=s(h,{...M,gain:0}),N=s(h,{...M,gain:0}),L=s(h,{...M,gain:0}),z=s(h,{...M,gain:0}),B=s(h,{...M,gain:0}),q=i(h,256,6,1),H=r(h,{...M,curve:new Float32Array([1,1]),oversample:"none"});let V=[_,y,w],Te=[v,g,T];const ae=new Float32Array(1);q.onaudioprocess=({inputBuffer:j})=>{const $s=[c(j,ae,0),c(j,ae,1),c(j,ae,2)];$s.some((Sn,bn)=>Sn!==V[bn])&&(E.setOrientation(...$s),V=$s);const Xs=[c(j,ae,3),c(j,ae,4),c(j,ae,5)];Xs.some((Sn,bn)=>Sn!==Te[bn])&&(E.setPosition(...Xs),Te=Xs)},Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});const $={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(j){if(j>2)throw o();R.channelCount=j,E.channelCount=j},get channelCountMode(){return E.channelCountMode},set channelCountMode(j){if(j==="max")throw o();R.channelCountMode=j,E.channelCountMode=j},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(j){R.channelInterpretation=j,E.channelInterpretation=j},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(j){E.coneInnerAngle=j},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(j){E.coneOuterAngle=j},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(j){if(j<0||j>1)throw e();E.coneOuterGain=j},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(j){E.distanceModel=j},get inputs(){return[R]},get maxDistance(){return E.maxDistance},set maxDistance(j){if(j<0)throw new RangeError;E.maxDistance=j},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return F.gain},get orientationZ(){return N.gain},get panningModel(){return E.panningModel},set panningModel(j){E.panningModel=j},get positionX(){return L.gain},get positionY(){return z.gain},get positionZ(){return B.gain},get refDistance(){return E.refDistance},set refDistance(j){if(j<0)throw new RangeError;E.refDistance=j},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(j){if(j<0)throw new RangeError;E.rolloffFactor=j},addEventListener(...j){return R.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return R.dispatchEvent(j[0])},removeEventListener(...j){return R.removeEventListener(j[0],j[1],j[2])}};u!==$.coneInnerAngle&&($.coneInnerAngle=u),f!==$.coneOuterAngle&&($.coneOuterAngle=f),d!==$.coneOuterGain&&($.coneOuterGain=d),m!==$.distanceModel&&($.distanceModel=m),p!==$.maxDistance&&($.maxDistance=p),_!==$.orientationX.value&&($.orientationX.value=_),y!==$.orientationY.value&&($.orientationY.value=y),w!==$.orientationZ.value&&($.orientationZ.value=w),S!==$.panningModel&&($.panningModel=S),v!==$.positionX.value&&($.positionX.value=v),g!==$.positionY.value&&($.positionY.value=g),T!==$.positionZ.value&&($.positionZ.value=T),k!==$.refDistance&&($.refDistance=k),C!==$.rolloffFactor&&($.rolloffFactor=C),(V[0]!==1||V[1]!==0||V[2]!==0)&&E.setOrientation(...V),(Te[0]!==0||Te[1]!==0||Te[2]!==0)&&E.setPosition(...Te);const _e=()=>{R.connect(E),n(R,H,0,0),H.connect(I).connect(A,0,0),H.connect(F).connect(A,0,1),H.connect(N).connect(A,0,2),H.connect(L).connect(A,0,3),H.connect(z).connect(A,0,4),H.connect(B).connect(A,0,5),A.connect(q).connect(h.destination)},Ze=()=>{R.disconnect(E),a(R,H,0,0),H.disconnect(I),I.disconnect(A),H.disconnect(F),F.disconnect(A),H.disconnect(N),N.disconnect(A),H.disconnect(L),L.disconnect(A),H.disconnect(z),z.disconnect(A),H.disconnect(B),B.disconnect(A),A.disconnect(q),q.disconnect(h.destination)};return l(li($,E),_e,Ze)},$5=n=>(e,{disableNormalization:t,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,r,{disableNormalization:t});if(Array.from(s).length<2)throw n();return a},Cr=(n,e,t,s)=>n.createScriptProcessor(e,t,s),X5=(n,e)=>(t,s)=>{const i=s.channelCountMode;if(i==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,s);const r=t.createStereoPanner();return He(r,s),Ae(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:o=>{if(o!==i)throw e()}}),r},Q5=(n,e,t,s,i,r)=>{const a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...l,oversample:"none"},u=(m,p,_,y)=>{const w=new Float32Array(16385),S=new Float32Array(16385);for(let b=0;b<16385;b+=1){const E=b/16384*c;w[b]=Math.cos(E),S[b]=Math.sin(E)}const v=t(m,{...l,gain:0}),g=s(m,{...h,curve:w}),T=s(m,{...h,curve:a}),k=t(m,{...l,gain:0}),C=s(m,{...h,curve:S});return{connectGraph(){p.connect(v),p.connect(T.inputs===void 0?T:T.inputs[0]),p.connect(k),T.connect(_),_.connect(g.inputs===void 0?g:g.inputs[0]),_.connect(C.inputs===void 0?C:C.inputs[0]),g.connect(v.gain),C.connect(k.gain),v.connect(y,0,0),k.connect(y,0,1)},disconnectGraph(){p.disconnect(v),p.disconnect(T.inputs===void 0?T:T.inputs[0]),p.disconnect(k),T.disconnect(_),_.disconnect(g.inputs===void 0?g:g.inputs[0]),_.disconnect(C.inputs===void 0?C:C.inputs[0]),g.disconnect(v.gain),C.disconnect(k.gain),v.disconnect(y,0,0),k.disconnect(y,0,1)}}},f=(m,p,_,y)=>{const w=new Float32Array(16385),S=new Float32Array(16385),v=new Float32Array(16385),g=new Float32Array(16385),T=Math.floor(16385/2);for(let L=0;L<16385;L+=1)if(L>T){const z=(L-T)/(16384-T)*c;w[L]=Math.cos(z),S[L]=Math.sin(z),v[L]=0,g[L]=1}else{const z=L/(16384-T)*c;w[L]=1,S[L]=0,v[L]=Math.cos(z),g[L]=Math.sin(z)}const k=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=t(m,{...l,gain:0}),b=s(m,{...h,curve:w}),E=t(m,{...l,gain:0}),M=s(m,{...h,curve:S}),A=s(m,{...h,curve:a}),R=t(m,{...l,gain:0}),I=s(m,{...h,curve:v}),F=t(m,{...l,gain:0}),N=s(m,{...h,curve:g});return{connectGraph(){p.connect(k),p.connect(A.inputs===void 0?A:A.inputs[0]),k.connect(C,0),k.connect(E,0),k.connect(R,1),k.connect(F,1),A.connect(_),_.connect(b.inputs===void 0?b:b.inputs[0]),_.connect(M.inputs===void 0?M:M.inputs[0]),_.connect(I.inputs===void 0?I:I.inputs[0]),_.connect(N.inputs===void 0?N:N.inputs[0]),b.connect(C.gain),M.connect(E.gain),I.connect(R.gain),N.connect(F.gain),C.connect(y,0,0),R.connect(y,0,0),E.connect(y,0,1),F.connect(y,0,1)},disconnectGraph(){p.disconnect(k),p.disconnect(A.inputs===void 0?A:A.inputs[0]),k.disconnect(C,0),k.disconnect(E,0),k.disconnect(R,1),k.disconnect(F,1),A.disconnect(_),_.disconnect(b.inputs===void 0?b:b.inputs[0]),_.disconnect(M.inputs===void 0?M:M.inputs[0]),_.disconnect(I.inputs===void 0?I:I.inputs[0]),_.disconnect(N.inputs===void 0?N:N.inputs[0]),b.disconnect(C.gain),M.disconnect(E.gain),I.disconnect(R.gain),N.disconnect(F.gain),C.disconnect(y,0,0),R.disconnect(y,0,0),E.disconnect(y,0,1),F.disconnect(y,0,1)}}},d=(m,p,_,y,w)=>{if(p===1)return u(m,_,y,w);if(p===2)return f(m,_,y,w);throw i()};return(m,{channelCount:p,channelCountMode:_,pan:y,...w})=>{if(_==="max")throw i();const S=n(m,{...w,channelCount:1,channelCountMode:_,numberOfInputs:2}),v=t(m,{...w,channelCount:p,channelCountMode:_,gain:1}),g=t(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:y});let{connectGraph:T,disconnectGraph:k}=d(m,p,v,g,S);Object.defineProperty(g.gain,"defaultValue",{get:()=>0}),Object.defineProperty(g.gain,"maxValue",{get:()=>1}),Object.defineProperty(g.gain,"minValue",{get:()=>-1});const C={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(A){v.channelCount!==A&&(b&&k(),{connectGraph:T,disconnectGraph:k}=d(m,A,v,g,S),b&&T()),v.channelCount=A},get channelCountMode(){return v.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw i();v.channelCountMode=A},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(A){v.channelInterpretation=A},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get pan(){return g.gain},addEventListener(...A){return v.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return v.dispatchEvent(A[0])},removeEventListener(...A){return v.removeEventListener(A[0],A[1],A[2])}};let b=!1;const E=()=>{T(),b=!0},M=()=>{k(),b=!1};return r(li(C,S),E,M)}},K5=(n,e,t,s,i,r,o)=>(a,c)=>{const l=a.createWaveShaper();if(r!==null&&r.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return t(a,c);He(l,c);const h=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(h!==null&&h.length<2)throw e();ke(l,{curve:h},"curve"),ke(l,c,"oversample");let u=null,f=!1;return o(l,"curve",p=>()=>p.call(l),p=>_=>(p.call(l,_),f&&(s(_)&&u===null?u=n(a,l):!s(_)&&u!==null&&(u(),u=null)),_)),i(l,()=>{f=!0,s(l.curve)&&(u=n(a,l))},()=>{f=!1,u!==null&&(u(),u=null)})},J5=(n,e,t,s,i)=>(r,{curve:o,oversample:a,...c})=>{const l=r.createWaveShaper(),h=r.createWaveShaper();He(l,c),He(h,c);const u=t(r,{...c,gain:1}),f=t(r,{...c,gain:-1}),d=t(r,{...c,gain:1}),m=t(r,{...c,gain:-1});let p=null,_=!1,y=null;const w={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(g){u.channelCount=g,f.channelCount=g,l.channelCount=g,d.channelCount=g,h.channelCount=g,m.channelCount=g},get channelCountMode(){return l.channelCountMode},set channelCountMode(g){u.channelCountMode=g,f.channelCountMode=g,l.channelCountMode=g,d.channelCountMode=g,h.channelCountMode=g,m.channelCountMode=g},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(g){u.channelInterpretation=g,f.channelInterpretation=g,l.channelInterpretation=g,d.channelInterpretation=g,h.channelInterpretation=g,m.channelInterpretation=g},get context(){return l.context},get curve(){return y},set curve(g){if(g!==null&&g.length<2)throw e();if(g===null)l.curve=g,h.curve=g;else{const T=g.length,k=new Float32Array(T+2-T%2),C=new Float32Array(T+2-T%2);k[0]=g[0],C[0]=-g[T-1];const b=Math.ceil((T+1)/2),E=(T+1)/2-1;for(let M=1;M<b;M+=1){const A=M/b*E,R=Math.floor(A),I=Math.ceil(A);k[M]=R===I?g[R]:(1-(A-R))*g[R]+(1-(I-A))*g[I],C[M]=R===I?-g[T-1-R]:-((1-(A-R))*g[T-1-R])-(1-(I-A))*g[T-1-I]}k[b]=T%2===1?g[b-1]:(g[b-2]+g[b-1])/2,l.curve=k,h.curve=C}y=g,_&&(s(y)&&p===null?p=n(r,u):p!==null&&(p(),p=null))},get inputs(){return[u]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(g){l.oversample=g,h.oversample=g},addEventListener(...g){return u.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return u.dispatchEvent(g[0])},removeEventListener(...g){return u.removeEventListener(g[0],g[1],g[2])}};o!==null&&(w.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==w.oversample&&(w.oversample=a);const S=()=>{u.connect(l).connect(d),u.connect(f).connect(h).connect(m).connect(d),_=!0,s(y)&&(p=n(r,u))},v=()=>{u.disconnect(l),l.disconnect(d),u.disconnect(f),f.disconnect(h),h.disconnect(m),m.disconnect(d),_=!1,p!==null&&(p(),p=null)};return i(li(w,d),S,v)},rt=()=>new DOMException("","NotSupportedError"),e4={numberOfChannels:1},t4=(n,e,t,s,i)=>class extends n{constructor(o,a,c){let l;if(typeof o=="number"&&a!==void 0&&c!==void 0)l={length:a,numberOfChannels:o,sampleRate:c};else if(typeof o=="object")l=o;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:u,sampleRate:f}={...e4,...l},d=s(u,h,f);e(zi,()=>zi(d))||d.addEventListener("statechange",(()=>{let m=0;const p=_=>{this._state==="running"&&(m>0?(d.removeEventListener("statechange",p),_.stopImmediatePropagation(),this._waitForThePromiseToSettle(_)):m+=1)};return p})()),super(d,u),this._length=h,this._nativeOfflineAudioContext=d,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Kh(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},s4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},n4=(n,e,t,s,i,r,o)=>class extends n{constructor(c,l){const h=i(c),u={...s4,...l},f=t(h,u),d=r(h),m=d?s():null,p=c.sampleRate/2;super(c,!1,f,m),this._detune=e(this,d,f.detune,153600,-153600),this._frequency=e(this,d,f.frequency,p,-p),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&u.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeOscillatorNode.onended=l;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===l?c:h}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){$n(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),fs(this)&&_r(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},i4=(n,e,t,s,i)=>()=>{const r=new WeakMap;let o=null,a=null,c=null;const l=async(h,u)=>{let f=t(h);const d=Je(f,u);if(!d){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:o===null?void 0:o,type:f.type};f=e(u,m),a!==null&&f.start(a),c!==null&&f.stop(c)}return r.set(u,f),d?(await n(u,h.detune,f.detune),await n(u,h.frequency,f.frequency)):(await s(u,h.detune,f.detune),await s(u,h.frequency,f.frequency)),await i(h,u,f),f};return{set periodicWave(h){o=h},set start(h){a=h},set stop(h){c=h},render(h,u){const f=r.get(u);return f!==void 0?Promise.resolve(f):l(h,u)}}},r4={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},o4=(n,e,t,s,i,r,o)=>class extends n{constructor(c,l){const h=i(c),u={...r4,...l},f=t(h,u),d=r(h),m=d?s():null;super(c,!1,f,m),this._nativePannerNode=f,this._orientationX=e(this,d,f.orientationX,et,at),this._orientationY=e(this,d,f.orientationY,et,at),this._orientationZ=e(this,d,f.orientationZ,et,at),this._positionX=e(this,d,f.positionX,et,at),this._positionY=e(this,d,f.positionY,et,at),this._positionZ=e(this,d,f.positionZ,et,at),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},a4=(n,e,t,s,i,r,o,a,c,l)=>()=>{const h=new WeakMap;let u=null;const f=async(d,m)=>{let p=null,_=r(d);const y={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},w={...y,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},S=Je(_,m);if("bufferSize"in _)p=s(m,{...y,gain:1});else if(!S){const v={...w,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=i(m,v)}if(h.set(m,p===null?_:p),p!==null){if(u===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const M=new o(6,d.context.length,m.sampleRate),A=e(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});A.connect(M.destination),u=(async()=>{const R=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map(async(I,F)=>{const N=t(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F===0?1:0});return await a(M,I,N.offset),N}));for(let I=0;I<6;I+=1)R[I].connect(A,0,I),R[I].start(0);return l(M)})()}const v=await u,g=s(m,{...y,gain:1});await c(d,m,g);const T=[];for(let M=0;M<v.numberOfChannels;M+=1)T.push(v.getChannelData(M));let k=[T[0][0],T[1][0],T[2][0]],C=[T[3][0],T[4][0],T[5][0]],b=s(m,{...y,gain:1}),E=i(m,{...w,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:C[0],positionY:C[1],positionZ:C[2]});g.connect(b).connect(E.inputs[0]),E.connect(p);for(let M=128;M<v.length;M+=128){const A=[T[0][M],T[1][M],T[2][M]],R=[T[3][M],T[4][M],T[5][M]];if(A.some((I,F)=>I!==k[F])||R.some((I,F)=>I!==C[F])){k=A,C=R;const I=M/m.sampleRate;b.gain.setValueAtTime(0,I),b=s(m,{...y,gain:0}),E=i(m,{...w,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),b.gain.setValueAtTime(1,I),g.connect(b).connect(E.inputs[0]),E.connect(p)}}return p}return S?(await n(m,d.orientationX,_.orientationX),await n(m,d.orientationY,_.orientationY),await n(m,d.orientationZ,_.orientationZ),await n(m,d.positionX,_.positionX),await n(m,d.positionY,_.positionY),await n(m,d.positionZ,_.positionZ)):(await a(m,d.orientationX,_.orientationX),await a(m,d.orientationY,_.orientationY),await a(m,d.orientationZ,_.orientationZ),await a(m,d.positionX,_.positionX),await a(m,d.positionY,_.positionY),await a(m,d.positionZ,_.positionZ)),ci(_)?await c(d,m,_.inputs[0]):await c(d,m,_),_};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},c4={disableNormalization:!1},l4=(n,e,t,s)=>class cu{constructor(r,o){const a=e(r),c=s({...c4,...o}),l=n(a,c);return t.add(l),l}static[Symbol.hasInstance](r){return r!==null&&typeof r=="object"&&Object.getPrototypeOf(r)===cu.prototype||t.has(r)}},h4=(n,e)=>(t,s,i)=>(n(s).replay(i),e(s,t,i)),u4=(n,e,t)=>async(s,i,r)=>{const o=n(s);await Promise.all(o.activeInputs.map((a,c)=>Array.from(a).map(async([l,h])=>{const f=await e(l).render(l,i),d=s.context.destination;!t(l)&&(s!==d||!t(s))&&f.connect(r,h,c)})).reduce((a,c)=>[...a,...c],[]))},d4=(n,e,t)=>async(s,i,r)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,c])=>{const h=await n(a).render(a,i);t(a)||h.connect(r,c)}))},f4=(n,e,t,s)=>i=>n(zi,()=>zi(i))?Promise.resolve(n(s,s)).then(r=>{if(!r){const o=t(i,512,0,1);i.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>i.currentTime,o.connect(i.destination)}return i.startRendering()}):new Promise(r=>{const o=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=a=>{o.disconnect(),r(a.renderedBuffer)},o.connect(i.destination),i.startRendering()}),p4=n=>(e,t)=>{n.set(e,t)},m4=n=>(e,t)=>n.set(e,t),_4=(n,e,t,s,i,r,o,a)=>(c,l)=>t(c).render(c,l).then(()=>Promise.all(Array.from(s(l)).map(h=>t(h).render(h,l)))).then(()=>i(l)).then(h=>(typeof h.copyFromChannel!="function"?(o(h),ac(h)):e(r,()=>r(h))||a(h),n.add(h),h)),g4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},v4=(n,e,t,s,i,r)=>class extends n{constructor(a,c){const l=i(a),h={...g4,...c},u=t(l,h),f=r(l),d=f?s():null;super(a,!1,u,d),this._pan=e(this,f,u.pan)}get pan(){return this._pan}},y4=(n,e,t,s,i)=>()=>{const r=new WeakMap,o=async(a,c)=>{let l=t(a);const h=Je(l,c);if(!h){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(c,u)}return r.set(c,l),h?await n(c,a.pan,l.pan):await s(c,a.pan,l.pan),ci(l)?await i(a,c,l.inputs[0]):await i(a,c,l),l};return{render(a,c){const l=r.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},C4=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},x4=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),i=URL.createObjectURL(t);let r=!1,o=!1;try{await s.audioWorklet.addModule(i);const a=new n(s,"a",{numberOfOutputs:0}),c=s.createOscillator();a.port.onmessage=()=>r=!0,a.onprocessorerror=()=>o=!0,c.connect(a),c.start(0),await s.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(i)}return r&&!o},T4=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{t.oncomplete=()=>{s.disconnect(),i(t.currentTime!==0)},t.startRendering()})},w4=()=>new DOMException("","UnknownError"),k4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},S4=(n,e,t,s,i,r,o)=>class extends n{constructor(c,l){const h=i(c),u={...k4,...l},f=t(h,u),m=r(h)?s():null;super(c,!0,f,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},b4=(n,e,t)=>()=>{const s=new WeakMap,i=async(r,o)=>{let a=e(r);if(!Je(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=n(o,l)}return s.set(o,a),ci(a)?await t(r,o,a.inputs[0]):await t(r,o,a),a};return{render(r,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):i(r,o)}}},E4=()=>typeof window>"u"?null:window,O4=(n,e)=>t=>{t.copyFromChannel=(s,i,r=0)=>{const o=n(r),a=n(i);if(a>=t.numberOfChannels)throw e();const c=t.length,l=t.getChannelData(a),h=s.length;for(let u=o<0?-o:0;u+o<c&&u<h;u+=1)s[u]=l[u+o]},t.copyToChannel=(s,i,r=0)=>{const o=n(r),a=n(i);if(a>=t.numberOfChannels)throw e();const c=t.length,l=t.getChannelData(a),h=s.length;for(let u=o<0?-o:0;u+o<c&&u<h;u+=1)l[u+o]=s[u]}},M4=n=>e=>{e.copyFromChannel=(t=>(s,i,r=0)=>{const o=n(r),a=n(i);if(o<e.length)return t.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(t=>(s,i,r=0)=>{const o=n(r),a=n(i);if(o<e.length)return t.call(e,s,a,o)})(e.copyToChannel)},A4=n=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),n(e,"buffer",i=>()=>{const r=i.call(e);return r===s?null:r},i=>r=>i.call(e,r===null?s:r))},D4=(n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const i=t.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let c=0;c<a;c+=1)i.connect(s,0,c)},()=>i.disconnect(s))},lu=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),hu=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},xr=(n,e,t,s)=>{let i=n;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:r,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(n,e,{get:t(r),set:s(o)})},R4=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),I4=n=>({...n,channelCount:n.numberOfOutputs}),P4=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},uu=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;uu(n,e,t+1e-7)}},N4=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},F4=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},L4=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},dc=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},du=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},fc=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},U4=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},V4=n=>{n.start=(e=>(t=0,s=0,i)=>{const r=n.buffer,o=r===null?s:Math.min(r.duration,s);r!==null&&o>r.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,o,i)})(n.start)},fu=(n,e)=>{const t=e.createGain();n.connect(t);const s=(i=>()=>{i.call(n,t),n.removeEventListener("ended",s)})(n.disconnect);n.addEventListener("ended",s),li(n,t),n.stop=(i=>{let r=!1;return(o=0)=>{if(r)try{i.call(n,o)}catch{t.gain.setValueAtTime(0,o)}else i.call(n,o),r=!0}})(n.stop)},hi=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},B4=om(xn),z4=dm(xn),H4=k3(Io),pu=new WeakMap,j4=H3(pu),Ht=e3(new Map,new WeakMap),Qt=E4(),mu=v5(Ht,ts),pc=z3(st),Ye=u4(st,pc,fn),q4=gm(mu,we,Ye),Ce=G3(Ro),Ts=G5(Qt),ue=c5(Ts),_u=new WeakMap,gu=P3(hi),Tr=T5(Qt),mc=i5(Tr),_c=r5(Qt),vu=o5(Qt),Hi=k5(Qt),Ve=Hm(am(Gh),um(B4,z4,to,H4,so,st,j4,mr,we,xn,fs,fn,qr),Ht,J3(Ea,so,st,we,Bi,fs),ts,Po,rt,C3(to,Ea,st,we,Bi,Ce,fs,ue),E3(_u,st,Vt),gu,Ce,mc,_c,vu,ue,Hi),G4=_m(Ve,q4,ts,mu,Ce,ue),gc=new WeakSet,Fl=y5(Qt),yu=f3(new Uint32Array(1)),vc=O4(yu,ts),yc=M4(yu),Cu=ym(gc,Ht,rt,Fl,Ts,C4(Fl),vc,yc),No=fm(ft),xu=d4(pc,gr,fn),ss=a3(xu),ui=x5(No,Ht,N4,F4,L4,dc,du,fc,V4,A4(xr),fu),ns=h4(j3(gr),xu),W4=Tm(ss,ui,we,ns,Ye),jt=jm(cm(Wh),_u,oc,qm,em,tm,sm,nm,im,ka,jh,Tr,uu),Z4=xm(Ve,W4,jt,Ge,ui,Ce,ue,hi),Y4=Dm(Ve,Rm,ts,Ge,w5(ft,xr),Ce,ue,Ye),$4=Jm(ss,ou,we,ns,Ye),Tn=m4(pu),X4=Km(Ve,jt,$4,Po,ou,Ce,ue,Tn),Ws=_5(xn,_c),Q4=D4(Ge,Ws),Zs=D5(Tr,Q4),K4=n3(Zs,we,Ye),J4=s3(Ve,K4,Zs,Ce,ue),e_=o3(yr,we,Ye),t_=r3(Ve,e_,yr,Ce,ue,I4),s_=P5(No,ui,ft,Ws),di=I5(No,Ht,s_,dc,fc),n_=d3(ss,di,we,ns,Ye),i_=u3(Ve,jt,n_,di,Ce,ue,hi),Tu=N5(rt,xr),r_=_3(Tu,we,Ye),o_=m3(Ve,r_,Tu,Ce,ue,Tn),a_=w3(ss,au,we,ns,Ye),c_=T3(Ve,jt,a_,au,Ce,ue,Tn),wu=F5(rt),l_=D3(ss,wu,we,ns,Ye),h_=A3(Ve,jt,l_,wu,rt,Ce,ue,Tn),u_=V3(ss,ft,we,ns,Ye),d_=U3(Ve,jt,u_,ft,Ce,ue),f_=B5(Po,Ge,Cr,rt),Fo=f4(Ht,ft,Cr,T4(ft,Ts)),p_=K3(ui,we,Ts,Ye,Fo),m_=L5(f_),__=X3(Ve,m_,p_,Ce,ue,Tn),g_=Im(jt,Zs,di,Cr,rt,lu,ue,xr),ku=new WeakMap,v_=m5(Y4,g_,gu,ue,ku,hi),Su=W5(No,Ht,dc,du,fc,fu),y_=i4(ss,Su,we,ns,Ye),C_=n4(Ve,jt,Su,y_,Ce,ue,hi),bu=l3(ui),x_=J5(bu,Ge,ft,hu,Ws),Lo=K5(bu,Ge,x_,hu,Ws,Tr,xr),T_=Y5(to,Ge,Zs,ft,Cr,Lo,rt,so,lu,Ws),Eu=Z5(T_),w_=a4(ss,Zs,di,ft,Eu,we,Ts,ns,Ye,Fo),k_=o4(Ve,jt,Eu,w_,Ce,ue,Tn),S_=$5(ts),b_=l4(S_,Ce,new WeakSet,P4),E_=Q5(Zs,yr,ft,Lo,rt,Ws),Ou=X5(E_,rt),O_=y4(ss,Ou,we,ns,Ye),M_=v4(Ve,jt,Ou,O_,Ce,ue),A_=b4(Lo,we,Ye),D_=S4(Ve,Ge,Lo,A_,Ce,ue,Tn),Mu=l5(Qt),Cc=N3(Qt),Au=new WeakMap,R_=W3(Au,Ts),I_=Mu?hm(Ht,rt,I3(Qt),Cc,F3(rm),Ce,R_,ue,Hi,new WeakMap,new WeakMap,x4(Hi,Ts),Qt):void 0,P_=a5(mc,ue),N_=y3(gc,Ht,v3,R3,new WeakSet,Ce,P_,Jr,zi,vc,yc),Du=Xm(I_,G4,Cu,Z4,X4,J4,t_,i_,o_,N_,c_,h_,d_,__,v_,C_,k_,b_,M_,D_),F_=h5(Ve,z5,Ce,ue),L_=d5(Ve,H5,Ce,ue),U_=f5(Ve,j5,Ce,ue),V_=q5(Ge,ue),B_=p5(Ve,V_,Ce),z_=Am(Du,Ge,rt,w4,F_,L_,U_,B_,Tr),xc=Z3(ku),H_=pm(xc),Ru=c3(ts),j_=S3(xc),Iu=O3(ts),Pu=new WeakMap,q_=B3(Pu,Vt),G_=A5(Ru,ts,Ge,Zs,yr,di,ft,Cr,rt,Iu,Cc,q_,Ws),W_=b5(Ge,G_,ft,rt,Ws),Z_=$m(ss,Ru,ui,Zs,yr,di,ft,j_,Iu,Cc,we,Hi,Ts,ns,Ye,Fo),Y_=q3(Au),$_=p4(Pu),Ll=Mu?Wm(H_,Ve,jt,Z_,W_,st,Y_,Ce,ue,Hi,R4,$_,U4,hi):void 0,X_=g3(rt,Ts),Q_=_4(gc,Ht,pc,xc,Fo,Jr,vc,yc),K_=t4(Du,Ht,Ge,X_,Q_),J_=e5(Ro,mc),e6=t5(rc,_c),t6=s5(oc,vu),s6=n5(Ro,ue);function yt(n){return typeof n>"u"}function te(n){return!yt(n)}function n6(n){return typeof n=="function"}function Vs(n){return typeof n=="number"}function an(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function i6(n){return typeof n=="boolean"}function Ut(n){return Array.isArray(n)}function ms(n){return typeof n=="string"}function Ur(n){return ms(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function K(n,e){if(!n)throw new Error(e)}function Bt(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function Nu(n){!n.isOffline&&n.state!=="running"&&Tc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Fu=!1,Ul=!1;function Vl(n){Fu=n}function r6(n){yt(n)&&Fu&&!Ul&&(Ul=!0,Tc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Lu=console;function o6(...n){Lu.log(...n)}function Tc(...n){Lu.warn(...n)}function a6(n){return new z_(n)}function c6(n,e,t){return new K_(n,e,t)}const cn=typeof self=="object"?self:null,l6=cn&&(cn.hasOwnProperty("AudioContext")||cn.hasOwnProperty("webkitAudioContext"));function h6(n,e,t){return K(te(Ll),"This node only works in a secure context (https or localhost)"),new Ll(n,e,t)}class u6{constructor(e,t,s,i){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function pn(n){return t6(n)}function Fs(n){return e6(n)}function Gr(n){return s6(n)}function Nn(n){return J_(n)}function d6(n){return n instanceof Cu}function f6(n,e){return n==="value"||pn(e)||Fs(e)||d6(e)}function zn(n,...e){if(!e.length)return n;const t=e.shift();if(an(n)&&an(t))for(const s in t)f6(s,t[s])?n[s]=t[s]:an(t[s])?(n[s]||Object.assign(n,{[s]:{}}),zn(n[s],t[s])):Object.assign(n,{[s]:t[s]});return zn(n,...e)}function p6(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}function P(n,e,t=[],s){const i={},r=Array.from(e);if(an(r[0])&&s&&!Reflect.has(r[0],s)&&(Object.keys(r[0]).some(a=>Reflect.has(n,a))||(zn(i,{[s]:r[0]}),t.splice(t.indexOf(s),1),r.shift())),r.length===1&&an(r[0]))zn(i,r[0]);else for(let o=0;o<t.length;o++)te(r[o])&&(i[t[o]]=r[o]);return zn(n,i)}function m6(n){return n.constructor.getDefaults()}function Hn(n,e){return yt(n)?e:n}function Ln(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class ws{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||cn&&this.toString()===cn.TONE_DEBUG_CLASS)&&o6(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ws.version=Hh;const wc=1e-6;function Xn(n,e){return n>e+wc}function Ra(n,e){return Xn(n,e)||Nt(n,e)}function oo(n,e){return n+wc<e}function Nt(n,e){return Math.abs(n-e)<wc}function _6(n,e,t){return Math.max(Math.min(n,t),e)}let $t=class Uu extends ws{constructor(){super(),this.name="Timeline",this._timeline=[];const e=P(Uu.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(K(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];K(Ra(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Nt(this._timeline[t].time,e)){for(let s=t;s>=0&&Nt(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Ra(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const i=this._timeline.length;let r=i;if(i>0&&this._timeline[i-1][t]<=e)return i-1;for(;s<r;){let o=Math.floor(s+(r-s)/2);const a=this._timeline[o],c=this._timeline[o+1];if(Nt(a[t],e)){for(let l=o;l<this._timeline.length;l++){const h=this._timeline[l];if(Nt(h[t],e))o=l;else break}return o}else{if(oo(a[t],e)&&Xn(c[t],e))return o;Xn(a[t],e)?r=o:s=o+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let i=this._search(e),r=this._search(t);return i!==-1&&r!==-1?(this._timeline[i].time!==e&&(i+=1),this._timeline[r].time===t&&(r-=1),this._iterate(s,i,r)):i===-1&&this._iterate(s,0,r),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&Nt(this._timeline[s].time,e)){let i=s;for(let r=s;r>=0&&Nt(this._timeline[r].time,e);r--)i=r;this._iterate(r=>{t(r)},i,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const Vu=[];function Uo(n){Vu.push(n)}function g6(n){Vu.forEach(e=>e(n))}const Bu=[];function Vo(n){Bu.push(n)}function v6(n){Bu.forEach(e=>e(n))}class wr extends ws{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(i=>{yt(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(t)}),this}once(e,t){const s=(...i)=>{t(...i),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(i=>{if(yt(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(yt(t))this._events[i]=[];else{const r=this._events[i];for(let o=r.length-1;o>=0;o--)r[o]===t&&r.splice(o,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let i=0,r=s.length;i<r;i++)s[i].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(wr.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class zu extends wr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let kc=class Hu extends zu{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new $t,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=P(Hu.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=a6({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new u6(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(g6(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return K(Nn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return K(Nn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return K(Nn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){K(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){K(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){K(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){K(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return h6(this.rawContext,e,t)}addAudioWorkletModule(e){return Le(this,void 0,void 0,function*(){K(te(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Le(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Nn(this._context)?this._context.resume():Promise.resolve()}close(){return Le(this,void 0,void 0,function*(){Nn(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&v6(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let r=0;r<s.length;r++)s[r]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=t,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,i=()=>{const r=this.now();this._timeouts.add({callback:()=>{e(),i()},id:s,time:r+t})};return i(),s}};class y6 extends zu{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Le(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function xe(n,e){Ut(e)?e.forEach(t=>xe(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function Sc(n,e){Ut(e)?e.forEach(t=>Sc(n,t)):Object.defineProperty(n,e,{writable:!0})}const ce=()=>{};class le extends ws{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ce;const e=P(le.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,ms(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ce,onload:ce,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ft().sampleRate}set(e){return e instanceof le?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Le(this,void 0,void 0,function*(){const t=le.load(e).then(s=>{this.set(s),this.onload(this)});le.downloads.push(t);try{yield t}finally{const s=le.downloads.indexOf(t);le.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Ut(e)&&e[0].length>0,s=t?e.length:1,i=t?e[0].length:e.length,r=Ft(),o=r.createBuffer(s,i,r.sampleRate),a=!t&&s===1?[e]:e;for(let c=0;c<s;c++)o.copyToChannel(a[c],c);return this._buffer=o,this}toMono(e){if(Vs(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let i=0;i<s;i++){const r=this.toArray(i);for(let o=0;o<r.length;o++)t[o]+=r[o]}t=t.map(i=>i/s),this.fromArray(t)}return this}toArray(e){if(Vs(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){K(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),i=Math.floor(t*this.sampleRate);K(s<i,"The start time must be less than the end time");const r=i-s,o=Ft().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,i),a);return new le(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new le().fromArray(e)}static fromUrl(e){return Le(this,void 0,void 0,function*(){return yield new le().load(e)})}static load(e){return Le(this,void 0,void 0,function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const c=t[1].split("|");let l=c[0];for(const h of c)if(le.supportsType(h)){l=h;break}e=e.replace(t[0],l)}const s=le.baseUrl===""||le.baseUrl.endsWith("/")?le.baseUrl:le.baseUrl+"/",i=document.createElement("a");i.href=s+e,i.pathname=(i.pathname+i.hash).split("/").map(encodeURIComponent).join("/");const r=yield fetch(i.href);if(!r.ok)throw new Error(`could not load url: ${e}`);const o=yield r.arrayBuffer();return yield Ft().decodeAudioData(o)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Le(this,void 0,void 0,function*(){for(yield Promise.resolve();le.downloads.length;)yield le.downloads[0]})}}le.baseUrl="";le.downloads=[];class Bo extends kc{constructor(){super({clockSource:"offline",context:Gr(arguments[0])?arguments[0]:c6(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Gr(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Gr(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Le(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(e=!0){return Le(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new le(t)})}close(){return Promise.resolve()}}const ju=new y6;let nn=ju;function Ft(){return nn===ju&&l6&&C6(new kc),nn}function C6(n,e=!1){e&&nn.dispose(),Nn(n)?nn=new kc(n):Gr(n)?nn=new Bo(n):nn=n}function x6(){return nn.resume()}if(cn&&!cn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Hh} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function T6(n){return Math.pow(10,n/20)}function w6(n){return 20*(Math.log(n)/Math.LN10)}function qu(n){return Math.pow(2,n/12)}let zo=440;function k6(){return zo}function S6(n){zo=n}function Ia(n){return Math.round(Gu(n))}function Gu(n){return 69+12*Math.log2(n/zo)}function b6(n){return zo*Math.pow(2,(n-69)/12)}class bc extends ws{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),i=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/s)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let i=0;return e&&e!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(i+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(i+=this._beatsToUnits(parseFloat(s)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof bc&&this.fromType(this._val),yt(this._val))return this._noArg();if(ms(this._val)&&yt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(an(this._val)){let e=0;for(const t in this._val)if(te(this._val[t])){const s=this._val[t],i=new this.constructor(this.context,t).valueOf()*s;e+=i}return e}if(te(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return ms(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Lt extends bc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Lt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),i=this.valueOf(),a=Math.round(i/s)*s-i;return i+a*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let r=1;r<9;r++){const o=Math.pow(2,r);t.push(o+"n."),t.push(o+"n"),t.push(o+"t")}t.push("0");let s=t[0],i=new Lt(this.context,t[0]).toSeconds();return t.forEach(r=>{const o=new Lt(this.context,r).toSeconds();Math.abs(o-e)<Math.abs(i-e)&&(s=r,i=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let i=t%1*4;t=Math.floor(t)%this._getTimeSignature();const r=i.toString();return r.length>3&&(i=parseFloat(parseFloat(r).toFixed(3))),[s,t,i].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ia(this.toFrequency())}_now(){return this.context.now()}}class Et extends Lt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return k6()}static set A4(e){S6(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Et.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const i=E6[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?i:Et.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let i=1;return e&&e!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(i*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(i*=this._beatsToUnits(parseFloat(s)/4)),i}}})}transpose(e){return new Et(this.context,this.valueOf()*qu(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Ia(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Et.A4);let s=Math.round(12*t)+57;const i=Math.floor(s/12);return i<0&&(s+=-12*i),O6[s%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return b6(e)}static ftom(e){return Ia(e)}}const E6={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},O6=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ni extends Lt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ct extends ws{constructor(){super();const e=P(ct.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ft()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return r6(e),new Lt(this.context,e).toSeconds()}toFrequency(e){return new Et(this.context,e).toFrequency()}toTicks(e){return new Ni(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{yt(e[s])&&delete t[s]}),t}get(){const e=m6(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];te(s)&&te(s.value)&&te(s.setValueAtTime)?e[t]=s.value:s instanceof ct?e[t]=s._getPartialProperties(e[t]):Ut(s)||Vs(s)||ms(s)||i6(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&te(this[t])&&(this[t]&&te(this[t].value)&&te(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof ct?this[t].set(e[t]):this[t]=e[t])}),this}}class Ec extends $t{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return Bt(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let i=s;i>=0;i--){const r=this._timeline[i];if(r.state===e)return r}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let i=s;i<this._timeline.length;i++){const r=this._timeline[i];if(r.state===e)return r}}}class he extends ct{constructor(){super(P(he.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=P(he.getDefaults(),arguments,["param","units","convert"]);for(K(te(e.param)&&(pn(e.param)||e.param instanceof he),"param must be an AudioParam");!pn(e.param);)e.param=e.param._param;this._swappable=te(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new $t(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,te(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ct.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return te(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return te(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return te(this.maxValue)&&te(this.minValue)&&Bt(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?T6(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?w6(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),i=this._fromType(e);return K(isFinite(i)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),i=this._events.get(t);let r=this._initialValue;if(i===null)r=this._initialValue;else if(i.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(i.time);let a;o===null?a=this._initialValue:a=o.value,i.type==="setTargetAtTime"&&(r=this._exponentialApproach(i.time,a,i.value,i.constant,t))}else if(s===null)r=i.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=i.value;if(i.type==="setTargetAtTime"){const a=this._events.getBefore(i.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?r=this._linearInterpolate(i.time,o,s.time,s.value,t):r=this._exponentialInterpolate(i.time,o,s.time,s.value,t)}else r=i.value;return this._toType(r)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),i=this.toSeconds(t);return K(isFinite(s)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:i,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(s,i),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=Nt(s,0)?this._minOutput:s,this._assertRange(s);const i=this.toSeconds(t);return K(isFinite(s)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(s,i),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const i=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,i),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const i=this._fromType(e);K(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(t);return this._assertRange(i),K(isFinite(i)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:r,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,r,s),this._param.setTargetAtTime(i,r,s),this}setValueCurveAtTime(e,t,s,i=1){s=this.toSeconds(s),t=this.toSeconds(t);const r=this._fromType(e[0])*i;this.setValueAtTime(this._toType(r),t);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*i;this.linearRampToValueAtTime(this._toType(c),t+a*o)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return K(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));K(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const i=this._events.get(t),r=this._events.getAfter(t);return i&&Nt(i.time,t)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),r.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):r.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const i=this._events.getAfter(s.time),r=i?i.time:t+2,o=(r-t)/10;for(let a=t;a<r;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?e.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?e.setTargetAtTime(i.value,i.time,i.constant):e[i.type](i.value,i.time)}),this}setParam(e){K(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,i,r){return s+(t-s)*Math.exp(-(r-e)/i)}_linearInterpolate(e,t,s,i,r){return t+(i-t)*((r-e)/(s-e))}_exponentialInterpolate(e,t,s,i,r){return t*Math.pow(i/t,(r-e)/(s-e))}}class G extends ct{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return te(this.input)?pn(this.input)||this.input instanceof he?1:this.input.numberOfInputs:0}get numberOfOutputs(){return te(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return te(e)&&(e instanceof G||Fs(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();K(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return Bs(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Tc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return M6(this,e,t,s),this}chain(...e){return ji(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),te(this.input)&&(this.input instanceof G?this.input.dispose():Fs(this.input)&&this.input.disconnect()),te(this.output)&&(this.output instanceof G?this.output.dispose():Fs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function ji(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof G?t.connect(s):Fs(t)&&Bs(t,s),s),e)}function Bs(n,e,t=0,s=0){for(K(te(n),"Cannot connect from undefined node"),K(te(e),"Cannot connect to undefined node"),(e instanceof G||Fs(e))&&K(e.numberOfInputs>0,"Cannot connect to node with no inputs"),K(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof G||e instanceof he;)te(e.input)&&(e=e.input);for(;n instanceof G;)te(n.output)&&(n=n.output);pn(e)?n.connect(e,t):n.connect(e,t,s)}function M6(n,e,t=0,s=0){if(te(e))for(;e instanceof G;)e=e.input;for(;!Fs(n);)te(n.output)&&(n=n.output);pn(e)?n.disconnect(e,t):Fs(e)?n.disconnect(e,t,s):n.disconnect()}class me extends G{constructor(){super(P(me.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=P(me.getDefaults(),arguments,["gain","units"]);this.gain=new he({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),xe(this,"gain")}static getDefaults(){return Object.assign(G.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Qn extends G{constructor(e){super(e),this.onended=ce,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new me({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(G.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ce})}_startGain(e,t=1){K(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){K(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ce&&(this.onended(this),this.onended=ce,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),K(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ce,this}}class ao extends Qn{constructor(){super(P(ao.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=P(ao.getDefaults(),arguments,["offset"]);Bs(this._source,this._gainNode),this.offset=new he({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Qn.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ye extends G{constructor(){super(P(ye.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=P(ye.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ao({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(G.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return Oc(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,i){return this._param.setValueCurveAtTime(e,t,s,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Oc(n,e,t,s){(e instanceof he||pn(e)||e instanceof ye&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ye&&(e.overridden=!0)),Bs(n,e,t,s)}class co extends he{constructor(){super(P(co.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new $t(1/0),this._multiplier=1;const e=P(co.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(he.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const i=this._fromType(e),r=this._events.get(t),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const c=s*a+t,l=this._exponentialApproach(r.time,r.value,i,s,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const i=this._events.get(s),r=this._events.previousEvent(i),o=this._getTicksUntilEvent(r,s);return i.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const i=this._events.get(s),r=this._events.previousEvent(i),o=this._getTicksUntilEvent(r,s);return i.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),i=this._events.get(t),r=Math.round(Math.max((t-i.time)*10,1)),o=(t-i.time)/r;for(let a=0;a<=r;a++){const c=o*a+i.time,l=this._exponentialInterpolate(i.time,i.value,t,s,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(yt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(t));const r=this._events.get(t);return r&&r.time===t&&r.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+i)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),i=this.getTicksAtTime(t);return this.getTimeOfTick(i+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const i=this._fromType(this.getValueAtTime(t.time)),o=(this._fromType(this.getValueAtTime(s.time))-i)/(s.time-t.time),a=Math.sqrt(Math.pow(i,2)-2*o*(t.ticks-e)),c=(-i+a)/o,l=(-i-a)/o;return(c>0?c:l)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),i=this.toSeconds(e),r=this.getTicksAtTime(s);return this.getTicksAtTime(s+i)-r}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class lo extends ye{constructor(){super(P(lo.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=P(lo.getDefaults(),arguments,["value"]);this.input=this._param=new co({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ye.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ho extends ct{constructor(){super(P(ho.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Ec,this._tickOffset=new $t,this._ticksAtTime=new $t,this._secondsAtTime=new $t;const e=P(ho.getDefaults(),arguments,["frequency"]);this.frequency=new lo({context:this.context,units:e.units,value:e.frequency}),xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ct.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),te(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),i=this._ticksAtTime.get(t),r={state:"paused",time:t};this._state.add(r);let o=i||s,a=i?i.ticks:0,c=null;return this._state.forEachBetween(o.time,t+this.sampleTime,l=>{let h=o.time;const u=this._tickOffset.get(l.time);u&&u.time>=o.time&&(a=u.ticks,h=u.time),o.state==="started"&&l.state!=="started"&&(a+=this.frequency.getTicksAtTime(l.time)-this.frequency.getTicksAtTime(h),l.time!=r.time&&(c={state:l.state,time:l.time,ticks:a})),o=l}),this._state.remove(r),c&&this._ticksAtTime.add(c),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const i=this._secondsAtTime.get(e);let r=i||t,o=i?i.seconds:0,a=null;return this._state.forEachBetween(r.time,e+this.sampleTime,c=>{let l=r.time;const h=this._tickOffset.get(c.time);h&&h.time>=r.time&&(o=h.seconds,l=h.time),r.state==="started"&&c.state!=="started"&&(o+=c.time-l,c.time!=s.time&&(a={state:c.state,time:c.time,seconds:o})),r=c}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),i=this._state.get(t),r=Math.max(s.time,i.time),o=this.frequency.getTicksAtTime(r)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,t,s){let i=this._state.get(e);this._state.forEachBetween(e,t,o=>{i&&i.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(i.time,e),o.time-this.sampleTime,s),i=o});let r=null;if(i&&i.state==="started"){const o=Math.max(i.time,e),a=this.frequency.getTicksAtTime(o),c=this.frequency.getTicksAtTime(i.time),l=a-c;let h=Math.ceil(l)-l;h=Nt(h,1)?0:h;let u=this.frequency.getTimeOfTick(a+h);for(;u<t;){try{s(u,Math.round(this.getTicksAtTime(u)))}catch(f){r=f;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class qi extends ct{constructor(){super(P(qi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ce,this._lastUpdate=0,this._state=new Ec("stopped"),this._boundLoop=this._loop.bind(this);const e=P(qi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ho({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ct.getDefaults(),{callback:ce,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Nu(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),i=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(i+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const i=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,i);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,i)=>{this.callback(s,i)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}wr.mixin(qi);class Mc extends ws{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=P(Mc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ce,onload:ce,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return K(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=ce,i=ce){return ms(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new le(this.baseUrl+t,s,i))):this._buffers.set(e.toString(),new le(t,s,i)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Un extends Ni{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class A6 extends ct{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new $t,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Uo(n=>{n.draw=new A6({context:n})});Vo(n=>{n.draw.dispose()});class D6 extends ws{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){K(te(e.time),"Events must have a time property"),K(te(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new R6(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,i=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,i=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,i=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,i=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,i=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),i&&this._rebalance(i)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),t!==null?s?t.left=i:t.right=i:this._setRoot(i)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),t!==null?s?t.left=i:t.right=i:this._setRoot(i)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let i=1;i<t.length;i++)t[i].low>s.low&&(s=t[i]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(i=>{i.event&&t(i.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(i=>{i.event&&t(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class R6{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class zs extends G{constructor(){super(P(zs.getDefaults(),arguments,["volume"])),this.name="Volume";const e=P(zs.getDefaults(),arguments,["volume"]);this.input=this.output=new me({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,xe(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}let I6=class Pa extends G{constructor(){super(P(Pa.getDefaults(),arguments)),this.name="Destination",this.input=new zs({context:this.context}),this.output=new me({context:this.context}),this.volume=this.input.volume;const e=P(Pa.getDefaults(),arguments);ji(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),ji(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}};Uo(n=>{n.destination=new I6({context:n})});Vo(n=>{n.destination.dispose()});class P6 extends ws{constructor(e){super(),this.name="TimelineValue",this._timeline=new $t({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class _s extends G{constructor(){super(Object.assign(P(_s.getDefaults(),arguments,["context"])))}connect(e,t=0,s=0){return Oc(this,e,t,s),this}}class mn extends _s{constructor(){super(Object.assign(P(mn.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=P(mn.getDefaults(),arguments,["mapping","length"]);Ut(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):n6(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ye.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let i=0,r=t;i<r;i++){const o=i/(r-1)*2-1;s[i]=e(o,i)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));K(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Gi extends _s{constructor(){super(Object.assign(P(Gi.getDefaults(),arguments,["value"]))),this.name="Pow";const e=P(Gi.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new mn({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(_s.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Hs{constructor(e,t){this.id=Hs._eventId++,this._remainderTime=0;const s=Object.assign(Hs.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:ce,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Hs._eventId=0;class Ac extends Hs{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Ac.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Hs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return oo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Un(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){oo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Un(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Xn(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Wi extends ct{constructor(){super(P(Wi.getDefaults(),arguments)),this.name="Transport",this._loop=new P6(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new $t,this._repeatedEvents=new D6,this._syncedSignals=[],this._swingAmount=0;const e=P(Wi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new qi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),xe(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ct.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(s*Math.PI)*this._swingAmount;e+=new Un(this.context,this._swingTicks*2/3).toSeconds()*i}Vl(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),Vl(!1)}schedule(e,t){const s=new Hs(this,{callback:e,time:new Ni(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,i=1/0){const r=new Ac(this,{callback:e,duration:new Lt(this.context,i).toTicks(),interval:new Lt(this.context,t).toTicks(),time:new Ni(this.context,s).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(e,t){const s=new Hs(this,{callback:e,once:!0,time:new Ni(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new Un(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return te(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ut(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Lt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Lt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Un(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Un(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),i=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),r=t+i;this.emit("stop",r),this._clock.setTicksAtTime(e,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),i=e-s%e;return this._clock.nextTickTime(i,t)}}syncSignal(e,t){const s=this.now();let i=this.bpm,r=1/(60/i.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const c=.015625/r,l=new me(c),h=new Gi(-1),u=new me(c);i.chain(l,h,u),i=u,r=1/r,o=[l,h,u]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/r:t=0);const a=new me(t);return i.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(i=>i.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Sc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}wr.mixin(Wi);Uo(n=>{n.transport=new Wi({context:n})});Vo(n=>{n.transport.dispose()});class Ke extends G{constructor(e){super(e),this.input=void 0,this._state=new Ec("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ce,this._syncedStop=ce,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new zs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,xe(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,onstop:ce,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let i=yt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")K(Xn(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,t,s);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const r=this._state.get(i);r&&(r.offset=this.toSeconds(Hn(t,0)),r.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,t,s)},i);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Nu(this.context),this._start(i,t,s);return this}stop(e){let t=yt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||te(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Xn(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const i=t-this.toSeconds(s.time);let r;s.duration&&(r=this.toSeconds(s.duration)-i),this._start(e,this.toSeconds(s.offset)+i,r)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ce,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Kn extends Qn{constructor(){super(P(Kn.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=P(Kn.getDefaults(),arguments,["url","onload"]);Bs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new he({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new le(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Qn.getDefaults(),{url:new le,loop:!1,loopEnd:0,loopStart:0,onload:ce,onerror:ce,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,i=1){K(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(e);this._startGain(r,i),this.loop?t=Hn(t,this.loopStart):t=Hn(t,0);let o=Math.max(this.toSeconds(t),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),l=a-c;Ra(o,a)&&(o=(o-c)%l+c),Nt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,oo(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,o)),te(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(r+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Zi extends Ke{constructor(){super(P(Zi.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=P(Zi.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ke.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(K(e in Bl,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=Bl[this._type];this._source=new Kn({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Rn=44100*5,la=2,as={brown:null,pink:null,white:null},Bl={get brown(){if(!as.brown){const n=[];for(let e=0;e<la;e++){const t=new Float32Array(Rn);n[e]=t;let s=0;for(let i=0;i<Rn;i++){const r=Math.random()*2-1;t[i]=(s+.02*r)/1.02,s=t[i],t[i]*=3.5}}as.brown=new le().fromArray(n)}return as.brown},get pink(){if(!as.pink){const n=[];for(let e=0;e<la;e++){const t=new Float32Array(Rn);n[e]=t;let s,i,r,o,a,c,l;s=i=r=o=a=c=l=0;for(let h=0;h<Rn;h++){const u=Math.random()*2-1;s=.99886*s+u*.0555179,i=.99332*i+u*.0750759,r=.969*r+u*.153852,o=.8665*o+u*.3104856,a=.55*a+u*.5329522,c=-.7616*c-u*.016898,t[h]=s+i+r+o+a+c+l+u*.5362,t[h]*=.11,l=u*.115926}}as.pink=new le().fromArray(n)}return as.pink},get white(){if(!as.white){const n=[];for(let e=0;e<la;e++){const t=new Float32Array(Rn);n[e]=t;for(let s=0;s<Rn;s++)t[s]=Math.random()*2-1}as.white=new le().fromArray(n)}return as.white}};function wn(n,e){return Le(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new Bo(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class uo extends Qn{constructor(){super(P(uo.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=P(uo.getDefaults(),arguments,["frequency","type"]);Bs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new he({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new he({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qn.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ne extends Ke{constructor(){super(P(Ne.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=P(Ne.getDefaults(),arguments,["frequency","type"]);this.frequency=new ye({context:this.context,units:"frequency",value:e.frequency}),xe(this,"frequency"),this.detune=new ye({context:this.context,units:"cents",value:e.detune}),xe(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ke.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new uo({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ne._periodicWaveCache.find(t=>t.phase===this._phase&&p6(t.partials,this._partials));{const e=Ne._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(te(s)){const{partials:i,wave:r}=s;this._wave=r,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,r]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(i,r);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ne._periodicWaveCache.push({imag:r,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),Ne._periodicWaveCache.length>100&&Ne._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Bt(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const i=new Float32Array(e);this._partials.forEach((r,o)=>i[o]=r),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(e,t){let i=2048;const r=new Float32Array(i),o=new Float32Array(i);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,i=a,this._partials.length===0)return[r,o]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(a=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],a=Math.max(a,2),i=a):this._partialCount=0,this._partials=[]}for(let c=1;c<i;++c){const l=2/(c*Math.PI);let h;switch(e){case"sine":h=c<=a?1:0,this._partials[c-1]=h;break;case"square":h=c&1?2*l:0,this._partials[c-1]=h;break;case"sawtooth":h=l*(c&1?1:-1),this._partials[c-1]=h;break;case"triangle":c&1?h=2*(l*l)*(c-1>>1&1?-1:1):h=0,this._partials[c-1]=h;break;case"custom":h=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}h!==0?(r[c]=-h*Math.sin(t*c),o[c]=h*Math.cos(t*c)):(r[c]=0,o[c]=0)}return[r,o]}_inverseFFT(e,t,s){let i=0;const r=e.length;for(let o=0;o<r;o++)i+=e[o]*Math.cos(o*s)+t[o]*Math.sin(o*s);return i}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const i=Math.PI*2,r=32;for(let o=0;o<r;o++)s=Math.max(this._inverseFFT(e,t,o/r*i),s);return _6(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ne._periodicWaveCache=[];class N6 extends _s{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new mn({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class js extends ye{constructor(){super(Object.assign(P(js.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=P(js.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new me({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ye.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Yi extends Ke{constructor(){super(P(Yi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new N6({context:this.context}),this._modulationNode=new me({context:this.context});const e=P(Yi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Ne({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ne({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new js({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ne.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class $i extends Ke{constructor(){super(P($i.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new me({context:this.context,gain:0});const e=P($i.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Ne({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ye({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ne({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new js({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new js({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ne.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Jn extends Ke{constructor(){super(P(Jn.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new me({context:this.context,gain:0}),this._thresh=new mn({context:this.context,mapping:t=>t<=0?-1:1});const e=P(Jn.getDefaults(),arguments,["frequency","width"]);this.width=new ye({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ne({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Xi extends Ke{constructor(){super(P(Xi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=P(Xi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ye({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ye({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ne.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((i,r)=>i.detune.value=t+s*r)}}get count(){return this._oscillators.length}set count(e){if(Bt(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new Ne({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):ce});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Qi extends Ke{constructor(){super(P(Qi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new js({context:this.context,value:2});const e=P(Qi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Jn({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ne({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const zl={am:Yi,fat:Xi,fm:$i,oscillator:Ne,pulse:Jn,pwm:Qi};class _n extends Ke{constructor(){super(P(_n.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=P(_n.getDefaults(),arguments,["frequency","type"]);this.frequency=new ye({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ye({context:this.context,units:"cents",value:e.detune}),xe(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ne.getDefaults(),$i.getDefaults(),Yi.getDefaults(),Xi.getDefaults(),Jn.getDefaults(),Qi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=zl[e],s=this.now();if(this._oscillator){const i=this._oscillator;i.stop(s),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof zl[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Vs(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Vs(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ms(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Le(this,void 0,void 0,function*(){return wn(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Dc extends ye{constructor(){super(Object.assign(P(Dc.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new me({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,ji(this._constantSource,this._sum)}static getDefaults(){return Object.assign(ye.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class fo extends _s{constructor(){super(Object.assign(P(fo.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=P(fo.getDefaults(),arguments,["min","max"]);this._mult=this.input=new js({context:this.context,value:e.max-e.min}),this._add=this.output=new Dc({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(_s.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function Wu(n,e=1/0){const t=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(r){Bt(r,n,e),t.set(this,r)}})}}function ks(n,e=1/0){const t=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(r){Bt(this.toSeconds(r),n,e),t.set(this,r)}})}}class Ki extends Ke{constructor(){super(P(Ki.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=P(Ki.getDefaults(),arguments,["url","onload"]);this._buffer=new le({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ke.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ce,onerror:ce,playbackRate:1,reverse:!1})}load(e){return Le(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ce){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=Hn(t,this._loopStart):t=Hn(t,0);const i=this.toSeconds(t),r=s;s=Hn(s,Math.max(this._buffer.duration-i,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Kn({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&yt(r)?a.start(e,i):a.start(e,i,o-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var i;(i=[...this._activeSources].pop())===null||i===void 0||i.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const i=this.toSeconds(e);this._stop(s),this._start(s,i)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Bt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Bt(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}zt([ks(0)],Ki.prototype,"fadeIn",void 0);zt([ks(0)],Ki.prototype,"fadeOut",void 0);class F6 extends _s{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new mn({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class At extends G{constructor(){super(P(At.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ye({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=P(At.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(G.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(ms(e))return e;{let s;for(s in Vr)if(Vr[s][t]===e)return s;return e}}_setCurve(e,t,s){if(ms(s)&&Reflect.has(Vr,s)){const i=Vr[s];an(i)?e!=="_decayCurve"&&(this[e]=i[t]):this[e]=i}else if(Ut(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let i=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/i;i=(1-o)/a}if(i<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,i,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,i,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=o&&o<=a[c]){a=this._attackCurve.slice(c),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,i,t)}if(r&&this.sustain<1){const a=t*this.sustain,c=e+i;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,r+c):this._sig.exponentialApproachValueAtTime(a,c,r)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(K(Ut(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return Oc(this,e,t,s),this}asArray(e=1024){return Le(this,void 0,void 0,function*(){const t=e/this.context.sampleRate,s=new Bo(1,t,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=i+this.toSeconds(this.release),o=r*.1,a=r+o,c=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/a,decay:t*this.toSeconds(this.decay)/a,release:t*this.toSeconds(this.release)/a,context:s}));return c._sig.toDestination(),c.triggerAttackRelease(t*(i+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}zt([ks(0)],At.prototype,"attack",void 0);zt([ks(0)],At.prototype,"decay",void 0);zt([Wu(0,1)],At.prototype,"sustain",void 0);zt([ks(0)],At.prototype,"release",void 0);const Vr=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/(128-1)*(Math.PI/2));const i=[],r=6.4;for(e=0;e<128-1;e++){t=e/(128-1);const f=Math.sin(t*(Math.PI*2)*r-Math.PI/2)+1;i[e]=f/10+t*.83}i[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const c=[];for(e=0;e<128;e++)t=e/(128-1),c[e]=.5*(1-Math.cos(Math.PI*t));const l=[];for(e=0;e<128;e++){t=e/(128-1);const f=Math.pow(t,3)*4+.2,d=Math.cos(f*Math.PI*2*t);l[e]=Math.abs(d*(1-t))}function h(f){const d=new Array(f.length);for(let m=0;m<f.length;m++)d[m]=1-f[m];return d}function u(f){return f.slice(0).reverse()}return{bounce:{In:h(l),Out:l},cosine:{In:s,Out:u(s)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:h(i)},sine:{In:c,Out:h(c)},step:{In:o,Out:h(o)}}})();class gn extends G{constructor(){super(P(gn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t);const e=P(gn.getDefaults(),arguments);this._volume=this.output=new zs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,xe(this,"volume")}static getDefaults(){return Object.assign(G.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...i)=>{const r=i[t],o=this.context.transport.schedule(a=>{i[t]=a,s.apply(this,i)},r);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,i){const r=this.toSeconds(s),o=this.toSeconds(t);return this.triggerAttack(e,r,i),this.triggerRelease(r+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class gs extends gn{constructor(){super(P(gs.getDefaults(),arguments));const e=P(gs.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(gn.getDefaults(),{detune:0,onsilence:ce,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const i=this.toSeconds(t);return this._triggerEnvelopeAttack(i,s),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),i=e instanceof Et?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const r=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,r,s)}else this.frequency.setValueAtTime(i,s);return this}}zt([ks(0)],gs.prototype,"portamento",void 0);class Ho extends At{constructor(){super(P(Ho.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new me({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ji extends gs{constructor(){super(P(Ji.getDefaults(),arguments)),this.name="Synth";const e=P(Ji.getDefaults(),arguments);this.oscillator=new _n(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ho(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),xe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(gs.getDefaults(),{envelope:Object.assign(Ln(At.getDefaults(),Object.keys(G.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ln(_n.getDefaults(),[...Object.keys(Ke.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class er extends G{constructor(){super(P(er.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=P(er.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new he({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new he({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new he({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new he({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(G.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){K(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let o=0;o<e;o++){const c=Math.pow(o/e,2)*(2e4-20)+20;t[o]=c}const s=new Float32Array(e),i=new Float32Array(e),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(t,s,i),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class ei extends G{constructor(){super(P(ei.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new me({context:this.context}),this.output=new me({context:this.context}),this._filters=[];const e=P(ei.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new ye({context:this.context,units:"positive",value:e.Q}),this.frequency=new ye({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ye({context:this.context,units:"cents",value:e.detune}),this.gain=new ye({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,xe(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(G.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){K(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=Vs(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let i=s.indexOf(t);K(i!==-1,`rolloff can only be ${s.join(", ")}`),i+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(r=>r.disconnect()),this._filters=new Array(i);for(let r=0;r<i;r++){const o=new er({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[r]=o}this._internalChannels=this._filters,ji(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new er({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((r,o)=>s[o]*=r)}),t.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Sc(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class tr extends At{constructor(){super(P(tr.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=P(tr.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Gi({context:this.context,value:e.exponent}),this._scale=this.output=new fo({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(At.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);Bt(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class sr extends gs{constructor(){super(P(sr.getDefaults(),arguments)),this.name="MonoSynth";const e=P(sr.getDefaults(),arguments);this.oscillator=new _n(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new ei(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new tr(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Ho(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),xe(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(gs.getDefaults(),{envelope:Object.assign(Ln(At.getDefaults(),Object.keys(G.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ln(ei.getDefaults(),Object.keys(G.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ln(tr.getDefaults(),Object.keys(G.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ln(_n.getDefaults(),Object.keys(Ke.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class nr extends Ji{constructor(){super(P(nr.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=P(nr.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,xe(this,["oscillator","envelope"])}static getDefaults(){return zn(gs.getDefaults(),Ji.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),i=this.toFrequency(e instanceof Et?e.toFrequency():e),r=i*this.octaves;return this.oscillator.frequency.setValueAtTime(r,s),this.oscillator.frequency.exponentialRampToValueAtTime(i,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}zt([Wu(0)],nr.prototype,"octaves",void 0);zt([ks(0)],nr.prototype,"pitchDecay",void 0);const Zu=new Set;function Rc(n){Zu.add(n)}function Yu(n,e){const t=`registerProcessor("${n}", ${e})`;Zu.add(t)}const L6=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Rc(L6);const U6=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Rc(U6);const V6=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Rc(V6);const B6="feedback-comb-filter",z6=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Yu(B6,z6);class ir extends gn{constructor(){super(P(ir.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=P(ir.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach(s=>{const i=parseInt(s,10);if(K(Ur(s)||Vs(i)&&isFinite(i),`url key is neither a note or midi pitch: ${s}`),Ur(s)){const r=new Et(this.context,s).toMidi();t[r]=e.urls[s]}else Vs(i)&&isFinite(i)&&(t[i]=e.urls[i])}),this._buffers=new Mc({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(gn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ce,onerror:ce,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(i=>{const r=Gu(new Et(this.context,i).toFrequency()),o=Math.round(r),a=r-o,c=this._findClosest(o),l=o-c,h=this._buffers.get(l),u=qu(c+a),f=new Kn({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);f.start(t,0,h.duration/u,s),Ut(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const d=this._activeSources.get(o),m=d.indexOf(f);m!==-1&&d.splice(m,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=new Et(this.context,s).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){const r=this._activeSources.get(i);t=this.toSeconds(t),r.forEach(o=>{o.stop(t)}),this._activeSources.set(i,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,i=1){const r=this.toSeconds(s);return this.triggerAttack(e,r,i),Ut(t)?(K(Ut(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const c=t[Math.min(a,t.length-1)];this.triggerRelease(o,r+this.toSeconds(c))})):this.triggerRelease(e,r+this.toSeconds(t)),this}add(e,t,s){if(K(Ur(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Ur(e)){const i=new Et(this.context,e).toMidi();this._buffers.add(i,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}zt([ks(0)],ir.prototype,"attack",void 0);zt([ks(0)],ir.prototype,"release",void 0);class po extends G{constructor(){super(Object.assign(P(po.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new F6({context:this.context}),this.a=new me({context:this.context,gain:0}),this.b=new me({context:this.context,gain:0}),this.output=new me({context:this.context}),this._internalChannels=[this.a,this.b];const e=P(po.getDefaults(),arguments,["fade"]);this.fade=new ye({context:this.context,units:"normalRange",value:e.fade}),xe(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Bs(this._split,this.a.gain,0),Bs(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(G.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Hl extends G{constructor(e){super(e),this.name="Effect",this._dryWet=new po({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new me({context:this.context}),this.effectReturn=new me({context:this.context}),this.input=new me({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],xe(this,"wet")}static getDefaults(){return Object.assign(G.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class mo extends G{constructor(){super(Object.assign(P(mo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=P(mo.getDefaults(),arguments,["pan"]);this.pan=new he({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",xe(this,"pan")}static getDefaults(){return Object.assign(G.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const H6="bit-crusher",j6=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Yu(H6,j6);class _o extends G{constructor(){super(P(_o.getDefaults(),arguments,["channels"])),this.name="Merge";const e=P(_o.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(G.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class go extends Hl{constructor(){super(P(go.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=P(go.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Hl.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Bt(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Bt(e,0),this._preDelay=e,this.generate()}generate(){return Le(this,void 0,void 0,function*(){const e=this.ready,t=new Bo(2,this._decay+this._preDelay,this.context.sampleRate),s=new Zi({context:t}),i=new Zi({context:t}),r=new _o({context:t});s.connect(r,0,0),i.connect(r,0,1);const o=new me({context:t}).toDestination();r.connect(o),s.start(0),i.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=t.render();return this.ready=a.then(ce),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Ie extends G{constructor(){super(P(Ie.getDefaults(),arguments,["solo"])),this.name="Solo";const e=P(Ie.getDefaults(),arguments,["solo"]);this.input=this.output=new me({context:this.context}),Ie._allSolos.has(this.context)||Ie._allSolos.set(this.context,new Set),Ie._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(G.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ie._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ie._soloed.has(this.context)||Ie._soloed.set(this.context,new Set),Ie._soloed.get(this.context).add(this)}_removeSolo(){Ie._soloed.has(this.context)&&Ie._soloed.get(this.context).delete(this)}_isSoloed(){return Ie._soloed.has(this.context)&&Ie._soloed.get(this.context).has(this)}_noSolos(){return!Ie._soloed.has(this.context)||Ie._soloed.has(this.context)&&Ie._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ie._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ie._allSolos=new Map;Ie._soloed=new Map;class vo extends G{constructor(){super(P(vo.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=P(vo.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new mo({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new zs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,xe(this,["pan","volume"])}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class sn extends G{constructor(){super(P(sn.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=P(sn.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ie({solo:e.solo,context:this.context}),this._panVol=this.output=new vo({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xe(this,["pan","volume"])}static getDefaults(){return Object.assign(G.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return sn.buses.has(e)||sn.buses.set(e,new me({context:this.context})),sn.buses.get(e)}send(e,t=0){const s=this._getBus(e),i=new me({context:this.context,units:"decibels",gain:t});return this.connect(i),i.connect(s),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}sn.buses=new Map;class q6 extends G{constructor(){super(...arguments),this.name="Listener",this.positionX=new he({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new he({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new he({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new he({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new he({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new he({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new he({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new he({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new he({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(G.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Uo(n=>{n.listener=new q6({context:n})});Vo(n=>{n.listener.dispose()});Ft().transport;const Ic=Ft().destination;Ft().destination;Ft().listener;Ft().draw;Ft();const Pc=new ei(900,"highpass"),$u=new zs(-6);$u.chain(Pc,Ic);const G6=new go(3).connect($u),jo=new sr({envelope:{attack:0,decay:.9,sustain:.2,release:.1}});jo.oscillator.type="triangle2";jo.volume.value=-6;jo.chain(Pc,Ic);const qo=new sr({envelope:{attack:.4,decay:.9,sustain:.7,release:.6}}).connect(G6);qo.oscillator.type="triangle";qo.volume.value=-6;qo.chain(Pc,Ic);function W6(){return Math.floor((Math.random()-.5)*20)}let jl=!1;const Z6=async(n=0)=>{jl||(await x6(),jl=!0);try{if(n>2e3)qo.triggerAttackRelease(60,.3);else if(n>1e3){let e=310;e+=W6(),jo.triggerAttackRelease(e,.001)}}catch(e){console.warn(e)}},Br=1800,Y6=(n,e)=>n.clone().normalize().clone().negate().normalize().multiplyScalar(e).add(n),$6=(n,e,t,s,i)=>{const r=new ld,o=1e-5;r.absarc(o,o,o,-Math.PI/2,-Math.PI,!0),r.absarc(o,e-s*2,o,Math.PI,Math.PI/2,!0),r.absarc(n-s*2,e-s*2,o,Math.PI/2,0,!0),r.absarc(n-s*2,o,o,0,-Math.PI/2,!0);const a=new hd(r,{depth:t-s*2,bevelEnabled:!0,bevelSegments:i,steps:2,bevelSize:s,bevelThickness:s,curveSegments:i});a.center();const c=[],l=a.getAttribute("normal"),h=a.getAttribute("position");for(let u=0;u<h.count;u+=1){const f=new X(l.getX(u),l.getY(u),l.getZ(u)),d=new X(h.getX(u),h.getY(u),h.getZ(u));let m=0,p=0;Math.abs(f.y)>.9?(m=d.x/n+.5,p=1-(d.z/t+.5)):Math.abs(f.x)>.9?(m=-d.z/t+.5,p=1-(-d.y/e+.5)):Math.abs(f.z)>.9&&(m=d.x/n+.5,p=1-(-d.y/e+.5)),c.push(m,p)}return a.setAttribute("uv",new ud(c,2)),a};$6(10,10,10,2,10);const ql=new cd(10,10,10),X6=500,Q6=800,K6=new X(0,0,0),J6=16777215,e8=20,t8=(n,e)=>{var r,o;if(!(n!=null&&n.ref_id)||!(e!=null&&e.ref_id))return!1;let t=!1;const s=n.guests,i=e.guests;return((r=n.children)!=null&&r.includes(e.ref_id)||(o=e.children)!=null&&o.includes(n.ref_id))&&(t=!0),(s!=null&&s.find(a=>a.ref_id===e.ref_id)||i!=null&&i.find(a=>a.ref_id===n.ref_id))&&(t=!0),t};let Ei=null;const s8=500,Xu=(n,e)=>{if(Ei)return null;Ei=setTimeout(()=>{Ei&&(clearTimeout(Ei),Ei=null)},s8);const t=[];return n.forEach(i=>{const r=e.position.distanceTo(K6.set(i.x,i.y,i.z));r<Q6&&t.push({id:i.ref_id||"",distance:r})}),t.sort((i,r)=>i.distance-r.distance).slice(0,X6).map(i=>i.id)};let In,Oi;const n8=1e3,i8=2e3,r8=n=>{const e=Jt(),t=Ns(C=>C.isUserDragging),s=Ns(C=>C.isUserScrolling),i=Ns(C=>C.setUserMovedCamera),{data:r,graphStyle:o,showSelectionGraph:a,setNearbyNodeIds:c,cameraFocusTrigger:l,graphRadius:h}=nt(C=>C),{camera:u}=ve(),[f,d]=O.useState(!1),[m,p]=O.useState(!1),[_,y]=O.useState(Cl),w=O.useMemo(()=>{if(a)return new X(0,0,0);const C=r==null?void 0:r.nodes.find(M=>M.ref_id===(e==null?void 0:e.ref_id)),b=h+300;let E=new X(0,0,b);if(C&&r){const M=r==null?void 0:r.nodes.filter(N=>{var L;return(L=C.children)==null?void 0:L.find(z=>z===N.id)}),A=new X(C.x,C.y,C.z);let R=new X(0,0,0);M.map(N=>(R=R.add(new X(N.x,N.y,N.z).normalize()),N));const I=C.scale?1-1/(C.scale+10):1,F=A.sub(R).multiplyScalar(.8*I);E=A.add(F)}return E},[a,e,r,h]),S=O.useMemo(()=>{if(a)return new X(0,0,0);const C=r==null?void 0:r.nodes.find(b=>b.ref_id===(e==null?void 0:e.ref_id));return new X((C==null?void 0:C.x)||0,(C==null?void 0:C.y)||0,(C==null?void 0:C.z)||0)},[a,e,r]);O.useEffect(()=>{var C;a&&((C=n.current)==null||C.setLookAt(aa.x,aa.y,aa.z,0,0,0,!1)),v()},[a]),O.useEffect(()=>{a?y(X2):(e==null?void 0:e.node_type)==="topic"?y($2):y(Cl)},[e,y,a]),O.useEffect(()=>{g()},[l]),O.useEffect(()=>{(t||s)&&(d(!0),p(!0))},[t,s,d,p]),O.useEffect(()=>{if(e)if(!a&&o==="earth"&&(n!=null&&n.current)){const C=n.current.camera.position.distanceTo(new X),b=Y6(S,-C/2);n.current.setLookAt(b.x,b.y,b.z,0,0,0,!0)}else In&&clearTimeout(In),In=setTimeout(()=>{p(!0),clearTimeout(In)},i8),v();return()=>{In&&clearTimeout(In),Oi&&clearTimeout(Oi)}},[e]),Rt(C=>{n.current&&(f||T(w,C.camera),m||k(S,C.camera))});const v=()=>{if(e){const C=u.position.distanceTo(w);Z6(C)}g()},g=()=>{d(!1),p(!1),i(!1),Oi&&clearTimeout(Oi),Oi=setTimeout(()=>{d(!0),p(!0)},n8)},T=(C,b)=>{if(b.position.distanceTo(C)<_)d(!0);else{b.position.lerp(C,.5);const M=Xu((r==null?void 0:r.nodes)||[],u);M&&c(M)}},k=(C,b)=>{var E;(E=n==null?void 0:n.current)==null||E.setLookAt(b.position.x,b.position.y,b.position.z,C.x,C.y,C.z,!0)};return null},o8=1;let zr=null;const a8=(n,{enabled:e})=>{const t=Jt();r8(n);const s=Ns(a=>a.isUserDragging),{graphStyle:i,graphRadius:r,disableCameraRotation:o}=nt(a=>a);return O.useEffect(()=>{e||(zr==null||zr.kill(),zr=null)},[e]),O.useEffect(()=>{n.current&&r&&(i==="sphere"?(n.current.maxDistance=8e3,n.current.minDistance=200,n.current.setTarget(0,0,500,!0)):(n.current.maxDistance=n.current.getDistanceToFitSphere(r+200),n.current.minDistance=100))},[r,i,n]),O.useEffect(()=>{!t&&n.current&&n.current.setLookAt(Pi.x,Pi.y,r,0,0,0,!0)},[t,r]),Rt((a,c)=>{n.current&&(!o&&!s&&(n.current.azimuthAngle+=o8*c*dd.DEG2RAD),n.current.update(c))}),null},c8=({disableAnimations:n})=>{const e=O.useRef(null),{data:t,setNearbyNodeIds:s,setDisableCameraRotation:i}=nt(u=>u),[r]=O.useState(.8),{camera:o}=ve(),[a,c,l,h]=Ns(u=>[u.isUserDragging,u.setIsUserDragging,u.isUserScrolling,u.isUserScrollingOnHtmlPanel]);return a8(e,{enabled:!n&&!l&&!a}),O.useEffect(()=>{if(!a){const u=Xu((t==null?void 0:t.nodes)||[],o);u&&s(u)}},[o,o.position,o.position.x,o.position.y,o.position.z,t==null?void 0:t.nodes,s,a]),O.useEffect(()=>{a&&i(!0)},[a,i]),x.jsx($f,{ref:e,boundaryEnclosesCamera:!0,enabled:!h,makeDefault:!0,maxDistance:12e3,minDistance:100,onEnd:()=>c(!1),onStart:()=>c(!0),smoothTime:r})};function ls(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qu(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ct={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ti={duration:.5,overwrite:!1,delay:0},Nc,Xe,De,Ot=1e8,fe=1/Ot,Na=Math.PI*2,l8=Na/4,h8=0,Ku=Math.sqrt,u8=Math.cos,d8=Math.sin,We=function(e){return typeof e=="string"},Re=function(e){return typeof e=="function"},vs=function(e){return typeof e=="number"},Fc=function(e){return typeof e>"u"},Kt=function(e){return typeof e=="object"},lt=function(e){return e!==!1},Lc=function(){return typeof window<"u"},Hr=function(e){return Re(e)||We(e)},Ju=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Qe=Array.isArray,Fa=/(?:-?\.?\d|\.)+/gi,e1=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Vn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ha=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,t1=/[+-]=-?[.\d]+/,s1=/[^,'"\[\]\s]+/gi,f8=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,be,bt,La,Uc,Tt={},yo={},n1,i1=function(e){return(yo=vn(e,Tt))&&pt},Vc=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},rr=function(e,t){return!t&&console.warn(e)},r1=function(e,t){return e&&(Tt[e]=t)&&yo&&(yo[e]=t)||Tt},or=function(){return 0},p8={suppressEvents:!0,isStart:!0,kill:!1},Wr={suppressEvents:!0,kill:!1},m8={suppressEvents:!0},Bc={},Ls=[],Ua={},o1,_t={},ua={},Gl=30,Zr=[],zc="",Hc=function(e){var t=e[0],s,i;if(Kt(t)||Re(t)||(e=[e]),!(s=(t._gsap||{}).harness)){for(i=Zr.length;i--&&!Zr[i].targetTest(t););s=Zr[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new A1(e[i],s)))||e.splice(i,1);return e},ln=function(e){return e._gsap||Hc(Mt(e))[0]._gsap},a1=function(e,t,s){return(s=e[t])&&Re(s)?e[t]():Fc(s)&&e.getAttribute&&e.getAttribute(t)||s},ht=function(e,t){return(e=e.split(",")).forEach(t)||e},Pe=function(e){return Math.round(e*1e5)/1e5||0},je=function(e){return Math.round(e*1e7)/1e7||0},jn=function(e,t){var s=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),s==="+"?e+i:s==="-"?e-i:s==="*"?e*i:e/i},_8=function(e,t){for(var s=t.length,i=0;e.indexOf(t[i])<0&&++i<s;);return i<s},Co=function(){var e=Ls.length,t=Ls.slice(0),s,i;for(Ua={},Ls.length=0,s=0;s<e;s++)i=t[s],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},c1=function(e,t,s,i){Ls.length&&!Xe&&Co(),e.render(t,s,i||Xe&&t<0&&(e._initted||e._startAt)),Ls.length&&!Xe&&Co()},l1=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(s1).length<2?t:We(e)?e.trim():e},h1=function(e){return e},Dt=function(e,t){for(var s in t)s in e||(e[s]=t[s]);return e},g8=function(e){return function(t,s){for(var i in s)i in t||i==="duration"&&e||i==="ease"||(t[i]=s[i])}},vn=function(e,t){for(var s in t)e[s]=t[s];return e},Wl=function n(e,t){for(var s in t)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Kt(t[s])?n(e[s]||(e[s]={}),t[s]):t[s]);return e},xo=function(e,t){var s={},i;for(i in e)i in t||(s[i]=e[i]);return s},Fi=function(e){var t=e.parent||be,s=e.keyframes?g8(Qe(e.keyframes)):Dt;if(lt(e.inherit))for(;t;)s(e,t.vars.defaults),t=t.parent||t._dp;return e},v8=function(e,t){for(var s=e.length,i=s===t.length;i&&s--&&e[s]===t[s];);return s<0},u1=function(e,t,s,i,r){s===void 0&&(s="_first"),i===void 0&&(i="_last");var o=e[i],a;if(r)for(a=t[r];o&&o[r]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[s],e[s]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Go=function(e,t,s,i){s===void 0&&(s="_first"),i===void 0&&(i="_last");var r=t._prev,o=t._next;r?r._next=o:e[s]===t&&(e[s]=o),o?o._prev=r:e[i]===t&&(e[i]=r),t._next=t._prev=t.parent=null},qs=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},hn=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},y8=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Va=function(e,t,s,i){return e._startAt&&(Xe?e._startAt.revert(Wr):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},C8=function n(e){return!e||e._ts&&n(e.parent)},Zl=function(e){return e._repeat?si(e._tTime,e=e.duration()+e._rDelay)*e:0},si=function(e,t){var s=Math.floor(e/=t);return e&&s===e?s-1:s},To=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Wo=function(e){return e._end=je(e._start+(e._tDur/Math.abs(e._ts||e._rts||fe)||0))},Zo=function(e,t){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=je(s._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Wo(e),s._dirty||hn(s,e)),e},d1=function(e,t){var s;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(s=To(e.rawTime(),t),(!t._dur||kr(0,t.totalDuration(),s)-t._tTime>fe)&&t.render(s,!0)),hn(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-fe}},Zt=function(e,t,s,i){return t.parent&&qs(t),t._start=je((vs(s)?s:s||e!==be?St(e,s,t):e._time)+t._delay),t._end=je(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),u1(e,t,"_first","_last",e._sort?"_start":0),Ba(t)||(e._recent=t),i||d1(e,t),e._ts<0&&Zo(e,e._tTime),e},f1=function(e,t){return(Tt.ScrollTrigger||Vc("scrollTrigger",t))&&Tt.ScrollTrigger.create(t,e)},p1=function(e,t,s,i,r){if(qc(e,t,r),!e._initted)return 1;if(!s&&e._pt&&!Xe&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&o1!==gt.frame)return Ls.push(e),e._lazy=[r,i],1},x8=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Ba=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},T8=function(e,t,s,i){var r=e.ratio,o=t<0||!t&&(!e._start&&x8(e)&&!(!e._initted&&Ba(e))||(e._ts<0||e._dp._ts<0)&&!Ba(e))?0:1,a=e._rDelay,c=0,l,h,u;if(a&&e._repeat&&(c=kr(0,e._tDur,t),h=si(c,a),e._yoyo&&h&1&&(o=1-o),h!==si(e._tTime,a)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||Xe||i||e._zTime===fe||!t&&e._zTime){if(!e._initted&&p1(e,t,i,s,c))return;for(u=e._zTime,e._zTime=t||(s?fe:0),s||(s=t&&!u),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,l=e._pt;l;)l.r(o,l.d),l=l._next;t<0&&Va(e,t,s,!0),e._onUpdate&&!s&&vt(e,"onUpdate"),c&&e._repeat&&!s&&e.parent&&vt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&qs(e,1),!s&&!Xe&&(vt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},w8=function(e,t,s){var i;if(s>t)for(i=e._first;i&&i._start<=s;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=s;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},ni=function(e,t,s,i){var r=e._repeat,o=je(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:je(o*(r+1)+e._rDelay*r):o,a>0&&!i&&Zo(e,e._tTime=e._tDur*a),e.parent&&Wo(e),s||hn(e.parent,e),e},Yl=function(e){return e instanceof tt?hn(e):ni(e,e._dur)},k8={_start:0,endTime:or,totalDuration:or},St=function n(e,t,s){var i=e.labels,r=e._recent||k8,o=e.duration()>=Ot?r.endTime(!1):e._dur,a,c,l;return We(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),l=t.substr(-1)==="%",a=t.indexOf("="),c==="<"||c===">"?(a>=0&&(t=t.replace(/=/,"")),(c==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(a<0?r:s).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),l&&s&&(c=c/100*(Qe(s)?s[0]:s).totalDuration()),a>1?n(e,t.substr(0,a-1),s)+c:o+c)):t==null?o:+t},Li=function(e,t,s){var i=vs(t[1]),r=(i?2:1)+(e<2?0:1),o=t[r],a,c;if(i&&(o.duration=t[1]),o.parent=s,e){for(a=o,c=s;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=lt(c.vars.inherit)&&c.parent;o.immediateRender=lt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return new Be(t[0],o,t[r+1])},Ys=function(e,t){return e||e===0?t(e):t},kr=function(e,t,s){return s<e?e:s>t?t:s},$e=function(e,t){return!We(e)||!(t=f8.exec(e))?"":t[1]},S8=function(e,t,s){return Ys(s,function(i){return kr(e,t,i)})},za=[].slice,m1=function(e,t){return e&&Kt(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Kt(e[0]))&&!e.nodeType&&e!==bt},b8=function(e,t,s){return s===void 0&&(s=[]),e.forEach(function(i){var r;return We(i)&&!t||m1(i,1)?(r=s).push.apply(r,Mt(i)):s.push(i)})||s},Mt=function(e,t,s){return De&&!t&&De.selector?De.selector(e):We(e)&&!s&&(La||!ii())?za.call((t||Uc).querySelectorAll(e),0):Qe(e)?b8(e,s):m1(e)?za.call(e,0):e?[e]:[]},Ha=function(e){return e=Mt(e)[0]||rr("Invalid scope")||{},function(t){var s=e.current||e.nativeElement||e;return Mt(t,s.querySelectorAll?s:s===e?rr("Invalid scope")||Uc.createElement("div"):e)}},_1=function(e){return e.sort(function(){return .5-Math.random()})},g1=function(e){if(Re(e))return e;var t=Kt(e)?e:{each:e},s=un(t.ease),i=t.from||0,r=parseFloat(t.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,l=t.axis,h=i,u=i;return We(i)?h=u={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(h=i[0],u=i[1]),function(f,d,m){var p=(m||t).length,_=o[p],y,w,S,v,g,T,k,C,b;if(!_){if(b=t.grid==="auto"?0:(t.grid||[1,Ot])[1],!b){for(k=-Ot;k<(k=m[b++].getBoundingClientRect().left)&&b<p;);b<p&&b--}for(_=o[p]=[],y=c?Math.min(b,p)*h-.5:i%b,w=b===Ot?0:c?p*u/b-.5:i/b|0,k=0,C=Ot,T=0;T<p;T++)S=T%b-y,v=w-(T/b|0),_[T]=g=l?Math.abs(l==="y"?v:S):Ku(S*S+v*v),g>k&&(k=g),g<C&&(C=g);i==="random"&&_1(_),_.max=k-C,_.min=C,_.v=p=(parseFloat(t.amount)||parseFloat(t.each)*(b>p?p-1:l?l==="y"?p/b:b:Math.max(b,p/b))||0)*(i==="edges"?-1:1),_.b=p<0?r-p:r,_.u=$e(t.amount||t.each)||0,s=s&&p<0?E1(s):s}return p=(_[f]-_.min)/_.max||0,je(_.b+(s?s(p):p)*_.v)+_.u}},ja=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var i=je(Math.round(parseFloat(s)/e)*e*t);return(i-i%1)/t+(vs(s)?0:$e(s))}},v1=function(e,t){var s=Qe(e),i,r;return!s&&Kt(e)&&(i=s=e.radius||Ot,e.values?(e=Mt(e.values),(r=!vs(e[0]))&&(i*=i)):e=ja(e.increment)),Ys(t,s?Re(e)?function(o){return r=e(o),Math.abs(r-o)<=i?r:o}:function(o){for(var a=parseFloat(r?o.x:o),c=parseFloat(r?o.y:0),l=Ot,h=0,u=e.length,f,d;u--;)r?(f=e[u].x-a,d=e[u].y-c,f=f*f+d*d):f=Math.abs(e[u]-a),f<l&&(l=f,h=u);return h=!i||l<=i?e[h]:o,r||h===o||vs(o)?h:h+$e(o)}:ja(e))},y1=function(e,t,s,i){return Ys(Qe(e)?!t:s===!0?!!(s=0):!i,function(){return Qe(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(i=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(t-e+s*.99))/s)*s*i)/i})},E8=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(i){return t.reduce(function(r,o){return o(r)},i)}},O8=function(e,t){return function(s){return e(parseFloat(s))+(t||$e(s))}},M8=function(e,t,s){return x1(e,t,0,1,s)},C1=function(e,t,s){return Ys(s,function(i){return e[~~t(i)]})},A8=function n(e,t,s){var i=t-e;return Qe(e)?C1(e,n(0,e.length),t):Ys(s,function(r){return(i+(r-e)%i)%i+e})},D8=function n(e,t,s){var i=t-e,r=i*2;return Qe(e)?C1(e,n(0,e.length-1),t):Ys(s,function(o){return o=(r+(o-e)%r)%r||0,e+(o>i?r-o:o)})},ar=function(e){for(var t=0,s="",i,r,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",r=e.substr(i+7,o-i-7).match(a?s1:Fa),s+=e.substr(t,i-t)+y1(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),t=o+1;return s+e.substr(t,e.length-t)},x1=function(e,t,s,i,r){var o=t-e,a=i-s;return Ys(r,function(c){return s+((c-e)/o*a||0)})},R8=function n(e,t,s,i){var r=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!r){var o=We(e),a={},c,l,h,u,f;if(s===!0&&(i=1)&&(s=null),o)e={p:e},t={p:t};else if(Qe(e)&&!Qe(t)){for(h=[],u=e.length,f=u-2,l=1;l<u;l++)h.push(n(e[l-1],e[l]));u--,r=function(m){m*=u;var p=Math.min(f,~~m);return h[p](m-p)},s=t}else i||(e=vn(Qe(e)?[]:{},e));if(!h){for(c in t)jc.call(a,e,c,"get",t[c]);r=function(m){return Zc(m,a)||(o?e.p:e)}}}return Ys(s,r)},$l=function(e,t,s){var i=e.labels,r=Ot,o,a,c;for(o in i)a=i[o]-t,a<0==!!s&&a&&r>(a=Math.abs(a))&&(c=o,r=a);return c},vt=function(e,t,s){var i=e.vars,r=i[t],o=De,a=e._ctx,c,l,h;if(r)return c=i[t+"Params"],l=i.callbackScope||e,s&&Ls.length&&Co(),a&&(De=a),h=c?r.apply(l,c):r.call(l),De=o,h},Ri=function(e){return qs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Xe),e.progress()<1&&vt(e,"onInterrupt"),e},Bn,T1=[],w1=function(e){if(Lc()&&e){e=!e.name&&e.default||e;var t=e.name,s=Re(e),i=t&&!s&&e.init?function(){this._props=[]}:e,r={init:or,render:Zc,add:jc,kill:Y8,modifier:Z8,rawVars:0},o={targetTest:0,get:0,getSetter:Wc,aliases:{},register:0};if(ii(),e!==i){if(_t[t])return;Dt(i,Dt(xo(e,r),o)),vn(i.prototype,vn(r,xo(e,o))),_t[i.prop=t]=i,e.targetTest&&(Zr.push(i),Bc[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}r1(t,i),e.register&&e.register(pt,i,ut)}else e&&T1.push(e)},de=255,Ii={aqua:[0,de,de],lime:[0,de,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,de],navy:[0,0,128],white:[de,de,de],olive:[128,128,0],yellow:[de,de,0],orange:[de,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[de,0,0],pink:[de,192,203],cyan:[0,de,de],transparent:[de,de,de,0]},da=function(e,t,s){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(s-t)*e*6:e<.5?s:e*3<2?t+(s-t)*(2/3-e)*6:t)*de+.5|0},k1=function(e,t,s){var i=e?vs(e)?[e>>16,e>>8&de,e&de]:0:Ii.black,r,o,a,c,l,h,u,f,d,m;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ii[e])i=Ii[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&de,i&de,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&de,e&de]}else if(e.substr(0,3)==="hsl"){if(i=m=e.match(Fa),!t)c=+i[0]%360/360,l=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(l+1):h+l-h*l,r=h*2-o,i.length>3&&(i[3]*=1),i[0]=da(c+1/3,r,o),i[1]=da(c,r,o),i[2]=da(c-1/3,r,o);else if(~e.indexOf("="))return i=e.match(e1),s&&i.length<4&&(i[3]=1),i}else i=e.match(Fa)||Ii.transparent;i=i.map(Number)}return t&&!m&&(r=i[0]/de,o=i[1]/de,a=i[2]/de,u=Math.max(r,o,a),f=Math.min(r,o,a),h=(u+f)/2,u===f?c=l=0:(d=u-f,l=h>.5?d/(2-u-f):d/(u+f),c=u===r?(o-a)/d+(o<a?6:0):u===o?(a-r)/d+2:(r-o)/d+4,c*=60),i[0]=~~(c+.5),i[1]=~~(l*100+.5),i[2]=~~(h*100+.5)),s&&i.length<4&&(i[3]=1),i},S1=function(e){var t=[],s=[],i=-1;return e.split(Us).forEach(function(r){var o=r.match(Vn)||[];t.push.apply(t,o),s.push(i+=o.length+1)}),t.c=s,t},Xl=function(e,t,s){var i="",r=(e+i).match(Us),o=t?"hsla(":"rgba(",a=0,c,l,h,u;if(!r)return e;if(r=r.map(function(f){return(f=k1(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),s&&(h=S1(e),c=s.c,c.join(i)!==h.c.join(i)))for(l=e.replace(Us,"1").split(Vn),u=l.length-1;a<u;a++)i+=l[a]+(~c.indexOf(a)?r.shift()||o+"0,0,0,0)":(h.length?h:r.length?r:s).shift());if(!l)for(l=e.split(Us),u=l.length-1;a<u;a++)i+=l[a]+r[a];return i+l[u]},Us=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ii)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),I8=/hsl[a]?\(/,b1=function(e){var t=e.join(" "),s;if(Us.lastIndex=0,Us.test(t))return s=I8.test(t),e[1]=Xl(e[1],s),e[0]=Xl(e[0],s,S1(e[1])),!0},cr,gt=function(){var n=Date.now,e=500,t=33,s=n(),i=s,r=1e3/240,o=r,a=[],c,l,h,u,f,d,m=function p(_){var y=n()-i,w=_===!0,S,v,g,T;if(y>e&&(s+=y-t),i+=y,g=i-s,S=g-o,(S>0||w)&&(T=++u.frame,f=g-u.time*1e3,u.time=g=g/1e3,o+=S+(S>=r?4:r-S),v=1),w||(c=l(p)),v)for(d=0;d<a.length;d++)a[d](g,f,T,_)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(_){return f/(1e3/(_||60))},wake:function(){n1&&(!La&&Lc()&&(bt=La=window,Uc=bt.document||{},Tt.gsap=pt,(bt.gsapVersions||(bt.gsapVersions=[])).push(pt.version),i1(yo||bt.GreenSockGlobals||!bt.gsap&&bt||{}),h=bt.requestAnimationFrame,T1.forEach(w1)),c&&u.sleep(),l=h||function(_){return setTimeout(_,o-u.time*1e3+1|0)},cr=1,m(2))},sleep:function(){(h?bt.cancelAnimationFrame:clearTimeout)(c),cr=0,l=or},lagSmoothing:function(_,y){e=_||1/0,t=Math.min(y||33,e)},fps:function(_){r=1e3/(_||240),o=u.time*1e3+r},add:function(_,y,w){var S=y?function(v,g,T,k){_(v,g,T,k),u.remove(S)}:_;return u.remove(_),a[w?"unshift":"push"](S),ii(),S},remove:function(_,y){~(y=a.indexOf(_))&&a.splice(y,1)&&d>=y&&d--},_listeners:a},u}(),ii=function(){return!cr&&gt.wake()},se={},P8=/^[\d.\-M][\d.\-,\s]/,N8=/["']/g,F8=function(e){for(var t={},s=e.substr(1,e.length-3).split(":"),i=s[0],r=1,o=s.length,a,c,l;r<o;r++)c=s[r],a=r!==o-1?c.lastIndexOf(","):c.length,l=c.substr(0,a),t[i]=isNaN(l)?l.replace(N8,"").trim():+l,i=c.substr(a+1).trim();return t},L8=function(e){var t=e.indexOf("(")+1,s=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<s?e.indexOf(")",s+1):s)},U8=function(e){var t=(e+"").split("("),s=se[t[0]];return s&&t.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[F8(t[1])]:L8(e).split(",").map(l1)):se._CE&&P8.test(e)?se._CE("",e):s},E1=function(e){return function(t){return 1-e(1-t)}},O1=function n(e,t){for(var s=e._first,i;s;)s instanceof tt?n(s,t):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==t&&(s.timeline?n(s.timeline,t):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=t)),s=s._next},un=function(e,t){return e&&(Re(e)?e:se[e]||U8(e))||t},kn=function(e,t,s,i){s===void 0&&(s=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var r={easeIn:t,easeOut:s,easeInOut:i},o;return ht(e,function(a){se[a]=Tt[a]=r,se[o=a.toLowerCase()]=s;for(var c in r)se[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=se[a+"."+c]=r[c]}),r},M1=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},fa=function n(e,t,s){var i=t>=1?t:1,r=(s||(e?.3:.45))/(t<1?t:1),o=r/Na*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*d8((h-o)*r)+1},c=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:M1(a);return r=Na/r,c.config=function(l,h){return n(e,l,h)},c},pa=function n(e,t){t===void 0&&(t=1.70158);var s=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?s:e==="in"?function(r){return 1-s(1-r)}:M1(s);return i.config=function(r){return n(e,r)},i};ht("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;kn(n+",Power"+(t-1),e?function(s){return Math.pow(s,t)}:function(s){return s},function(s){return 1-Math.pow(1-s,t)},function(s){return s<.5?Math.pow(s*2,t)/2:1-Math.pow((1-s)*2,t)/2})});se.Linear.easeNone=se.none=se.Linear.easeIn;kn("Elastic",fa("in"),fa("out"),fa());(function(n,e){var t=1/e,s=2*t,i=2.5*t,r=function(a){return a<t?n*a*a:a<s?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};kn("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);kn("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});kn("Circ",function(n){return-(Ku(1-n*n)-1)});kn("Sine",function(n){return n===1?1:-u8(n*l8)+1});kn("Back",pa("in"),pa("out"),pa());se.SteppedEase=se.steps=Tt.SteppedEase={config:function(e,t){e===void 0&&(e=1);var s=1/e,i=e+(t?0:1),r=t?1:0,o=1-fe;return function(a){return((i*kr(0,o,a)|0)+r)*s}}};ti.ease=se["quad.out"];ht("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return zc+=n+","+n+"Params,"});var A1=function(e,t){this.id=h8++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:a1,this.set=t?t.getSetter:Wc},lr=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ni(this,+t.duration,1,1),this.data=t.data,De&&(this._ctx=De,De.data.push(this)),cr||gt.wake()}var e=n.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,ni(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,i){if(ii(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Zo(this,s),!r._dp||r.parent||d1(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Zt(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===fe||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),c1(this,s,i)),this},e.time=function(s,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Zl(this))%(this._dur+this._rDelay)||(s?this._dur:0),i):this._time},e.totalProgress=function(s,i){return arguments.length?this.totalTime(this.totalDuration()*s,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(s,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Zl(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,i){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*r,i):this._repeat?si(this._tTime,r)+1:1},e.timeScale=function(s,i){if(!arguments.length)return this._rts===-fe?0:this._rts;if(this._rts===s)return this;var r=this.parent&&this._ts?To(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-fe?0:this._rts,this.totalTime(kr(-Math.abs(this._delay),this._tDur,r),i!==!1),Wo(this),y8(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ii(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==fe&&(this._tTime-=fe)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Zt(i,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(lt(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var i=this.parent||this._dp;return i?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?To(i.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=m8);var i=Xe;return Xe=s,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),Xe=i,this},e.globalTime=function(s){for(var i=this,r=arguments.length?s:i.rawTime();i;)r=i._start+r/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(s):r},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Yl(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var i=this._time;return this._rDelay=s,Yl(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,i){return this.totalTime(St(this,s),lt(i))},e.restart=function(s,i){return this.play().totalTime(s?-this._delay:0,lt(i))},e.play=function(s,i){return s!=null&&this.seek(s,i),this.reversed(!1).paused(!1)},e.reverse=function(s,i){return s!=null&&this.seek(s||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(s,i){return s!=null&&this.seek(s,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-fe:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-fe,this},e.isActive=function(){var s=this.parent||this._dp,i=this._start,r;return!!(!s||this._ts&&this._initted&&s.isActive()&&(r=s.rawTime(!0))>=i&&r<this.endTime(!0)-fe)},e.eventCallback=function(s,i,r){var o=this.vars;return arguments.length>1?(i?(o[s]=i,r&&(o[s+"Params"]=r),s==="onUpdate"&&(this._onUpdate=i)):delete o[s],this):o[s]},e.then=function(s){var i=this;return new Promise(function(r){var o=Re(s)?s:h1,a=function(){var l=i.then;i.then=null,Re(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=l),r(o),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Ri(this)},n}();Dt(lr.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-fe,_prom:0,_ps:!1,_rts:1});var tt=function(n){Qu(e,n);function e(s,i){var r;return s===void 0&&(s={}),r=n.call(this,s)||this,r.labels={},r.smoothChildTiming=!!s.smoothChildTiming,r.autoRemoveChildren=!!s.autoRemoveChildren,r._sort=lt(s.sortChildren),be&&Zt(s.parent||be,ls(r),i),s.reversed&&r.reverse(),s.paused&&r.paused(!0),s.scrollTrigger&&f1(ls(r),s.scrollTrigger),r}var t=e.prototype;return t.to=function(i,r,o){return Li(0,arguments,this),this},t.from=function(i,r,o){return Li(1,arguments,this),this},t.fromTo=function(i,r,o,a){return Li(2,arguments,this),this},t.set=function(i,r,o){return r.duration=0,r.parent=this,Fi(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Be(i,r,St(this,o),1),this},t.call=function(i,r,o){return Zt(this,Be.delayedCall(0,i,r),o)},t.staggerTo=function(i,r,o,a,c,l,h){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=h,o.parent=this,new Be(i,o,St(this,c)),this},t.staggerFrom=function(i,r,o,a,c,l,h){return o.runBackwards=1,Fi(o).immediateRender=lt(o.immediateRender),this.staggerTo(i,r,o,a,c,l,h)},t.staggerFromTo=function(i,r,o,a,c,l,h,u){return a.startAt=o,Fi(a).immediateRender=lt(a.immediateRender),this.staggerTo(i,r,a,c,l,h,u)},t.render=function(i,r,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,h=i<=0?0:je(i),u=this._zTime<0!=i<0&&(this._initted||!l),f,d,m,p,_,y,w,S,v,g,T,k;if(this!==be&&h>c&&i>=0&&(h=c),h!==this._tTime||o||u){if(a!==this._time&&l&&(h+=this._time-a,i+=this._time-a),f=h,v=this._start,S=this._ts,y=!S,u&&(l||(a=this._zTime),(i||!r)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,_=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,r,o);if(f=je(h%_),h===c?(p=this._repeat,f=l):(p=~~(h/_),p&&p===h/_&&(f=l,p--),f>l&&(f=l)),g=si(this._tTime,_),!a&&this._tTime&&g!==p&&this._tTime-g*_-this._dur<=0&&(g=p),T&&p&1&&(f=l-f,k=1),p!==g&&!this._lock){var C=T&&g&1,b=C===(T&&p&1);if(p<g&&(C=!C),a=C?0:h%l?l:h,this._lock=1,this.render(a||(k?0:je(p*_)),r,!l)._lock=0,this._tTime=h,!r&&this.parent&&vt(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,b&&(this._lock=2,a=C?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;O1(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=w8(this,je(a),je(f)),w&&(h-=f-(f=w._start))),this._tTime=h,this._time=f,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!r&&!p&&(vt(this,"onStart"),this._tTime!==h))return this;if(f>=a&&i>=0)for(d=this._first;d;){if(m=d._next,(d._act||f>=d._start)&&d._ts&&w!==d){if(d.parent!==this)return this.render(i,r,o);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,r,o),f!==this._time||!this._ts&&!y){w=0,m&&(h+=this._zTime=-fe);break}}d=m}else{d=this._last;for(var E=i<0?i:f;d;){if(m=d._prev,(d._act||E<=d._end)&&d._ts&&w!==d){if(d.parent!==this)return this.render(i,r,o);if(d.render(d._ts>0?(E-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(E-d._start)*d._ts,r,o||Xe&&(d._initted||d._startAt)),f!==this._time||!this._ts&&!y){w=0,m&&(h+=this._zTime=E?-fe:fe);break}}d=m}}if(w&&!r&&(this.pause(),w.render(f>=a?0:-fe)._zTime=f>=a?1:-1,this._ts))return this._start=v,Wo(this),this.render(i,r,o);this._onUpdate&&!r&&vt(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&a)&&(v===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(h===c&&this._ts>0||!h&&this._ts<0)&&qs(this,1),!r&&!(i<0&&!a)&&(h||a||!c)&&(vt(this,h===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,r){var o=this;if(vs(r)||(r=St(this,r,i)),!(i instanceof lr)){if(Qe(i))return i.forEach(function(a){return o.add(a,r)}),this;if(We(i))return this.addLabel(i,r);if(Re(i))i=Be.delayedCall(0,i);else return this}return this!==i?Zt(this,i,r):this},t.getChildren=function(i,r,o,a){i===void 0&&(i=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ot);for(var c=[],l=this._first;l;)l._start>=a&&(l instanceof Be?r&&c.push(l):(o&&c.push(l),i&&c.push.apply(c,l.getChildren(!0,r,o)))),l=l._next;return c},t.getById=function(i){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===i)return r[o]},t.remove=function(i){return We(i)?this.removeLabel(i):Re(i)?this.killTweensOf(i):(Go(this,i),i===this._recent&&(this._recent=this._last),hn(this))},t.totalTime=function(i,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=je(gt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,r),this._forcing=0,this):this._tTime},t.addLabel=function(i,r){return this.labels[i]=St(this,r),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,r,o){var a=Be.delayedCall(0,r||or,o);return a.data="isPause",this._hasPause=1,Zt(this,a,St(this,i))},t.removePause=function(i){var r=this._first;for(i=St(this,i);r;)r._start===i&&r.data==="isPause"&&qs(r),r=r._next},t.killTweensOf=function(i,r,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)Ds!==a[c]&&a[c].kill(i,r);return this},t.getTweensOf=function(i,r){for(var o=[],a=Mt(i),c=this._first,l=vs(r),h;c;)c instanceof Be?_8(c._targets,a)&&(l?(!Ds||c._initted&&c._ts)&&c.globalTime(0)<=r&&c.globalTime(c.totalDuration())>r:!r||c.isActive())&&o.push(c):(h=c.getTweensOf(a,r)).length&&o.push.apply(o,h),c=c._next;return o},t.tweenTo=function(i,r){r=r||{};var o=this,a=St(o,i),c=r,l=c.startAt,h=c.onStart,u=c.onStartParams,f=c.immediateRender,d,m=Be.to(o,Dt({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||fe,onStart:function(){if(o.pause(),!d){var _=r.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());m._dur!==_&&ni(m,_,0,1).render(m._time,!0,!0),d=1}h&&h.apply(m,u||[])}},r));return f?m.render(0):m},t.tweenFromTo=function(i,r,o){return this.tweenTo(r,Dt({startAt:{time:St(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),$l(this,St(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),$l(this,St(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+fe)},t.shiftChildren=function(i,r,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,l;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(r)for(l in c)c[l]>=o&&(c[l]+=i);return hn(this)},t.invalidate=function(i){var r=this._first;for(this._lock=0;r;)r.invalidate(i),r=r._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),hn(this)},t.totalDuration=function(i){var r=0,o=this,a=o._last,c=Ot,l,h,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(u=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Zt(o,a,h-a._delay,1)._lock=0):c=h,h<0&&a._ts&&(r-=h,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),c=0),a._end>r&&a._ts&&(r=a._end),a=l;ni(o,o===be&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(be._ts&&(c1(be,To(i,be)),o1=gt.frame),gt.frame>=Gl){Gl+=Ct.autoSleep||120;var r=be._first;if((!r||!r._ts)&&Ct.autoSleep&&gt._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||gt.sleep()}}},e}(lr);Dt(tt.prototype,{_lock:0,_hasPause:0,_forcing:0});var V8=function(e,t,s,i,r,o,a){var c=new ut(this._pt,e,t,0,1,F1,null,r),l=0,h=0,u,f,d,m,p,_,y,w;for(c.b=s,c.e=i,s+="",i+="",(y=~i.indexOf("random("))&&(i=ar(i)),o&&(w=[s,i],o(w,e,t),s=w[0],i=w[1]),f=s.match(ha)||[];u=ha.exec(i);)m=u[0],p=i.substring(l,u.index),d?d=(d+1)%5:p.substr(-5)==="rgba("&&(d=1),m!==f[h++]&&(_=parseFloat(f[h-1])||0,c._pt={_next:c._pt,p:p||h===1?p:",",s:_,c:m.charAt(1)==="="?jn(_,m)-_:parseFloat(m)-_,m:d&&d<4?Math.round:0},l=ha.lastIndex);return c.c=l<i.length?i.substring(l,i.length):"",c.fp=a,(t1.test(i)||y)&&(c.e=0),this._pt=c,c},jc=function(e,t,s,i,r,o,a,c,l,h){Re(i)&&(i=i(r||0,e,o));var u=e[t],f=s!=="get"?s:Re(u)?l?e[t.indexOf("set")||!Re(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():u,d=Re(u)?l?q8:P1:Gc,m;if(We(i)&&(~i.indexOf("random(")&&(i=ar(i)),i.charAt(1)==="="&&(m=jn(f,i)+($e(f)||0),(m||m===0)&&(i=m))),!h||f!==i||qa)return!isNaN(f*i)&&i!==""?(m=new ut(this._pt,e,t,+f||0,i-(f||0),typeof u=="boolean"?W8:N1,0,d),l&&(m.fp=l),a&&m.modifier(a,this,e),this._pt=m):(!u&&!(t in e)&&Vc(t,i),V8.call(this,e,t,f,i,d,c||Ct.stringFilter,l))},B8=function(e,t,s,i,r){if(Re(e)&&(e=Ui(e,r,t,s,i)),!Kt(e)||e.style&&e.nodeType||Qe(e)||Ju(e))return We(e)?Ui(e,r,t,s,i):e;var o={},a;for(a in e)o[a]=Ui(e[a],r,t,s,i);return o},D1=function(e,t,s,i,r,o){var a,c,l,h;if(_t[e]&&(a=new _t[e]).init(r,a.rawVars?t[e]:B8(t[e],i,r,o,s),s,i,o)!==!1&&(s._pt=c=new ut(s._pt,r,e,0,1,a.render,a,0,a.priority),s!==Bn))for(l=s._ptLookup[s._targets.indexOf(r)],h=a._props.length;h--;)l[a._props[h]]=c;return a},Ds,qa,qc=function n(e,t,s){var i=e.vars,r=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,l=i.onUpdate,h=i.runBackwards,u=i.yoyoEase,f=i.keyframes,d=i.autoRevert,m=e._dur,p=e._startAt,_=e._targets,y=e.parent,w=y&&y.data==="nested"?y.vars.targets:_,S=e._overwrite==="auto"&&!Nc,v=e.timeline,g,T,k,C,b,E,M,A,R,I,F,N,L;if(v&&(!f||!r)&&(r="none"),e._ease=un(r,ti.ease),e._yEase=u?E1(un(u===!0?r:u,ti.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!v&&!!i.runBackwards,!v||f&&!i.stagger){if(A=_[0]?ln(_[0]).harness:0,N=A&&i[A.prop],g=xo(i,Bc),p&&(p._zTime<0&&p.progress(1),t<0&&h&&a&&!d?p.render(-1,!0):p.revert(h&&m?Wr:p8),p._lazy=0),o){if(qs(e._startAt=Be.set(_,Dt({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!p&&lt(c),startAt:null,delay:0,onUpdate:l&&function(){return vt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Xe||!a&&!d)&&e._startAt.revert(Wr),a&&m&&t<=0&&s<=0){t&&(e._zTime=t);return}}else if(h&&m&&!p){if(t&&(a=!1),k=Dt({overwrite:!1,data:"isFromStart",lazy:a&&!p&&lt(c),immediateRender:a,stagger:0,parent:y},g),N&&(k[A.prop]=N),qs(e._startAt=Be.set(_,k)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Xe?e._startAt.revert(Wr):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,fe,fe);else if(!t)return}for(e._pt=e._ptCache=0,c=m&&lt(c)||c&&!m,T=0;T<_.length;T++){if(b=_[T],M=b._gsap||Hc(_)[T]._gsap,e._ptLookup[T]=I={},Ua[M.id]&&Ls.length&&Co(),F=w===_?T:w.indexOf(b),A&&(R=new A).init(b,N||g,e,F,w)!==!1&&(e._pt=C=new ut(e._pt,b,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(z){I[z]=C}),R.priority&&(E=1)),!A||N)for(k in g)_t[k]&&(R=D1(k,g,e,F,b,w))?R.priority&&(E=1):I[k]=C=jc.call(e,b,k,"get",g[k],F,w,0,i.stringFilter);e._op&&e._op[T]&&e.kill(b,e._op[T]),S&&e._pt&&(Ds=e,be.killTweensOf(b,I,e.globalTime(t)),L=!e.parent,Ds=0),e._pt&&c&&(Ua[M.id]=1)}E&&L1(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!L,f&&t<=0&&v.render(Ot,!0,!0)},z8=function(e,t,s,i,r,o,a,c){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,u,f,d;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,d=e._targets.length;d--;){if(h=f[d][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return qa=1,e.vars[t]="+=0",qc(e,a),qa=0,c?rr(t+" not eligible for reset"):1;l.push(h)}for(d=l.length;d--;)u=l[d],h=u._pt||u,h.s=(i||i===0)&&!r?i:h.s+(i||0)+o*h.c,h.c=s-h.s,u.e&&(u.e=Pe(s)+$e(u.e)),u.b&&(u.b=h.s+$e(u.b))},H8=function(e,t){var s=e[0]?ln(e[0]).harness:0,i=s&&s.aliases,r,o,a,c;if(!i)return t;r=vn({},t);for(o in i)if(o in r)for(c=i[o].split(","),a=c.length;a--;)r[c[a]]=r[o];return r},j8=function(e,t,s,i){var r=t.ease||i||"power1.inOut",o,a;if(Qe(t))a=s[e]||(s[e]=[]),t.forEach(function(c,l){return a.push({t:l/(t.length-1)*100,v:c,e:r})});else for(o in t)a=s[o]||(s[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:r})},Ui=function(e,t,s,i,r){return Re(e)?e.call(t,s,i,r):We(e)&&~e.indexOf("random(")?ar(e):e},R1=zc+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",I1={};ht(R1+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return I1[n]=1});var Be=function(n){Qu(e,n);function e(s,i,r,o){var a;typeof i=="number"&&(r.duration=i,i=r,r=null),a=n.call(this,o?i:Fi(i))||this;var c=a.vars,l=c.duration,h=c.delay,u=c.immediateRender,f=c.stagger,d=c.overwrite,m=c.keyframes,p=c.defaults,_=c.scrollTrigger,y=c.yoyoEase,w=i.parent||be,S=(Qe(s)||Ju(s)?vs(s[0]):"length"in i)?[s]:Mt(s),v,g,T,k,C,b,E,M;if(a._targets=S.length?Hc(S):rr("GSAP target "+s+" not found. https://gsap.com",!Ct.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,m||f||Hr(l)||Hr(h)){if(i=a.vars,v=a.timeline=new tt({data:"nested",defaults:p||{},targets:w&&w.data==="nested"?w.vars.targets:S}),v.kill(),v.parent=v._dp=ls(a),v._start=0,f||Hr(l)||Hr(h)){if(k=S.length,E=f&&g1(f),Kt(f))for(C in f)~R1.indexOf(C)&&(M||(M={}),M[C]=f[C]);for(g=0;g<k;g++)T=xo(i,I1),T.stagger=0,y&&(T.yoyoEase=y),M&&vn(T,M),b=S[g],T.duration=+Ui(l,ls(a),g,b,S),T.delay=(+Ui(h,ls(a),g,b,S)||0)-a._delay,!f&&k===1&&T.delay&&(a._delay=h=T.delay,a._start+=h,T.delay=0),v.to(b,T,E?E(g,b,S):0),v._ease=se.none;v.duration()?l=h=0:a.timeline=0}else if(m){Fi(Dt(v.vars.defaults,{ease:"none"})),v._ease=un(m.ease||i.ease||"none");var A=0,R,I,F;if(Qe(m))m.forEach(function(N){return v.to(S,N,">")}),v.duration();else{T={};for(C in m)C==="ease"||C==="easeEach"||j8(C,m[C],T,m.easeEach);for(C in T)for(R=T[C].sort(function(N,L){return N.t-L.t}),A=0,g=0;g<R.length;g++)I=R[g],F={ease:I.e,duration:(I.t-(g?R[g-1].t:0))/100*l},F[C]=I.v,v.to(S,F,A),A+=F.duration;v.duration()<l&&v.to({},{duration:l-v.duration()})}}l||a.duration(l=v.duration())}else a.timeline=0;return d===!0&&!Nc&&(Ds=ls(a),be.killTweensOf(S),Ds=0),Zt(w,ls(a),r),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(u||!l&&!m&&a._start===je(w._time)&&lt(u)&&C8(ls(a))&&w.data!=="nested")&&(a._tTime=-fe,a.render(Math.max(0,-h)||0)),_&&f1(ls(a),_),a}var t=e.prototype;return t.render=function(i,r,o){var a=this._time,c=this._tDur,l=this._dur,h=i<0,u=i>c-fe&&!h?c:i<fe?0:i,f,d,m,p,_,y,w,S,v;if(!l)T8(this,i,r,o);else if(u!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(f=u,S=this.timeline,this._repeat){if(p=l+this._rDelay,this._repeat<-1&&h)return this.totalTime(p*100+i,r,o);if(f=je(u%p),u===c?(m=this._repeat,f=l):(m=~~(u/p),m&&m===je(u/p)&&(f=l,m--),f>l&&(f=l)),y=this._yoyo&&m&1,y&&(v=this._yEase,f=l-f),_=si(this._tTime,p),f===a&&!o&&this._initted&&m===_)return this._tTime=u,this;m!==_&&(S&&this._yEase&&O1(S,y),this.vars.repeatRefresh&&!y&&!this._lock&&this._time!==l&&this._initted&&(this._lock=o=1,this.render(je(p*m),!0).invalidate()._lock=0))}if(!this._initted){if(p1(this,h?i:f,o,r,u))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==_))return this;if(l!==this._dur)return this.render(i,r,o)}if(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(v||this._ease)(f/l),this._from&&(this.ratio=w=1-w),f&&!a&&!r&&!m&&(vt(this,"onStart"),this._tTime!==u))return this;for(d=this._pt;d;)d.r(w,d.d),d=d._next;S&&S.render(i<0?i:!f&&y?-fe:S._dur*S._ease(f/this._dur),r,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!r&&(h&&Va(this,i,r,o),vt(this,"onUpdate")),this._repeat&&m!==_&&this.vars.onRepeat&&!r&&this.parent&&vt(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(h&&!this._onUpdate&&Va(this,i,!0,!0),(i||!l)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&qs(this,1),!r&&!(h&&!a)&&(u||a||y)&&(vt(this,u===c?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,r,o,a,c){cr||gt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||qc(this,l),h=this._ease(l/this._dur),z8(this,i,r,o,a,h,l,c)?this.resetTo(i,r,o,a,1):(Zo(this,0),this.parent||u1(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,r){if(r===void 0&&(r="all"),!i&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Ri(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,r,Ds&&Ds.vars.overwrite!==!0)._first||Ri(this),this.parent&&o!==this.timeline.totalDuration()&&ni(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?Mt(i):a,l=this._ptLookup,h=this._pt,u,f,d,m,p,_,y;if((!r||r==="all")&&v8(a,c))return r==="all"&&(this._pt=0),Ri(this);for(u=this._op=this._op||[],r!=="all"&&(We(r)&&(p={},ht(r,function(w){return p[w]=1}),r=p),r=H8(a,r)),y=a.length;y--;)if(~c.indexOf(a[y])){f=l[y],r==="all"?(u[y]=r,m=f,d={}):(d=u[y]=u[y]||{},m=r);for(p in m)_=f&&f[p],_&&((!("kill"in _.d)||_.d.kill(p)===!0)&&Go(this,_,"_pt"),delete f[p]),d!=="all"&&(d[p]=1)}return this._initted&&!this._pt&&h&&Ri(this),this},e.to=function(i,r){return new e(i,r,arguments[2])},e.from=function(i,r){return Li(1,arguments)},e.delayedCall=function(i,r,o,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,r,o){return Li(2,arguments)},e.set=function(i,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(i,r)},e.killTweensOf=function(i,r,o){return be.killTweensOf(i,r,o)},e}(lr);Dt(Be.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ht("staggerTo,staggerFrom,staggerFromTo",function(n){Be[n]=function(){var e=new tt,t=za.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Gc=function(e,t,s){return e[t]=s},P1=function(e,t,s){return e[t](s)},q8=function(e,t,s,i){return e[t](i.fp,s)},G8=function(e,t,s){return e.setAttribute(t,s)},Wc=function(e,t){return Re(e[t])?P1:Fc(e[t])&&e.setAttribute?G8:Gc},N1=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},W8=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},F1=function(e,t){var s=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;s;)i=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+i,s=s._next;i+=t.c}t.set(t.t,t.p,i,t)},Zc=function(e,t){for(var s=t._pt;s;)s.r(e,s.d),s=s._next},Z8=function(e,t,s,i){for(var r=this._pt,o;r;)o=r._next,r.p===i&&r.modifier(e,t,s),r=o},Y8=function(e){for(var t=this._pt,s,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Go(this,t,"_pt"):t.dep||(s=1),t=i;return!s},$8=function(e,t,s,i){i.mSet(e,t,i.m.call(i.tween,s,i.mt),i)},L1=function(e){for(var t=e._pt,s,i,r,o;t;){for(s=t._next,i=r;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:r=t,(t._next=i)?i._prev=t:o=t,t=s}e._pt=r},ut=function(){function n(t,s,i,r,o,a,c,l,h){this.t=s,this.s=r,this.c=o,this.p=i,this.r=a||N1,this.d=c||this,this.set=l||Gc,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(s,i,r){this.mSet=this.mSet||this.set,this.set=$8,this.m=s,this.mt=r,this.tween=i},n}();ht(zc+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Bc[n]=1});Tt.TweenMax=Tt.TweenLite=Be;Tt.TimelineLite=Tt.TimelineMax=tt;be=new tt({sortChildren:!1,defaults:ti,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ct.stringFilter=b1;var dn=[],Yr={},X8=[],Ql=0,Q8=0,ma=function(e){return(Yr[e]||X8).map(function(t){return t()})},Ga=function(){var e=Date.now(),t=[];e-Ql>2&&(ma("matchMediaInit"),dn.forEach(function(s){var i=s.queries,r=s.conditions,o,a,c,l;for(a in i)o=bt.matchMedia(i[a]).matches,o&&(c=1),o!==r[a]&&(r[a]=o,l=1);l&&(s.revert(),c&&t.push(s))}),ma("matchMediaRevert"),t.forEach(function(s){return s.onMatch(s,function(i){return s.add(null,i)})}),Ql=e,ma("matchMedia"))},U1=function(){function n(t,s){this.selector=s&&Ha(s),this.data=[],this._r=[],this.isReverted=!1,this.id=Q8++,t&&this.add(t)}var e=n.prototype;return e.add=function(s,i,r){Re(s)&&(r=i,i=s,s=Re);var o=this,a=function(){var l=De,h=o.selector,u;return l&&l!==o&&l.data.push(o),r&&(o.selector=Ha(r)),De=o,u=i.apply(o,arguments),Re(u)&&o._r.push(u),De=l,o.selector=h,o.isReverted=!1,u};return o.last=a,s===Re?a(o,function(c){return o.add(null,c)}):s?o[s]=a:a},e.ignore=function(s){var i=De;De=null,s(this),De=i},e.getTweens=function(){var s=[];return this.data.forEach(function(i){return i instanceof n?s.push.apply(s,i.getTweens()):i instanceof Be&&!(i.parent&&i.parent.data==="nested")&&s.push(i)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,i){var r=this;if(s?function(){for(var a=r.getTweens(),c=r.data.length,l;c--;)l=r.data[c],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,u){return u.g-h.g||-1/0}).forEach(function(h){return h.t.revert(s)}),c=r.data.length;c--;)l=r.data[c],l instanceof tt?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Be)&&l.revert&&l.revert(s);r._r.forEach(function(h){return h(s,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=dn.length;o--;)dn[o].id===this.id&&dn.splice(o,1)},e.revert=function(s){this.kill(s||{})},n}(),K8=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(s,i,r){Kt(s)||(s={matches:s});var o=new U1(0,r||this.scope),a=o.conditions={},c,l,h;De&&!o.selector&&(o.selector=De.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=s;for(l in s)l==="all"?h=1:(c=bt.matchMedia(s[l]),c&&(dn.indexOf(o)<0&&dn.push(o),(a[l]=c.matches)&&(h=1),c.addListener?c.addListener(Ga):c.addEventListener("change",Ga)));return h&&i(o,function(u){return o.add(null,u)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(i){return i.kill(s,!0)})},n}(),wo={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach(function(i){return w1(i)})},timeline:function(e){return new tt(e)},getTweensOf:function(e,t){return be.getTweensOf(e,t)},getProperty:function(e,t,s,i){We(e)&&(e=Mt(e)[0]);var r=ln(e||{}).get,o=s?h1:l1;return s==="native"&&(s=""),e&&(t?o((_t[t]&&_t[t].get||r)(e,t,s,i)):function(a,c,l){return o((_t[a]&&_t[a].get||r)(e,a,c,l))})},quickSetter:function(e,t,s){if(e=Mt(e),e.length>1){var i=e.map(function(h){return pt.quickSetter(h,t,s)}),r=i.length;return function(h){for(var u=r;u--;)i[u](h)}}e=e[0]||{};var o=_t[t],a=ln(e),c=a.harness&&(a.harness.aliases||{})[t]||t,l=o?function(h){var u=new o;Bn._pt=0,u.init(e,s?h+s:h,Bn,0,[e]),u.render(1,u),Bn._pt&&Zc(1,Bn)}:a.set(e,c);return o?l:function(h){return l(e,c,s?h+s:h,a,1)}},quickTo:function(e,t,s){var i,r=pt.to(e,vn((i={},i[t]="+=0.1",i.paused=!0,i),s||{})),o=function(c,l,h){return r.resetTo(t,c,l,h)};return o.tween=r,o},isTweening:function(e){return be.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=un(e.ease,ti.ease)),Wl(ti,e||{})},config:function(e){return Wl(Ct,e||{})},registerEffect:function(e){var t=e.name,s=e.effect,i=e.plugins,r=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!_t[a]&&!Tt[a]&&rr(t+" effect requires "+a+" plugin.")}),ua[t]=function(a,c,l){return s(Mt(a),Dt(c||{},r),l)},o&&(tt.prototype[t]=function(a,c,l){return this.add(ua[t](a,Kt(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,t){se[e]=un(t)},parseEase:function(e,t){return arguments.length?un(e,t):se},getById:function(e){return be.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var s=new tt(e),i,r;for(s.smoothChildTiming=lt(e.smoothChildTiming),be.remove(s),s._dp=0,s._time=s._tTime=be._time,i=be._first;i;)r=i._next,(t||!(!i._dur&&i instanceof Be&&i.vars.onComplete===i._targets[0]))&&Zt(s,i,i._start-i._delay),i=r;return Zt(be,s,0),s},context:function(e,t){return e?new U1(e,t):De},matchMedia:function(e){return new K8(e)},matchMediaRefresh:function(){return dn.forEach(function(e){var t=e.conditions,s,i;for(i in t)t[i]&&(t[i]=!1,s=1);s&&e.revert()})||Ga()},addEventListener:function(e,t){var s=Yr[e]||(Yr[e]=[]);~s.indexOf(t)||s.push(t)},removeEventListener:function(e,t){var s=Yr[e],i=s&&s.indexOf(t);i>=0&&s.splice(i,1)},utils:{wrap:A8,wrapYoyo:D8,distribute:g1,random:y1,snap:v1,normalize:M8,getUnit:$e,clamp:S8,splitColor:k1,toArray:Mt,selector:Ha,mapRange:x1,pipe:E8,unitize:O8,interpolate:R8,shuffle:_1},install:i1,effects:ua,ticker:gt,updateRoot:tt.updateRoot,plugins:_t,globalTimeline:be,core:{PropTween:ut,globals:r1,Tween:Be,Timeline:tt,Animation:lr,getCache:ln,_removeLinkedListItem:Go,reverting:function(){return Xe},context:function(e){return e&&De&&(De.data.push(e),e._ctx=De),De},suppressOverwrites:function(e){return Nc=e}}};ht("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return wo[n]=Be[n]});gt.add(tt.updateRoot);Bn=wo.to({},{duration:0});var J8=function(e,t){for(var s=e._pt;s&&s.p!==t&&s.op!==t&&s.fp!==t;)s=s._next;return s},e9=function(e,t){var s=e._targets,i,r,o;for(i in t)for(r=s.length;r--;)o=e._ptLookup[r][i],o&&(o=o.d)&&(o._pt&&(o=J8(o,i)),o&&o.modifier&&o.modifier(t[i],e,s[r],i))},_a=function(e,t){return{name:e,rawVars:1,init:function(i,r,o){o._onInit=function(a){var c,l;if(We(r)&&(c={},ht(r,function(h){return c[h]=1}),r=c),t){c={};for(l in r)c[l]=t(r[l]);r=c}e9(a,r)}}}},pt=wo.registerPlugin({name:"attr",init:function(e,t,s,i,r){var o,a,c;this.tween=s;for(o in t)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",t[o],i,r,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,t){for(var s=t._pt;s;)Xe?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",init:function(e,t){for(var s=t.length;s--;)this.add(e,s,e[s]||0,t[s],0,0,0,0,0,1)}},_a("roundProps",ja),_a("modifiers"),_a("snap",v1))||wo;Be.version=tt.version=pt.version="3.12.4";n1=1;Lc()&&ii();se.Power0;se.Power1;se.Power2;se.Power3;se.Power4;se.Linear;se.Quad;se.Cubic;se.Quart;se.Quint;se.Strong;se.Elastic;se.Back;se.SteppedEase;se.Bounce;se.Sine;se.Expo;se.Circ;/*!
 * CSSPlugin 3.12.4
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Kl,Rs,qn,Yc,rn,Jl,$c,t9=function(){return typeof window<"u"},ys={},tn=180/Math.PI,Gn=Math.PI/180,Pn=Math.atan2,eh=1e8,Xc=/([A-Z])/g,s9=/(left|right|width|margin|padding|x)/i,n9=/[\s,\(]\S/,Yt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Wa=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},i9=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},r9=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},o9=function(e,t){var s=t.s+t.c*e;t.set(t.t,t.p,~~(s+(s<0?-.5:.5))+t.u,t)},V1=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},B1=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},a9=function(e,t,s){return e.style[t]=s},c9=function(e,t,s){return e.style.setProperty(t,s)},l9=function(e,t,s){return e._gsap[t]=s},h9=function(e,t,s){return e._gsap.scaleX=e._gsap.scaleY=s},u9=function(e,t,s,i,r){var o=e._gsap;o.scaleX=o.scaleY=s,o.renderTransform(r,o)},d9=function(e,t,s,i,r){var o=e._gsap;o[t]=s,o.renderTransform(r,o)},Ee="transform",dt=Ee+"Origin",f9=function n(e,t){var s=this,i=this.target,r=i.style,o=i._gsap;if(e in ys&&r){if(this.tfm=this.tfm||{},e!=="transform")e=Yt[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return s.tfm[a]=hs(i,a)}):this.tfm[e]=o.x?o[e]:hs(i,e),e===dt&&(this.tfm.zOrigin=o.zOrigin);else return Yt.transform.split(",").forEach(function(a){return n.call(s,a,t)});if(this.props.indexOf(Ee)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(dt,t,"")),e=Ee}(r||t)&&this.props.push(e,t,r[e])},z1=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},p9=function(){var e=this.props,t=this.target,s=t.style,i=t._gsap,r,o;for(r=0;r<e.length;r+=3)e[r+1]?t[e[r]]=e[r+2]:e[r+2]?s[e[r]]=e[r+2]:s.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(Xc,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=$c(),(!r||!r.isStart)&&!s[Ee]&&(z1(s),i.zOrigin&&s[dt]&&(s[dt]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},H1=function(e,t){var s={target:e,props:[],revert:p9,save:f9};return e._gsap||pt.core.getCache(e),t&&t.split(",").forEach(function(i){return s.save(i)}),s},j1,Za=function(e,t){var s=Rs.createElementNS?Rs.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Rs.createElement(e);return s&&s.style?s:Rs.createElement(e)},Xt=function n(e,t,s){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Xc,"-$1").toLowerCase())||i.getPropertyValue(t)||!s&&n(e,ri(t)||t,1)||""},th="O,Moz,ms,Ms,Webkit".split(","),ri=function(e,t,s){var i=t||rn,r=i.style,o=5;if(e in r&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(th[o]+e in r););return o<0?null:(o===3?"ms":o>=0?th[o]:"")+e},Ya=function(){t9()&&window.document&&(Kl=window,Rs=Kl.document,qn=Rs.documentElement,rn=Za("div")||{style:{}},Za("div"),Ee=ri(Ee),dt=Ee+"Origin",rn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",j1=!!ri("perspective"),$c=pt.core.reverting,Yc=1)},ga=function n(e){var t=Za("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,i=this.nextSibling,r=this.style.cssText,o;if(qn.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return s&&(i?s.insertBefore(this,i):s.appendChild(this)),qn.removeChild(t),this.style.cssText=r,o},sh=function(e,t){for(var s=t.length;s--;)if(e.hasAttribute(t[s]))return e.getAttribute(t[s])},q1=function(e){var t;try{t=e.getBBox()}catch{t=ga.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===ga||(t=ga.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+sh(e,["x","cx","x1"])||0,y:+sh(e,["y","cy","y1"])||0,width:0,height:0}:t},G1=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&q1(e))},yn=function(e,t){if(t){var s=e.style,i;t in ys&&t!==dt&&(t=Ee),s.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),s.removeProperty(i==="--"?t:t.replace(Xc,"-$1").toLowerCase())):s.removeAttribute(t)}},Is=function(e,t,s,i,r,o){var a=new ut(e._pt,t,s,0,1,o?B1:V1);return e._pt=a,a.b=i,a.e=r,e._props.push(s),a},nh={deg:1,rad:1,turn:1},m9={grid:1,flex:1},Gs=function n(e,t,s,i){var r=parseFloat(s)||0,o=(s+"").trim().substr((r+"").length)||"px",a=rn.style,c=s9.test(t),l=e.tagName.toLowerCase()==="svg",h=(l?"client":"offset")+(c?"Width":"Height"),u=100,f=i==="px",d=i==="%",m,p,_,y;if(i===o||!r||nh[i]||nh[o])return r;if(o!=="px"&&!f&&(r=n(e,t,s,"px")),y=e.getCTM&&G1(e),(d||o==="%")&&(ys[t]||~t.indexOf("adius")))return m=y?e.getBBox()[c?"width":"height"]:e[h],Pe(d?r/m*u:r/100*m);if(a[c?"width":"height"]=u+(f?o:i),p=~t.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,y&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===Rs||!p.appendChild)&&(p=Rs.body),_=p._gsap,_&&d&&_.width&&c&&_.time===gt.time&&!_.uncache)return Pe(r/_.width*u);if(d&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=u+i,m=e[h],w?e.style[t]=w:yn(e,t)}else(d||o==="%")&&!m9[Xt(p,"display")]&&(a.position=Xt(e,"position")),p===e&&(a.position="static"),p.appendChild(rn),m=rn[h],p.removeChild(rn),a.position="absolute";return c&&d&&(_=ln(p),_.time=gt.time,_.width=p[h]),Pe(f?m*r/u:m&&r?u/m*r:0)},hs=function(e,t,s,i){var r;return Yc||Ya(),t in Yt&&t!=="transform"&&(t=Yt[t],~t.indexOf(",")&&(t=t.split(",")[0])),ys[t]&&t!=="transform"?(r=ur(e,i),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:So(Xt(e,dt))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||i||~(r+"").indexOf("calc("))&&(r=ko[t]&&ko[t](e,t,s)||Xt(e,t)||a1(e,t)||(t==="opacity"?1:0))),s&&!~(r+"").trim().indexOf(" ")?Gs(e,t,r,s)+s:r},_9=function(e,t,s,i){if(!s||s==="none"){var r=ri(t,e,1),o=r&&Xt(e,r,1);o&&o!==s?(t=r,s=o):t==="borderColor"&&(s=Xt(e,"borderTopColor"))}var a=new ut(this._pt,e.style,t,0,1,F1),c=0,l=0,h,u,f,d,m,p,_,y,w,S,v,g;if(a.b=s,a.e=i,s+="",i+="",i==="auto"&&(p=e.style[t],e.style[t]=i,i=Xt(e,t)||i,p?e.style[t]=p:yn(e,t)),h=[s,i],b1(h),s=h[0],i=h[1],f=s.match(Vn)||[],g=i.match(Vn)||[],g.length){for(;u=Vn.exec(i);)_=u[0],w=i.substring(c,u.index),m?m=(m+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(m=1),_!==(p=f[l++]||"")&&(d=parseFloat(p)||0,v=p.substr((d+"").length),_.charAt(1)==="="&&(_=jn(d,_)+v),y=parseFloat(_),S=_.substr((y+"").length),c=Vn.lastIndex-S.length,S||(S=S||Ct.units[t]||v,c===i.length&&(i+=S,a.e+=S)),v!==S&&(d=Gs(e,t,p,S)||0),a._pt={_next:a._pt,p:w||l===1?w:",",s:d,c:y-d,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=t==="display"&&i==="none"?B1:V1;return t1.test(i)&&(a.e=0),this._pt=a,a},ih={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},g9=function(e){var t=e.split(" "),s=t[0],i=t[1]||"50%";return(s==="top"||s==="bottom"||i==="left"||i==="right")&&(e=s,s=i,i=e),t[0]=ih[s]||s,t[1]=ih[i]||i,t.join(" ")},v9=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var s=t.t,i=s.style,r=t.u,o=s._gsap,a,c,l;if(r==="all"||r===!0)i.cssText="",c=1;else for(r=r.split(","),l=r.length;--l>-1;)a=r[l],ys[a]&&(c=1,a=a==="transformOrigin"?dt:Ee),yn(s,a);c&&(yn(s,Ee),o&&(o.svg&&s.removeAttribute("transform"),ur(s,1),o.uncache=1,z1(i)))}},ko={clearProps:function(e,t,s,i,r){if(r.data!=="isFromStart"){var o=e._pt=new ut(e._pt,t,s,0,0,v9);return o.u=i,o.pr=-10,o.tween=r,e._props.push(s),1}}},hr=[1,0,0,1,0,0],W1={},Z1=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},rh=function(e){var t=Xt(e,Ee);return Z1(t)?hr:t.substr(7).match(e1).map(Pe)},Qc=function(e,t){var s=e._gsap||ln(e),i=e.style,r=rh(e),o,a,c,l;return s.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,r=[c.a,c.b,c.c,c.d,c.e,c.f],r.join(",")==="1,0,0,1,0,0"?hr:r):(r===hr&&!e.offsetParent&&e!==qn&&!s.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,qn.appendChild(e)),r=rh(e),c?i.display=c:yn(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):qn.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},$a=function(e,t,s,i,r,o){var a=e._gsap,c=r||Qc(e,!0),l=a.xOrigin||0,h=a.yOrigin||0,u=a.xOffset||0,f=a.yOffset||0,d=c[0],m=c[1],p=c[2],_=c[3],y=c[4],w=c[5],S=t.split(" "),v=parseFloat(S[0])||0,g=parseFloat(S[1])||0,T,k,C,b;s?c!==hr&&(k=d*_-m*p)&&(C=v*(_/k)+g*(-p/k)+(p*w-_*y)/k,b=v*(-m/k)+g*(d/k)-(d*w-m*y)/k,v=C,g=b):(T=q1(e),v=T.x+(~S[0].indexOf("%")?v/100*T.width:v),g=T.y+(~(S[1]||S[0]).indexOf("%")?g/100*T.height:g)),i||i!==!1&&a.smooth?(y=v-l,w=g-h,a.xOffset=u+(y*d+w*p)-y,a.yOffset=f+(y*m+w*_)-w):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=g,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!s,e.style[dt]="0px 0px",o&&(Is(o,a,"xOrigin",l,v),Is(o,a,"yOrigin",h,g),Is(o,a,"xOffset",u,a.xOffset),Is(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+g)},ur=function(e,t){var s=e._gsap||new A1(e);if("x"in s&&!t&&!s.uncache)return s;var i=e.style,r=s.scaleX<0,o="px",a="deg",c=getComputedStyle(e),l=Xt(e,dt)||"0",h,u,f,d,m,p,_,y,w,S,v,g,T,k,C,b,E,M,A,R,I,F,N,L,z,B,q,H,V,Te,ae,$;return h=u=f=p=_=y=w=S=v=0,d=m=1,s.svg=!!(e.getCTM&&G1(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Ee]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ee]!=="none"?c[Ee]:"")),i.scale=i.rotate=i.translate="none"),k=Qc(e,s.svg),s.svg&&(s.uncache?(z=e.getBBox(),l=s.xOrigin-z.x+"px "+(s.yOrigin-z.y)+"px",L=""):L=!t&&e.getAttribute("data-svg-origin"),$a(e,L||l,!!L||s.originIsAbsolute,s.smooth!==!1,k)),g=s.xOrigin||0,T=s.yOrigin||0,k!==hr&&(M=k[0],A=k[1],R=k[2],I=k[3],h=F=k[4],u=N=k[5],k.length===6?(d=Math.sqrt(M*M+A*A),m=Math.sqrt(I*I+R*R),p=M||A?Pn(A,M)*tn:0,w=R||I?Pn(R,I)*tn+p:0,w&&(m*=Math.abs(Math.cos(w*Gn))),s.svg&&(h-=g-(g*M+T*R),u-=T-(g*A+T*I))):($=k[6],Te=k[7],q=k[8],H=k[9],V=k[10],ae=k[11],h=k[12],u=k[13],f=k[14],C=Pn($,V),_=C*tn,C&&(b=Math.cos(-C),E=Math.sin(-C),L=F*b+q*E,z=N*b+H*E,B=$*b+V*E,q=F*-E+q*b,H=N*-E+H*b,V=$*-E+V*b,ae=Te*-E+ae*b,F=L,N=z,$=B),C=Pn(-R,V),y=C*tn,C&&(b=Math.cos(-C),E=Math.sin(-C),L=M*b-q*E,z=A*b-H*E,B=R*b-V*E,ae=I*E+ae*b,M=L,A=z,R=B),C=Pn(A,M),p=C*tn,C&&(b=Math.cos(C),E=Math.sin(C),L=M*b+A*E,z=F*b+N*E,A=A*b-M*E,N=N*b-F*E,M=L,F=z),_&&Math.abs(_)+Math.abs(p)>359.9&&(_=p=0,y=180-y),d=Pe(Math.sqrt(M*M+A*A+R*R)),m=Pe(Math.sqrt(N*N+$*$)),C=Pn(F,N),w=Math.abs(C)>2e-4?C*tn:0,v=ae?1/(ae<0?-ae:ae):0),s.svg&&(L=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!Z1(Xt(e,Ee)),L&&e.setAttribute("transform",L))),Math.abs(w)>90&&Math.abs(w)<270&&(r?(d*=-1,w+=p<=0?180:-180,p+=p<=0?180:-180):(m*=-1,w+=w<=0?180:-180)),t=t||s.uncache,s.x=h-((s.xPercent=h&&(!t&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+o,s.y=u-((s.yPercent=u&&(!t&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+o,s.z=f+o,s.scaleX=Pe(d),s.scaleY=Pe(m),s.rotation=Pe(p)+a,s.rotationX=Pe(_)+a,s.rotationY=Pe(y)+a,s.skewX=w+a,s.skewY=S+a,s.transformPerspective=v+o,(s.zOrigin=parseFloat(l.split(" ")[2])||!t&&s.zOrigin||0)&&(i[dt]=So(l)),s.xOffset=s.yOffset=0,s.force3D=Ct.force3D,s.renderTransform=s.svg?C9:j1?Y1:y9,s.uncache=0,s},So=function(e){return(e=e.split(" "))[0]+" "+e[1]},va=function(e,t,s){var i=$e(t);return Pe(parseFloat(t)+parseFloat(Gs(e,"x",s+"px",i)))+i},y9=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Y1(e,t)},Js="0deg",Mi="0px",en=") ",Y1=function(e,t){var s=t||this,i=s.xPercent,r=s.yPercent,o=s.x,a=s.y,c=s.z,l=s.rotation,h=s.rotationY,u=s.rotationX,f=s.skewX,d=s.skewY,m=s.scaleX,p=s.scaleY,_=s.transformPerspective,y=s.force3D,w=s.target,S=s.zOrigin,v="",g=y==="auto"&&e&&e!==1||y===!0;if(S&&(u!==Js||h!==Js)){var T=parseFloat(h)*Gn,k=Math.sin(T),C=Math.cos(T),b;T=parseFloat(u)*Gn,b=Math.cos(T),o=va(w,o,k*b*-S),a=va(w,a,-Math.sin(T)*-S),c=va(w,c,C*b*-S+S)}_!==Mi&&(v+="perspective("+_+en),(i||r)&&(v+="translate("+i+"%, "+r+"%) "),(g||o!==Mi||a!==Mi||c!==Mi)&&(v+=c!==Mi||g?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+en),l!==Js&&(v+="rotate("+l+en),h!==Js&&(v+="rotateY("+h+en),u!==Js&&(v+="rotateX("+u+en),(f!==Js||d!==Js)&&(v+="skew("+f+", "+d+en),(m!==1||p!==1)&&(v+="scale("+m+", "+p+en),w.style[Ee]=v||"translate(0, 0)"},C9=function(e,t){var s=t||this,i=s.xPercent,r=s.yPercent,o=s.x,a=s.y,c=s.rotation,l=s.skewX,h=s.skewY,u=s.scaleX,f=s.scaleY,d=s.target,m=s.xOrigin,p=s.yOrigin,_=s.xOffset,y=s.yOffset,w=s.forceCSS,S=parseFloat(o),v=parseFloat(a),g,T,k,C,b;c=parseFloat(c),l=parseFloat(l),h=parseFloat(h),h&&(h=parseFloat(h),l+=h,c+=h),c||l?(c*=Gn,l*=Gn,g=Math.cos(c)*u,T=Math.sin(c)*u,k=Math.sin(c-l)*-f,C=Math.cos(c-l)*f,l&&(h*=Gn,b=Math.tan(l-h),b=Math.sqrt(1+b*b),k*=b,C*=b,h&&(b=Math.tan(h),b=Math.sqrt(1+b*b),g*=b,T*=b)),g=Pe(g),T=Pe(T),k=Pe(k),C=Pe(C)):(g=u,C=f,T=k=0),(S&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(S=Gs(d,"x",o,"px"),v=Gs(d,"y",a,"px")),(m||p||_||y)&&(S=Pe(S+m-(m*g+p*k)+_),v=Pe(v+p-(m*T+p*C)+y)),(i||r)&&(b=d.getBBox(),S=Pe(S+i/100*b.width),v=Pe(v+r/100*b.height)),b="matrix("+g+","+T+","+k+","+C+","+S+","+v+")",d.setAttribute("transform",b),w&&(d.style[Ee]=b)},x9=function(e,t,s,i,r){var o=360,a=We(r),c=parseFloat(r)*(a&&~r.indexOf("rad")?tn:1),l=c-i,h=i+l+"deg",u,f;return a&&(u=r.split("_")[1],u==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),u==="cw"&&l<0?l=(l+o*eh)%o-~~(l/o)*o:u==="ccw"&&l>0&&(l=(l-o*eh)%o-~~(l/o)*o)),e._pt=f=new ut(e._pt,t,s,i,l,i9),f.e=h,f.u="deg",e._props.push(s),f},oh=function(e,t){for(var s in t)e[s]=t[s];return e},T9=function(e,t,s){var i=oh({},s._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=s.style,a,c,l,h,u,f,d,m;i.svg?(l=s.getAttribute("transform"),s.setAttribute("transform",""),o[Ee]=t,a=ur(s,1),yn(s,Ee),s.setAttribute("transform",l)):(l=getComputedStyle(s)[Ee],o[Ee]=t,a=ur(s,1),o[Ee]=l);for(c in ys)l=i[c],h=a[c],l!==h&&r.indexOf(c)<0&&(d=$e(l),m=$e(h),u=d!==m?Gs(s,c,l,m):parseFloat(l),f=parseFloat(h),e._pt=new ut(e._pt,a,c,u,f-u,Wa),e._pt.u=m||0,e._props.push(c));oh(a,i)};ht("padding,margin,Width,Radius",function(n,e){var t="Top",s="Right",i="Bottom",r="Left",o=(e<3?[t,s,i,r]:[t+r,t+s,i+s,i+r]).map(function(a){return e<2?n+a:"border"+a+n});ko[e>1?"border"+n:n]=function(a,c,l,h,u){var f,d;if(arguments.length<4)return f=o.map(function(m){return hs(a,m,l)}),d=f.join(" "),d.split(f[0]).length===5?f[0]:d;f=(h+"").split(" "),d={},o.forEach(function(m,p){return d[m]=f[p]=f[p]||f[(p-1)/2|0]}),a.init(c,d,u)}});var $1={name:"css",register:Ya,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,s,i,r){var o=this._props,a=e.style,c=s.vars.startAt,l,h,u,f,d,m,p,_,y,w,S,v,g,T,k,C;Yc||Ya(),this.styles=this.styles||H1(e),C=this.styles.props,this.tween=s;for(p in t)if(p!=="autoRound"&&(h=t[p],!(_t[p]&&D1(p,t,s,i,e,r)))){if(d=typeof h,m=ko[p],d==="function"&&(h=h.call(s,i,e,r),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=ar(h)),m)m(this,e,p,h,s)&&(k=1);else if(p.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(p)+"").trim(),h+="",Us.lastIndex=0,Us.test(l)||(_=$e(l),y=$e(h)),y?_!==y&&(l=Gs(e,p,l,y)+y):_&&(h+=_),this.add(a,"setProperty",l,h,i,r,0,0,p),o.push(p),C.push(p,0,a[p]);else if(d!=="undefined"){if(c&&p in c?(l=typeof c[p]=="function"?c[p].call(s,i,e,r):c[p],We(l)&&~l.indexOf("random(")&&(l=ar(l)),$e(l+"")||l==="auto"||(l+=Ct.units[p]||$e(hs(e,p))||""),(l+"").charAt(1)==="="&&(l=hs(e,p))):l=hs(e,p),f=parseFloat(l),w=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),w&&(h=h.substr(2)),u=parseFloat(h),p in Yt&&(p==="autoAlpha"&&(f===1&&hs(e,"visibility")==="hidden"&&u&&(f=0),C.push("visibility",0,a.visibility),Is(this,a,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),p!=="scale"&&p!=="transform"&&(p=Yt[p],~p.indexOf(",")&&(p=p.split(",")[0]))),S=p in ys,S){if(this.styles.save(p),v||(g=e._gsap,g.renderTransform&&!t.parseTransform||ur(e,t.parseTransform),T=t.smoothOrigin!==!1&&g.smooth,v=this._pt=new ut(this._pt,a,Ee,0,1,g.renderTransform,g,0,-1),v.dep=1),p==="scale")this._pt=new ut(this._pt,g,"scaleY",g.scaleY,(w?jn(g.scaleY,w+u):u)-g.scaleY||0,Wa),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){C.push(dt,0,a[dt]),h=g9(h),g.svg?$a(e,h,0,T,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==g.zOrigin&&Is(this,g,"zOrigin",g.zOrigin,y),Is(this,a,p,So(l),So(h)));continue}else if(p==="svgOrigin"){$a(e,h,1,T,0,this);continue}else if(p in W1){x9(this,g,p,f,w?jn(f,w+h):h);continue}else if(p==="smoothOrigin"){Is(this,g,"smooth",g.smooth,h);continue}else if(p==="force3D"){g[p]=h;continue}else if(p==="transform"){T9(this,h,e);continue}}else p in a||(p=ri(p)||p);if(S||(u||u===0)&&(f||f===0)&&!n9.test(h)&&p in a)_=(l+"").substr((f+"").length),u||(u=0),y=$e(h)||(p in Ct.units?Ct.units[p]:_),_!==y&&(f=Gs(e,p,l,y)),this._pt=new ut(this._pt,S?g:a,p,f,(w?jn(f,w+u):u)-f,!S&&(y==="px"||p==="zIndex")&&t.autoRound!==!1?o9:Wa),this._pt.u=y||0,_!==y&&y!=="%"&&(this._pt.b=l,this._pt.r=r9);else if(p in a)_9.call(this,e,p,l,w?w+h:h);else if(p in e)this.add(e,p,l||e[p],w?w+h:h,i,r);else if(p!=="parseTransform"){Vc(p,h);continue}S||(p in a?C.push(p,0,a[p]):C.push(p,1,l||e[p])),o.push(p)}}k&&L1(this)},render:function(e,t){if(t.tween._time||!$c())for(var s=t._pt;s;)s.r(e,s.d),s=s._next;else t.styles.revert()},get:hs,aliases:Yt,getSetter:function(e,t,s){var i=Yt[t];return i&&i.indexOf(",")<0&&(t=i),t in ys&&t!==dt&&(e._gsap.x||hs(e,"x"))?s&&Jl===s?t==="scale"?h9:l9:(Jl=s||{})&&(t==="scale"?u9:d9):e.style&&!Fc(e.style[t])?a9:~t.indexOf("-")?c9:Wc(e,t)},core:{_removeProperty:yn,_getMatrix:Qc}};pt.utils.checkPrefix=ri;pt.core.getStyleSaver=H1;(function(n,e,t,s){var i=ht(n+","+e+","+t,function(r){ys[r]=1});ht(e,function(r){Ct.units[r]="deg",W1[r]=1}),Yt[i[13]]=n+","+e,ht(s,function(r){var o=r.split(":");Yt[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ht("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ct.units[n]="px"});pt.registerPlugin($1);var X1=pt.registerPlugin($1)||pt;X1.core.Tween;const Q1=O.forwardRef(({source:n,target:e,isSelected:t,lineWidth:s,visible:i},r)=>(O.useEffect(()=>{const o=r.current;o&&X1.fromTo(o.material,{linewidth:5},{linewidth:t?2:s,duration:1})},[t,s,r]),x.jsx(N0,{ref:r,color:"rgba(136, 136, 136, 1)",isLine2:!0,lineWidth:1,opacity:1,points:[n,e],transparent:!0,visible:i})));Q1.displayName="LineComponent";const K1=O.memo(({linksPositions:n})=>{const e=Cn(r=>r.dataInitial),{showSelectionGraph:t}=nt(r=>r),s=Jt(),i=O.useRef([]);return x.jsx("group",{name:"simulation-3d-group__connections",children:e==null?void 0:e.links.map((r,o)=>{var u,f,d,m,p,_;const a=new X(((u=n[o])==null?void 0:u.sx)||0,((f=n[o])==null?void 0:f.sy)||0,((d=n[o])==null?void 0:d.sz)||0),c=new X(((m=n[o])==null?void 0:m.tx)||0,((p=n[o])==null?void 0:p.ty)||0,((_=n[o])==null?void 0:_.tz)||0),l=(s==null?void 0:s.ref_id)===r.source||(s==null?void 0:s.ref_id)===r.target,h=s?0:.5;return x.jsx(Q1,{ref:y=>{i.current[o]=y},isSelected:l,lineWidth:h,source:a,target:c,visible:!t},r.ref_id)})})});K1.displayName="Connections";const Yo={metalness:.9,roughness:0},w9={...Yo};new fr(w9);const J1=new Oo,bo=J1.load("noimage.jpeg"),ah=new fr({...Yo,map:bo}),e0=.4,k9=new fr({...Yo,map:bo,transparent:!0,opacity:e0}),jr={},S9=(n,e)=>{const[t,s]=O.useState(bo),[i,r]=O.useState(ah);return O.useEffect(()=>{const o=`${n}${e&&"-transparent"}`;if(jr[o]){s(jr[o].texture),r(jr[o].material);return}J1.load(n,a=>{const c=new fr({map:a,transparent:e,opacity:e?e0:1,...Yo});jr[o]={texture:a,material:c},s(a),r(c)},void 0,()=>{s(bo),r(e?k9:ah)})},[n,e]),O.useEffect(()=>function(){t.dispose(),i.dispose()},[t,i]),i},Kc=O.memo(({node:n,hide:e,animated:t})=>{const s=O.useRef(null),[i]=O.useState(ql),r=Jt(),{showSelectionGraph:o}=nt(h=>h),a=!!r&&n.ref_id===r.ref_id,c=S9(n.image_url||"noimage.jpeg",!1);Rt((h,u)=>{t&&s.current&&a&&(s.current.rotation.y+=u*1,s.current.rotation.x-=u*.6)}),O.useEffect(()=>function(){i.dispose()},[i]);const l=O.useMemo(()=>o&&a?20:a?(n.scale||1)*1.2:n.scale,[n,a,o]);return x.jsx(Ah,{enabled:!!a,children:x.jsx("mesh",{ref:s,geometry:ql,material:c,name:n.id,scale:l,userData:n,visible:!e})})});Kc.displayName="Cube";const b9=Ue(Cs)`
  text-align: center;
  width: ${n=>n.type==="topic"?"auto":`${n.size}px`};
  height: ${n=>n.type==="topic"?"auto":`${n.size}px`};
  outline: 1px solid ${n=>pe.white||n.color};
  outline-offset: 0px;
  background: rgba(0, 0, 0, 0.75);
  color: ${n=>n.fontColor};
  border-radius: ${n=>`${n.type==="guest"?"100%":"6px"}`};
  font-size: ${n=>`${n.fontSize}px`};
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  transform: scale(${n=>n.scale});
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 26px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }

  &.selected {
    .badge-wrapper {
      top: 0;
    }

    font-size: 36px;

    &:hover {
      outline-offset: 0px;
    }
  }

  &.topic {
    outline: none;
    background: none;
    &:hover {
      font-size: 36px;
    }
    white-space: nowrap;
    .badge-wrapper {
      display: none;
    }
  }

  .badge-wrapper {
    position: absolute;
    top: -7px;
    left: -14px;
  }
`,E9=Ue(Cs)`
  text-align: center;
  outline: 1px solid ${pe.white};
  outline-offset: 0px;
  white-space: nowrap;
  padding: 4px;
  background: rgba(0, 0, 0, 0.75);
  color: ${pe.white};
  border-radius: 6px;
  font-size: 20px;
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: flex-start;
  font-family: Barlow;
  font-size: 26px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  max-width: auto;
  max-height: 100px;
  white-space: normal;
  font-size: 16px;

  &:hover {
    outline-offset: 4px;
  }

  &.selected {
    .badge-wrapper {
      top: 0;
    }

    font-size: 36px;

    &:hover {
      outline-offset: 0px;
    }
  }

  &.topic {
    outline: none;
    background: none;
    &:hover {
      font-size: 36px;
    }
    white-space: nowrap;
    .badge-wrapper {
      display: none;
    }
  }

  .badge-wrapper {
    position: absolute;
    top: -7px;
    left: -14px;
  }
`;Ue.img`
  background-image: ${({src:n})=>`url(${n})`};
  background-size: contain;
  background-repeat: no-repeat;
  width: ${n=>n.size}px;
  height: ${n=>n.size}px;
  border-radius: ${n=>n.borderRadius};
`;Ue.div`
  display: flex;
  position: absolute;
  bottom: -14px;
  left: -5px;
  width: auto;
  justify-content: center;
  align-items: center;
`;Ue.div`
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${pe.transparentBlack};
  border: 2px solid ${n=>n.color};
  color: #fff;
  padding: 0 4px;
  min-width: 30px;
  height: 26px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  margin-right: 5px;
`;Ue.div`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid ${n=>n.color}44;
  background: ${pe.transparentBlack};
  padding: 0 4px;
  color: ${n=>n.color};
  min-width: 30px;
  height: 26px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  margin-right: 5px;
`;const O9=new X,M9=({position:n,userData:e,color:t})=>{const s=O.useRef(null),{selectedNode:i,setSelectedNode:r,showSelectionGraph:o,hoveredNode:a,setHoveredNode:c}=nt(tc(d=>d)),l=((e==null?void 0:e.node_type)||"")==="Topic"||!!e.name,h=((e==null?void 0:e.node_type)||"")==="Guest"||((e==null?void 0:e.node_type)||"")==="Person";Rt(()=>{if(o&&s.current){const d=O9.set((e==null?void 0:e.x)||0,(e==null?void 0:e.y)||0,(e==null?void 0:e.z)||0);s.current.position.copy(d)}}),O.useEffect(()=>function(){s.current&&s.current.clear()},[s]);const u=O.useMemo(()=>(a==null?void 0:a.ref_id)===(e==null?void 0:e.ref_id),[a==null?void 0:a.ref_id,e==null?void 0:e.ref_id]),f=(i==null?void 0:i.ref_id)===(e==null?void 0:e.ref_id);return l||f&&o||!f?x.jsx("group",{ref:s,position:n,children:x.jsx(oi,{center:!0,sprite:!0,zIndexRange:[0,0],children:l?x.jsxs(E9,{direction:"column",onClick:d=>{d.stopPropagation(),e&&r(e)},onPointerOut:d=>{d.stopPropagation()},onPointerOver:d=>{d.stopPropagation()},children:[x.jsx("div",{className:"badge-wrapper",children:x.jsx(sl,{type:(e==null?void 0:e.node_type)||""})}),mh(e==null?void 0:e.name,20)]}):x.jsxs(b9,{className:dh(e==null?void 0:e.node_type,{selected:f}),color:t,fontColor:pe.white,fontSize:l?64:20,onClick:d=>{d.stopPropagation(),e&&r(e)},onPointerOut:d=>{d.stopPropagation()},onPointerOver:d=>{d.stopPropagation()},scale:u?1.05:1,selected:!1,size:f?68:40,type:(e==null?void 0:e.node_type)||"",children:[!h&&!l?x.jsx("div",{className:"badge-wrapper",children:x.jsx(sl,{type:(e==null?void 0:e.node_type)||""})}):null,e!=null&&e.name?e==null?void 0:e.name:x.jsx(md,{rounded:h,size:f?60:52,src:(e==null?void 0:e.image_url)||"audio_default.svg",type:e==null?void 0:e.node_type})]})})}):null},t0=O.memo(()=>{const{simulation:n,showSelectionGraph:e,selectedNode:t,selectionGraphData:s}=nt(tc(o=>o)),i=Eo(),r=O.useMemo(()=>{const o=(n==null?void 0:n.nodes())||[];return(e?s.nodes:o).filter(h=>i.includes((h==null?void 0:h.ref_id)||"")||(t==null?void 0:t.ref_id)===(h==null?void 0:h.ref_id)).slice(0,e8).map(h=>{const u=ph(h.node_type||"",!0),f=new X((h==null?void 0:h.x)||0,(h==null?void 0:h.y)||0,(h==null?void 0:h.z)||0),d=o.filter(m=>m.ref_id&&t8(m,h)).map(m=>(m==null?void 0:m.ref_id)||"")||[];return x.jsx(M9,{color:u,position:f,relativeIds:d,userData:h},`node-badge-${h.ref_id}`)})},[n,e,s.nodes,i,t==null?void 0:t.ref_id]);return x.jsx(O.Fragment,{children:r.length?r:null},"node-badges")});t0.displayName="RelevanceBadges";const ch=u0().stop(),mt={numDimensions:3,velocityDecay:.9,forceChargeStrength:-20,forceChargeMinDistance:10,forceChargeMaxDistance:8e3,forceLinkStrength:.04,forceCenterStrength:.85,disableCollide:!1,disableCenter:!1,disableLink:!1,disableCharge:!1,forceCollideRadiusMethod:n=>(n.edge_count||1)*6+200,forceLinkDistanceMethod:n=>{const e=n.source.node_type;let t=50;switch(e){case"topic":t=30;break;case"guest":t=30;break;case"clip":t=10;break;case"episode":t=15;break}return t*2/50}},A9=(n,e,{numDimensions:t=mt.numDimensions,velocityDecay:s=mt.velocityDecay,forceChargeStrength:i=mt.forceChargeStrength,forceChargeMinDistance:r=mt.forceChargeMinDistance,forceChargeMaxDistance:o=mt.forceChargeMaxDistance,forceLinkStrength:a=mt.forceLinkStrength,forceCenterStrength:c=mt.forceCenterStrength,forceLinkDistanceMethod:l=mt.forceLinkDistanceMethod,forceCollideRadiusMethod:h=mt.forceCollideRadiusMethod,disableCollide:u=mt.disableCollide,disableCenter:f=mt.disableCenter,disableLink:d=mt.disableLink,disableCharge:m=mt.disableCharge})=>(ch.alpha(1).stop().numDimensions(t).velocityDecay(s).force("collide",u?null:d0().radius(h).iterations(1)).force("center",f?null:f0().strength(c)).force("charge",m?null:p0().strength(i).distanceMin(r).distanceMax(o)).nodes(n).force("link",d?null:m0(e).id(p=>p.ref_id).distance(l).strength(a)).alpha(1).restart(),ch),D9=({link:n,animated:e})=>{const t=O.useRef(null),s=Jt(),[i,r]=O.useState(new X(0,0,0)),[o,a]=O.useState(new X(0,0,0)),[c,l]=O.useState(8947848),h=nt(u=>u.selectionGraphData);return O.useEffect(()=>{var d,m,p,_,y,w;const u=(s==null?void 0:s.ref_id)||"",f=s&&(u===n.target||u===n.source);!n.onlyVisibleOnSelect||f?(r(new X(((d=n.sourcePosition)==null?void 0:d.x)||0,((m=n.sourcePosition)==null?void 0:m.y)||0,((p=n.sourcePosition)==null?void 0:p.z)||0)),a(new X(((_=n.targetPosition)==null?void 0:_.x)||0,((y=n.targetPosition)==null?void 0:y.y)||0,((w=n.targetPosition)==null?void 0:w.z)||0))):(r(new X(0,0,0)),a(new X(0,0,0))),l(f?n.color||_0.children.segmentColor:s?5592405:8947848)},[s,n]),Rt(()=>{if(e&&t.current){const u=h.nodes.find(d=>d.ref_id===n.source),f=h.nodes.find(d=>d.ref_id===n.target);t.current.start.set((u==null?void 0:u.x)||0,(u==null?void 0:u.y)||0,(u==null?void 0:u.z)||0),t.current.end.set((f==null?void 0:f.x)||0,(f==null?void 0:f.y)||0,(f==null?void 0:f.z)||0)}}),x.jsx(x.Fragment,{children:x.jsx(Kf,{ref:t,color:"0xFFFFFF",end:o,start:i})})},R9=({links:n,simulation:e})=>{const t=O.useRef(null);return O.useEffect(()=>function(){t.current&&t.current.clear()},[t]),Rt(()=>{if(t.current){const s=e.nodes();t.current.children.forEach((r,o)=>{var h;const a=n[o],c=s.find(u=>a.source===u.ref_id),l=s.find(u=>a.target===u.ref_id);(h=r.position)==null||h.set((c.x+l.x)/2,(c.y+l.y)/2,(c.z+l.z)/2)})}}),n.length?x.jsx("group",{ref:t,children:n.map(s=>x.jsx("mesh",{children:x.jsx(oi,{center:!0,sprite:!0,children:x.jsxs(I9,{direction:"row",justify:"center",onClick:i=>{i.stopPropagation()},onPointerOut:i=>{i.stopPropagation()},onPointerOver:i=>{i.stopPropagation()},children:[x.jsx("span",{children:s.edge_type}),x.jsx(Cs,{className:"icon",children:x.jsx(Th,{})})]})})},s.ref_id))}):null},I9=Ue(Cs)`
  text-align: center;

  outline-offset: 0px;
  background: rgba(0, 0, 0, 0.75);
  color: #eee;
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
    span {
      opacity: 0.1;
    }

    .icon {
      display: flex;
    }
  }

  .icon {
    position: absolute;
    width: 24px;
    height: 24px;
    /* bottom: 100%; */
    display: none;
    color: #000;
    border-radius: 40px;
    justify-content: center;
    align-items: center;
    background: #ffffff;
    color: #000;
    border-radius: 100%;
    font-size: 16px;
    cursor: pointer;
    transition: opacity 0.4s;
    box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
  }

  .badge-wrapper {
    position: absolute;
    top: -7px;
    left: -14px;
  }
`,P9=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsxs("g",{id:"add_link",children:[x.jsx("mask",{id:"mask0_2659_52",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:x.jsx("rect",{id:"Bounding box",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_2659_52)",children:x.jsx("path",{id:"add_link_2",d:"M14.1987 13.7821H12.3349C12.1629 13.7821 12.0192 13.7222 11.9039 13.6024C11.7885 13.4826 11.7308 13.3342 11.7308 13.1571C11.7308 12.9851 11.7907 12.8379 11.9105 12.7156C12.0303 12.5933 12.1787 12.5321 12.3558 12.5321H14.1987V10.6891C14.1987 10.5121 14.2587 10.3636 14.3785 10.2438C14.4983 10.124 14.6468 10.0641 14.824 10.0641C15.0012 10.0641 15.1496 10.124 15.2692 10.2438C15.3889 10.3636 15.4487 10.5121 15.4487 10.6891V12.5321H17.2917C17.4687 12.5321 17.6172 12.592 17.737 12.7119C17.8568 12.8317 17.9167 12.9802 17.9167 13.1574C17.9167 13.3345 17.8568 13.4829 17.737 13.6026C17.6172 13.7222 17.4687 13.7821 17.2917 13.7821H15.4487V15.625C15.4487 15.8021 15.3888 15.9505 15.2689 16.0703C15.1491 16.1901 15.0006 16.25 14.8234 16.25C14.6463 16.25 14.4979 16.1901 14.3782 16.0703C14.2586 15.9505 14.1987 15.8021 14.1987 15.625V13.7821ZM8.38142 13.7821H5.8654C4.81904 13.7821 3.92711 13.4134 3.18961 12.676C2.45211 11.9386 2.08336 11.0467 2.08336 10.0005C2.08336 8.95426 2.45211 8.06229 3.18961 7.32458C3.92711 6.58687 4.81904 6.21802 5.8654 6.21802H8.38142C8.55342 6.21802 8.70059 6.27918 8.82292 6.4015C8.94524 6.52383 9.0064 6.67233 9.0064 6.847C9.0064 7.02168 8.94524 7.16884 8.82292 7.2885C8.70059 7.40815 8.55342 7.46798 8.38142 7.46798H5.86444C5.16529 7.46798 4.56865 7.71504 4.07453 8.20916C3.5804 8.70329 3.33334 9.30025 3.33334 10C3.33334 10.6998 3.5804 11.2968 4.07453 11.7909C4.56865 12.285 5.16529 12.5321 5.86444 12.5321H8.38142C8.55342 12.5321 8.70059 12.5933 8.82292 12.7156C8.94524 12.8379 9.0064 12.9864 9.0064 13.1611C9.0064 13.3358 8.94524 13.4829 8.82292 13.6026C8.70059 13.7222 8.55342 13.7821 8.38142 13.7821ZM7.50001 10.625C7.32292 10.625 7.17449 10.5651 7.05471 10.4453C6.93492 10.3254 6.87503 10.1769 6.87503 9.99977C6.87503 9.8226 6.93492 9.67419 7.05471 9.55454C7.17449 9.43489 7.32292 9.37506 7.50001 9.37506H12.5C12.6771 9.37506 12.8255 9.43498 12.9453 9.55481C13.0651 9.67466 13.125 9.82316 13.125 10.0003C13.125 10.1775 13.0651 10.3259 12.9453 10.4455C12.8255 10.5652 12.6771 10.625 12.5 10.625H7.50001ZM17.9167 10H16.6667C16.6667 9.30025 16.4196 8.70329 15.9255 8.20916C15.4314 7.71504 14.8347 7.46798 14.1356 7.46798H11.5978C11.4258 7.46798 11.2821 7.40809 11.1667 7.28831C11.0513 7.16852 10.9936 7.02008 10.9936 6.843C10.9936 6.671 11.0535 6.52383 11.1733 6.4015C11.2931 6.27918 11.4415 6.21802 11.6186 6.21802H14.1346C15.181 6.21802 16.0729 6.58676 16.8104 7.32425C17.5479 8.06175 17.9167 8.95368 17.9167 10Z",fill:"currentColor"})})]})}),N9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_21694",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_21694)",children:x.jsx("path",{d:"M1.07697 10.4639C1.16067 9.50216 1.45574 8.61772 1.96217 7.81059C2.4687 7.00354 3.14323 6.36236 3.98576 5.88704L2.99074 4.16621C2.9361 4.0824 2.92244 3.99661 2.94976 3.90881C2.97708 3.82093 3.0356 3.75268 3.12534 3.70406C3.20312 3.65915 3.28503 3.65035 3.37107 3.67767C3.45701 3.70499 3.52692 3.75909 3.58078 3.83998L4.57697 5.56504C5.34872 5.24159 6.15639 5.07986 6.99999 5.07986C7.84358 5.07986 8.65126 5.24159 9.42301 5.56504L10.4192 3.83998C10.4731 3.75909 10.543 3.70499 10.6289 3.67767C10.7149 3.65035 10.7969 3.65915 10.8746 3.70406C10.9644 3.75268 11.0229 3.82093 11.0502 3.90881C11.0775 3.99661 11.0639 4.0824 11.0092 4.16621L10.0142 5.88704C10.8567 6.36236 11.5313 7.00354 12.0378 7.81059C12.5442 8.61772 12.8393 9.50216 12.923 10.4639H1.07697ZM4.30849 8.98323C4.49719 8.98323 4.6564 8.91809 4.78609 8.78782C4.91588 8.65744 4.98078 8.49795 4.98078 8.30934C4.98078 8.12063 4.91564 7.96138 4.78536 7.83159C4.65508 7.70189 4.49559 7.63704 4.30688 7.63704C4.11817 7.63704 3.95897 7.70218 3.82928 7.83246C3.69949 7.96274 3.63459 8.12223 3.63459 8.31094C3.63459 8.49955 3.69973 8.65875 3.83001 8.78854C3.96028 8.91834 4.11978 8.98323 4.30849 8.98323ZM9.69309 8.98323C9.8818 8.98323 10.041 8.91809 10.1707 8.78782C10.3005 8.65744 10.3654 8.49795 10.3654 8.30934C10.3654 8.12063 10.3002 7.96138 10.17 7.83159C10.0397 7.70189 9.88019 7.63704 9.69149 7.63704C9.50278 7.63704 9.34358 7.70218 9.21388 7.83246C9.08409 7.96274 9.0192 8.12223 9.0192 8.31094C9.0192 8.49955 9.08433 8.65875 9.21461 8.78854C9.34489 8.91834 9.50438 8.98323 9.69309 8.98323Z",fill:"currentColor"})})]}),F9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_45",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_45)",children:x.jsx("path",{d:"M5.13135 11.705V11.2019H4.04489C3.85871 11.2019 3.70155 11.1378 3.57341 11.0098C3.44537 10.8817 3.38135 10.7245 3.38135 10.5383C3.38135 10.3521 3.44537 10.195 3.57341 10.0668C3.70155 9.9388 3.85871 9.87478 4.04489 9.87478H4.54801V4.12516H4.04489C3.85871 4.12516 3.70155 4.06114 3.57341 3.9331C3.44537 3.80496 3.38135 3.6478 3.38135 3.46162C3.38135 3.27544 3.44537 3.11828 3.57341 2.99014C3.70155 2.8621 3.85871 2.79808 4.04489 2.79808H5.13135V2.29495C5.13135 2.10877 5.19537 1.95161 5.32341 1.82347C5.45155 1.69543 5.60871 1.63141 5.79489 1.63141C5.98107 1.63141 6.13823 1.69543 6.26637 1.82347C6.39441 1.95161 6.45843 2.10877 6.45843 2.29495V2.79808H7.54139V2.29495C7.54139 2.10877 7.60541 1.95161 7.73345 1.82347C7.86159 1.69543 8.01875 1.63141 8.20493 1.63141C8.39111 1.63141 8.54827 1.69543 8.67641 1.82347C8.80445 1.95161 8.86847 2.10877 8.86847 2.29495V2.89185C9.3857 3.04196 9.80958 3.33114 10.1401 3.75941C10.4707 4.18777 10.636 4.67879 10.636 5.23247C10.636 5.50985 10.5896 5.77794 10.497 6.03674C10.4044 6.29555 10.2742 6.52815 10.1062 6.73455C10.4418 6.94805 10.7112 7.2333 10.9144 7.5903C11.1177 7.9473 11.2193 8.33969 11.2193 8.76747C11.2193 9.42537 10.9908 9.99033 10.5339 10.4623C10.0769 10.9345 9.52181 11.1786 8.86847 11.1949V11.705C8.86847 11.8912 8.80445 12.0483 8.67641 12.1765C8.54827 12.3045 8.39111 12.3685 8.20493 12.3685C8.01875 12.3685 7.86159 12.3045 7.73345 12.1765C7.60541 12.0483 7.54139 11.8912 7.54139 11.705V11.2019H6.45843V11.705C6.45843 11.8912 6.39441 12.0483 6.26637 12.1765C6.13823 12.3045 5.98107 12.3685 5.79489 12.3685C5.60871 12.3685 5.45155 12.3045 5.32341 12.1765C5.19537 12.0483 5.13135 11.8912 5.13135 11.705ZM5.8751 6.33643H8.20493C8.50953 6.33643 8.76965 6.22861 8.98529 6.01297C9.20102 5.79724 9.30889 5.53707 9.30889 5.23247C9.30889 4.92797 9.20102 4.66727 8.98529 4.45037C8.76965 4.23356 8.50953 4.12516 8.20493 4.12516H5.8751V6.33643ZM5.8751 9.87478H8.78826C9.09286 9.87478 9.35298 9.76638 9.56862 9.54957C9.78436 9.33267 9.89222 9.07197 9.89222 8.76747C9.89222 8.46287 9.78436 8.20271 9.56862 7.98697C9.35298 7.77133 9.09286 7.66351 8.78826 7.66351H5.8751V9.87478Z",fill:"currentColor"})})]}),L9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_21901",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_21901)",children:x.jsx("path",{d:"M5.21632 8.60415C4.28522 8.60415 3.49344 8.27787 2.84099 7.62531C2.18843 6.97285 1.86215 6.18108 1.86215 5.24998C1.86215 5.08917 1.87396 4.92744 1.89759 4.76479C1.92112 4.60214 1.96054 4.44639 2.01586 4.29754C2.05329 4.20781 2.1038 4.14145 2.16738 4.09848C2.23087 4.05551 2.30262 4.0243 2.38263 4.00485C2.46274 3.98541 2.54334 3.98687 2.62442 4.00923C2.7056 4.03169 2.77944 4.07622 2.84594 4.14281L4.39965 5.68529L5.65163 4.43331L4.11469 2.89083C4.04819 2.82424 4.00371 2.74947 3.98126 2.66654C3.9588 2.58351 3.95729 2.50199 3.97674 2.42198C3.99618 2.34197 4.02836 2.27017 4.07328 2.20658C4.1181 2.143 4.18353 2.09249 4.26957 2.05506C4.41842 1.99605 4.57324 1.95473 4.73405 1.9311C4.89476 1.90758 5.05551 1.89581 5.21632 1.89581C6.14742 1.89581 6.93924 2.22209 7.5918 2.87465C8.24426 3.5271 8.57049 4.31888 8.57049 5.24998C8.57049 5.49605 8.5473 5.72525 8.50092 5.93758C8.45455 6.15001 8.38498 6.35535 8.29223 6.55358L11.4625 9.70577C11.707 9.95029 11.8293 10.2487 11.8293 10.6009C11.8293 10.9531 11.707 11.2516 11.4625 11.4962C11.218 11.7407 10.9196 11.8629 10.5674 11.8629C10.2151 11.8629 9.91672 11.7377 9.67211 11.4871L6.51992 8.3259C6.3142 8.41495 6.10517 8.48359 5.89284 8.53181C5.68041 8.58004 5.4549 8.60415 5.21632 8.60415Z",fill:"currentColor"})})]}),U9=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M2.1875 11.4688C2.1875 12.0381 2.64941 12.5 3.21875 12.5H10.7812C11.3506 12.5 11.8125 12.0381 11.8125 11.4688V5.625H2.1875V11.4688ZM9.0625 7.25781C9.0625 7.11602 9.17852 7 9.32031 7H10.1797C10.3215 7 10.4375 7.11602 10.4375 7.25781V8.11719C10.4375 8.25898 10.3215 8.375 10.1797 8.375H9.32031C9.17852 8.375 9.0625 8.25898 9.0625 8.11719V7.25781ZM9.0625 10.0078C9.0625 9.86602 9.17852 9.75 9.32031 9.75H10.1797C10.3215 9.75 10.4375 9.86602 10.4375 10.0078V10.8672C10.4375 11.009 10.3215 11.125 10.1797 11.125H9.32031C9.17852 11.125 9.0625 11.009 9.0625 10.8672V10.0078ZM6.3125 7.25781C6.3125 7.11602 6.42852 7 6.57031 7H7.42969C7.57148 7 7.6875 7.11602 7.6875 7.25781V8.11719C7.6875 8.25898 7.57148 8.375 7.42969 8.375H6.57031C6.42852 8.375 6.3125 8.25898 6.3125 8.11719V7.25781ZM6.3125 10.0078C6.3125 9.86602 6.42852 9.75 6.57031 9.75H7.42969C7.57148 9.75 7.6875 9.86602 7.6875 10.0078V10.8672C7.6875 11.009 7.57148 11.125 7.42969 11.125H6.57031C6.42852 11.125 6.3125 11.009 6.3125 10.8672V10.0078ZM3.5625 7.25781C3.5625 7.11602 3.67852 7 3.82031 7H4.67969C4.82148 7 4.9375 7.11602 4.9375 7.25781V8.11719C4.9375 8.25898 4.82148 8.375 4.67969 8.375H3.82031C3.67852 8.375 3.5625 8.25898 3.5625 8.11719V7.25781ZM3.5625 10.0078C3.5625 9.86602 3.67852 9.75 3.82031 9.75H4.67969C4.82148 9.75 4.9375 9.86602 4.9375 10.0078V10.8672C4.9375 11.009 4.82148 11.125 4.67969 11.125H3.82031C3.67852 11.125 3.5625 11.009 3.5625 10.8672V10.0078ZM10.7812 2.875H9.75V1.84375C9.75 1.65469 9.59531 1.5 9.40625 1.5H8.71875C8.52969 1.5 8.375 1.65469 8.375 1.84375V2.875H5.625V1.84375C5.625 1.65469 5.47031 1.5 5.28125 1.5H4.59375C4.40469 1.5 4.25 1.65469 4.25 1.84375V2.875H3.21875C2.64941 2.875 2.1875 3.33691 2.1875 3.90625V4.9375H11.8125V3.90625C11.8125 3.33691 11.3506 2.875 10.7812 2.875Z",fill:"currentColor"})}),V9=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsxs("g",{id:"cancel",children:[x.jsx("mask",{id:"mask0_1264_3381",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"32",height:"32",children:x.jsx("rect",{id:"Bounding box",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_1264_3381)",children:x.jsx("path",{id:"cancel_2",d:"M16 17.4051L20.0975 21.5025C20.2821 21.6872 20.5141 21.7816 20.7936 21.7859C21.0731 21.7902 21.3094 21.6957 21.5025 21.5025C21.6957 21.3094 21.7923 21.0752 21.7923 20.8C21.7923 20.5248 21.6957 20.2906 21.5025 20.0975L17.4051 16L21.5025 11.9025C21.6872 11.7179 21.7816 11.4859 21.7859 11.2064C21.7902 10.9269 21.6957 10.6906 21.5025 10.4975C21.3094 10.3043 21.0752 10.2077 20.8 10.2077C20.5248 10.2077 20.2906 10.3043 20.0975 10.4975L16 14.5949L11.9025 10.4975C11.7179 10.3129 11.4859 10.2184 11.2064 10.2141C10.9269 10.2099 10.6906 10.3043 10.4975 10.4975C10.3043 10.6906 10.2077 10.9248 10.2077 11.2C10.2077 11.4752 10.3043 11.7094 10.4975 11.9025L14.5949 16L10.4975 20.0975C10.3129 20.2821 10.2184 20.5141 10.2141 20.7936C10.2099 21.0731 10.3043 21.3094 10.4975 21.5025C10.6906 21.6957 10.9248 21.7923 11.2 21.7923C11.4752 21.7923 11.7094 21.6957 11.9025 21.5025L16 17.4051ZM16.0022 28.6666C14.2503 28.6666 12.6036 28.3342 11.0621 27.6693C9.52057 27.0044 8.17966 26.1021 7.03937 24.9623C5.89906 23.8225 4.99632 22.4822 4.33114 20.9413C3.66596 19.4005 3.33337 17.7542 3.33337 16.0022C3.33337 14.2503 3.66582 12.6036 4.33071 11.0621C4.9956 9.52057 5.89793 8.17967 7.03771 7.03938C8.17751 5.89907 9.51783 4.99632 11.0587 4.33114C12.5995 3.66596 14.2459 3.33337 15.9978 3.33337C17.7497 3.33337 19.3964 3.66582 20.9379 4.33071C22.4794 4.9956 23.8204 5.89793 24.9606 7.03771C26.101 8.17751 27.0037 9.51783 27.6689 11.0587C28.3341 12.5995 28.6666 14.2459 28.6666 15.9978C28.6666 17.7497 28.3342 19.3964 27.6693 20.9379C27.0044 22.4794 26.1021 23.8204 24.9623 24.9606C23.8225 26.101 22.4822 27.0037 20.9413 27.6689C19.4005 28.3341 17.7542 28.6666 16.0022 28.6666Z",fill:"currentColor"})})]})}),B9=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 11 8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M10.6649 1.81615L4.76839 7.381C4.56014 7.57431 4.29239 7.67389 4.02463 7.67389C3.75688 7.67389 3.48913 7.57431 3.28088 7.381L0.329676 4.59858C-0.0987253 4.19439 -0.110625 3.52661 0.299926 3.10485C0.710477 2.6831 1.38878 2.67138 1.81718 3.07556L4.02463 5.16092L9.17735 0.293138C9.60575 -0.111046 10.2841 -0.0934726 10.6946 0.322427C11.1052 0.744184 11.0933 1.41197 10.6649 1.81615Z",fill:"currentColor"})}),z9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M9.16074 4.89288H4.83931C4.73083 4.89288 4.64288 4.98083 4.64288 5.08931V9.41074C4.64288 9.51923 4.73083 9.60717 4.83931 9.60717H9.16074C9.26923 9.60717 9.35717 9.51923 9.35717 9.41074V5.08931C9.35717 4.98083 9.26923 4.89288 9.16074 4.89288Z",fill:"currentColor"}),x.jsx("path",{d:"M12.1071 5.67857C12.2113 5.67857 12.3113 5.63718 12.3849 5.56351C12.4586 5.48983 12.5 5.38991 12.5 5.28571C12.5 5.18152 12.4586 5.0816 12.3849 5.00792C12.3113 4.93425 12.2113 4.89286 12.1071 4.89286H11.7143V4.10714C11.7138 3.69051 11.5481 3.29108 11.2535 2.99648C10.9589 2.70188 10.5595 2.53617 10.1429 2.53571H9.35714V2.14286C9.35714 2.03866 9.31575 1.93874 9.24208 1.86507C9.1684 1.79139 9.06848 1.75 8.96429 1.75C8.86009 1.75 8.76017 1.79139 8.68649 1.86507C8.61282 1.93874 8.57143 2.03866 8.57143 2.14286V2.53571H7.39286V2.14286C7.39286 2.03866 7.35147 1.93874 7.27779 1.86507C7.20412 1.79139 7.10419 1.75 7 1.75C6.89581 1.75 6.79588 1.79139 6.72221 1.86507C6.64853 1.93874 6.60714 2.03866 6.60714 2.14286V2.53571H5.42857V2.14286C5.42857 2.03866 5.38718 1.93874 5.31351 1.86507C5.23983 1.79139 5.13991 1.75 5.03571 1.75C4.93152 1.75 4.8316 1.79139 4.75792 1.86507C4.68425 1.93874 4.64286 2.03866 4.64286 2.14286V2.53571H3.85714C3.44051 2.53617 3.04108 2.70188 2.74648 2.99648C2.45188 3.29108 2.28617 3.69051 2.28571 4.10714V4.89286H1.89286C1.78866 4.89286 1.68874 4.93425 1.61507 5.00792C1.54139 5.0816 1.5 5.18152 1.5 5.28571C1.5 5.38991 1.54139 5.48983 1.61507 5.56351C1.68874 5.63718 1.78866 5.67857 1.89286 5.67857H2.28571V6.85714H1.89286C1.78866 6.85714 1.68874 6.89853 1.61507 6.97221C1.54139 7.04588 1.5 7.14581 1.5 7.25C1.5 7.35419 1.54139 7.45412 1.61507 7.52779C1.68874 7.60147 1.78866 7.64286 1.89286 7.64286H2.28571V8.82143H1.89286C1.78866 8.82143 1.68874 8.86282 1.61507 8.93649C1.54139 9.01017 1.5 9.11009 1.5 9.21429C1.5 9.31848 1.54139 9.4184 1.61507 9.49208C1.68874 9.56575 1.78866 9.60714 1.89286 9.60714H2.28571V10.3929C2.28617 10.8095 2.45188 11.2089 2.74648 11.5035C3.04108 11.7981 3.44051 11.9638 3.85714 11.9643H4.64286V12.3571C4.64286 12.4613 4.68425 12.5613 4.75792 12.6349C4.8316 12.7086 4.93152 12.75 5.03571 12.75C5.13991 12.75 5.23983 12.7086 5.31351 12.6349C5.38718 12.5613 5.42857 12.4613 5.42857 12.3571V11.9643H6.60714V12.3571C6.60714 12.4613 6.64853 12.5613 6.72221 12.6349C6.79588 12.7086 6.89581 12.75 7 12.75C7.10419 12.75 7.20412 12.7086 7.27779 12.6349C7.35147 12.5613 7.39286 12.4613 7.39286 12.3571V11.9643H8.57143V12.3571C8.57143 12.4613 8.61282 12.5613 8.68649 12.6349C8.76017 12.7086 8.86009 12.75 8.96429 12.75C9.06848 12.75 9.1684 12.7086 9.24208 12.6349C9.31575 12.5613 9.35714 12.4613 9.35714 12.3571V11.9643H10.1429C10.5595 11.9638 10.9589 11.7981 11.2535 11.5035C11.5481 11.2089 11.7138 10.8095 11.7143 10.3929V9.60714H12.1071C12.2113 9.60714 12.3113 9.56575 12.3849 9.49208C12.4586 9.4184 12.5 9.31848 12.5 9.21429C12.5 9.11009 12.4586 9.01017 12.3849 8.93649C12.3113 8.86282 12.2113 8.82143 12.1071 8.82143H11.7143V7.64286H12.1071C12.2113 7.64286 12.3113 7.60147 12.3849 7.52779C12.4586 7.45412 12.5 7.35419 12.5 7.25C12.5 7.14581 12.4586 7.04588 12.3849 6.97221C12.3113 6.89853 12.2113 6.85714 12.1071 6.85714H11.7143V5.67857H12.1071ZM10.1429 9.60714C10.1429 9.81553 10.0601 10.0154 9.91273 10.1627C9.76538 10.3101 9.56553 10.3929 9.35714 10.3929H4.64286C4.43447 10.3929 4.23462 10.3101 4.08727 10.1627C3.93992 10.0154 3.85714 9.81553 3.85714 9.60714V4.89286C3.85714 4.68447 3.93992 4.48462 4.08727 4.33727C4.23462 4.18992 4.43447 4.10714 4.64286 4.10714H9.35714C9.56553 4.10714 9.76538 4.18992 9.91273 4.33727C10.0601 4.48462 10.1429 4.68447 10.1429 4.89286V9.60714Z",fill:"currentColor"})]}),H9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7640_4256",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7640_4256)",children:x.jsx("path",{d:"M3.98234 10.0176L8.00952 8.00958L10.0175 3.9824L5.99031 5.99038L3.98234 10.0176ZM6.99992 7.58331C6.83464 7.58331 6.6961 7.52741 6.58429 7.4156C6.47249 7.3038 6.41658 7.16526 6.41658 6.99998C6.41658 6.8347 6.47249 6.69616 6.58429 6.58435C6.6961 6.47255 6.83464 6.41665 6.99992 6.41665C7.1652 6.41665 7.30374 6.47255 7.41554 6.58435C7.52735 6.69616 7.58325 6.8347 7.58325 6.99998C7.58325 7.16526 7.52735 7.3038 7.41554 7.4156C7.30374 7.52741 7.1652 7.58331 6.99992 7.58331ZM7.00094 12.5416C6.23444 12.5416 5.51397 12.3962 4.83954 12.1053C4.16511 11.8144 3.57847 11.4197 3.07963 10.921C2.58078 10.4223 2.18581 9.83595 1.89473 9.16181C1.60374 8.48767 1.45825 7.7674 1.45825 7.001C1.45825 6.2345 1.6037 5.51403 1.89459 4.8396C2.18547 4.16517 2.58025 3.57854 3.0789 3.07969C3.57755 2.58084 4.16395 2.18588 4.83809 1.89479C5.51222 1.60381 6.23249 1.45831 6.9989 1.45831C7.7654 1.45831 8.48586 1.60376 9.16029 1.89465C9.83472 2.18553 10.4214 2.58031 10.9202 3.07896C11.4191 3.57761 11.814 4.16401 12.1051 4.83815C12.3961 5.51229 12.5416 6.23256 12.5416 6.99896C12.5416 7.76546 12.3961 8.48592 12.1053 9.16035C11.8144 9.83479 11.4196 10.4214 10.9209 10.9203C10.4223 11.4191 9.83589 11.8141 9.16175 12.1052C8.48761 12.3962 7.76734 12.5416 7.00094 12.5416Z",fill:"currentColor"})})]}),j9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22054",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22054)",children:x.jsx("path",{d:"M10.5808 11.4972L7.8257 8.74213L8.74765 7.82003L11.5029 10.5751C11.627 10.6993 11.6891 10.853 11.6891 11.0362C11.6891 11.2194 11.627 11.3731 11.5029 11.4972C11.3787 11.6214 11.225 11.6834 11.0418 11.6834C10.8586 11.6834 10.7049 11.6214 10.5808 11.4972ZM2.50278 11.4972C2.37863 11.3731 2.31655 11.2194 2.31655 11.0362C2.31655 10.853 2.37863 10.6993 2.50278 10.5751L6.08357 6.99446L4.72163 5.63807C4.62587 5.73383 4.50473 5.78171 4.35822 5.78171C4.21161 5.78171 4.09042 5.73383 3.99465 5.63807L3.70984 5.34757V6.56469C3.70984 6.68583 3.65617 6.76794 3.54884 6.811C3.44151 6.85398 3.34482 6.83244 3.25878 6.7464L1.78703 5.27465C1.70099 5.18861 1.6795 5.09197 1.72257 4.98473C1.76554 4.8774 1.8476 4.82373 1.96874 4.82373H3.18586L2.91549 4.55336C2.8101 4.44787 2.7574 4.32391 2.7574 4.18148C2.7574 4.03905 2.8101 3.91509 2.91549 3.80961L4.20786 2.51738C4.37236 2.35278 4.55052 2.23237 4.74234 2.15615C4.93416 2.07983 5.13366 2.04167 5.34084 2.04167C5.50534 2.04167 5.66051 2.06525 5.80634 2.1124C5.95217 2.15946 6.09465 2.23388 6.23378 2.33567C6.30028 2.38049 6.33693 2.44198 6.34374 2.52015C6.35045 2.59832 6.32351 2.66769 6.26295 2.72826L5.3229 3.6683L5.64374 3.98913C5.7394 4.0848 5.78724 4.20594 5.78724 4.35255C5.78724 4.49916 5.7394 4.6203 5.64374 4.71596L7.00553 6.07236L8.40786 4.67003C8.34282 4.5519 8.29533 4.42984 8.26538 4.30384C8.23544 4.17774 8.22047 4.04518 8.22047 3.90615C8.22047 3.38115 8.40145 2.93767 8.7634 2.57571C9.12536 2.21375 9.56884 2.03278 10.0938 2.03278C10.1604 2.03278 10.2212 2.03423 10.2761 2.03715C10.3312 2.04016 10.389 2.04955 10.4495 2.0653C10.5221 2.09067 10.5696 2.14205 10.592 2.21944C10.6144 2.29693 10.5972 2.36406 10.5404 2.42084L9.64847 3.31261C9.59392 3.36725 9.56665 3.42971 9.56665 3.5C9.56665 3.5703 9.59392 3.63276 9.64847 3.6874L10.3126 4.35153C10.3672 4.40607 10.4297 4.43334 10.5 4.43334C10.5703 4.43334 10.6327 4.40607 10.6874 4.35153L11.5792 3.45961C11.6359 3.40283 11.7031 3.38416 11.7806 3.40361C11.8579 3.42305 11.9093 3.47201 11.9347 3.55046C11.9504 3.61103 11.9598 3.66883 11.9628 3.72386C11.9658 3.77879 11.9672 3.83955 11.9672 3.90615C11.9672 4.43115 11.7862 4.87463 11.4243 5.23659C11.0623 5.59855 10.6188 5.77953 10.0938 5.77953C9.95481 5.77953 9.82225 5.76606 9.69615 5.73913C9.57015 5.7122 9.44809 5.6632 9.32997 5.59213L3.42488 11.4972C3.30073 11.6214 3.14702 11.6834 2.96376 11.6834C2.78059 11.6834 2.62693 11.6214 2.50278 11.4972Z",fill:"currentColor"})})]}),q9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_27",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_27)",children:x.jsx("path",{d:"M2.51277 11.9583C2.21809 11.9583 1.96867 11.8562 1.7645 11.6521C1.56034 11.4479 1.45825 11.1985 1.45825 10.9038V4.84619C1.45825 4.55151 1.56034 4.30208 1.7645 4.09792C1.96867 3.89375 2.21809 3.79167 2.51277 3.79167H4.95825V2.80452C4.95825 2.50984 5.06034 2.26042 5.2645 2.05625C5.46867 1.85208 5.71809 1.75 6.01277 1.75H7.98706C8.28174 1.75 8.53117 1.85208 8.73534 2.05625C8.9395 2.26042 9.04159 2.50984 9.04159 2.80452V3.79167H11.4871C11.7817 3.79167 12.0312 3.89375 12.2353 4.09792C12.4395 4.30208 12.5416 4.55151 12.5416 4.84619V10.9038C12.5416 11.1985 12.4395 11.4479 12.2353 11.6521C12.0312 11.8562 11.7817 11.9583 11.4871 11.9583H2.51277ZM5.83325 3.79167H8.16659V2.80452C8.16659 2.7596 8.14787 2.71848 8.11044 2.68115C8.07311 2.64371 8.03198 2.625 7.98706 2.625H6.01277C5.96786 2.625 5.92673 2.64371 5.8894 2.68115C5.85197 2.71848 5.83325 2.7596 5.83325 2.80452V3.79167Z",fill:"currentColor"})})]}),G9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 34 34",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_2777_4506",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"34",height:"34",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsxs("g",{mask:"url(#mask0_2777_4506)",children:[x.jsx("mask",{id:"mask1_2777_4506",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"34",height:"34",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask1_2777_4506)",children:x.jsx("path",{d:"M8.25212 29.988L10.5542 20.0359L2.83337 13.3421L13.0334 12.4567L17 3.07129L20.9667 12.4567L31.1667 13.3421L23.4459 20.0359L25.748 29.988L17 24.7109L8.25212 29.988Z",fill:"currentColor"})})]})]}),W9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22108",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22108)",children:x.jsx("path",{d:"M5.22302 6.62316L6.51656 5.32073L5.50915 4.30427L5.15798 4.65543C5.07719 4.73623 4.97715 4.77905 4.85785 4.78391C4.73866 4.78877 4.63381 4.74595 4.54329 4.65543C4.45278 4.56492 4.40752 4.46099 4.40752 4.34364C4.40752 4.2262 4.45278 4.12222 4.54329 4.03171L4.88542 3.68958L3.98796 2.79212L2.68552 4.09456L5.22302 6.62316ZM9.8999 11.3088L11.2022 10.0064L10.3047 9.10889L9.95371 9.45116C9.86689 9.53789 9.76534 9.58217 9.64906 9.58402C9.53279 9.58587 9.42939 9.54158 9.33888 9.45116C9.24846 9.36065 9.20325 9.25818 9.20325 9.14375C9.20325 9.02932 9.24846 8.92684 9.33888 8.83633L9.68115 8.48531L8.67038 7.48343L7.37683 8.77698L9.8999 11.3088ZM9.2626 3.84329L10.1746 4.75533L11.0924 3.8376L10.1713 2.91666L9.2626 3.84329ZM2.569 11.9583C2.4186 11.9583 2.29313 11.908 2.1926 11.8074C2.09198 11.7069 2.04167 11.5814 2.04167 11.431V10.0187C2.04167 9.94846 2.0544 9.88152 2.07987 9.81793C2.10525 9.75435 2.14526 9.69529 2.1999 9.64075L4.59944 7.24121L1.953 4.58923C1.81767 4.45389 1.75 4.289 1.75 4.09456C1.75 3.90012 1.81767 3.73523 1.953 3.59989L3.49329 2.0596C3.62863 1.92427 3.79351 1.85811 3.98796 1.86112C4.1824 1.86404 4.34729 1.93321 4.48263 2.06864L7.14919 4.72048L9.55325 2.30752C9.64376 2.217 9.74322 2.15007 9.85163 2.10671C9.96003 2.06334 10.0733 2.04166 10.1916 2.04166C10.3097 2.04166 10.423 2.06334 10.5314 2.10671C10.6399 2.15007 10.7393 2.217 10.8297 2.30752L11.6925 3.19608C11.783 3.2865 11.849 3.38595 11.8904 3.49445C11.9319 3.60286 11.9526 3.71612 11.9526 3.83425C11.9526 3.95247 11.9319 4.06335 11.8904 4.16689C11.849 4.27043 11.783 4.36746 11.6925 4.45798L9.29965 6.86539L11.9404 9.51737C12.0757 9.65271 12.1434 9.81759 12.1434 10.012C12.1434 10.2065 12.0757 10.3714 11.9404 10.5067L10.4001 12.047C10.2648 12.1823 10.0999 12.25 9.90544 12.25C9.71099 12.25 9.5461 12.1823 9.41077 12.047L6.75879 9.40056L4.35925 11.8001C4.30471 11.8547 4.24565 11.8947 4.18206 11.9201C4.11848 11.9456 4.05154 11.9583 3.98125 11.9583H2.569Z",fill:"currentColor"})})]}),Z9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_31",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_31)",children:x.jsx("path",{d:"M4.2304 12.5416C3.33955 12.5416 2.5819 12.2297 1.95744 11.6058C1.33298 10.9821 1.02075 10.2245 1.02075 9.33331V6.59617C1.02075 6.30615 1.124 6.0579 1.3305 5.8514C1.537 5.6449 1.78526 5.54165 2.07527 5.54165H6.3829C6.67291 5.54165 6.92117 5.6449 7.12767 5.8514C7.33417 6.0579 7.43742 6.30615 7.43742 6.59617V9.33331C7.43742 10.2245 7.12563 10.9821 6.50204 11.6058C5.87846 12.2297 5.12125 12.5416 4.2304 12.5416ZM3.06242 8.40217C3.20903 8.40217 3.33357 8.35098 3.43604 8.2486C3.53842 8.14613 3.58961 8.02159 3.58961 7.87498C3.58961 7.72837 3.53842 7.60383 3.43604 7.50135C3.33357 7.39898 3.20903 7.34779 3.06242 7.34779C2.91581 7.34779 2.79131 7.39898 2.68894 7.50135C2.58647 7.60383 2.53523 7.72837 2.53523 7.87498C2.53523 8.02159 2.58647 8.14613 2.68894 8.2486C2.79131 8.35098 2.91581 8.40217 3.06242 8.40217ZM5.39575 8.40217C5.54236 8.40217 5.6669 8.35098 5.76938 8.2486C5.87175 8.14613 5.92294 8.02159 5.92294 7.87498C5.92294 7.72837 5.87175 7.60383 5.76938 7.50135C5.6669 7.39898 5.54236 7.34779 5.39575 7.34779C5.24914 7.34779 5.12465 7.39898 5.02227 7.50135C4.9198 7.60383 4.86856 7.72837 4.86856 7.87498C4.86856 8.02159 4.9198 8.14613 5.02227 8.2486C5.12465 8.35098 5.24914 8.40217 5.39575 8.40217ZM12.9791 2.51283V5.24998C12.9791 6.14122 12.6671 6.89872 12.0433 7.5225C11.4195 8.14638 10.662 8.45831 9.77075 8.45831C9.59575 8.45831 9.42318 8.4449 9.25304 8.41806C9.0829 8.39133 8.9152 8.35113 8.74992 8.29746C8.61381 8.24389 8.50686 8.15595 8.42908 8.03365C8.35131 7.91144 8.31242 7.77552 8.31242 7.6259V6.23713C8.31242 5.83628 8.19575 5.48161 7.96242 5.17313C7.72909 4.86464 7.42546 4.7104 7.05154 4.7104C6.91057 4.7104 6.79381 4.65916 6.70125 4.55669C6.6087 4.45422 6.56242 4.32972 6.56242 4.18321V2.51283C6.56242 2.22282 6.66567 1.97456 6.87217 1.76806C7.07867 1.56156 7.32693 1.45831 7.61694 1.45831H11.9246C12.2146 1.45831 12.4628 1.56156 12.6693 1.76806C12.8758 1.97456 12.9791 2.22282 12.9791 2.51283ZM8.60409 4.31883C8.7507 4.31883 8.87519 4.26765 8.97756 4.16527C9.08004 4.0628 9.13127 3.93826 9.13127 3.79165C9.13127 3.64504 9.08004 3.52049 8.97756 3.41802C8.87519 3.31565 8.7507 3.26446 8.60409 3.26446C8.45747 3.26446 8.33293 3.31565 8.23046 3.41802C8.12809 3.52049 8.0769 3.64504 8.0769 3.79165C8.0769 3.93826 8.12809 4.0628 8.23046 4.16527C8.33293 4.26765 8.45747 4.31883 8.60409 4.31883ZM10.9374 4.31883C11.084 4.31883 11.2085 4.26765 11.3109 4.16527C11.4134 4.0628 11.4646 3.93826 11.4646 3.79165C11.4646 3.64504 11.4134 3.52049 11.3109 3.41802C11.2085 3.31565 11.084 3.26446 10.9374 3.26446C10.7908 3.26446 10.6663 3.31565 10.5638 3.41802C10.4614 3.52049 10.4102 3.64504 10.4102 3.79165C10.4102 3.93826 10.4614 4.0628 10.5638 4.16527C10.6663 4.26765 10.7908 4.31883 10.9374 4.31883ZM9.77046 5.30613C9.51486 5.30613 9.26947 5.35362 9.03429 5.4486C8.79911 5.54349 8.61945 5.70051 8.49529 5.91965C8.44289 6.00938 8.4494 6.09557 8.51484 6.17821C8.58027 6.26085 8.67131 6.30217 8.78798 6.30217H10.7534C10.8663 6.30217 10.9555 6.26085 11.021 6.17821C11.0864 6.09557 11.093 6.00938 11.0407 5.91965C10.9165 5.70051 10.7377 5.54349 10.5041 5.4486C10.2706 5.35362 10.0261 5.30613 9.77046 5.30613ZM4.22909 10.3855C4.47885 10.3855 4.71685 10.3395 4.94309 10.2475C5.16932 10.1556 5.3505 10.006 5.48661 9.79881C5.54494 9.70781 5.54586 9.61686 5.48938 9.52596C5.43299 9.43496 5.34646 9.38946 5.22979 9.38946H3.22852C3.1137 9.38946 3.02756 9.43525 2.97011 9.52683C2.91274 9.61842 2.91323 9.70908 2.97156 9.79881C3.10768 10.006 3.28885 10.1556 3.51509 10.2475C3.74132 10.3395 3.97932 10.3855 4.22909 10.3855Z",fill:"currentColor"})})]}),Y9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22315",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22315)",children:x.jsx("path",{d:"M7.02156 2.82555C8.05212 2.82555 9.02376 3.04731 9.93648 3.49084C10.8492 3.93437 11.6095 4.57535 12.2173 5.4138C12.2947 5.5152 12.3195 5.60635 12.2917 5.68724C12.2639 5.76803 12.2161 5.83623 12.1485 5.89184C12.0809 5.94512 12.003 5.96874 11.9147 5.96271C11.8264 5.95669 11.7508 5.90895 11.6879 5.81951C11.1625 5.06817 10.4856 4.49369 9.6575 4.09605C8.82926 3.69841 7.95062 3.49842 7.02156 3.49609C6.09241 3.49376 5.21989 3.69258 4.404 4.09255C3.58811 4.49252 2.91606 5.06934 2.38785 5.82301C2.32019 5.92451 2.2411 5.98012 2.15058 5.98984C2.05997 5.99956 1.98088 5.97895 1.91331 5.92801C1.83592 5.87473 1.7876 5.80638 1.76835 5.72296C1.7491 5.63964 1.77098 5.5556 1.83398 5.47082C2.43209 4.63276 3.18741 3.9824 4.09994 3.51971C5.01247 3.05694 5.98634 2.82555 7.02156 2.82555ZM7.02156 4.20338C8.3364 4.20338 9.46301 4.64492 10.4014 5.52798C11.3398 6.41115 11.809 7.50043 11.809 8.79582C11.809 9.2936 11.6341 9.7117 11.2843 10.0501C10.9345 10.3887 10.5082 10.5579 10.0055 10.5579C9.50263 10.5579 9.07144 10.3916 8.71192 10.0589C8.35239 9.72619 8.17263 9.31212 8.17263 8.81667C8.17263 8.50517 8.06053 8.24238 7.83633 8.0283C7.61204 7.81421 7.34162 7.70717 7.02506 7.70717C6.70841 7.70717 6.43799 7.81421 6.21379 8.0283C5.9895 8.24238 5.87735 8.50517 5.87735 8.81667C5.87735 9.75282 6.14992 10.5369 6.69504 11.1688C7.24007 11.8008 7.9724 12.2373 8.89202 12.4784C8.99109 12.5052 9.05754 12.5573 9.09137 12.6347C9.12521 12.7121 9.13124 12.7943 9.10946 12.8813C9.08768 12.9587 9.04359 13.0258 8.97719 13.0826C8.91069 13.1393 8.82324 13.1567 8.71483 13.1349C7.65715 12.8892 6.80806 12.382 6.16756 11.6135C5.52706 10.8448 5.20681 9.91256 5.20681 8.81667C5.20681 8.31666 5.38415 7.89496 5.73881 7.55157C6.09348 7.20828 6.52223 7.03663 7.02506 7.03663C7.5278 7.03663 7.9565 7.20599 8.31117 7.54471C8.66583 7.88334 8.84317 8.30037 8.84317 8.79582C8.84317 9.10498 8.95774 9.36666 9.1869 9.58084C9.41595 9.79492 9.68881 9.90196 10.0055 9.90196C10.322 9.90196 10.5906 9.79492 10.8112 9.58084C11.0317 9.36666 11.1419 9.10498 11.1419 8.79582C11.1419 7.68661 10.7386 6.75323 9.93196 5.99567C9.1254 5.23812 8.15897 4.85934 7.03265 4.85934C5.90633 4.85934 4.94159 5.24103 4.13844 6.00442C3.33529 6.76781 2.93371 7.70153 2.93371 8.80559C2.93371 9.08083 2.95617 9.38878 3.00108 9.72944C3.046 10.0702 3.14298 10.4518 3.29202 10.8742C3.32585 10.9757 3.32401 11.0657 3.28648 11.1442C3.24895 11.2227 3.18663 11.2789 3.09952 11.3128C3.00784 11.3466 2.92088 11.3442 2.83863 11.3055C2.75647 11.2668 2.69615 11.1992 2.65765 11.1029C2.52115 10.7493 2.4213 10.3842 2.3581 10.0075C2.29491 9.63091 2.26331 9.23395 2.26331 8.81667C2.26331 7.51438 2.72949 6.4199 3.66185 5.53324C4.59422 4.64667 5.71412 4.20338 7.02156 4.20338ZM7.02506 1.40338C7.65195 1.40338 8.26304 1.47873 8.85833 1.62942C9.45372 1.78012 10.0297 1.9976 10.5862 2.28188C10.6877 2.3374 10.7475 2.4056 10.7655 2.48648C10.7836 2.56728 10.7758 2.64637 10.7419 2.72376C10.7058 2.80114 10.6478 2.86103 10.5681 2.90342C10.4885 2.94571 10.3954 2.9391 10.2888 2.88359C9.7782 2.61876 9.24883 2.41702 8.70069 2.27838C8.15255 2.13974 7.59401 2.07042 7.02506 2.07042C6.46117 2.07042 5.90642 2.13605 5.36081 2.2673C4.8152 2.39855 4.29448 2.60398 3.79865 2.88359C3.70687 2.9391 3.61572 2.95412 3.52521 2.92865C3.4346 2.90328 3.3664 2.84703 3.3206 2.75992C3.27938 2.67748 3.27078 2.59654 3.29479 2.51711C3.3189 2.43758 3.37451 2.37118 3.46163 2.3179C4.01074 2.01467 4.58644 1.78644 5.18873 1.63321C5.79112 1.47999 6.40323 1.40338 7.02506 1.40338ZM7.02506 5.61446C7.93156 5.61446 8.71051 5.92178 9.3619 6.53642C10.0133 7.15096 10.339 7.9041 10.339 8.79582C10.339 8.89955 10.3093 8.98399 10.25 9.04913C10.1907 9.11427 10.1092 9.14684 10.0055 9.14684C9.90901 9.14684 9.82876 9.11427 9.76469 9.04913C9.70052 8.98399 9.66844 8.89955 9.66844 8.79582C9.66844 8.08522 9.40793 7.48852 8.88692 7.00571C8.3659 6.52291 7.74529 6.28151 7.02506 6.28151C6.30241 6.28151 5.68485 6.52524 5.1724 7.01271C4.66004 7.50019 4.40385 8.10151 4.40385 8.81667C4.40385 9.5856 4.53297 10.2441 4.79119 10.7923C5.04951 11.3404 5.44 11.8904 5.96267 12.4422C6.03033 12.5099 6.06475 12.5879 6.06592 12.6762C6.06708 12.7643 6.03733 12.8411 5.97667 12.9064C5.909 12.9787 5.82699 13.0131 5.73065 13.0097C5.6342 13.0062 5.55219 12.9706 5.48463 12.9029C4.91101 12.3048 4.47628 11.6864 4.18044 11.0476C3.88469 10.409 3.73681 9.66533 3.73681 8.81667C3.73681 7.92038 4.05765 7.16258 4.69931 6.54328C5.34098 5.92407 6.11623 5.61446 7.02506 5.61446ZM7.01398 8.4623C7.11538 8.4623 7.19632 8.49613 7.25679 8.5638C7.31726 8.63137 7.3475 8.71104 7.3475 8.80282C7.3475 9.55055 7.6065 10.1479 8.1245 10.5948C8.6425 11.0417 9.255 11.2652 9.962 11.2652C10.0297 11.2652 10.1187 11.2592 10.229 11.2471C10.3395 11.2351 10.4519 11.2217 10.5662 11.2069C10.663 11.192 10.7465 11.2099 10.8167 11.2607C10.8868 11.3114 10.9293 11.3852 10.9442 11.4821C10.959 11.5737 10.9397 11.6505 10.8864 11.7123C10.8332 11.7742 10.7653 11.8171 10.6829 11.8413C10.5172 11.8899 10.3676 11.9178 10.234 11.925C10.1004 11.9321 10.0097 11.9356 9.962 11.9356C9.07115 11.9356 8.30149 11.6469 7.65302 11.0694C7.00465 10.4919 6.68046 9.73635 6.68046 8.80282C6.68046 8.71104 6.71065 8.63137 6.77102 8.5638C6.83149 8.49613 6.91248 8.4623 7.01398 8.4623Z",fill:"currentColor"})})]}),$9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_23",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_23)",children:x.jsx("path",{d:"M0.729248 11.2291V10.3418C0.729248 10.2273 0.751123 10.1166 0.794873 10.0095C0.838526 9.9025 0.900408 9.80834 0.980519 9.72706L1.89591 8.81167V5.18931L1.03666 4.32904C0.940901 4.23328 0.865748 4.12094 0.811206 3.99202C0.756567 3.8631 0.729248 3.72753 0.729248 3.58529V2.33331C0.729248 2.20935 0.771199 2.10547 0.855102 2.02167C0.939005 1.93776 1.04294 1.89581 1.16689 1.89581C1.29095 1.89581 1.39483 1.93776 1.47854 2.02167C1.56235 2.10547 1.60425 2.20935 1.60425 2.33331V3.06248H3.06258V2.33331C3.06258 2.20935 3.10453 2.10547 3.18844 2.02167C3.27234 1.93776 3.37627 1.89581 3.50023 1.89581C3.62428 1.89581 3.72816 1.93776 3.81187 2.02167C3.89568 2.10547 3.93758 2.20935 3.93758 2.33331V3.06248H5.39592V2.33331C5.39592 2.20935 5.43787 2.10547 5.52177 2.02167C5.60567 1.93776 5.7096 1.89581 5.83356 1.89581C5.95762 1.89581 6.0615 1.93776 6.14521 2.02167C6.22901 2.10547 6.27092 2.20935 6.27092 2.33331V3.58529C6.27092 3.72753 6.2436 3.8631 6.18896 3.99202C6.13442 4.12094 6.05926 4.23328 5.9635 4.32904L5.10425 5.18829V5.97915H8.89592V5.18829L8.03667 4.32904C7.9409 4.23328 7.86575 4.12094 7.81121 3.99202C7.75657 3.8631 7.72925 3.72753 7.72925 3.58529V2.33331C7.72925 2.20935 7.7712 2.10547 7.8551 2.02167C7.93901 1.93776 8.04294 1.89581 8.16689 1.89581C8.29095 1.89581 8.39483 1.93776 8.47854 2.02167C8.56235 2.10547 8.60425 2.20935 8.60425 2.33331V3.06248H10.0626V2.33331C10.0626 2.20935 10.1045 2.10547 10.1884 2.02167C10.2723 1.93776 10.3763 1.89581 10.5002 1.89581C10.6243 1.89581 10.7282 1.93776 10.8119 2.02167C10.8957 2.10547 10.9376 2.20935 10.9376 2.33331V3.06248H12.3959V2.33331C12.3959 2.20935 12.4379 2.10547 12.5218 2.02167C12.6057 1.93776 12.7096 1.89581 12.8336 1.89581C12.9576 1.89581 13.0615 1.93776 13.1452 2.02167C13.229 2.10547 13.2709 2.20935 13.2709 2.33331V3.58529C13.2709 3.72753 13.2436 3.8631 13.189 3.99202C13.1344 4.12094 13.0593 4.23328 12.9635 4.32904L12.1042 5.18931V8.81167L13.0196 9.72706C13.0998 9.80834 13.1616 9.9025 13.2053 10.0095C13.249 10.1166 13.2709 10.2273 13.2709 10.3418V11.2291C13.2709 11.4677 13.1847 11.6732 13.0124 11.8456C12.84 12.018 12.6345 12.1041 12.3959 12.1041H8.83977C8.69044 12.1041 8.56521 12.0536 8.4641 11.9526C8.36309 11.8515 8.31258 11.7263 8.31258 11.577V10.5C8.31258 10.139 8.18396 9.83002 7.92671 9.57306C7.66946 9.31601 7.36024 9.18748 6.99906 9.18748C6.63778 9.18748 6.32886 9.31601 6.07229 9.57306C5.81582 9.83002 5.68758 10.139 5.68758 10.5V11.5742C5.68758 11.7263 5.63707 11.8527 5.53606 11.9532C5.43495 12.0538 5.30973 12.1041 5.16039 12.1041H1.60425C1.36566 12.1041 1.16019 12.018 0.987811 11.8456C0.815436 11.6732 0.729248 11.4677 0.729248 11.2291Z",fill:"currentColor"})})]}),X9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22375",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22375)",children:x.jsx("path",{d:"M3.2509 12.3541C2.86201 12.3541 2.54458 12.2487 2.29861 12.0378C2.05254 11.8269 1.9295 11.5475 1.9295 11.1999C1.9295 10.9374 1.99809 10.7263 2.13528 10.5665C2.27255 10.4069 2.44702 10.3271 2.65867 10.3271C2.8606 10.3271 3.03259 10.3966 3.17463 10.5358C3.31677 10.6749 3.38784 10.8424 3.38784 11.0383C3.38784 11.1168 3.37044 11.1858 3.33563 11.2452C3.30082 11.3047 3.258 11.3513 3.20715 11.3849C3.22582 11.4036 3.25202 11.4195 3.28575 11.4326C3.31939 11.4457 3.35678 11.4522 3.3979 11.4522C3.52507 11.4462 3.62905 11.3878 3.70984 11.2767C3.79053 11.1656 3.85557 10.9945 3.90496 10.7634L4.81482 5.93748H3.55613C3.43198 5.93748 3.328 5.89558 3.24419 5.81177C3.16048 5.72806 3.11863 5.62413 3.11863 5.49998C3.11863 5.37583 3.16048 5.2719 3.24419 5.18819C3.328 5.10438 3.43198 5.06248 3.55613 5.06248H4.97742L5.27244 3.46735C5.34798 3.05679 5.5172 2.73386 5.78009 2.49858C6.04298 2.2634 6.36546 2.14581 6.74755 2.14581C7.13051 2.14581 7.44497 2.2582 7.69094 2.48298C7.93701 2.70766 8.06005 2.99087 8.06005 3.3326C8.06005 3.58315 7.99146 3.78829 7.85428 3.94802C7.717 4.10766 7.54253 4.18748 7.33088 4.18748C7.12895 4.18748 6.95696 4.11884 6.81492 3.98156C6.67278 3.84438 6.60171 3.67483 6.60171 3.4729C6.60171 3.39434 6.61912 3.32536 6.65392 3.26596C6.68873 3.20646 6.7334 3.15989 6.78794 3.12625C6.76928 3.10379 6.7403 3.08508 6.70103 3.0701C6.66175 3.05523 6.62155 3.04779 6.58042 3.04779C6.45851 3.05975 6.36148 3.11322 6.28934 3.20821C6.2172 3.30319 6.16203 3.44378 6.12382 3.62996L5.8759 5.06248H8.11051C8.23466 5.06248 8.33864 5.10438 8.42244 5.18819C8.50615 5.2719 8.54801 5.37583 8.54801 5.49998C8.54801 5.61217 8.51213 5.70867 8.44038 5.78946C8.36853 5.87015 8.27953 5.91648 8.17336 5.92844H7.89846L8.98551 7.16817L10.0725 5.92844H9.7978C9.69153 5.91648 9.60253 5.87015 9.53078 5.78946C9.45893 5.70867 9.42301 5.61217 9.42301 5.49998C9.42301 5.37583 9.46491 5.2719 9.54871 5.18819C9.63242 5.10438 9.73635 5.06248 9.86051 5.06248H11.6105C11.7347 5.06248 11.8386 5.10438 11.9224 5.18819C12.0062 5.2719 12.048 5.37583 12.048 5.49998C12.048 5.62413 12.0062 5.72806 11.9224 5.81177C11.8386 5.89558 11.7347 5.93748 11.6105 5.93748H11.2224L9.56782 7.83331L11.228 9.72915H11.6105C11.7347 9.72915 11.8386 9.77105 11.9224 9.85485C12.0062 9.93856 12.048 10.0425 12.048 10.1666C12.048 10.2908 12.0062 10.3947 11.9224 10.4784C11.8386 10.5622 11.7347 10.6041 11.6105 10.6041H9.86051C9.73635 10.6041 9.63242 10.5622 9.54871 10.4784C9.46491 10.3947 9.42301 10.2908 9.42301 10.1666C9.42301 10.0545 9.45893 9.95796 9.53078 9.87717C9.60253 9.79647 9.69153 9.75015 9.7978 9.73819H10.0725L8.98551 8.48956L7.89846 9.73819H8.17336C8.27953 9.75015 8.36853 9.79647 8.44038 9.87717C8.51213 9.95796 8.54801 10.0545 8.54801 10.1666C8.54801 10.2908 8.50615 10.3947 8.42244 10.4784C8.33864 10.5622 8.23466 10.6041 8.11051 10.6041H6.3605C6.23635 10.6041 6.13242 10.5622 6.04871 10.4784C5.96491 10.3947 5.923 10.2908 5.923 10.1666C5.923 10.0425 5.96491 9.93856 6.04871 9.85485C6.13242 9.77105 6.23635 9.72915 6.3605 9.72915H6.74871L8.40334 7.83331L6.74871 5.93748H5.70761L4.77428 10.8363C4.68162 11.3337 4.50648 11.711 4.24884 11.9683C3.9912 12.2255 3.65855 12.3541 3.2509 12.3541Z",fill:"currentColor"})})]}),Q9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22441",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22441)",children:x.jsx("path",{d:"M10.8837 12.5271C10.8134 12.5271 10.748 12.5159 10.6874 12.4934C10.6267 12.471 10.5691 12.4325 10.5146 12.3779L7.57328 9.44214C7.51864 9.3875 7.48009 9.3299 7.45764 9.26933C7.43528 9.20876 7.42409 9.14333 7.42409 9.07304C7.42409 9.00274 7.43528 8.93731 7.45764 8.87674C7.48009 8.81618 7.51864 8.75862 7.57328 8.70408L8.67826 7.5991C8.7328 7.54446 8.79036 7.50591 8.85093 7.48345C8.9115 7.46109 8.97693 7.44991 9.04722 7.44991C9.11751 7.44991 9.18294 7.46109 9.24351 7.48345C9.30418 7.50591 9.36178 7.54446 9.41632 7.5991L12.3576 10.5404C12.4123 10.595 12.4508 10.6525 12.4733 10.7131C12.4956 10.7737 12.5068 10.8392 12.5068 10.9095C12.5068 10.9798 12.4956 11.0452 12.4733 11.1058C12.4508 11.1664 12.4123 11.2239 12.3576 11.2785L11.2527 12.3779C11.1981 12.4325 11.1406 12.471 11.08 12.4934C11.0194 12.5159 10.954 12.5271 10.8837 12.5271ZM3.10174 12.536C3.03145 12.536 2.96451 12.5233 2.90093 12.4979C2.83744 12.4725 2.77838 12.4325 2.72374 12.3779L1.6278 11.2875C1.57316 11.2329 1.53316 11.1738 1.50778 11.1103C1.48231 11.0467 1.46957 10.9798 1.46957 10.9095C1.46957 10.8392 1.48231 10.7728 1.50778 10.7103C1.53316 10.6479 1.57316 10.5894 1.6278 10.5347L4.67455 7.48797H5.90291L6.37628 7.0146L3.93635 4.57466H3.10509L1.48634 2.95591L2.93243 1.50997L4.55118 3.12872V3.95997L6.99097 6.39991L8.71632 4.67456L7.86495 3.82304L8.60301 3.08497H7.11784L6.79366 2.76633L8.65682 0.903015L8.97547 1.22166V2.71252L9.71353 1.97445L11.9079 4.15743C12.0619 4.30774 12.178 4.47899 12.2561 4.6712C12.3343 4.86341 12.3734 5.0668 12.3734 5.28137C12.3734 5.46988 12.3409 5.65145 12.2758 5.82606C12.2108 6.00067 12.1162 6.15938 11.992 6.3022L10.7749 5.08508L9.95255 5.90743L9.33451 5.28925L6.51205 8.1117V9.34225L3.47084 12.3779C3.4163 12.4325 3.3587 12.4725 3.29803 12.4979C3.23746 12.5233 3.17203 12.536 3.10174 12.536Z",fill:"currentColor"})})]}),K9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22444",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22444)",children:x.jsx("path",{d:"M6.13623 11.9584C5.99341 11.9584 5.87169 11.908 5.77107 11.8074C5.67054 11.7069 5.62028 11.5852 5.62028 11.4423V7.44306H8.5368V11.4423C8.5368 11.5852 8.48653 11.7069 8.386 11.8074C8.28538 11.908 8.16366 11.9584 8.02084 11.9584H6.13623ZM5.62028 6.56252V4.37502H3.53821C3.37216 4.37502 3.23921 4.31071 3.13936 4.18208C3.03951 4.05346 3.01467 3.90797 3.06484 3.7456C3.22107 3.23412 3.52018 2.82228 3.96215 2.5101C4.40422 2.19783 4.89709 2.04169 5.44075 2.04169H8.02084C8.16366 2.04169 8.28538 2.092 8.386 2.19262C8.48653 2.29315 8.5368 2.41487 8.5368 2.55779V3.758L10.0355 2.25927C10.1021 2.19277 10.1792 2.13988 10.2667 2.1006C10.3542 2.06133 10.445 2.04169 10.5392 2.04169H10.6738C10.8017 2.04169 10.9094 2.08359 10.9969 2.1674C11.0844 2.2511 11.1281 2.35503 11.1281 2.47919V5.91196C11.1281 6.03601 11.0844 6.13994 10.9969 6.22375C10.9094 6.30746 10.8017 6.34931 10.6738 6.34931H10.5392C10.445 6.34931 10.3542 6.32972 10.2667 6.29054C10.1792 6.25126 10.1021 6.19833 10.0355 6.13173L8.5368 4.633V6.56252H5.62028Z",fill:"currentColor"})})]}),J9=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_19",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_19)",children:x.jsx("path",{d:"M2.625 11.0833V5.923C2.625 5.75607 2.66233 5.59794 2.737 5.44861C2.81176 5.29918 2.91501 5.17614 3.04675 5.0795L6.36737 2.57788C6.55161 2.4373 6.76219 2.367 6.99913 2.367C7.23606 2.367 7.44722 2.4373 7.63263 2.57788L10.9532 5.0795C11.085 5.17614 11.1882 5.29918 11.263 5.44861C11.3377 5.59794 11.375 5.75607 11.375 5.923V11.0833C11.375 11.3219 11.2888 11.5274 11.1164 11.6998C10.9441 11.8721 10.7386 11.9583 10.5 11.9583H8.63785C8.48842 11.9583 8.3632 11.9078 8.26219 11.8067C8.16108 11.7056 8.11052 11.5804 8.11052 11.431V8.58169C8.11052 8.43236 8.06001 8.30714 7.959 8.20603C7.85799 8.10501 7.73276 8.0545 7.58333 8.0545H6.41667C6.26724 8.0545 6.14201 8.10501 6.041 8.20603C5.93999 8.30714 5.88948 8.43236 5.88948 8.58169V11.431C5.88948 11.5804 5.83892 11.7056 5.73781 11.8067C5.6368 11.9078 5.51158 11.9583 5.36215 11.9583H3.5C3.26142 11.9583 3.05594 11.8721 2.88356 11.6998C2.71119 11.5274 2.625 11.3219 2.625 11.0833Z",fill:"currentColor"})})]}),eg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22519",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22519)",children:x.jsx("path",{d:"M6.56249 5.32954V4.85719C6.17963 4.76074 5.86516 4.55755 5.61909 4.2476C5.37302 3.93756 5.24999 3.57726 5.24999 3.16669C5.24999 2.68135 5.42032 2.26835 5.76099 1.92769C6.10166 1.58702 6.51466 1.41669 6.99999 1.41669C7.48532 1.41669 7.89832 1.58702 8.23899 1.92769C8.57966 2.26835 8.74999 2.68135 8.74999 3.16669C8.74999 3.57726 8.62696 3.93756 8.38089 4.2476C8.13482 4.55755 7.82035 4.76074 7.43749 4.85719V5.32954L11.431 7.627C11.597 7.72267 11.7264 7.85202 11.8192 8.01506C11.9119 8.1781 11.9583 8.35534 11.9583 8.54677V9.45327C11.9583 9.6447 11.9119 9.82194 11.8192 9.98498C11.7264 10.148 11.597 10.2774 11.431 10.373L7.52718 12.62C7.36122 12.7158 7.18549 12.7637 6.99999 12.7637C6.81449 12.7637 6.63876 12.7158 6.4728 12.62L2.56899 10.373C2.40293 10.2774 2.27353 10.148 2.18078 9.98498C2.08803 9.82194 2.04166 9.6447 2.04166 9.45327V8.54677C2.04166 8.35534 2.08803 8.1781 2.18078 8.01506C2.27353 7.85202 2.40293 7.72267 2.56899 7.627L6.56249 5.32954ZM3.65253 8.01287L6.9103 9.89194C6.94015 9.9106 6.97005 9.91994 6.99999 9.91994C7.02993 9.91994 7.05983 9.9106 7.08968 9.89194L10.3419 8.01287L7.43749 6.33462V8.27085H6.56249V6.33462L3.65253 8.01287Z",fill:"currentColor"})})]}),tg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_49",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_49)",children:x.jsx("path",{d:"M7.02162 12.3023C6.84934 12.3023 6.70438 12.2441 6.58675 12.1276C6.4692 12.0112 6.41043 11.8668 6.41043 11.6945V11.0377C5.96593 10.9381 5.57665 10.7639 5.2426 10.515C4.90854 10.2661 4.63827 9.92181 4.43177 9.48207C4.35904 9.33196 4.35836 9.1746 4.42972 9.01001C4.50109 8.84531 4.62636 8.72777 4.80554 8.65738C4.95331 8.59438 5.10532 8.5974 5.26156 8.66642C5.41789 8.73545 5.5419 8.84983 5.63358 9.00957C5.79662 9.28733 6.00103 9.49748 6.24681 9.64001C6.49259 9.78263 6.78975 9.85395 7.13829 9.85395C7.5299 9.85395 7.85671 9.76922 8.11872 9.59976C8.38064 9.4304 8.5116 9.16658 8.5116 8.80832C8.5116 8.48428 8.40349 8.22319 8.18727 8.02505C7.97104 7.82691 7.47638 7.60495 6.70327 7.35917C5.87649 7.10134 5.30521 6.78488 4.98943 6.4098C4.67365 6.03481 4.51577 5.58015 4.51577 5.04582C4.51577 4.42321 4.71702 3.93107 5.11952 3.5694C5.52211 3.20783 5.95242 2.99574 6.41043 2.93313V2.30547C6.41043 2.13319 6.4692 1.98881 6.58675 1.87234C6.70438 1.75587 6.84934 1.69763 7.02162 1.69763C7.19613 1.69763 7.34104 1.75587 7.45635 1.87234C7.57165 1.98881 7.62931 2.13319 7.62931 2.30547V2.93313C7.99875 2.99847 8.32134 3.12106 8.59706 3.30092C8.87278 3.48078 9.10047 3.7043 9.28014 3.97147C9.37688 4.10942 9.39506 4.26376 9.33468 4.43449C9.27421 4.60511 9.15322 4.72795 8.9717 4.80301C8.83093 4.86367 8.68295 4.86669 8.52779 4.81205C8.37262 4.75741 8.22022 4.65737 8.0706 4.51192C7.94888 4.38515 7.80528 4.28763 7.63981 4.21938C7.47434 4.15104 7.27216 4.11686 7.03329 4.11686C6.62184 4.11686 6.31185 4.2047 6.10331 4.38038C5.89486 4.55597 5.79064 4.77428 5.79064 5.03532C5.79064 5.33992 5.92772 5.58108 6.20189 5.7588C6.47615 5.93652 6.97763 6.1298 7.70631 6.33863C8.38647 6.53774 8.90321 6.85167 9.25652 7.28042C9.60982 7.70917 9.78647 8.20875 9.78647 8.77915C9.78647 9.47876 9.57997 10.0119 9.16697 10.3785C8.75397 10.7452 8.24142 10.9747 7.62931 11.0668V11.6945C7.62931 11.8668 7.57107 12.0112 7.4546 12.1276C7.33822 12.2441 7.1939 12.3023 7.02162 12.3023Z",fill:"currentColor"})})]}),sg=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M1.16675 4.66669V7.0006H1.75008V10.5H1.16675V12.25H10.5001L12.2501 12.2506L12.8334 12.25V10.5H12.2501V7.0006H12.8334V4.66669L7.00008 1.16669L1.16675 4.66669ZM3.50008 10.5V7.0006H4.66675V10.5H3.50008ZM6.41675 10.5V7.0006H7.58342V10.5H6.41675ZM10.5001 10.5H9.33342V7.0006H10.5001V10.5ZM8.16675 4.66669C8.16671 4.81993 8.13649 4.97167 8.07781 5.11324C8.01913 5.25481 7.93314 5.38343 7.82475 5.49177C7.71636 5.6001 7.58769 5.68603 7.4461 5.74464C7.3045 5.80325 7.15275 5.83339 6.9995 5.83335C6.84625 5.83332 6.69451 5.80309 6.55294 5.74441C6.41138 5.68573 6.28275 5.59974 6.17442 5.49135C6.06608 5.38296 5.98016 5.2543 5.92155 5.1127C5.86294 4.97111 5.83279 4.81935 5.83283 4.6661C5.83291 4.35661 5.95593 4.05982 6.17483 3.84103C6.39373 3.62223 6.69059 3.49936 7.00008 3.49944C7.30958 3.49951 7.60637 3.62254 7.82516 3.84144C8.04395 4.06034 8.16683 4.35719 8.16675 4.66669Z",fill:"currentColor"})}),ng=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 22 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M17 7H15C14.7167 7 14.4792 6.90417 14.2875 6.7125C14.0958 6.52083 14 6.28333 14 6C14 5.71667 14.0958 5.47917 14.2875 5.2875C14.4792 5.09583 14.7167 5 15 5H17V3C17 2.71667 17.0958 2.47917 17.2875 2.2875C17.4792 2.09583 17.7167 2 18 2C18.2833 2 18.5208 2.09583 18.7125 2.2875C18.9042 2.47917 19 2.71667 19 3V5H21C21.2833 5 21.5208 5.09583 21.7125 5.2875C21.9042 5.47917 22 5.71667 22 6C22 6.28333 21.9042 6.52083 21.7125 6.7125C21.5208 6.90417 21.2833 7 21 7H19V9C19 9.28333 18.9042 9.52083 18.7125 9.7125C18.5208 9.90417 18.2833 10 18 10C17.7167 10 17.4792 9.90417 17.2875 9.7125C17.0958 9.52083 17 9.28333 17 9V7ZM8 8C6.9 8 5.95833 7.60833 5.175 6.825C4.39167 6.04167 4 5.1 4 4C4 2.9 4.39167 1.95833 5.175 1.175C5.95833 0.391667 6.9 0 8 0C9.1 0 10.0417 0.391667 10.825 1.175C11.6083 1.95833 12 2.9 12 4C12 5.1 11.6083 6.04167 10.825 6.825C10.0417 7.60833 9.1 8 8 8ZM0 14V13.2C0 12.6333 0.145833 12.1125 0.4375 11.6375C0.729167 11.1625 1.11667 10.8 1.6 10.55C2.63333 10.0333 3.68333 9.64583 4.75 9.3875C5.81667 9.12917 6.9 9 8 9C9.1 9 10.1833 9.12917 11.25 9.3875C12.3167 9.64583 13.3667 10.0333 14.4 10.55C14.8833 10.8 15.2708 11.1625 15.5625 11.6375C15.8542 12.1125 16 12.6333 16 13.2V14C16 14.55 15.8042 15.0208 15.4125 15.4125C15.0208 15.8042 14.55 16 14 16H2C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14Z",fill:"currentColor"})}),ig=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7640_2772",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7640_2772)",children:x.jsx("path",{d:"M3.51334 10.0871C4.00917 9.71924 4.54934 9.42869 5.13384 9.21548C5.71824 9.00237 6.34027 8.89581 6.99992 8.89581C7.65957 8.89581 8.2816 9.00237 8.866 9.21548C9.4505 9.42869 9.99067 9.71924 10.4865 10.0871C10.8491 9.68851 11.1365 9.2271 11.3485 8.70288C11.5606 8.17865 11.6666 7.61102 11.6666 6.99998C11.6666 5.70692 11.2121 4.60588 10.303 3.69685C9.39402 2.78783 8.29297 2.33331 6.99992 2.33331C5.70686 2.33331 4.60582 2.78783 3.69679 3.69685C2.78777 4.60588 2.33325 5.70692 2.33325 6.99998C2.33325 7.61102 2.43927 8.17865 2.65131 8.70288C2.86336 9.2271 3.1507 9.68851 3.51334 10.0871ZM6.99992 7.43748C6.46743 7.43748 6.01836 7.2546 5.65271 6.88885C5.28696 6.5232 5.10409 6.07413 5.10409 5.54165C5.10409 5.00916 5.28696 4.56009 5.65271 4.19444C6.01836 3.82869 6.46743 3.64581 6.99992 3.64581C7.5324 3.64581 7.98147 3.82869 8.34713 4.19444C8.71288 4.56009 8.89575 5.00916 8.89575 5.54165C8.89575 6.07413 8.71288 6.5232 8.34713 6.88885C7.98147 7.2546 7.5324 7.43748 6.99992 7.43748ZM6.99992 12.5416C6.2304 12.5416 5.50853 12.3969 4.83429 12.1075C4.16006 11.8181 3.57356 11.4239 3.07481 10.9251C2.57597 10.4263 2.18183 9.83984 1.8924 9.1656C1.60297 8.49137 1.45825 7.76949 1.45825 6.99998C1.45825 6.23047 1.60297 5.50859 1.8924 4.83435C2.18183 4.16012 2.57597 3.57363 3.07481 3.07488C3.57356 2.57603 4.16006 2.18189 4.83429 1.89246C5.50853 1.60303 6.2304 1.45831 6.99992 1.45831C7.76943 1.45831 8.49131 1.60303 9.16554 1.89246C9.83978 2.18189 10.4263 2.57603 10.925 3.07488C11.4239 3.57363 11.818 4.16012 12.1074 4.83435C12.3969 5.50859 12.5416 6.23047 12.5416 6.99998C12.5416 7.76949 12.3969 8.49137 12.1074 9.1656C11.818 9.83984 11.4239 10.4263 10.925 10.9251C10.4263 11.4239 9.83978 11.8181 9.16554 12.1075C8.49131 12.3969 7.76943 12.5416 6.99992 12.5416Z",fill:"currentColor"})})]}),rg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22741",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22741)",children:x.jsx("path",{d:"M4.26283 13.375C3.96815 13.375 3.71873 13.2729 3.51456 13.0687C3.3104 12.8646 3.20831 12.6152 3.20831 12.3205V2.17952C3.20831 1.88484 3.3104 1.63542 3.51456 1.43125C3.71873 1.22708 3.96815 1.125 4.26283 1.125H9.73713C10.0318 1.125 10.2812 1.22708 10.4854 1.43125C10.6896 1.63542 10.7916 1.88484 10.7916 2.17952V12.3205C10.7916 12.6152 10.6896 12.8646 10.4854 13.0687C10.2812 13.2729 10.0318 13.375 9.73713 13.375H4.26283ZM6.99998 12.0737C7.1428 12.0737 7.26452 12.0234 7.36515 11.9228C7.46567 11.8223 7.51594 11.7005 7.51594 11.5576C7.51594 11.4148 7.46567 11.2931 7.36515 11.1926C7.26452 11.092 7.1428 11.0417 6.99998 11.0417C6.85716 11.0417 6.73544 11.092 6.63481 11.1926C6.53429 11.2931 6.48402 11.4148 6.48402 11.5576C6.48402 11.7005 6.53429 11.8223 6.63481 11.9228C6.73544 12.0234 6.85716 12.0737 6.99998 12.0737ZM4.08331 9.7404H9.91665V3.60417H4.08331V9.7404Z",fill:"currentColor"})})]}),og=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7640_3741",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7640_3741)",children:x.jsx("path",{d:"M6.99992 12.2151C6.88627 12.2151 6.77262 12.1955 6.65897 12.1564C6.54522 12.1171 6.44235 12.0563 6.35038 11.9741C5.82694 11.4916 5.33708 10.9948 4.88082 10.4836C4.42465 9.97255 4.02813 9.4616 3.69126 8.95079C3.35428 8.43999 3.08765 7.9337 2.89136 7.43194C2.69507 6.93008 2.59692 6.44542 2.59692 5.97798C2.59692 4.63184 3.03233 3.54203 3.90315 2.70854C4.77407 1.87506 5.80633 1.45831 6.99992 1.45831C8.19352 1.45831 9.22578 1.87506 10.0967 2.70854C10.9675 3.54203 11.4029 4.63184 11.4029 5.97798C11.4029 6.44542 11.3048 6.92911 11.1085 7.42902C10.9122 7.92904 10.6465 8.43537 10.3115 8.94802C9.97638 9.46067 9.58074 9.97163 9.12457 10.4809C8.6684 10.9902 8.17855 11.4861 7.65501 11.9684C7.5644 12.0506 7.46139 12.1123 7.34599 12.1534C7.23068 12.1946 7.11533 12.2151 6.99992 12.2151ZM7.00094 6.92138C7.29115 6.92138 7.53926 6.81803 7.74528 6.61133C7.95139 6.40464 8.05444 6.15619 8.05444 5.86598C8.05444 5.57577 7.9511 5.32761 7.7444 5.1215C7.53771 4.91549 7.28921 4.81248 6.9989 4.81248C6.70869 4.81248 6.46058 4.91583 6.25457 5.12252C6.04846 5.32922 5.9454 5.57772 5.9454 5.86802C5.9454 6.15823 6.04875 6.40634 6.25544 6.61236C6.46214 6.81837 6.71064 6.92138 7.00094 6.92138Z",fill:"currentColor"})})]}),ag=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22801",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22801)",children:x.jsx("path",{d:"M7.58335 12.2196V11.1089H8.69387V12.2196H7.58335ZM6.47283 11.1089V8.36054H7.58335V11.1089H6.47283ZM10.8589 9.24677V7.25002H11.9696V9.24677H10.8589ZM9.74839 7.25002V6.1395H10.8589V7.25002H9.74839ZM3.14112 8.36054V7.25002H4.25164V8.36054H3.14112ZM2.03046 7.25002V6.1395H3.14112V7.25002H2.03046ZM7.00002 3.39112V2.28046H8.11054V3.39112H7.00002ZM2.72594 4.91669H4.66669V2.97594H2.72594V4.91669ZM2.03046 5.08498V2.80779C2.03046 2.65836 2.08101 2.53314 2.18212 2.43212C2.28314 2.33101 2.40836 2.28046 2.55779 2.28046H4.83498C4.98431 2.28046 5.10953 2.33101 5.21064 2.43212C5.31166 2.53314 5.36216 2.65836 5.36216 2.80779V5.08498C5.36216 5.23431 5.31166 5.35953 5.21064 5.46064C5.10953 5.56166 4.98431 5.61217 4.83498 5.61217H2.55779C2.40836 5.61217 2.28314 5.56166 2.18212 5.46064C2.08101 5.35953 2.03046 5.23431 2.03046 5.08498ZM2.72594 11.5241H4.7116V9.58335H2.72594V11.5241ZM2.03046 11.6922V9.41506C2.03046 9.26573 2.08101 9.14051 2.18212 9.03939C2.28314 8.93838 2.40836 8.88787 2.55779 8.88787H4.87989C5.02923 8.88787 5.15445 8.93838 5.25556 9.03939C5.35657 9.14051 5.40708 9.26573 5.40708 9.41506V11.6922C5.40708 11.8417 5.35657 11.9669 5.25556 12.0679C5.15445 12.169 5.02923 12.2196 4.87989 12.2196H2.55779C2.40836 12.2196 2.28314 12.169 2.18212 12.0679C2.08101 11.9669 2.03046 11.8417 2.03046 11.6922ZM9.33335 4.91669H11.2741V2.97594H9.33335V4.91669ZM8.63787 5.08498V2.80779C8.63787 2.65836 8.68838 2.53314 8.78939 2.43212C8.89051 2.33101 9.01573 2.28046 9.16506 2.28046H11.4422C11.5917 2.28046 11.7169 2.33101 11.8179 2.43212C11.919 2.53314 11.9696 2.65836 11.9696 2.80779V5.08498C11.9696 5.23431 11.919 5.35953 11.8179 5.46064C11.7169 5.56166 11.5917 5.61217 11.4422 5.61217H9.16506C9.01573 5.61217 8.89051 5.56166 8.78939 5.46064C8.68838 5.35953 8.63787 5.23431 8.63787 5.08498ZM9.74839 12.2196V10.3573H8.63787V9.24677H10.8589V11.1089H11.9696V12.2196H9.74839ZM7.58335 8.36054V7.25002H9.74839V8.36054H7.58335ZM5.36216 8.36054V7.25002H4.25164V6.1395H7.58335V7.25002H6.47283V8.36054H5.36216ZM5.8895 5.61217V3.39112H7.00002V4.50164H8.11054V5.61217H5.8895ZM3.2925 4.35012V3.5425H4.10012V4.35012H3.2925ZM3.33173 10.9183V10.1105H4.1395V10.9183H3.33173ZM9.89991 4.35012V3.5425H10.7075V4.35012H9.89991Z",fill:"currentColor"})})]}),cg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22828",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22828)",children:x.jsx("path",{d:"M5.24999 7.10419C5.53339 7.10419 5.77441 7.00492 5.97303 6.8064C6.17156 6.60777 6.27082 6.36676 6.27082 6.08335C6.27082 5.79995 6.17156 5.55894 5.97303 5.36031C5.77441 5.16178 5.53339 5.06252 5.24999 5.06252C4.96659 5.06252 4.72557 5.16178 4.52695 5.36031C4.32842 5.55894 4.22916 5.79995 4.22916 6.08335C4.22916 6.36676 4.32842 6.60777 4.52695 6.8064C4.72557 7.00492 4.96659 7.10419 5.24999 7.10419ZM8.74999 7.10419C9.03339 7.10419 9.27441 7.00492 9.47303 6.8064C9.67156 6.60777 9.77082 6.36676 9.77082 6.08335C9.77082 5.79995 9.67156 5.55894 9.47303 5.36031C9.27441 5.16178 9.03339 5.06252 8.74999 5.06252C8.46659 5.06252 8.22557 5.16178 8.02695 5.36031C7.82842 5.55894 7.72916 5.79995 7.72916 6.08335C7.72916 6.36676 7.82842 6.60777 8.02695 6.8064C8.22557 7.00492 8.46659 7.10419 8.74999 7.10419ZM5.10416 12.2084V10.2004C5.10416 10.148 5.12098 10.105 5.15461 10.0713C5.18825 10.0377 5.23127 10.0209 5.28368 10.0209H6.56249V12.2084H5.10416ZM7.43749 12.2084V10.0209H8.7163C8.76871 10.0209 8.81173 10.0377 8.84537 10.0713C8.879 10.105 8.89582 10.148 8.89582 10.2004V12.2084H7.43749ZM3.09618 12.2084C2.80616 12.2084 2.55791 12.1051 2.35141 11.8986C2.14491 11.6921 2.04166 11.4438 2.04166 11.1538V5.50002C2.04166 4.60878 2.35359 3.85128 2.97747 3.2275C3.60125 2.60362 4.35875 2.29169 5.24999 2.29169H8.74999C9.64123 2.29169 10.3987 2.60362 11.0225 3.2275C11.6464 3.85128 11.9583 4.60878 11.9583 5.50002V11.1538C11.9583 11.4438 11.8551 11.6921 11.6486 11.8986C11.4421 12.1051 11.1938 12.2084 10.9038 12.2084H9.77082V10.2004C9.77082 9.91036 9.66757 9.6621 9.46107 9.4556C9.25457 9.2491 9.00632 9.14585 8.7163 9.14585H5.28368C4.99366 9.14585 4.74541 9.2491 4.53891 9.4556C4.33241 9.6621 4.22916 9.91036 4.22916 10.2004V12.2084H3.09618Z",fill:"currentColor"})})]}),lg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22840",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22840)",children:x.jsx("path",{d:"M3.09619 12.2084C2.80151 12.2084 2.55209 12.1063 2.34792 11.9021C2.14376 11.6979 2.04167 11.4485 2.04167 11.1538V3.34621C2.04167 3.05153 2.14376 2.8021 2.34792 2.59794C2.55209 2.39377 2.80151 2.29169 3.09619 2.29169H9.35682C9.49915 2.29169 9.63478 2.31901 9.76369 2.37365C9.89261 2.42819 10.0049 2.50334 10.1006 2.5991L11.6509 4.14946C11.7467 4.24512 11.8218 4.35742 11.8764 4.48633C11.931 4.61525 11.9583 4.75087 11.9583 4.89321V11.1538C11.9583 11.4485 11.8563 11.6979 11.6521 11.9021C11.4479 12.1063 11.1985 12.2084 10.9038 12.2084H3.09619ZM6.99869 10.3238C7.40343 10.3238 7.74789 10.1821 8.03207 9.89879C8.31625 9.61549 8.45834 9.27146 8.45834 8.86673C8.45834 8.46199 8.31669 8.11753 8.03338 7.83335C7.75007 7.54917 7.40605 7.40708 7.00132 7.40708C6.59658 7.40708 6.25212 7.54874 5.96794 7.83204C5.68376 8.11535 5.54167 8.45937 5.54167 8.8641C5.54167 9.26884 5.68333 9.6133 5.96663 9.89748C6.24994 10.1817 6.59396 10.3238 6.99869 10.3238ZM4.25163 6.01598H7.98598C8.13707 6.01598 8.26292 5.96547 8.36355 5.86446C8.46408 5.76344 8.51434 5.63822 8.51434 5.48879V4.50165C8.51434 4.35221 8.46383 4.22699 8.36282 4.12598C8.2618 4.02497 8.13658 3.97446 7.98715 3.97446H4.2528C4.10171 3.97446 3.97586 4.02497 3.87523 4.12598C3.77471 4.22699 3.72444 4.35221 3.72444 4.50165V5.48879C3.72444 5.63822 3.77495 5.76344 3.87596 5.86446C3.97698 5.96547 4.1022 6.01598 4.25163 6.01598Z",fill:"currentColor"})})]}),hg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_9540_35",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14",children:x.jsx("rect",{width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_9540_35)",children:x.jsx("path",{d:"M12.2501 9.33332V5.89165L7.55426 8.44373C7.37926 8.54096 7.19454 8.58957 7.0001 8.58957C6.80565 8.58957 6.62093 8.54096 6.44593 8.44373L1.51676 5.7604C1.40982 5.70207 1.33447 5.62915 1.29072 5.54165C1.24697 5.45415 1.2251 5.35693 1.2251 5.24998C1.2251 5.14304 1.24697 5.04582 1.29072 4.95832C1.33447 4.87082 1.40982 4.7979 1.51676 4.73957L6.44593 2.05623C6.53343 2.00762 6.62336 1.97116 6.71572 1.94686C6.80808 1.92255 6.90288 1.9104 7.0001 1.9104C7.09732 1.9104 7.19211 1.92255 7.28447 1.94686C7.37683 1.97116 7.46676 2.00762 7.55426 2.05623L13.1105 5.08957C13.2077 5.13818 13.2831 5.20866 13.3366 5.30103C13.39 5.39339 13.4168 5.49304 13.4168 5.59998V9.33332C13.4168 9.49859 13.3609 9.63714 13.2491 9.74894C13.1373 9.86075 12.9987 9.91665 12.8334 9.91665C12.6682 9.91665 12.5296 9.86075 12.4178 9.74894C12.306 9.63714 12.2501 9.49859 12.2501 9.33332ZM6.44593 11.9437L3.52926 10.3687C3.33482 10.2618 3.18413 10.116 3.07718 9.93123C2.97024 9.74651 2.91676 9.54721 2.91676 9.33332V7.11665L6.44593 9.02707C6.62093 9.12429 6.80565 9.1729 7.0001 9.1729C7.19454 9.1729 7.37926 9.12429 7.55426 9.02707L11.0834 7.11665V9.33332C11.0834 9.54721 11.03 9.74651 10.923 9.93123C10.8161 10.116 10.6654 10.2618 10.4709 10.3687L7.55426 11.9437C7.46676 11.9923 7.37683 12.0288 7.28447 12.0531C7.19211 12.0774 7.09732 12.0896 7.0001 12.0896C6.90288 12.0896 6.80808 12.0774 6.71572 12.0531C6.62336 12.0288 6.53343 11.9923 6.44593 11.9437Z",fill:"currentColor"})})]}),ug=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsxs("g",{id:"sensors",children:[x.jsx("mask",{id:"mask0_1506_161",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:x.jsx("rect",{id:"Bounding box",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_1506_161)",children:x.jsx("path",{id:"sensors_2",d:"M5 8.97359C4.73205 8.97359 4.49839 8.87655 4.29903 8.68246C4.09968 8.48836 4 8.26087 4 8C4 7.73913 4.09968 7.51164 4.29903 7.31754C4.49839 7.12345 4.73205 7.02641 5 7.02641C5.26795 7.02641 5.50161 7.12345 5.70097 7.31754C5.90032 7.51164 6 7.73913 6 8C6 8.26087 5.90032 8.48836 5.70097 8.68246C5.50161 8.87655 5.26795 8.97359 5 8.97359ZM8.17885 11.0949C8.08527 11.0038 8.03431 10.893 8.02597 10.7626C8.01764 10.6321 8.05642 10.5076 8.1423 10.389C8.40257 10.0595 8.61058 9.69099 8.76635 9.28346C8.92212 8.87591 9 8.44809 9 8C9 7.5519 8.92212 7.12408 8.76635 6.71654C8.61058 6.30901 8.40257 5.94048 8.1423 5.61095C8.05642 5.49239 8.01539 5.37006 8.01922 5.24398C8.02308 5.11792 8.07821 5.00308 8.18463 4.89948C8.29488 4.79214 8.41699 4.7394 8.55097 4.74127C8.68494 4.74315 8.79488 4.79964 8.88077 4.91072C9.23077 5.33136 9.50482 5.80567 9.7029 6.33365C9.90097 6.86165 10 7.41709 10 8C10 8.5829 9.90097 9.13648 9.7029 9.66073C9.50482 10.185 9.23077 10.6593 8.88077 11.0837C8.79488 11.1948 8.68397 11.2512 8.54807 11.2531C8.41217 11.255 8.2891 11.2022 8.17885 11.0949ZM11.0096 13.8509C10.916 13.7598 10.8663 13.6481 10.8606 13.5158C10.8548 13.3834 10.8987 13.2599 10.9923 13.1451C11.6154 12.4548 12.1058 11.6737 12.4635 10.8019C12.8212 9.93002 13 8.99606 13 8C13 7.00394 12.8221 6.06998 12.4663 5.19813C12.1106 4.32626 11.6212 3.5452 10.9981 2.85494C10.9045 2.74012 10.8555 2.62061 10.851 2.49641C10.8465 2.37222 10.8994 2.25644 11.0096 2.14908C11.1071 2.05422 11.225 2.00461 11.3635 2.00025C11.5019 1.99588 11.6179 2.04924 11.7115 2.16033C12.4244 2.9417 12.984 3.82667 13.3904 4.81524C13.7968 5.80381 14 6.86539 14 8C14 9.13086 13.7968 10.1915 13.3904 11.182C12.984 12.1724 12.4244 13.0583 11.7115 13.8397C11.6179 13.9508 11.5019 14.0041 11.3635 13.9998C11.225 13.9954 11.1071 13.9458 11.0096 13.8509Z",fill:"currentColor"})})]})}),dg=n=>x.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:x.jsxs("g",{id:"shield_person",children:[x.jsx("mask",{id:"mask0_1543_22988",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:x.jsx("rect",{id:"Bounding box",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_1543_22988)",children:x.jsx("path",{id:"shield_person_2",d:"M9.99998 10.6249C10.7521 10.6249 11.3915 10.3616 11.9182 9.83486C12.4449 9.30816 12.7083 8.66875 12.7083 7.91661C12.7083 7.16447 12.4449 6.52505 11.9182 5.99836C11.3915 5.47165 10.7521 5.20829 9.99998 5.20829C9.24784 5.20829 8.60842 5.47165 8.08173 5.99836C7.55502 6.52505 7.29167 7.16447 7.29167 7.91661C7.29167 8.66875 7.55502 9.30816 8.08173 9.83486C8.60842 10.3616 9.24784 10.6249 9.99998 10.6249ZM9.99998 17.9005C8.08973 17.376 6.57051 16.3049 5.44231 14.6874C4.3141 13.0699 3.75 11.2574 3.75 9.24994V4.45509L9.99998 2.11536L16.25 4.45509V9.24994C16.25 11.2574 15.6859 13.0699 14.5576 14.6874C13.4295 16.3049 11.9102 17.376 9.99998 17.9005ZM9.99998 16.5833C10.782 16.3301 11.4823 15.9422 12.1009 15.4198C12.7195 14.8974 13.2569 14.298 13.7131 13.6218C13.1373 13.3269 12.5371 13.1009 11.9126 12.9439C11.2882 12.7868 10.6506 12.7083 9.99998 12.7083C9.34934 12.7083 8.71179 12.7868 8.08733 12.9439C7.46286 13.1009 6.8627 13.3269 6.28685 13.6218C6.74305 14.298 7.28044 14.8974 7.89902 15.4198C8.51762 15.9422 9.21794 16.3301 9.99998 16.5833Z",fill:"currentColor"})})]})}),fg=n=>x.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 14 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("mask",{id:"mask0_7541_22378",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"15",children:x.jsx("rect",{y:"0.25",width:"1em",height:"1em",fill:"currentColor"})}),x.jsx("g",{mask:"url(#mask0_7541_22378)",children:x.jsx("path",{d:"M7.46552 7.25L3.91958 3.8184C3.87622 3.77503 3.84409 3.72778 3.82319 3.67665C3.80219 3.6256 3.79169 3.57281 3.79169 3.51827V3.28319C3.79169 3.1674 3.83092 3.07042 3.90937 2.99225C3.98793 2.91408 4.0852 2.875 4.20119 2.875H9.59133C9.76274 2.875 9.90842 2.93503 10.0284 3.0551C10.1484 3.17527 10.2084 3.3211 10.2084 3.4926C10.2084 3.6642 10.1484 3.81076 10.0284 3.93229C9.90842 4.05382 9.76274 4.11458 9.59133 4.11458H5.79748L8.61542 6.872C8.72304 6.97593 8.77685 7.10154 8.77685 7.24883C8.77685 7.39622 8.72304 7.52261 8.61542 7.628L5.79748 10.3911H9.59133C9.76274 10.3911 9.90842 10.4511 10.0284 10.5712C10.1484 10.6913 10.2084 10.8371 10.2084 11.0087C10.2084 11.1802 10.1484 11.3258 10.0284 11.4455C9.90842 11.5652 9.76274 11.625 9.59133 11.625H4.08554C4.00455 11.625 3.93533 11.5963 3.87787 11.5388C3.82042 11.4814 3.79169 11.4121 3.79169 11.3311V10.932C3.79169 10.8899 3.79849 10.8512 3.8121 10.8158C3.82571 10.7803 3.84958 10.7464 3.88371 10.7141L7.46552 7.25Z",fill:"currentColor"})})]}),pg={AddCircleIcon:wh,AddContentIcon:Vd,AddLinkIcon:P9,AddSourceIcon:Bd,AiPauseIcon:Gd,AiPlayIcon:Wd,AiSummaryIcon:Zd,AndroidIcon:N9,ArrowBackIcon:Yd,ArrowForwardIcon:wa,ArrowRight:wf,AudioIcon:g0,BitcoinIcon:F9,BoostIcon:$d,BrowseGalleryIcon:Xd,BubbleChartIcon:_d,BudgetIcon:v0,BuildIcon:L9,CalendarIcon:U9,CameraCenterIcon:gd,CancelIcon:V9,CheckIcon:bf,CheckedIcon:B9,ChevronDownIcon:Qd,ChevronLeftIcon:Kd,ChevronRightIcon:Jd,ChevronUpIcon:ef,ChipIcon:z9,ClearIcon:vd,CloseIcon:tf,CommunitiesIcon:yd,CompassIcon:H9,ConstructionIcon:j9,ContentIcon:Ad,CopyIcon:sf,CorporationIcon:q9,CreateEdgeIcon:F0,DefaultShowIcon:G9,DeleteIcon:Th,DeleteNodeIcon:Ef,DesignServicesIcon:W9,DocumentIcon:y0,DownloadIcon:nf,EditIcon:kh,EditNodeIcon:Of,EditTopicIcon:Dd,EpisodeIcon:C0,EventIcon:Z9,ExitFullScreen:rf,ExploreIcon:Bh,FamilyHistoryIcon:L0,FeedbackIcon:zd,FilterOffIcon:Rd,FingerprintIcon:Y9,FlipIcon:kf,FortIcon:$9,FullScreenIcon:of,FunctionIcon:X9,GlobeIcon:af,GrainIcon:Cd,HandymanIcon:Q9,HardwareIcon:K9,HashTag:cf,HashtagIcon:lf,HelpIcon:zh,HomeIcon:J9,InfoIcon:xd,JoystickIcon:eg,LinkIcon:hf,MenuIcon:Hd,MergeIcon:Sh,MoneyIcon:tg,MuteVolumeIcon:uf,NodeCircleIcon:Sf,NodesIcon:fh,NotesIcon:df,OrganizationIcon:sg,PauseIcon:Td,PersonAdd:ng,PersonIcon:ig,PhoneIcon:rg,PlaceIcon:og,PlayIcon:wd,PlusIcon:bh,PropertyHide:Id,PropertyShow:Pd,PublicIcon:kd,QrCodeIcon:ag,ReloadIcon:ff,RobotIcon:cg,SaveIcon:lg,ScheduleIcon:pf,SchoolIcon:hg,SearchFilterCloseIcon:mf,SearchFilterIcon:_f,SearchIcon:Mf,SensorsIcon:ug,SentimentDataIcon:gf,SettingsIcon:jd,ShieldPersonIcon:dg,SortFilterIcon:Nd,SoundIcon:vf,SourcesIcon:yf,SourcesTableIcon:qd,StackIcon:Cf,SucessFeedBackIcon:Af,SumFunctionIcon:fg,ThreeDotsIcons:Fd,TwitterIcon:x0,VideoIcon:T0,VisibilityOff:Ld,VisibilityOn:Ud,VolumeIcon:xf},mg=["#fff","#9747FF","#00887A","#0098A6","#0288D1","#33691E","#465A65","#512DA7","#5C6BC0","#5D4038","#662C00","#689F39","#6B1B00","#750000","#78909C","#7E57C2","#8C6E63","#AA47BC","#BF360C","#C2175B","#EC407A","#EF6C00","#F5511E","#FF9696","#FFC064","#FFCD29","#FFEA60"];function _g(n){return n.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F700}-\u{1F77F}\u{1F780}-\u{1F7FF}\u{1F800}-\u{1F8FF}\u{1F900}-\u{1F9FF}\u{1FA00}-\u{1FA6F}\u{1FA70}-\u{1FAFF}\u{1FB00}-\u{1FBFF}\u{1FC00}-\u{1FCFF}\u{1FD00}-\u{1FDFF}\u{1FE00}-\u{1FEFF}\u{1FF00}-\u{1FFFF}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B73F}\u{2B740}-\u{2B81F}\u{2B820}-\u{2CEAF}\u{2F800}-\u{2FA1F}]/gu,"")}function gg(n){const e=mh(n,30),t=e.split(" ");if(n.split(" ").length<=5)return e;const s=Math.ceil(t.length/3),i=s*2,r=t.slice(0,s).join(" "),o=t.slice(s,i).join(" "),a=t.slice(i).join(" ");return`${r}
${o}
${a}`}const Jc=O.memo(({node:n,hide:e})=>{var S,v;const t=O.useRef(null),s=Jt(),i=w0(),o=Eo().includes((n==null?void 0:n.ref_id)||""),a=!!s&&(s==null?void 0:s.ref_id)===n.ref_id,c=!!i&&(i==null?void 0:i.ref_id)===n.ref_id,l=nt(g=>g.showSelectionGraph),{normalizedSchemasByType:h}=Sd(g=>g),u=k0();Rt(({camera:g})=>{t!=null&&t.current&&t.current.quaternion.copy(g.quaternion)});const f=O.useMemo(()=>{let g=(n.edge_count||1)*20;l&&a?g=40:!a&&o&&(g=0);const T=g/Math.sqrt(n.name.length);return g=Math.max(T,20),Math.min(g,30)},[n.edge_count,n.name,a,o,l]),d=O.useMemo(()=>s&&!a||i&&!c?.2:1,[a,s,c,i]),m=(S=h[n.node_type])==null?void 0:S.primary_color,p=(v=h[n.node_type])==null?void 0:v.icon,_=m??(mg[u.indexOf(n.node_type)]||pe.white),y=p?pg[p]:null,w=_g(String(n.name));return x.jsx(x.Fragment,{children:y?x.jsx(Ah,{enabled:!!a,children:x.jsxs("mesh",{name:n.id,userData:n,visible:!e,children:[x.jsx("sphereGeometry",{args:[20,32,32],userData:n}),x.jsx("meshStandardMaterial",{color:"blue"}),x.jsx(oi,{center:!0,distanceFactor:100,children:x.jsx("div",{style:{color:"#fff",fontSize:"200px"},children:y&&x.jsx(y,{})})})]})}):x.jsx(U0,{ref:t,anchorX:"center",anchorY:"middle",color:_,fillOpacity:d,scale:f,userData:n,visible:!e,...V0,children:gg(w)})})});Jc.displayName="TextNode";const s0=O.memo(()=>{const[n,e]=O.useState(null),{dataInitial:t}=Cn(l=>l),s=Jt(),i=O.useRef(null),r=Eo(),o=B0(t==null?void 0:t.nodes.length),{selectionGraphData:a,setSelectionData:c}=nt(tc(l=>l));return O.useEffect(()=>{const l=structuredClone((t==null?void 0:t.nodes)||[]),h=structuredClone((t==null?void 0:t.links)||[]);if(o===l.length)return;const u=l.filter(f=>f.ref_id===(s==null?void 0:s.ref_id)||r.includes((f==null?void 0:f.ref_id)||"")).map(f=>{const d=f.ref_id===(s==null?void 0:s.ref_id)?{fx:0,fy:0,fz:0}:{};return{...f,x:0,y:0,z:0,...d}});if(u){const f=h.filter(d=>u.some(m=>m.ref_id===d.target)&&u.some(m=>m.ref_id===d.source));c({nodes:u,links:f})}},[t,s,r,c,o]),O.useEffect(()=>{if(n||!a.nodes.length)return;const l=structuredClone(a.links),h=A9(a.nodes,l,{numDimensions:2,forceLinkStrength:.01,forceCenterStrength:.85,forceChargeStrength:-20,velocityDecay:.9});e(h)},[a,n]),O.useEffect(()=>()=>{c({nodes:[],links:[]})},[c]),O.useEffect(()=>{n&&n.on("tick",()=>{i.current&&i.current.children.forEach((h,u)=>{const f=n.nodes()[u];f&&h.position.set(f.x,f.y,f.z)})})},[n]),console.log(a.nodes),x.jsxs(x.Fragment,{children:[x.jsx("group",{ref:i,name:"simulation-2d-group",children:a==null?void 0:a.nodes.map(l=>x.jsx("mesh",{children:l.name?x.jsx(Jc,{hide:!0,node:l},l.ref_id||l.id):x.jsx(Kc,{hide:!0,node:l},l.ref_id||l.id)},l.ref_id))}),x.jsx(Xf,{fog:!0,lineWidth:.9,children:(a==null?void 0:a.links).map((l,h)=>x.jsx(D9,{animated:!0,link:l},h.toString()))},`selection-links-${a==null?void 0:a.links.length}`),n&&x.jsx(R9,{links:a.links,simulation:n})]})});s0.displayName="SelectionDataNodes";const vg=200,n0=O.memo(()=>{const n=Jt(),e=Eo(),{selectionGraphData:t,showSelectionGraph:s,setHoveredNode:i,setIsHovering:r}=nt(m=>m),o=Cn(m=>m.dataInitial),a=dr(m=>m.setTranscriptOpen),c=O.useCallback(m=>!!(s&&!t.nodes.find(p=>p.ref_id===m.ref_id)),[s,t]),l=O.useCallback(m=>{const p=m==null?void 0:m[0];p&&(a(!1),p.userData&&(c(p.userData)||nt.getState().setSelectedNode((p==null?void 0:p.userData)||null)))},[a,c]),h=O.useRef(null),u=O.useCallback(m=>{m.stopPropagation(),r(!1),i(null),h.current&&(clearTimeout(h.current),h.current=null)},[r,i]),f=O.useCallback(m=>{var y;const _=m.intersections.map(w=>w.object)[0];if((y=_==null?void 0:_.userData)!=null&&y.ref_id){const w=_.userData;c(w)||(m.stopPropagation(),r(!0),h.current=setTimeout(()=>{i(w)},vg))}},[i,c,r]),d=s&&!!n;return x.jsxs(qf,{filter:m=>m.filter(p=>{var _;return!!((_=p.userData)!=null&&_.ref_id)}),onChange:l,onPointerOut:u,onPointerOver:f,children:[!1,x.jsx(t0,{}),x.jsx("group",{name:"simulation-3d-group__nodes",children:o==null?void 0:o.nodes.map(m=>{const p=!!n&&(e.includes(m.ref_id)||n.ref_id===m.ref_id);return x.jsx("mesh",{children:m.name?x.jsx(Jc,{hide:d||p,node:m},m.ref_id||m.id):x.jsx(Kc,{hide:d,node:m},m.ref_id||m.id)},m.ref_id)})}),d&&x.jsx(s0,{})]})});n0.displayName="Cubes";const yg={earthRef:null},Cg=hh(n=>({...yg,setEarthRef:e=>n({earthRef:e})})),xg=new X(0,0,0),Tg=()=>{const n=O.useRef(null),e=O.useRef(null),{graphStyle:t,showSelectionGraph:s}=nt(a=>a),i=Cg(a=>a.setEarthRef),r=on("textures/earth/galaxy.png"),o=on("textures/earth/clouds.png");return Rt(({camera:a})=>{e.current&&e.current.position.copy(a.getWorldPosition(xg))}),O.useLayoutEffect(()=>{n.current&&i(n)},[i]),t!=="earth"||s?null:x.jsxs(x.Fragment,{children:[x.jsxs("mesh",{ref:n,userData:{type:"earth"},children:[x.jsx("sphereGeometry",{args:[Br,200,200]}),x.jsx(wg,{})]}),x.jsxs("mesh",{children:[x.jsx("sphereGeometry",{args:[Br+2,200,200]}),x.jsx("meshStandardMaterial",{alphaMap:o,map:o,transparent:!0})]}),x.jsxs("mesh",{children:[x.jsx("sphereGeometry",{args:[Br*4,200,200]}),x.jsx("meshStandardMaterial",{map:r,opacity:.4,side:Di,transparent:!0})]}),x.jsx("directionalLight",{ref:e,intensity:.9,position:[0,0,Br*3]})]})},wg=()=>{const n=on("textures/earth/earth.jpeg"),e=on("textures/earth/bump.jpeg"),t=on("textures/earth/water.png"),s=O.useMemo(()=>new fr({map:n,bumpMap:e,aoMap:e,roughnessMap:e,metalnessMap:t,toneMapped:!0,roughness:35,metalness:0}),[n,e,t]);return x.jsx("meshStandardMaterial",{...s})},kg="C",Sg=256,bg=256,Eg={g:"LottieFiles AE 0.1.20"},Og=[{ty:0,nm:"I",sr:1,st:0,op:26,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_0",ind:1},{ty:0,nm:"I",sr:1,st:26,op:52,ip:26,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_1",ind:2},{ty:0,nm:"I",sr:1,st:52,op:78,ip:52,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_2",ind:3},{ty:0,nm:"I",sr:1,st:78,op:108,ip:78,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_3",ind:4}],Mg="5.5.7",Ag=60,Dg=104,Rg=0,Ig=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"I",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.656,.016],[0,20],[-34.641,0],[.016,-19.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,10],[17.321,30],[17.321,-10],[51.962,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,-9.984],[17.32,10],[17.32,-30],[-17.32,-50.016]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,30],[17.32,50],[17.305,10],[-17.32,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,10],[-51.962,30],[-51.962,-10],[-17.321,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,20],[-34.641,0],[0,-20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:1}]},{nm:"",id:"comp_1",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:33,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:35,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:31,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:34,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:11,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:12,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:13,parent:1}]},{nm:"",id:"comp_2",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,.031],[.047,-19.969],[34.652,.031],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,30],[-51.962,10],[-51.962,-30],[-17.321,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,50],[17.32,30],[17.336,-10],[-17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,0],[.015,-20],[34.656,0],[.012,20.062]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1}]},{nm:"",id:"comp_3",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.015,60.016],[-34.642,40],[-34.641,0],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-29.984],[17.348,10],[-17.305,30],[-17.305,-9.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,-20],[0,-60.016],[34.641,-40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1}]}],Pg={nm:kg,h:Sg,w:bg,meta:Eg,layers:Og,v:Mg,fr:Ag,op:Dg,ip:Rg,assets:Ig},Ng=({meshId:n})=>{const e=O.useRef(null);return O.useEffect(()=>{const t=document.getElementById(`lottie-animation-${n}`);return t&&(e.current=S0.loadAnimation({container:t,animationData:Pg,loop:!0,autoplay:!0})),()=>{e.current&&e.current.destroy()}},[n]),x.jsx("div",{id:`lottie-animation-${n}`,style:{width:"2em",height:"2em"}})},ya=()=>Math.floor(Math.random()*2001)-1e3,Fg=()=>x.jsx(x.Fragment,{children:["a","b","c"].map(n=>{const e=ya(),t=ya(),s=ya();return x.jsx("mesh",{position:[e,t,s],children:x.jsx(oi,{center:!0,sprite:!0,children:x.jsx(Lg,{children:x.jsx(Ng,{meshId:n})})})},n)})}),Lg=Ue.div`
  border: 2px solid white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
`;Object.values(z0).map(n=>n);const Ai=n=>({close:{backgroundColor:"rgba(48, 51, 66, 1)",borderColor:"#fff",fontColor:"rgba(255, 255, 255, 1)"},focus:{backgroundColor:n?"rgba(255, 255, 255, 0.90);":"rgba(255, 255, 255, 0.90)",borderColor:n?"#FFDB58bb":"#fff",fontColor:"rgba(48, 51, 66, 1)"},menu:{backgroundColor:"#00000066",borderColor:n?"#ffffff66":"#5078f2",fontColor:n?"#ffffff66":"#fff"}}),Ug=new X,i0=O.memo(()=>{var k;const n=O.useRef(null),e=dr(C=>C.setSidebarOpen),[t,s]=$r.useState(null),{open:i}=Sr("editNodeName"),{open:r}=Sr("addEdgeToNode"),{open:o}=Sr("mergeToNode"),{open:a}=Sr("createBounty"),[c]=uh(C=>[C.isAdmin]),[l]=Cn(C=>[C.addNewNode]),h=Jt(),{showSelectionGraph:u,selectionGraphData:f,setSelectedNode:d,setShowSelectionGraph:m}=nt(C=>C),p=Tf(),_=O.useCallback(async()=>{try{if(h!=null&&h.ref_id){const C=await b0(h==null?void 0:h.ref_id,f.nodes.length||0);C&&l(C)}}catch(C){console.log(C)}},[l,h==null?void 0:h.ref_id,f.nodes.length]);Rt(()=>{y()});const y=O.useCallback(()=>{const C=u?f:p;if(n.current){const b=C==null?void 0:C.nodes.find(E=>E.ref_id===(h==null?void 0:h.ref_id));if(b){const E=Ug.set(b==null?void 0:b.x,b==null?void 0:b.y,b==null?void 0:b.z);n.current.position.copy(E)}}},[h,u,f,p]),w=O.useMemo(()=>{const C=c?[{key:"control-key-1",colors:Ai(u).focus,icon:x.jsx(bh,{}),left:-80,className:"add",onClick:E=>{s(E.currentTarget)}},{key:"control-key-2",colors:Ai(u).focus,icon:x.jsx(kh,{}),left:-40,className:"edit",onClick:()=>{i()}}]:[],b=[{key:"control-key-4",colors:Ai(u).focus,icon:x.jsx(Df,{}),left:0,className:"expand",onClick:()=>{const E=!u;m(E),E&&e(!0)}},{key:"control-key-5",colors:Ai(!0).close,icon:x.jsx(fh,{}),left:40,className:"exit",onClick:()=>{_()}},{key:"control-key-6",colors:Ai(!0).close,icon:x.jsx(Rf,{}),left:40,className:"exit",onClick:()=>{m(!1),d(null)}}];return[...C,...b].map((E,M)=>({...E,left:-80+M*40}))},[c,u,i,m,e,_,d]);if(!h)return null;const S=()=>{s(null)},v=!!t,g=v?"simple-popover":void 0,T=!!(h&&((k=h==null?void 0:h.node_type)==null?void 0:k.toLowerCase())==="function");return x.jsx("group",{ref:n,children:x.jsxs(oi,{center:!0,className:"control-panel",onClick:C=>C.stopPropagation(),onKeyDown:C=>C.stopPropagation(),onPointerDown:C=>C.stopPropagation(),onPointerOut:C=>C.stopPropagation(),onPointerOver:C=>C.stopPropagation(),onPointerUp:C=>C.stopPropagation(),sprite:!0,zIndexRange:[16777271,16777272],children:[w.map(C=>x.jsx(Vg,{backgroundColor:C.colors.backgroundColor,borderColor:C.colors.borderColor,className:C.className,fontColor:C.colors.fontColor,left:C.left,onClick:b=>{b.stopPropagation(),C.onClick(b)},children:C.icon},C.key)),T&&x.jsx(zg,{left:2,onClick:()=>{a()},children:"Create Test"}),x.jsxs(Bg,{anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:g,onClose:S,open:v,transformOrigin:{vertical:"top",horizontal:"right"},children:[x.jsxs(lh,{"data-testid":"merge",onClick:()=>{o(),S()},children:[x.jsx(Sh,{"data-testid":"MergeIcon"})," Merge"]}),x.jsxs(lh,{"data-testid":"add_edge",onClick:()=>{r(),S()},children:[x.jsx(wh,{"data-testid":"AddCircleIcon"})," Add edge"]})]})]})})});i0.displayName="NodeControls";const Vg=Ue.div`
  position: fixed;
  top: -60px;
  left: ${n=>-7+n.left}px;
  width: 24px;
  height: 24px;

  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${n=>n.backgroundColor?n.backgroundColor:"#000000bb"};
  color: ${n=>n.fontColor?n.fontColor:"#ffffff"};
  border-radius: 100%;
  font-size: 16px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
`,lh=Ue(Cs).attrs({direction:"row",px:12,py:8})`
  display: flex;
  align-items: center;
  justify-content: start;
  gap: 12px;
  cursor: pointer;
  background: ${pe.BUTTON1};
  color: ${pe.white};

  &:hover {
    background: ${pe.BUTTON1_HOVER};
    color: ${pe.GRAY3};
  }
`,Bg=Ue(bd)`
  && {
    z-index: 9999;
  }
  .MuiPaper-root {
    min-width: 149px;
    color: ${pe.GRAY3};
    box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    z-index: 1;
    font-family: Barlow;
    font-size: 14px;
    font-weight: 500;
  }
`,zg=Ue.div`
  position: fixed;
  top: 40px;
  left: ${n=>-53+n.left}px;
  width: 100px;
  padding: 6px;
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${pe.createTestButton};
  color: ${pe.black};
  font-size: 14px;
  font-family: Barlow;
  font-weight: 600;
  cursor: pointer;
  &:hover {
    transform: scale(1.05);
  }
`,r0=O.memo(()=>x.jsx(x.Fragment,{children:x.jsx(i0,{})}));r0.displayName="NodeDetailsPanel";const Hg=()=>{const{dataInitial:n,isLoadingNew:e,isFetching:t,dataNew:s,resetDataNew:i}=Cn(d=>d),r=O.useRef(null),o=O.useRef([]),{setData:a,simulation:c,simulationCreate:l,simulationHelpers:h,graphStyle:u,setGraphRadius:f}=nt(d=>d);return O.useEffect(()=>{if(!s)return;const d=s.nodes||[],m=s.links||[],p=structuredClone(d),_=structuredClone(m);if(c){const y=E0.isEqual(s,n);h.addNodesAndLinks(p,_,y)}c||l(p,_),i()},[a,s,c,l,i,h,n]),O.useEffect(()=>{c&&h.setForces()},[u,h,c]),O.useEffect(()=>{c&&(c.on("tick",()=>{if(r.current){const d=r.current.getObjectByName("simulation-3d-group__nodes"),m=r.current.getObjectByName("simulation-3d-group__connections");d.children.forEach((p,_)=>{const y=c.nodes()[_];y&&p.position.set(y.x,y.y,y.z)}),m.children.forEach((p,_)=>{const y=n==null?void 0:n.links[_],w=p;if(y){const S=c.nodes().find(A=>A.ref_id===y.source),v=c.nodes().find(A=>A.ref_id===y.target),{x:g,y:T,z:k}=S,{x:C,y:b,z:E}=v;o.current[_]={sx:g,sy:T,sz:k,tx:C,ty:b,tz:E},w.geometry.setPositions([g,T,k,C,b,E]);const{material:M}=w;M.color=new us("white"),M.transparent=!0,M.opacity=.1}})}}),c.on("end",()=>{const d=c.nodes().map(y=>new X(y.x,y.y,y.z)),m=new fd().setFromPoints(d),p=new pd;m.getBoundingSphere(p);const _=p.radius;f(_)}))},[n,c,f]),c?x.jsxs("group",{ref:r,children:[x.jsx(n0,{}),x.jsx(Tg,{}),!1,(e||t)&&x.jsx(Fg,{}),u!=="earth"&&x.jsx(K1,{linksPositions:o.current}),x.jsx(r0,{})]}):null},jg=({fullSize:n=!0})=>{const e=dr(t=>t.sidebarIsOpen);return x.jsx(qg,{align:"center",className:dh({"sidebar-is-open":e&&!n}),justify:"center",children:x.jsx(If,{color:pe.SECONDARY_BLUE,size:64})})},qg=Ue(Cs)`
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  background-color: ${pe.black};
  z-index: 1;
`,Gg=()=>x.jsx(oi,{children:x.jsx(Vf,{})}),Wg=()=>{const{universeColor:n}=Od("universe",{universeColor:pe.black}),e=Jt(),t=O.useMemo(()=>e!=null&&e.node_type?ph(e.node_type):J6,[e]);return x.jsxs(x.Fragment,{children:[x.jsx("color",{args:[n],attach:"background"}),x.jsx(q0,{}),x.jsx(c8,{}),x.jsxs(sp,{children:[x.jsxs(N2,{autoClear:!1,multisampling:8,children:[x.jsx(V2,{darkness:.7,eskil:!1,offset:.05}),x.jsx(L2,{luminanceThreshold:1,mipmapBlur:!0,resolutionX:Oe.AUTO_SIZE,resolutionY:Oe.AUTO_SIZE}),x.jsx(U2,{blendFunction:ee.SCREEN,blur:!0,edgeStrength:4,hiddenEdgeColor:t,visibleEdgeColor:t})]}),x.jsx(Hg,{})]})]})};let Ca=null;const Zg={aspect:window.innerWidth/window.innerHeight,far:3e4,near:1,position:[Pi.x,Pi.y,Pi.z]},Yg=()=>{const[n,e,t]=[Ns(a=>a.setIsUserScrollingOnHtmlPanel),Ns(a=>a.setIsUserScrolling),Ns(a=>a.setUserMovedCamera)],s=Cn(a=>a.isFetching),i=dr(a=>a.universeQuestionIsOpen),r=O.useCallback(a=>{var h;const{target:c}=a,{offsetParent:l}=c;Ca&&clearTimeout(Ca),(h=l==null?void 0:l.classList)!=null&&h.contains("html-panel")&&l.clientHeight<l.scrollHeight&&n(!0),e(!0),t(!0),Ca=setTimeout(()=>{e(!1),n(!1)},200)},[e,n,t]),o=O.useCallback(a=>O0(a,"threeState"),[]);return x.jsxs($g,{children:[x.jsx(O.Suspense,{fallback:null,children:x.jsxs(H0,{camera:Zg,id:"universe-canvas",onCreated:o,onWheel:r,children:[M0&&x.jsx(j0,{position:"bottom-right"}),x.jsxs(O.Suspense,{fallback:x.jsx(Gg,{}),children:[x.jsx(Jf,{}),x.jsx(ep,{}),x.jsx(tp,{}),x.jsx(Wg,{})]})]})}),i&&x.jsx(z2,{}),s&&x.jsx(jg,{fullSize:!1}),x.jsx(Ed,{})]})},$g=Ue(Cs)`
  flex: 1 1 100%;
  position: relative;
`,q7=O.memo(Yg);export{q7 as Universe};
